{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js","../node_modules/react/jsx-runtime.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/three/build/three.module.js","../node_modules/react/index.js","../node_modules/tsparticles/dist/Utils/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/tsparticles/dist/Enums/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/tsparticles/dist/Options/Classes/OptionsColor.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/tsparticles/dist/Options/Classes/ValueWithRandom.js","../node_modules/tsparticles/dist/Plugins/PolygonMask/Enums/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/lodash/_root.js","../node_modules/tsparticles/dist/Enums/Modes/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/tsparticles/dist/Core/Particle/Vector.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/lodash/_getNative.js","../node_modules/scheduler/index.js","../node_modules/tsparticles/dist/Enums/Types/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/fast-deep-equal/index.js","../node_modules/object-assign/index.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/isObjectLike.js","../node_modules/tsparticles/dist/Enums/Directions/index.js","../node_modules/tsparticles/dist/Utils/NumberUtils.js","../node_modules/tsparticles/dist/Plugins/Absorbers/Enums/index.js","../node_modules/tsparticles/dist/Plugins/Emitters/Enums/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/webpack/buildin/module.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/isArray.js","../node_modules/tsparticles/dist/Utils/Constants.js","../node_modules/tsparticles/dist/Utils/Circle.js","../node_modules/tsparticles/dist/Utils/Range.js","../node_modules/tsparticles/dist/Utils/Rectangle.js","../node_modules/tsparticles/dist/Options/Classes/Particles/ParticlesOptions.js","../node_modules/tsparticles/dist/Options/Classes/Particles/AnimatableColor.js","../node_modules/tsparticles/dist/Core/Container.js","../node_modules/react-dom/index.js","../node_modules/debounce/index.js","../node_modules/lodash/eq.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/isObject.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/isLength.js","../node_modules/tsparticles/dist/Options/Classes/Options.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/tsparticles/dist/Enums/Modes/ClickMode.js","../node_modules/tsparticles/dist/Enums/Modes/DivMode.js","../node_modules/tsparticles/dist/Enums/Modes/HoverMode.js","../node_modules/tsparticles/dist/Enums/InteractivityDetect.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/BubbleBase.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/RepulseBase.js","../node_modules/tsparticles/dist/Utils/ColorUtils.js","../node_modules/tsparticles/dist/Utils/Utils.js","../node_modules/tsparticles/dist/Enums/Directions/OutModeDirection.js","../node_modules/tsparticles/dist/Utils/CircleWarp.js","../node_modules/tsparticles/dist/Options/Classes/AnimationOptions.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Shape/Shape.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Bounce/Bounce.js","../node_modules/tsparticles/dist/Plugins/PolygonMask/PolygonMaskPlugin.js","../node_modules/tsparticles/dist/Plugins/PolygonMask/Options/Classes/PolygonMask.js","../node_modules/tsparticles/dist/ShapeDrawers/PolygonDrawerBase.js","../node_modules/tsparticles/dist/Plugins/Absorbers/Options/Classes/Absorber.js","../node_modules/tsparticles/dist/Plugins/Emitters/Options/Classes/EmitterSize.js","../node_modules/tsparticles/dist/Plugins/Emitters/Options/Classes/Emitter.js","../node_modules/react-reconciler/index.js","../node_modules/zustand/shallow.js","../node_modules/three/examples/jsm/controls/OrbitControls.js","../node_modules/react-particles-js/index.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react-reconciler/cjs/react-reconciler.production.min.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/react-particles-js/cjs/particles.js","../node_modules/lodash/isEqual.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_baseIsNative.js","../node_modules/webpack/buildin/global.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/keys.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Interactivity.js","../node_modules/tsparticles/dist/Enums/Directions/MoveDirection.js","../node_modules/tsparticles/dist/Enums/Directions/RotateDirection.js","../node_modules/tsparticles/dist/Enums/Modes/DestroyMode.js","../node_modules/tsparticles/dist/Enums/Modes/CollisionMode.js","../node_modules/tsparticles/dist/Enums/Modes/OutMode.js","../node_modules/tsparticles/dist/Enums/Modes/SizeMode.js","../node_modules/tsparticles/dist/Enums/Modes/ThemeMode.js","../node_modules/tsparticles/dist/Enums/AnimationStatus.js","../node_modules/tsparticles/dist/Enums/Types/DestroyType.js","../node_modules/tsparticles/dist/Enums/Types/ProcessBubbleType.js","../node_modules/tsparticles/dist/Enums/Types/ShapeType.js","../node_modules/tsparticles/dist/Enums/Types/StartValueType.js","../node_modules/tsparticles/dist/Enums/Types/DivType.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Events/Events.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Events/ClickEvent.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Events/DivEvent.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Events/HoverEvent.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Events/Parallax.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/Modes.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/Bubble.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/superPropBase.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/BubbleDiv.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/Connect.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/ConnectLinks.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/Grab.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/GrabLinks.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/Remove.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/Push.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/Repulse.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/RepulseDiv.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/Slow.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/Trail.js","../node_modules/tsparticles/dist/Utils/CanvasUtils.js","../node_modules/tsparticles/dist/Utils/EventListeners.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/tsparticles/dist/Utils/Plugins.js","../node_modules/tsparticles/dist/Utils/Point.js","../node_modules/tsparticles/dist/Utils/QuadTree.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/Attract.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/Light.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/LightArea.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/LightGradient.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/LightShadow.js","../node_modules/tsparticles/dist/Options/Classes/Interactivity/Modes/Bounce.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Links/Links.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Links/LinksShadow.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Links/LinksTriangle.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Move/Move.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Move/Attract.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Move/Trail.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Move/Path/Path.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Move/Path/PathDelay.js","../node_modules/tsparticles/dist/Options/Classes/Random.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Move/MoveAngle.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Move/MoveGravity.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Move/OutModes.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Number/ParticlesNumber.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Number/Density.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Opacity/Opacity.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Opacity/OpacityAnimation.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Size/Size.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Size/SizeAnimation.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Rotate/Rotate.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Rotate/RotateAnimation.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Shadow.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Stroke.js","../node_modules/tsparticles/dist/Options/Classes/Particles/HslAnimation.js","../node_modules/tsparticles/dist/Options/Classes/ColorAnimation.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Collisions/Collisions.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Bounce/BounceFactor.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Collisions/CollisionsOverlap.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Twinkle/Twinkle.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Twinkle/TwinkleValues.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Life/Life.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Life/LifeDelay.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Life/LifeDuration.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Destroy/Destroy.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Destroy/Split.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Destroy/SplitFactor.js","../node_modules/tsparticles/dist/Options/Classes/Particles/Destroy/SplitRate.js","../node_modules/tsparticles/dist/Options/Classes/BackgroundMask/BackgroundMask.js","../node_modules/tsparticles/dist/Options/Classes/BackgroundMask/BackgroundMaskCover.js","../node_modules/tsparticles/dist/Options/Classes/Background/Background.js","../node_modules/tsparticles/dist/Options/Classes/Infection/Infection.js","../node_modules/tsparticles/dist/Options/Classes/Infection/InfectionStage.js","../node_modules/tsparticles/dist/Options/Classes/Theme/Theme.js","../node_modules/tsparticles/dist/Options/Classes/Theme/ThemeDefault.js","../node_modules/tsparticles/dist/Options/Classes/FullScreen/FullScreen.js","../node_modules/tsparticles/dist/Options/Classes/Motion/Motion.js","../node_modules/tsparticles/dist/Options/Classes/Motion/MotionReduce.js","../node_modules/tsparticles/dist/Options/Classes/ManualParticle.js","../node_modules/tsparticles/dist/Options/Classes/Responsive.js","../node_modules/tsparticles/dist/Core/Canvas.js","../node_modules/tsparticles/dist/Core/Particles.js","../node_modules/tsparticles/dist/Core/Particle.js","../node_modules/tsparticles/dist/Core/Particle/Updater.js","../node_modules/tsparticles/dist/Core/Particle/Infecter.js","../node_modules/tsparticles/dist/Core/Particle/Mover.js","../node_modules/tsparticles/dist/Core/Particle/InteractionManager.js","../node_modules/tsparticles/dist/Interactions/External/Grabber.js","../node_modules/tsparticles/dist/Interactions/External/Repulser.js","../node_modules/tsparticles/dist/Interactions/External/Bubbler.js","../node_modules/tsparticles/dist/Interactions/External/Connector.js","../node_modules/tsparticles/dist/Interactions/Particles/Linker.js","../node_modules/tsparticles/dist/Interactions/Particles/Attractor.js","../node_modules/tsparticles/dist/Interactions/Particles/Collider.js","../node_modules/tsparticles/dist/Interactions/Particles/Infecter.js","../node_modules/tsparticles/dist/Interactions/External/TrailMaker.js","../node_modules/tsparticles/dist/Interactions/External/Attractor.js","../node_modules/tsparticles/dist/Interactions/Particles/Lighter.js","../node_modules/tsparticles/dist/Interactions/External/Lighter.js","../node_modules/tsparticles/dist/Interactions/External/Bouncer.js","../node_modules/tsparticles/dist/Core/Retina.js","../node_modules/tsparticles/dist/Core/FrameManager.js","../node_modules/tsparticles/dist/Plugins/PolygonMask/PolygonMaskInstance.js","../node_modules/tsparticles/dist/Plugins/PolygonMask/Enums/InlineArrangement.js","../node_modules/tsparticles/dist/Plugins/PolygonMask/Enums/MoveType.js","../node_modules/tsparticles/dist/Plugins/PolygonMask/Enums/Type.js","../node_modules/tsparticles/dist/Plugins/PolygonMask/Options/Classes/Draw.js","../node_modules/tsparticles/dist/Plugins/PolygonMask/Options/Classes/DrawStroke.js","../node_modules/tsparticles/dist/Plugins/PolygonMask/Options/Classes/Move.js","../node_modules/tsparticles/dist/Plugins/PolygonMask/Options/Classes/Inline.js","../node_modules/tsparticles/dist/Plugins/PolygonMask/Options/Classes/LocalSvg.js","../node_modules/tsparticles/dist/index.js","../node_modules/tsparticles/dist/pjs.js","../node_modules/tsparticles/dist/main.js","../node_modules/tsparticles/dist/main.slim.js","../node_modules/tsparticles/dist/ShapeDrawers/SquareDrawer.js","../node_modules/tsparticles/dist/ShapeDrawers/TextDrawer.js","../node_modules/tsparticles/dist/ShapeDrawers/ImageDrawer.js","../node_modules/tsparticles/dist/ShapeDrawers/LineDrawer.js","../node_modules/tsparticles/dist/ShapeDrawers/CircleDrawer.js","../node_modules/tsparticles/dist/ShapeDrawers/TriangleDrawer.js","../node_modules/tsparticles/dist/ShapeDrawers/StarDrawer.js","../node_modules/tsparticles/dist/ShapeDrawers/PolygonDrawer.js","../node_modules/tsparticles/dist/Core/Loader.js","../node_modules/tsparticles/dist/Plugins/Absorbers/AbsorbersPlugin.js","../node_modules/tsparticles/dist/Plugins/Absorbers/Absorbers.js","../node_modules/tsparticles/dist/Plugins/Absorbers/AbsorberInstance.js","../node_modules/tsparticles/dist/Plugins/Absorbers/Options/Classes/AbsorberSize.js","../node_modules/tsparticles/dist/Plugins/Absorbers/Enums/AbsorberClickMode.js","../node_modules/tsparticles/dist/Plugins/Emitters/EmittersPlugin.js","../node_modules/tsparticles/dist/Plugins/Emitters/Emitters.js","../node_modules/tsparticles/dist/Plugins/Emitters/EmitterInstance.js","../node_modules/tsparticles/dist/Plugins/Emitters/Options/Classes/EmitterRate.js","../node_modules/tsparticles/dist/Plugins/Emitters/Options/Classes/EmitterLife.js","../node_modules/tsparticles/dist/Plugins/Emitters/Enums/EmitterClickMode.js","../node_modules/tsparticles/dist/Types/index.js","../node_modules/tsparticles/dist/Types/RangeValue.js","../node_modules/tsparticles/dist/Types/RecursivePartial.js","../node_modules/tsparticles/dist/Types/ShapeData.js","../node_modules/tsparticles/dist/Types/ShapeDrawerFunctions.js","../node_modules/tsparticles/dist/Types/SingleOrMultiple.js","../node_modules/tsparticles/dist/Enums/MoveDirection.js","../node_modules/tsparticles/dist/Enums/OutMode.js","../node_modules/tsparticles/dist/Enums/PolygonMaskInlineArrangement.js","../node_modules/tsparticles/dist/Enums/PolygonMaskMoveType.js","../node_modules/tsparticles/dist/Enums/PolygonMaskType.js","../node_modules/tsparticles/dist/Enums/ProcessBubbleType.js","../node_modules/tsparticles/dist/Enums/RotateDirection.js","../node_modules/tsparticles/dist/Enums/ShapeType.js","../node_modules/react-tilt/dist/tilt.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/zustand/esm/index.js","../node_modules/use-asset/dist/index.js","../node_modules/react-use-measure/dist/web.js","../node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"],"names":["_classCallCheck","instance","Constructor","TypeError","module","exports","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","require","_inherits","subClass","superClass","create","constructor","value","_createSuper","Derived","hasNativeReflectConstruct","result","Super","NewTarget","this","Reflect","construct","arguments","apply","_createClass","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","property","receiver","get","base","object","hasOwnProperty","call","desc","getOwnPropertyDescriptor","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","EventDispatcher","assign","addEventListener","type","listener","undefined","_listeners","listeners","indexOf","push","hasEventListener","removeEventListener","listenerArray","index","splice","dispatchEvent","event","array","slice","l","_lut","toString","_seed","MathUtils","DEG2RAD","Math","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","toUpperCase","clamp","min","max","euclideanModulo","n","m","mapLinear","x","a1","a2","b1","b2","inverseLerp","y","lerp","t","damp","lambda","dt","exp","pingpong","abs","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","seededRandom","s","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","Vector2","scalar","Error","v","w","addVectors","subVectors","multiplyScalar","e","elements","minVal","maxVal","divideScalar","round","sqrt","angle","atan2","distanceToSquared","dx","dy","normalize","alpha","v1","v2","offset","attribute","getX","getY","center","isVector2","_canvas","Matrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","me","xAxis","yAxis","zAxis","setFromMatrix3Column","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","d","f","g","h","t11","t12","t13","det","detInv","tmp","matrix4","setFromMatrix4","invert","transpose","r","tx","ty","sx","sy","rotation","cx","cy","theta","matrix","fromArray","isMatrix3","ImageUtils","getDataURL","image","test","src","HTMLCanvasElement","canvas","document","createElementNS","width","height","context","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","DEFAULT_IMAGE","mapping","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","uuid","name","mipmaps","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","version","onUpdate","setUvTransform","copy","source","meta","isRootObject","textures","output","metadata","generator","wrap","images","url","Array","isArray","isDataTexture","serializeImage","uv","applyMatrix3","HTMLImageElement","ImageBitmap","data","isTexture","Vector4","z","acos","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","isVector4","WebGLRenderTarget","options","depth","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","dispose","clone","isWebGLRenderTarget","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","Quaternion","_x","_y","_z","_w","_onChangeCallback","quaternion","euler","update","isEuler","_order","c1","c3","s1","s3","axis","halfAngle","trace","vFrom","vTo","dot","Number","EPSILON","step","angleTo","slerp","conjugate","p","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","qa","callback","qm","slerpQuaternions","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","isQuaternion","Vector3","multiplyVectors","applyQuaternion","_quaternion$4","setFromEuler","setFromAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","camera","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","crossVectors","ax","ay","az","bx","by","bz","denominator","lengthSq","planeNormal","_vector$c","projectOnVector","sub","normal","dz","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindricalCoords","setFromMatrixColumn","sz","isVector3","Box3","Infinity","minX","minY","minZ","maxX","maxY","maxZ","count","points","makeEmpty","il","expandByPoint","size","halfSize","_vector$b","add","expandByObject","box","isEmpty","point","vector","addScalar","updateWorldMatrix","geometry","boundingBox","computeBoundingBox","_box$3","union","children","sphere","clampPoint","plane","constant","triangle","getCenter","_center","_extents","_v0$2","_v1$7","_v2$3","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","getSize","_points","setFromPoints","equals","isBox3","_testAxis","v0","extents","j","p0","p1","p2","_box$2","_v1$6","_toFarthestPoint","_toPoint","Sphere","optionalCenter","maxRadiusSq","distanceTo","radiusSum","intersectsSphere","distanceToPoint","deltaLengthSq","expandByScalar","getMaxScaleOnAxis","missingRadiusHalf","_vector$a","_segCenter","_segDir","_diff","_edge1","_edge2","_normal$1","Ray","origin","direction","ray","at","directionDistance","distanceSqToPoint","optionalPointOnRay","optionalPointOnSegment","s0","sqrDist","extDet","segExtent","a01","b0","invDet","tca","radius2","thc","t0","t1","distanceToPlane","distToPoint","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectBox","backfaceCulling","sign","DdN","DdQxE2","DdE1xQ","cross","QdN","transformDirection","Matrix4","n14","n24","n34","n41","n42","n43","n44","scaleX","_v1$5","scaleY","scaleZ","af","bf","ce","cf","de","df","ac","ad","bc","bd","compose","_zero","_one","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","t14","scaleXSq","scaleYSq","scaleZSq","position","scale","x2","y2","z2","wx","wy","wz","determinant","_m1$2","invSX","invSY","invSZ","setFromRotationMatrix","left","right","top","bottom","near","far","isMatrix4","_matrix$1","_quaternion$3","Euler","DefaultOrder","asin","makeRotationFromQuaternion","newOrder","setFromQuaternion","optionalResult","RotationOrders","Layers","mask","channel","layers","_object3DId","_v1$4","_q1","_m1$1","_target","_position$3","_scale$2","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","parent","DefaultUp","_onChange","defineProperties","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","userData","isObject3D","onBeforeRender","onAfterRender","updateMatrix","premultiply","decompose","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","multiply","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","translateX","translateY","translateZ","localToWorld","worldToLocal","lookAt","setFromMatrixPosition","isCamera","isLight","extractRotation","remove","clear","attach","getObjectById","id","getObjectByProperty","getObjectByName","getWorldPosition","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","updateMatrixWorld","force","updateParents","updateChildren","toJSON","geometries","materials","shapes","skeletons","serialize","library","element","JSON","stringify","toArray","isInstancedMesh","instanceMatrix","instanceColor","isMesh","isLine","isPoints","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","values","recursive","parse","child","_vector1","_vector2$1","_normalMatrix","Plane","setFromNormalAndCoplanarPoint","inverseNormalLength","negate","line","delta","start","startSign","endSign","end","intersectsPlane","optionalNormalMatrix","getNormalMatrix","referencePoint","coplanarPoint","isPlane","_v0$1","_v1$3","_v2$2","_v3$1","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","i0","i1","i2","getNormal","setFromCoplanarPoints","getBarycoord","uv1","uv2","uv3","getUV","containsPoint","isFrontFacing","intersectsTriangle","d4","vc","addScaledVector","d5","d6","vb","va","denom","targetLengthSq","dot00","dot01","dot02","dot11","dot12","invDenom","u","p3","materialId","Material","fog","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","alphaToCoverage","premultipliedAlpha","toneMapped","isMaterial","onBeforeCompile","customProgramCacheKey","setValues","newValue","currentValue","isColor","flatShading","isRoot","color","getHex","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","map","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","reflectivity","refractionRatio","combine","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","_colorKeywords","_hslA","_hslB","hue2rgb","SRGBToLinear","LinearToSRGB","Color","setRGB","setHex","setStyle","hex","style","handleAlpha","string","parseFloat","exec","components","parseInt","setHSL","charAt","setColorName","gammaFactor","safeInverse","copyGammaToLinear","copyLinearToGamma","copySRGBToLinear","copyLinearToSRGB","hue","saturation","lightness","getHSL","color1","color2","normalized","NAMES","MeshBasicMaterial","isMeshBasicMaterial","_vector$9","_vector2","BufferAttribute","itemSize","usage","updateRange","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float16BufferAttribute","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","arrayMax","isBufferAttribute","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","fromBufferAttribute","setXY","setXYZ","applyNormalMatrix","setX","setY","setZ","setW","setXYZW","onUpload","isFloat16BufferAttribute","TYPED_ARRAYS","getTypedArray","buffer","_id","_m1","_obj","_offset","_box$1","_boxMorphTargets","_vector$8","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","groups","boundingSphere","drawRange","isBufferGeometry","getIndex","setIndex","getAttribute","setAttribute","deleteAttribute","hasAttribute","addGroup","materialIndex","clearGroups","setDrawRange","needsUpdate","tangent","computeBoundingSphere","makeRotationX","makeRotationY","makeRotationZ","translate","makeTranslation","makeScale","morphAttributesPosition","isGLBufferAttribute","setFromBufferAttribute","morphAttribute","isNaN","jl","computeFaceNormals","computeTangents","indices","positions","normals","uvs","nVertices","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","group","handleTriangle","tmp2","n2","handleVertex","isFinite","computeVertexNormals","positionAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","normalizeNormals","merge","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","keys","hasMorphAttributes","attributeArray","_inverseMatrix$2","_ray$2","_sphere$3","_vA$1","_vB$1","_vC$1","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA$1","_uvB$1","_uvC$1","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","checkBufferGeometryIntersection","raycaster","morphPosition","morphInfluences","morphTargetInfluences","influence","boneTransform","intersection","intersectTriangle","checkIntersection","face","morphTargetDictionary","ml","String","intersects","intersectsBox","groupMaterial","faceIndex","isGeometry","BoxGeometry","widthSegments","heightSegments","depthSegments","scope","vertices","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","mergeUniforms","uniforms","merged","UniformsUtils","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","isShaderMaterial","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","enabled","offsetX","offsetY","clearViewOffset","skew","makePerspective","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderer","scene","currentXrEnabled","xr","currentRenderTarget","getRenderTarget","setRenderTarget","render","CubeTexture","_needsFlipEnvMap","isCubeTexture","WebGLCubeRenderTarget","dummy","isInteger","shader","tEquirect","mesh","currentMinFilter","stencil","DataTexture","_sphere$2","_vector$7","Frustum","p4","p5","planes","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","stop","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","isInterleavedBufferAttribute","deleteBuffer","delete","bufferType","cached","bytesPerElement","elementSize","createBuffer","bindBuffer","bufferData","BYTES_PER_ELEMENT","bufferSubData","subarray","updateBuffer","PlaneGeometry","width_half","height_half","segment_width","segment_height","ShaderChunk","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_physical_pars_fragment","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmissionmap_fragment","transmissionmap_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","background","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","WebGLBackground","cubemaps","state","objects","planeMesh","boxMesh","clearColor","clearAlpha","currentBackground","currentBackgroundVersion","currentTonemapping","setClear","getClearColor","setClearColor","getClearAlpha","setClearAlpha","renderList","forceClear","isScene","session","getSession","environmentBlendMode","autoClear","autoClearColor","autoClearDepth","autoClearStencil","copyPosition","toneMapping","unshift","WebGLBindingStates","maxVertexAttributes","getParameter","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","bindVertexArrayObject","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","newAttributes","enabledAttributes","attributeDivisors","program","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","stride","vertexAttribIPointer","reset","resetDefaultState","setup","updateBuffers","programMap","stateMap","createVertexArray","createVertexArrayOES","getBindingState","cachedAttributes","geometryAttributes","attributesNum","cachedAttribute","geometryAttribute","saveCache","isInstancedBufferGeometry","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","isInstancedInterleavedBuffer","_maxInstanceCount","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","setupVertexAttributes","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","WebGLBufferRenderer","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","has","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","uniform","resetGlobalState","numPlanes","numIntersection","projectPlanes","skipTransform","nPlanes","dstArray","flatSize","viewMatrix","i4","init","enableLocalClipping","beginShadows","endShadows","setState","useCache","materialProperties","nGlobal","lGlobal","clippingState","WebGLCubeMaps","mapTextureMapping","onTextureDispose","cubemap","fromEquirectangularTexture","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","programs","autoReset","instanceCount","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","workInfluences","objectInfluences","influences","sort","MAX_SAFE_INTEGER","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","onInstancedMeshDispose","instancedMesh","buffergeometry","physical","transmission","transmissionMap","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueV1i","uniform1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2uiv","setValueV3ui","uniform3uiv","setValueV4ui","uniform4uiv","setValueT1","unit","safeSetTexture2D","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueT2DArray1","setTexture2DArray","setValueV1fArray","uniform1fv","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","units","setValueT6Array","SingleUniform","activeInfo","getSingularSetter","PureArrayUniform","getPureArraySetter","StructuredUniform","seq","updateCache","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","match","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","WebGLShader","createShader","shaderSource","compileShader","setOptional","upload","seqWithValue","programIdCount","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","trim","split","join","addLineNumbers","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","filterEmptyLine","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","WebGLProgram","cacheKey","prefixVertex","prefixFragment","shadowMapTypeDefine","shadowMapType","generateShadowMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapTypeDefine","envMapModeDefine","generateEnvMapModeDefine","envMapBlendingDefine","generateEnvMapBlendingDefine","gammaFactorDefine","customExtensions","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","generateExtensions","customDefines","chunks","generateDefines","createProgram","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","vertexAlphas","vertexUvs","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","outputEncoding","depthPacking","cachedUniforms","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","getActiveAttrib","getAttribLocation","fetchAttributeLocations","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getTextureEncodingFromMap","getParameters","shadows","environment","isMeshStandardMaterial","bones","nVertexUniforms","nVertexMatrices","getMaxBones","isFogExp2","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","finish","customOpaqueSort","customTransparentSort","WebGLRenderLists","lists","renderCallDepth","list","UniformsCache","light","halfWidth","halfHeight","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","ShadowUniformsCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","identity","WebGLRenderState","lightsArray","shadowsArray","setupLights","setupLightsView","pushLight","pushShadow","shadowLight","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","WebGLShadowMap","_renderer","_objects","_capabilities","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","_maxTextureSize","0","1","2","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizontal","HORIZONTAL_PASS","fullScreenTri","fullScreenMesh","VSMPass","mapPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","renderObject","shadowCamera","intersectsObject","k","kl","depthMaterial","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","WebGLState","colorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","currentDepthMask","currentDepthFunc","currentDepthClear","enable","disable","depthMask","setFunc","clearDepth","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","enabledCapabilities","xrFramebuffer","currentBoundFramebuffers","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendEquationSeparate","blendFuncSeparate","blendFunc","frontFace","cullFace","setPolygonOffset","factor","activeTexture","webglSlot","bindFramebuffer","framebuffer","bindXRFramebuffer","useProgram","setMaterial","frontFaceCW","setLineWidth","lineWidth","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","__maxMipLevel","log2","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","textureProperties","__webglInit","deleteTexture","__webglTexture","deallocateTexture","isVideoTexture","onRenderTargetDispose","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","deallocateRenderTarget","textureUnits","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","initTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","convert","glInternalFormat","setTextureParameters","mipmap","mipmapImage","uploadCubeTexture","wrappingToGL","filterToGL","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","textureNeedsPowerOfTwo","isDepthTexture","setupFrameBufferTexture","attachment","textureTarget","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthRenderbuffer","isCube","webglDepthTexture","setupDepthTexture","createRenderbuffer","warnedTexture2D","warnedTextureCube","textureUnit","resetTextureUnits","setupRenderTarget","isRenderTarget3D","createFramebuffer","glTextureType","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","cameras","isArrayCamera","Group","WebXRController","_targetRay","_grip","_hand","WebXRManager","framebufferScaleFactor","referenceSpace","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","onSessionEvent","controller","inputSource","onSessionEnd","forEach","disconnect","isPresenting","onInputSourcesChange","inputSources","removed","added","getController","getTargetRaySpace","getControllerGrip","getGripSpace","getHand","getHandSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","fn","getContextAttributes","xrCompatible","makeXRCompatible","layerInit","antialias","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","self","args","cameraLPos","cameraRPos","updateCamera","getCamera","depthNear","depthFar","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","setProjectionFromUnion","onAnimationFrameCallback","getViewerPose","views","cameraVRNeedsUpdate","transform","WebGLMaterials","refreshUniformsCommon","uvScaleMap","uv2ScaleMap","refreshUniformsStandard","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","isMeshLambertMaterial","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","WebGLRenderer","display","createCanvasElement","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","renderListStack","renderStateStack","domElement","sortObjects","toneMappingExposure","_this","_isContextLost","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","isWebGL1Renderer","shift","message","initGLContext","preventDefault","infoAutoReset","shadowMapAutoUpdate","shadowMapNeedsUpdate","onMaterialDispose","releaseMaterialProgramReferences","deallocateMaterial","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","setSize","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","onXRSessionStart","onXRSessionEnd","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","uvArray","colorArray","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","compile","getProgram","projectObject","isGroup","isLOD","intersectsSprite","isImmediateRenderObject","renderObjects","camera2","renderObjectImmediate","lightsStateVersion","programCacheKey","updateCommonMaterialProperties","needsLights","materialNeedsLights","progUniforms","uniformsList","needsProgramChange","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","window","setFromProjectionMatrix","opaqueObjects","transparentObjects","layer","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","textureFormat","halfFloatSupportedByExt","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","compressedTexSubImage2D","copyTextureToTexture3D","sourceBox","glTarget","unpackRowLen","unpackImageHeight","unpackSkipPixels","unpackSkipRows","unpackSkipImages","texSubImage3D","resetState","__THREE_DEVTOOLS__","CustomEvent","detail","joints","inputState","pinching","inputPose","gripPose","handPose","targetRay","grip","hand","visibilityState","getPose","targetRaySpace","inputjoint","jointPose","getJointPose","jointName","joint","jointRadius","indexTip","thumbTip","distanceToPinch","handedness","gripSpace","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","isInterleavedBuffer","arrayBuffers","_uuid","ib","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA","_vB","_vC","_uvA","_uvB","_uvC","Sprite","setFromMatrixScale","transformVertex","intersect","vertexPosition","mvPosition","_v1$2","_v2$1","LOD","_currentLevel","levels","addLevel","getObjectForDistance","_basePosition","_skinIndex","_skinWeight","_vector$5","_matrix","SkinnedMesh","bindMatrixInverse","Bone","bind","calculateInverses","normalizeSkinWeights","skinWeight","manhattanLength","skinIndex","weight","getComponent","boneIndex","boneInverses","isBone","_offsetMatrix","_identityMatrix","Skeleton","inverse","bone","json","boneInverse","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","getColorAt","getMatrixAt","raycastTimes","instanceId","setColorAt","setMatrixAt","linecap","linejoin","_start$1","_end$1","_inverseMatrix$1","_ray$1","_sphere$1","Line","computeLineDistances","lineDistances","threshold","params","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distanceSqToSegment","_start","_end","LineSegments","LineLoop","_inverseMatrix","_ray","_sphere","_position$2","Points","testPoint","rayPointDistanceSq","intersectPoint","closestPointToPoint","distanceToRay","VideoTexture","video","requestVideoFrameCallback","updateVideo","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","CircleGeometry","segments","thetaStart","thetaLength","vertex","segment","CylinderGeometry","radiusTop","radiusBottom","radialSegments","openEnded","indexArray","generateTorso","slope","indexRow","sinTheta","cosTheta","generateCap","centerIndexStart","centerIndexEnd","ConeGeometry","PolyhedronGeometry","vertexBuffer","uvBuffer","subdivide","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","applyRadius","generateUVs","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","DodecahedronGeometry","_v0","_v1$1","_normal","_triangle","EdgesGeometry","thresholdAngle","thresholdDot","indexAttr","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Earcut","holeIndices","dim","invSize","hasHoles","outerLen","outerNode","linkedList","prev","queue","steiner","getLeftmost","compareX","eliminateHole","filterPoints","eliminateHoles","earcutLinked","clockwise","last","sum","signedArea","insertNode","removeNode","again","area","ear","pass","zOrder","prevZ","nextZ","tail","numMerges","pSize","qSize","inSize","sortLinked","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","locallyInside","isValidDiagonal","splitPolygon","hole","hx","hy","mx","my","tanMin","sectorContainsSector","findHoleBridge","leftmost","px","py","intersectsPolygon","inside","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","Node","an","bp","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","faces","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","splineTube","binormal","position2","extrudeByPath","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","reverse","hl","ahole","concat","scalePt2","pt","vec","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","sf","v_trans_lensq","direction_eq","contourMovements","oneHoleMovements","holesMovements","verticesMovements","bs","vert","binormals","sidewalls","layeroffset","sl","slen1","slen2","f4","f3","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","buildLidFaces","buildSideFaces","toJSON$1","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","IcosahedronGeometry","LatheGeometry","phiStart","phiLength","inverseSegments","n1","OctahedronGeometry","ParametricGeometry","func","slices","stacks","EPS","pu","pv","sliceCount","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","ShapeGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","SphereGeometry","thetaEnd","grid","verticesRow","uOffset","TetrahedronGeometry","TextGeometry","text","font","isFont","generateShapes","TorusGeometry","tube","tubularSegments","arc","TorusKnotGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TubeGeometry","closed","frames","P","generateBufferData","generateSegment","generateIndices","getPointAt","WireframeGeometry","edge","edges","ol","edge1","edge2","Geometries","freeze","BoxBufferGeometry","CircleBufferGeometry","ConeBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","ParametricBufferGeometry","PlaneBufferGeometry","PolyhedronBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TetrahedronBufferGeometry","TextBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","RawShaderMaterial","ior","Materials","AnimationUtils","arraySlice","from","to","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","numTimes","valueStart","multiplyQuaternionsFlat","valueEnd","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","LinearInterpolant","DiscreteInterpolant","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","offset1","offset0","weight1","weight0","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","factoryMethod","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","timeOffset","timeScale","startTime","endTime","nKeys","valid","prevTime","currTime","smoothInterpolation","getInterpolation","writeIndex","keep","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","trackType","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","slerpFlat","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","validate","optimize","jsonTracks","frameTime","parseKeyframeTrack","clipTracks","morphTargetSequence","noLoop","numMorphTargets","objectOrClipArray","clipArray","animationToMorphTargets","pattern","morphTarget","parts","animationMorphTargets","clips","CreateFromMorphTargetSequence","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","typeName","toLowerCase","getTrackTypeForValueTypeName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","load","loadAsync","setCrossOrigin","setWithCredentials","setPath","setResourcePath","setRequestHeader","loading","FileLoader","setTimeout","request","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","header","XMLHttpRequest","open","callbacks","overrideMimeType","send","setResponseType","setMimeType","AnimationLoader","CompressedTextureLoader","loaded","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","onImageError","substr","CubeTextureLoader","urls","DataTextureLoader","TextureLoader","Curve","arcLengthDivisions","texData","isJPEG","search","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","targetArcLength","arcLengths","comparison","lengthBefore","getTangent","t2","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","makeRotationAxis","fromJSON","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","twoPi","deltaAngle","samePoints","isEllipseCurve","ArcCurve","aRadius","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","isArcCurve","pz","CatmullRomCurve3","curveType","intPoint","CatmullRom","QuadraticBezier","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","CubicBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","isCatmullRomCurve3","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","startPoint","endPoint","curveLengths","getCurveLengths","diff","segmentLength","lens","cacheLengths","sums","Path","currentPoint","moveTo","lineTo","aCPx","aCPy","aCP1x","aCP1y","aCP2x","aCP2y","npts","absarc","absellipse","firstPoint","lastPoint","Shape","holesPts","getPointsHoles","Light","HemisphereLight","_projScreenMatrix$1","_lightPositionWorld$1","_lookTarget$1","LightShadow","_frameExtents","_viewportCount","_viewports","shadowMatrix","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","_lightPositionWorld","_lookTarget","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","scaleW","scaleH","makeOrthographic","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","coeff","shBasis","isSphericalHarmonics3","LightProbe","MaterialLoader","getTexture","shading","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","arrayBuffer","getArrayBuffer","typedArray","bufferAttribute","drawcalls","offsets","ObjectLoader","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","geometryShapes","bufferGeometryLoader","details","setTextures","deserializeImage","loadImage","deserializedImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","objectAnimations","ImageBitmapLoader","createImageBitmap","fetch","isImageBitmapLoader","setOptions","fetchOptions","credentials","headers","res","blob","colorSpaceConversion","imageBitmap","catch","ShapePath","subPaths","currentPath","quadraticCurveTo","bezierCurveTo","splineThru","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","tmpPoints","tmpHoles","betterShapeHoles","newShapes","newShapeHoles","mainIdx","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","Font","paths","createPaths","toShapes","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","ha","familyName","FontLoader","substring","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","xmin","xmax","eyeSepHalf","eyeSepOnProjection","ymax","Clock","autoStart","oldTime","elapsedTime","running","now","getElapsedTime","getDelta","newTime","performance","Date","_position$1","_quaternion$1","_scale$1","_orientation$1","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setPosition","setOrientation","Audio","getInput","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","audioNode","mediaElement","createMediaElementSource","mediaStream","createMediaStreamSource","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getOutput","getFilters","setFilters","_position","_quaternion","_scale","_orientation","PositionalAudio","panner","createPanner","panningModel","refDistance","rolloffFactor","distanceModel","maxDistance","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getByteFrequencyData","getFrequencyData","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accuIndex","currentWeight","mix","weightAdditive","originalValueOffset","getValue","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","rootNode","node","findNode","nodeName","firstValidIndex","nCachedObjects_","bindings","unbind","root","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","getBoneByName","subTreeNode","searchNodeSubtree","childNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","resolvedProperty","SetterByBindingTypeAndVersioning","targetObject","dest","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","indicesByUUID","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","lastObject","indicesByPath","lastBindingsIndex","lastBindings","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","_isActiveAction","_scheduleFading","fadeOutAction","warp","fadeOut","fadeIn","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","fadeInAction","crossFadeFrom","weightInterpolant","_takeBackControlInterpolant","action","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","_root","deltaTime","timeDirection","timeRunning","_updateTimeScale","clipTime","_updateTime","_updateWeight","propertyMixers","accumulateAdditive","accumulate","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","_bindAction","knownActions","_addInactiveAction","_lendBinding","saveOriginalState","_lendAction","restoreOriginalState","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","optionalRoot","clipObject","findByName","existingAction","newAction","nActions","_update","timeInSeconds","actionsToRemove","_removeInactiveAction","Uniform","InstancedInterleavedBuffer","GLBufferAttribute","Raycaster","PointCloud","ascSort","intersectObject","setBuffer","setType","setItemSize","setCount","setFromCamera","coords","unproject","intersectObjects","Spherical","other","setFromCartesianCoords","Cylindrical","_vector$4","Box2","isBox2","_startP","_startEnd","Line3","clampToLine","startEnd2","closestPointToPointParameter","ImmediateRenderObject","_vector$3","SpotLightHelper","cone","coneLength","coneWidth","_vector$2","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$1","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1","_v2","_v3","DirectionalLightHelper","lightPlane","targetLine","_vector","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_lineGeometry","_coneGeometry","_box","BoxHelper","setFromObject","Box3Helper","PlaneHelper","positions2","_axis","ArrowHelper","headLength","headWidth","setDirection","setLength","AxesHelper","_floatView","_int32View","DataUtils","toHalfFloat","val","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","LOD_MAX","MAX_SAMPLES","ENCODINGS","backgroundMaterial","backgroundBox","_flatCamera","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_clearColor","_oldTarget","PHI","INV_PHI","_axisDirections","convertLinearToRGBE","maxComponent","fExp","PMREMGenerator","_pingPongRenderTarget","_blurMaterial","weights","poleAxis","_getBlurShader","_equirectShader","_cubemapShader","_compileMaterial","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","equirectangular","_fromTexture","_getCubemapShader","_getEquirectShader","outputTarget","_setViewport","_textureToCubeUV","_isLDR","_createRenderTarget","tmpMesh","cubeCamera","upSign","forwardSign","originalAutoClear","useSolidColor","convertSRGBToLinear","col","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","outputSize","lod","sizeLod","texelSize","positionSize","uvSize","faceIndexSize","coordinates","fill","LineStrip","LinePieces","NoColors","FaceColors","VertexColors","MeshFaceMaterial","MultiMaterial","isMultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","AxisHelper","BoundingBoxHelper","EdgesHelper","WireframeHelper","XHRLoader","BinaryTextureLoader","WebGLRenderTargetCube","CanvasRenderer","JSONLoader","fromPoints","setColors","Handlers","empty","isIntersectionBox","isIntersectionSphere","setFromMatrix","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","getInverse","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","intersectsLine","isIntersectionPlane","getArea","barycoordFromPoint","midpoint","getMidpoint","prototypenormal","getPlane","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","manhattanDistanceTo","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","getChildByName","renderDepth","getWorldRotation","applyMatrix","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","computeOffsets","removeAttribute","maxInstancedCount","linePrecision","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","transparency","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","initMaterial","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","toneMappingWhitePoint","renderReverseSided","renderSingleSided","getData","updateCubeMap","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","SceneUtils","createMultiMaterialObject","detach","LensFlare","revision","__THREE__","__createBinding","k2","__exportStar","_defineProperty","obj","unsupportedIterableToArray","allowArrayLike","it","Symbol","iterator","F","_e","normalCompletion","didErr","_e2","isNativeReflectConstruct","possibleConstructorReturn","OptionsColor","superPropBase","_get","_slicedToArray","arr","arrayWithHoles","_arr","_n","_d","_s","_i","nonIterableRest","ValueWithRandom","Random_1","Utils_1","Random","NumberUtils","setRangeValue","minimumValue","_assertThisInitialized","ReferenceError","freeGlobal","freeSelf","Function","_unsupportedIterableToArray","minLen","Vector","defX","defY","updateFromAngle","getLengthSq","velocity","iterableToArrayLimit","_createForOfIteratorHelper","_typeof","_possibleConstructorReturn","assertThisInitialized","baseIsNative","_arrayLikeToArray","arr2","equal","flags","valueOf","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","test1","getOwnPropertyNames","test2","test3","letter","shouldUseNative","symbols","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","entry","eq","getRawTag","objectToString","symToStringTag","toStringTag","nativeCreate","getNative","isKeyable","__data__","Directions_1","Vector_1","comp1","comp2","weight2","getRangeMax","getRangeMin","randomInRange","getRangeValue","pointA","pointB","getDistances","baseVelocity","MoveDirection","topRight","bottomRight","bottomLeft","topLeft","none","horizontal","vertical","m1","m2","_setPrototypeOf","_isNativeReflectConstruct","sham","Proxy","_arrayWithHoles","_nonIterableRest","webpackPolyfill","deprecate","Constants","canvasClass","randomColorValue","midColorValue","touchEndEvent","mouseDownEvent","mouseUpEvent","mouseMoveEvent","touchStartEvent","touchMoveEvent","mouseLeaveEvent","mouseOutEvent","touchCancelEvent","resizeEvent","visibilityChangeEvent","noPolygonDataLoaded","noPolygonFound","Circle","rect","circle","pos1","pos2","xDist","yDist","Range","Rectangle","pos","size2","w2","h2","ParticlesOptions","Links_1","Move_1","ParticlesNumber_1","Opacity_1","Shape_1","Size_1","Rotate_1","Shadow_1","Stroke_1","Collisions_1","Twinkle_1","AnimatableColor_1","Life_1","Bounce_1","Destroy_1","bounce","Bounce","collisions","Collisions","AnimatableColor","Destroy","life","Life","links","Links","move","Move","number","ParticlesNumber","Opacity","reduceDuplicates","rotate","Rotate","Shadow","Size","stroke","Stroke","twinkle","Twinkle","_a","_b","_c","_f","_g","lineLinked","line_linked","strokeToLoad","OptionsColor_1","HslAnimation_1","HslAnimation","colorAnimation","__awaiter","thisArg","_arguments","fulfilled","rejected","Container","Canvas_1","Particles_1","Retina_1","FrameManager_1","Options_1","sourceOptions","fpsLimit","firstStart","started","destroyed","lastFrameTime","pageHidden","_sourceOptions","retina","Retina","Canvas","particles","Particles","drawer","FrameManager","pathGenerator","generate","interactivity","mouse","clicking","bubble","repulse","attract","plugins","drawers","_options","Options","actualOptions","presets","preset","Plugins","getPreset","getSupportedShapes","getShapeDrawer","eventListeners","EventListeners","IntersectionObserver","intersectionObserver","intersectionManager","autoPlay","plugin","draw","drawAnimationFrame","Utils","cancelAnimation","pause","timestamp","nextFrame","noiseOrGenerator","pathOrGenerator","exportImage","quality","toBlob","refresh","removeListeners","HTMLElement","observe","linksColors","grabLineColor","linksColor","setTheme","addListeners","startAsync","setResponsive","availablePlugins","getAvailablePlugins","initAsync","resize","setDensity","pauseOnOutsideViewport","isIntersecting","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","debounce","wait","immediate","timeout","later","debounced","callNow","clearTimeout","flush","baseGetTag","isObject","tag","funcToString","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","SetCache","arraySome","cacheHas","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","stubFalse","freeExports","nodeType","freeModule","Buffer","isBuffer","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","Interactivity_1","ParticlesOptions_1","BackgroundMask_1","Background_1","Infection_1","Theme_1","Enums_1","FullScreen_1","Motion_1","ManualParticle_1","Responsive_1","Background","backgroundMask","BackgroundMask","fullScreen","FullScreen","detectRetina","infection","Infection","Interactivity","manualParticles","motion","Motion","pauseOnBlur","responsive","themes","importPreset","retina_detect","fps_limit","backgroundMode","ManualParticle","loadOptions","optResponsive","Responsive","maxWidth","theme","optTheme","Theme","chosenTheme","clientDarkMode","matchMedia","defaultTheme","default","ThemeMode","dark","any","pxRatio","defaultOptions","arrayLikeToArray","ClickMode","DivMode","HoverMode","InteractivityDetect","BubbleBase","RepulseBase","speed","ColorUtils","Constants_1","NumberUtils_1","tCalc","stringToRgba","input","startsWith","hslaToRgba","hsvaToRgba","hexFixed","_m","useIndex","getRandomRgbColor","stringToRgb","colorSelected","itemFromArray","colorToRgb","colorValue","rgbColor","rgb","hslColor","hsl","hslToRgb","hsvColor","hsv","hsvToRgb","rgbToHsl","r1","g1","hslPercent","hsla","rgbResult","sv","hsvResult","hslToHsv","hsva","hslResult","hsvToHsl","tempRgb","hsvPercent","rgbPercent","xMax","rgba","rgbToHsv","fixedMin","getStyleFromHsl","size1","rgb1","rgb2","svgData","linkColor","sourceColor","getFillColor","getStrokeColor","destColor","getRadius","optColor","blink","consent","OutModeDirection_1","rectSideBounce","pSide","pOtherSide","rectSide","rectOtherSide","bounced","checkSelector","selectors","selector","isSsr","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","handle","webkitCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","msCancelRequestAnimationFrame","character","fonts","fixedIndex","arrayRandomIndex","areBoundsInside","calculateBounds","bounds","OutModeDirection","img","Image","ok","sources","sourceIsArray","destDict","deepExtend","divs","isInArray","div","divMode","singleDivModeExecute","mass","getMass","xVelocityDiff","yVelocityDiff","u1","u2","collisionVelocity","vFinal1","vFinal2","particle","divBounds","pPos","resH","resV","CircleWarp","Rectangle_1","Circle_1","canvasSize","posNE","posSE","posSW","newPos","biggerCircle","rectSW","AnimationOptions","sync","ShapeType","_value","polygon","star","custom","item","loadShape","mainKey","altKey","altOverride","BounceFactor_1","BounceFactor","PolygonMaskPlugin","PolygonMaskInstance_1","PolygonMask_1","PolygonMaskInstance","Type","needsPlugin","optionsCast","polygonOptions","PolygonMask","Draw_1","Inline_1","LocalSvg_1","Draw","inline","Inline","arrangement","inlineArrangement","LocalSvg","PolygonDrawerBase","shapeData","sides","nb_sides","getSidesData","sideCount","numerator","decimalSides","interiorAngleDegrees","interiorAngle","beginPath","Absorber","AbsorberSize_1","draggable","orbits","AbsorberSize","EmitterSize","SizeMode","percent","Emitter","EmitterRate_1","EmitterLife_1","EmitterSize_1","EmitterLife","rate","EmitterRate","spawnColor","objA","objB","is","keysA","OrbitControls","minDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","UP","BOTTOM","mouseButtons","touches","ONE","TWO","target0","position0","zoom0","_domElementKeyEvents","getPolarAngle","spherical","getAzimuthalAngle","listenToKeyEvents","onKeyDown","saveState","changeEvent","STATE","NONE","quat","setFromUnitVectors","quatInverse","lastPosition","lastQuaternion","twoPI","setFromVector3","rotateLeft","sphericalDelta","makeSafe","panOffset","setFromSpherical","zoomChanged","onContextMenu","onPointerDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","ownerDocument","onPointerMove","onPointerUp","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","pointerType","mouseAction","button","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","onMouseUp","handleMouseWheel","code","handleKeyDown","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","MapControls","ReactParticles","Fragment","StrictMode","Profiler","Suspense","for","encodeURIComponent","A","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","C","refs","updater","D","E","isReactComponent","forceUpdate","isPureReactComponent","G","H","I","ref","__self","__source","J","defaultProps","$$typeof","_owner","L","M","O","K","Q","_status","_result","R","S","ReactCurrentDispatcher","ReactCurrentBatchConfig","transition","ReactCurrentOwner","IsSomeRendererActing","Children","only","Component","PureComponent","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","cloneElement","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","createElement","createFactory","createRef","forwardRef","isValidElement","lazy","_payload","_init","memo","compare","useCallback","useContext","useDebugValue","useEffect","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useState","aa","ba","Set","ca","da","ea","fa","ia","ja","ka","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","sanitizeURL","removeEmptyString","oa","pa","ma","na","la","setAttributeNS","xlinkHref","ra","sa","ta","ua","wa","xa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ma","Ka","La","Na","Oa","Pa","prepareStackTrace","displayName","Qa","_render","Ra","Sa","Ta","Va","_valueTracker","stopTracking","Ua","Wa","checked","Xa","activeElement","body","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","$a","bb","eb","db","fb","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","hb","jb","textContent","kb","lb","mb","nb","ob","namespaceURI","innerHTML","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","pb","lastChild","nodeValue","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","orphans","tabSize","widows","zIndex","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","rb","sb","tb","setProperty","ub","menuitem","br","embed","hr","keygen","link","param","wbr","wb","xb","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Ob","Pb","Qb","Rb","Sb","Tb","Ub","Vb","Wb","Xb","Zb","alternate","return","$b","memoizedState","dehydrated","cc","sibling","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","nc","oc","pc","qc","rc","blockedOn","domEventName","eventSystemFlags","nativeEvent","targetContainers","sc","pointerId","tc","wc","lanePriority","unstable_runWithPriority","priority","hydrate","containerInfo","xc","yc","zc","Ac","Bc","unstable_scheduleCallback","unstable_NormalPriority","Cc","Dc","Ec","animationend","animationiteration","animationstart","transitionend","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","unstable_now","Rc","Uc","pendingLanes","expiredLanes","suspendedLanes","pingedLanes","Vc","entangledLanes","entanglements","Wc","Xc","Yc","Zc","$c","eventTimes","clz32","cd","dd","unstable_UserBlockingPriority","ed","fd","gd","hd","uc","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","stopPropagation","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","isTrusted","td","ud","vd","Ad","screenX","screenY","getModifierState","zd","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","pseudoElement","Jd","clipboardData","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","Od","Alt","Control","Meta","Shift","Pd","Rd","location","locale","which","Td","pressure","tangentialPressure","tiltX","tiltY","twist","isPrimary","Vd","targetTouches","changedTouches","Xd","Zd","wheelDeltaX","wheelDeltaY","wheelDelta","deltaZ","deltaMode","$d","documentMode","ee","fe","ge","he","ie","le","date","datetime","email","month","password","tel","week","ne","oe","pe","qe","re","se","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","Le","nextSibling","Me","contains","compareDocumentPosition","Ne","HTMLIFrameElement","contentWindow","href","Oe","contentEditable","Pe","Qe","Re","Se","Te","Ue","selectionStart","selectionEnd","anchorNode","defaultView","getSelection","anchorOffset","focusNode","focusOffset","Ve","We","Xe","Ye","Ze","Yb","$e","capture","passive","Nb","ef","ff","parentWindow","gf","hf","je","ke","jf","kf","lf","mf","autoFocus","nf","__html","of","pf","qf","rf","previousSibling","tf","vf","wf","xf","yf","zf","Af","Bf","Cf","Df","Ef","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Ff","childContextTypes","Gf","Hf","If","getChildContext","Jf","__reactInternalMemoizedMergedChildContext","Kf","Lf","Mf","Nf","Of","Pf","unstable_cancelCallback","Qf","unstable_shouldYield","Rf","unstable_requestPaint","Sf","Tf","unstable_getCurrentPriorityLevel","Uf","unstable_ImmediatePriority","Vf","Wf","Xf","unstable_LowPriority","Yf","unstable_IdlePriority","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","childLanes","tg","dependencies","firstContext","lanes","ug","vg","observedBits","responders","wg","xg","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","effects","yg","zg","eventTime","lane","payload","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Kg","_reactInternals","Hg","Ig","Jg","Lg","shouldComponentUpdate","Mg","contextType","Ng","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Og","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Pg","Qg","_stringRef","Rg","Sg","lastEffect","nextEffect","firstEffect","Tg","Ug","elementType","Vg","implementation","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","documentElement","tagName","fh","gh","hh","ih","memoizedProps","revealOrder","jh","kh","lh","mh","nh","oh","pendingProps","ph","qh","rh","th","uh","_workInProgressVersionPrimary","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","baseQueue","Ih","Jh","Kh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","dispatch","Lh","Mh","_getVersion","_source","mutableReadLanes","Nh","U","getSnapshot","subscribe","setSnapshot","Oh","Ph","Qh","Rh","deps","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","readContext","useDeferredValue","useTransition","useMutableSource","useOpaqueIdentifier","unstable_isNewReconciler","uf","ei","fi","gi","hi","ii","ji","ki","li","mi","baseLanes","ni","oi","pi","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","qi","getDerivedStateFromError","ri","pendingContext","Bi","Di","Ei","si","retryLane","ti","fallback","unstable_avoidThisFallback","ui","unstable_expectedLoadTime","vi","wi","xi","yi","zi","isBackwards","rendering","renderingStartTime","tailMode","Ai","Fi","Gi","wasMultiple","multiple","onClick","onclick","createTextNode","V","Hi","Ii","W","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","componentDidCatch","Ti","componentStack","Ui","WeakSet","Vi","Wi","Xi","__reactInternalSnapshotBeforeUpdate","Yi","Zi","$i","onCommitFiberUnmount","componentWillUnmount","cj","dj","ej","fj","gj","hj","insertBefore","_reactRootContainer","ij","jj","kj","lj","mj","nj","oj","pj","X","Y","qj","rj","sj","tj","uj","vj","wj","ck","Z","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Sc","Kj","Lj","Mj","callbackNode","expirationTimes","callbackPriority","Tc","Nj","Oj","Pj","Qj","Rj","Sj","Tj","finishedWork","finishedLanes","Uj","timeoutHandle","Wj","Xj","pingCache","Yj","Zj","ak","bk","dk","focusedElem","selectionRange","ek","extend","createRange","setStart","removeAllRanges","addRange","setEnd","scrollLeft","scrollTop","onCommitFiberRoot","fk","gk","ik","pendingChildren","jk","mutableSourceEagerHydrationData","kk","lk","mk","nk","qk","hydrationOptions","mutableSources","_internalRoot","rk","tk","sk","uk","hk","unstable_observedBits","unmount","querySelectorAll","form","Vj","vk","Events","wk","findFiberByHostInstance","bundleType","rendererPackageName","xk","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","yk","isDisabled","supportsFiber","inject","createPortal","findDOMNode","flushSync","unmountComponentAtNode","unstable_batchedUpdates","unstable_createPortal","unstable_renderSubtreeIntoContainer","MessageChannel","unstable_forceFrameRate","port2","port1","onmessage","postMessage","sortIndex","expirationTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_wrapCallback","jsx","jsxs","$$$hostConfig","getPublicInstance","getRootHostContext","getChildHostContext","prepareForCommit","resetAfterCommit","createInstance","appendInitialChild","finalizeInitialChildren","prepareUpdate","shouldSetTextContent","createTextInstance","scheduleTimeout","cancelTimeout","noTimeout","isPrimaryRenderer","supportsMutation","supportsPersistence","supportsHydration","getInstanceFromNode","makeOpaqueHydratingObject","makeClientId","beforeActiveInstanceBlur","afterActiveInstanceBlur","preparePortalMount","supportsTestSelectors","findFiberRoot","getBoundingRect","getTextContent","isHiddenSubtree","matchAccessibilityRole","setFocusIfFocusable","setupIntersectionObserver","appendChildToContainer","commitTextUpdate","commitMount","commitUpdate","insertInContainerBefore","removeChildFromContainer","resetTextContent","hideInstance","hideTextInstance","unhideInstance","unhideTextInstance","clearContainer","cloneInstance","createContainerChildSet","appendChildToContainerChildSet","finalizeContainerChildren","replaceContainerChildren","cloneHiddenInstance","cloneHiddenTextInstance","canHydrateInstance","canHydrateTextInstance","isSuspenseInstancePending","isSuspenseInstanceFallback","getNextHydratableSibling","getFirstHydratableChild","hydrateInstance","hydrateTextInstance","getNextHydratableInstanceAfterSuspenseInstance","commitHydratedContainer","commitHydratedSuspenseInstance","Cd","Ed","Gd","Id","Kd","Qd","Sd","Ud","Wd","Yd","_workInProgressVersionSecondary","Ge","unstable_flushAllWithoutAsserting","setImmediate","IsThisRendererActing","act","attemptContinuousHydration","attemptHydrationAtCurrentPriority","attemptSynchronousHydration","attemptUserBlockingHydration","batchedEventUpdates","batchedUpdates","createComponentSelector","createContainer","createHasPsuedoClassSelector","createRoleSelector","createTestNameSelector","createTextSelector","deferredUpdates","discreteUpdates","findAllNodes","findBoundingRects","findHostInstance","findHostInstanceWithNoPortals","findHostInstanceWithWarning","flushControlled","flushDiscreteUpdates","flushPassiveEffects","focusWithin","getCurrentUpdateLanePriority","getFindAllNodesFailureDescription","getPublicRootInstance","injectIntoDevTools","observeVisibleRects","registerMutableSourceForHydration","runWithPriority","shouldSuspend","unbatchedUpdates","updateContainer","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","Context","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","mark","awrap","async","iter","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","__esModule","__importDefault","__setModuleDefault","__importStar","_","loadCanvas","tsParticles","defaultParams","particlesRef","buildParticlesLibrary","className","canvasClassName","anim","blur","straight","outMode","OutMode","detectsOn","events","onHover","grab","modes","quantity","InlineArrangement","onePerPoint","MoveType","baseIsEqual","baseIsEqualDeep","isObjectLike","Stack","equalArrays","equalByTag","equalObjects","getTag","argsTag","arrayTag","objectTag","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","stackClear","stackDelete","stackGet","stackHas","stackSet","assocIndexOf","pairs","LARGE_ARRAY_SIZE","isFunction","isMasked","toSource","reIsHostCtor","funcProto","objectProto","reIsNative","nativeObjectToString","isOwn","unmasked","coreJsData","maskSrcKey","uid","IE_PROTO","Hash","hashClear","hashDelete","hashGet","hashHas","hashSet","getMapData","setCacheAdd","setCacheHas","predicate","mapToArray","setToArray","symbolProto","symbolValueOf","byteLength","byteOffset","stacked","getAllKeys","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","baseGetAllKeys","getSymbols","arrayPush","keysFunc","symbolsFunc","arrayFilter","stubArray","nativeGetSymbols","symbol","resIndex","arrayLikeKeys","baseKeys","isArrayLike","baseTimes","isArguments","isIndex","inherited","isArr","isArg","isBuff","isType","skipIndexes","iteratee","baseIsArguments","reIsUint","isLength","typedArrayTags","freeProcess","process","types","isPrototype","nativeKeys","Ctor","overArg","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ctorString","Events_1","Modes_1","Modes","detect_on","slow","active","RotateDirection","DestroyMode","CollisionMode","AnimationStatus","DestroyType","ProcessBubbleType","StartValueType","DivType","ClickEvent_1","DivEvent_1","HoverEvent_1","ClickEvent","onDiv","DivEvent","HoverEvent","ondiv","onhover","ids","elementId","el","Parallax_1","parallax","Parallax","smooth","Bubble_1","Connect_1","Grab_1","Remove_1","Push_1","Repulse_1","Slow_1","Trail_1","Attract_1","Light_1","Attract","Bubble","Connect","Grab","Push","Remove","Repulse","Slow","trail","Trail","BubbleDiv_1","BubbleDiv","ConnectLinks_1","ConnectLinks","GrabLinks_1","GrabLinks","particles_nb","RepulseDiv_1","RepulseDiv","CanvasUtils","ColorUtils_1","drawLine","begin","closePath","dimension","baseColor","save","fillStyle","fillRect","restore","clearRect","composite","colorLine","drawn","getDistance","pi1","pi2","endNE","endSW","endSE","globalCompositeOperation","strokeStyle","getStyleFromRgb","shadowColor","shadowBlur","pos3","colorTriangle","opacityTriangle","drawTriangle","lineStyle","gradStop","sourcePos","destPos","midRgb","grad","createLinearGradient","addColorStop","mousePos","lightOptions","gradientAmbientLight","createRadialGradient","gradient","gradientRgb","shadowOptions","full","dots","shadowLength","dotAngle","endX","endY","startX","startY","shadowRgb","fillColorValue","strokeColorValue","shadowOffsetX","shadowOffsetY","drawShape","close","drawShapeAfterEffect","afterEffect","manageListener","handler","addOptions","removeOptions","canPush","mouseMoveHandler","mouseTouchMove","touchStartHandler","touchMoveHandler","touchEndHandler","mouseTouchFinish","mouseLeaveHandler","touchCancelHandler","touchEndClickHandler","mouseTouchClick","mouseUpHandler","mouseDownHandler","mouseDown","visibilityChangeHandler","handleVisibilityChange","resizeHandler","handleWindowResize","manageListeners","detectType","canvasEl","parentElement","interactivityEl","html","pointerEvents","windowResize","hidden","getAnimationStatus","downPosition","mouseEvent","clientRect","getBoundingClientRect","sourceRect","targetRect","canvasRect","touchEvent","lastTouch","clickPosition","handled","mousePosition","clickPositionValid","doMouseTouchClick","clickTime","getTime","handleClickMode","pushNb","removeNb","removeQuantity","setTo","initialVelocity","pathGenerators","getPlugin","presetKey","getPathGenerator","Point","QuadTree","CircleWarp_1","rectangle","capacity","divided","northEast","northWest","southEast","southWest","insert","query","containerOrSize","found","LightArea_1","LightShadow_1","LightArea","LightGradient_1","LightGradient","LinksShadow_1","LinksTriangle_1","frequency","LinksShadow","LinksTriangle","Path_1","MoveAngle_1","MoveGravity_1","OutModes_1","MoveAngle","drift","gravity","MoveGravity","outModes","OutModes","vibrate","out_mode","noise","fillColor","PathDelay_1","PathDelay","acceleration","maxSpeed","out","Density_1","Density","limit","value_area","OpacityAnimation_1","ValueWithRandom_1","OpacityAnimation","Types_1","startValue","opacity_min","SizeAnimation_1","SizeAnimation","size_min","RotateAnimation_1","RotateAnimation","ColorAnimation_1","ColorAnimation","CollisionsOverlap_1","overlap","CollisionsOverlap","retries","TwinkleValues_1","TwinkleValues","LifeDelay_1","LifeDuration_1","LifeDelay","LifeDuration","Split_1","Split","SplitFactor_1","SplitRate_1","SplitFactor","SplitRate","BackgroundMaskCover_1","cover","BackgroundMaskCover","InfectionStage_1","cure","infections","stages","InfectionStage","infectedStage","ThemeDefault_1","ThemeDefault","MotionReduce_1","reduce","MotionReduce","generatedCanvas","_h","_j","_k","_l","originalStyle","coverRgb","coverColor","trailFillColor","initBackground","paint","offsetHeight","offsetWidth","paintBase","oldSize","resizeFactor","ctx","drawConnectLine","linksWidth","lineColor","beginPos","drawGrabLine","drawParticleShadow","link1","link2","triangleOptions","linksDistance","linksOptions","getLinkColor","drawLinkTriangle","twinkleFreq","twinkleRgb","drawLinkLine","spawning","pfColor","psColor","twinkling","infectionStage","infecter","infectionStages","infectionColor","infectionRgb","fColor","sColor","drawParticleLinks","drawParticle","pOptions","p1Links","getLinkFrequency","getTriangleFrequency","drawPlugin","drawLight","connectOptions","elementStyle","backgroundColor","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","Particle_1","InteractionManager_1","nextId","linksFreq","trianglesFreq","interactionManager","InteractionManager","quadTree","addParticle","particlesInitialization","notInfected","startInfection","override","removeAt","particlesToDelete","externalInteract","particlesInteract","overrideOptions","pushing","countToRemove","pushParticle","splitOptions","splitCount","unbreakable","id1","id2","id3","applyDensity","numberOptions","densityFactor","initDensityFactor","optParticlesNumber","optParticlesLimit","particlesNumber","particlesCount","densityOptions","initializer","canAdd","Updater_1","Infecter_1","Mover_1","lastPathTime","misplaced","loops","particlesOptions","shapeType","overrideShapeType","shapeOptions","pathDelay","initParticle","sizeOptions","sizeValue","randomSize","inRange","calculateVelocity","rotateOptions","rotateDirection","counterClockwise","decreasing","increasing","rotateAnimation","reduceFactor","sizeAnimation","sizeAnimationSpeed","colorToHsl","setColorAnimation","calcPosition","initialPosition","opacityOptions","randomOpacity","opacityAnimation","sideCountFunc","getSidesCount","imageShape","loadImageShape","strokeHslColor","strokeColor","strokeColorAnimation","lifeOptions","lifeDelay","lifeDelayTime","lifeDuration","lifeTime","livesRemaining","Updater","Infecter","mover","Mover","particleInit","getHslFromAnimation","particleDestroyed","addSplitParticle","tryCount","pluginPos","particlePosition","bounceHorizontal","bounceVertical","checkOverlap","overlapOptions","overlaps","rad","getParticleBaseVelocity","moveOptions","radOffset","imageRes","getImages","imageData","replaceColor","svgColoredData","replaceColorSvg","svg","domUrl","URL","webkitURL","createObjectURL","ratio","replace_color","revokeObjectURL","img2","checkDestroy","minValue","maxValue","updateLife","updateOpacity","updateSize","updateAngle","updateColor","updateStrokeColor","updateOutModes","justSpawned","opacityOpt","opacityAnim","sizeOpt","sizeAnim","sizeVelocity","animationOptions","updateColorValue","valueAnimations","hslAnimations","valueAnimation","decrease","updateOutMode","updateBounce","isPointInside","fixOutOfCanvasPosition","bounceNone","nextBounds","particleBounce","newVelocity","minPos","gravityOptions","stage","infectionDelay","infectionDelayStage","infectionTime","stagesCount","nextInfectionStage","particleUpdate","moveParticle","moveParallax","slowFactor","getProximitySpeedFactor","baseSpeed","moveSpeed","moveDrift","applyPath","multTo","mult","addTo","initialDistance","pathOptions","customGenerator","parallaxForce","canvasCenter","parallaxSmooth","particlePos","dist","slowModeRadius","Grabber_1","Repulser_1","Bubbler_1","Connector_1","Linker_1","Attractor_1","Collider_1","TrailMaker_1","Attractor_2","Lighter_1","Lighter_2","Bouncer_1","externalInteractors","Bouncer","Bubbler","Connector","Grabber","Lighter","Attractor","Repulser","TrailMaker","particleInteractors","Collider","Linker","interactor","isEnabled","interact","hoverMode","grabModeDistance","queryCircle","pointDistance","grabLineOptions","lineOpacity","opacityLine","getLinkRandomColor","divRepulse","isDivModeEnabled","clickMode","mouseMoveStatus","hoverEnabled","clickEnabled","hoverRepulse","clickRepulse","divModeExecute","singleSelectorRepulse","elem","offsetLeft","offsetTop","repulseRadius","processRepulse","repulseModeDistance","normVec","repulseFactor","repulseDistance","mouseClickPos","calculateBubbleValue","particleValue","modeValue","optionsValue","divBubble","hoverBubble","clickBubble","singleSelectorHover","hoverBubbleSize","hoverBubbleOpacity","hoverBubbleColor","distMouse","timeSpent","bubbleParam","bubbleObj","optValue","bubbleDuration","bubbleDistance","bubbleModeDistance","particlesParam","particlesObj","pObjBubble","pObj","durationEnd","sizeData","bubbleModeSize","opacityData","modeSize","optSize","modeOpacity","optOpacity","modeColor","bubbleColor","connectModeRadius","distMax","connectModeDistance","xDiff","yDiff","linkOpt1","optDistance","linkOpt2","pos2NE","pos2SE","pos2SW","resolveCollision","absorb","circleBounce","circleBounceDataFromParticle","infecter1","updateInfection","infectionOptions","infectionStage1","infectedStage1","neighbors","infecter2","updateInfectionStage","infectionStage2","infectedStage2","trailOptions","optDelay","hoverAttract","clickAttract","attractRadius","attractModeDistance","processAttract","attractFactor","processMouseBounce","singleSelectorBounce","tolerance","bounceModeDistance","processBounce","rectBounce","devicePixelRatio","motionOptions","mediaQuery","handleMotionChange","handleChange","addListener","deltaValue","polygonBounce","drawPolygonMask","rawData","drawPolygonMaskPath","path2DSupported","Path2D","polygonMaskMoveRadius","polygonMaskOptions","initRawData","redrawTimeout","redraw","raw","perPoint","drawPoints","randomPoint","checkInsidePolygon","polygonDraw","path2d","path2dSupported","outside","xml","forceDownload","doc","getElementsByTagName","svgPaths","getTotalLength","pathSegList","numberOfItems","getItem","svgPathSeg","SVGPathSeg","pathSegType","PATHSEG_MOVETO_ABS","PATHSEG_LINETO_ABS","PATHSEG_CURVETO_CUBIC_ABS","PATHSEG_CURVETO_QUADRATIC_ABS","PATHSEG_ARC_ABS","PATHSEG_CURVETO_CUBIC_SMOOTH_ABS","PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS","absSeg","PATHSEG_LINETO_HORIZONTAL_ABS","PATHSEG_LINETO_VERTICAL_ABS","PATHSEG_LINETO_REL","PATHSEG_MOVETO_REL","PATHSEG_CURVETO_CUBIC_REL","PATHSEG_CURVETO_QUADRATIC_REL","PATHSEG_ARC_REL","PATHSEG_CURVETO_CUBIC_SMOOTH_REL","PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL","relSeg","PATHSEG_LINETO_HORIZONTAL_REL","PATHSEG_LINETO_VERTICAL_REL","PATHSEG_UNKNOWN","PATHSEG_CLOSEPATH","parsePaths","svgUrl","req","parseSvgPath","getRandomPoint","randomLength","getRandomPointByLength","equidistant","getEquidistantPointByIndex","getPointByIndex","getPointAtLength","tot","pathDistance","pathData","createSVGMatrix","finalPath","addPath","downloadSvgPath","createPath2D","DrawStroke_1","DrawStroke","stringToAlpha","pJSDom","particlesJS","Main","pjs_1","main_1","initPjs","main","tagId","pathConfigJson","loadJSON","setOnClickHandler","dom","main_slim_1","AbsorbersPlugin_1","EmittersPlugin_1","PolygonMaskPlugin_1","addPlugin","AbsorbersPlugin","EmittersPlugin","MainSlim","_initialized","__classPrivateFieldSet","privateMap","__classPrivateFieldGet","SquareDrawer_1","TextDrawer_1","ImageDrawer_1","LineDrawer_1","CircleDrawer_1","TriangleDrawer_1","StarDrawer_1","PolygonDrawer_1","Loader_1","squareDrawer","SquareDrawer","textDrawer","TextDrawer","imageDrawer","ImageDrawer","addShapeDrawer","LineDrawer","CircleDrawer","square","TriangleDrawer","StarDrawer","PolygonDrawer","domItem","customDrawer","addPreset","addPathGenerator","loadFont","textData","textParticle","randomIndexData","fillText","strokeText","containerImages","imageOptions","optionsImage","downloadSvgImage","addImage","globalAlpha","inset","Container_1","tsParticlesDom","fetchError","statusCode","domContainer","getElementById","currentOptions","oldIndex","findIndex","old","existingCanvases","newItem","jsonUrl","clickOrTouchHandler","posRetina","touched","touchMoved","Absorbers_1","Absorber_1","Absorbers","absorbers","loadAbsorbers","AbsorberClickMode","absorber","absorberOptions","interactivityAbsorbers","AbsorberInstance_1","addAbsorber","modeAbsorbers","absorbersModeOptions","absorbersOptions","aPosition","AbsorberInstance","dragging","sizeFactor","needsNewPosition","updateParticlePosition","percentPosition","orbit","Emitters_1","Emitter_1","Emitters","emitters","loadEmitters","EmitterClickMode","emitter","emitterOptions","interactivityEmitters","EmitterInstance_1","overridableContainer","addEmitter","playEmitter","idxOrName","externalPlay","pauseEmitter","externalPause","modeEmitters","emitterModeOptions","emittersOptions","ePosition","EmitterInstance","randomCoordinate","randomPosition","firstSpawn","currentDuration","currentEmitDelay","currentSpawnDelay","spawnDelay","lifeCount","immortal","emitDelay","prepareToDie","emit","removeEmitter","hueAnimation","hslAnimation","initValue","colorOffset","emitFactor","PolygonMaskInlineArrangement","PolygonMaskMoveType","PolygonMaskType","_extends","_react","_react2","_reactDom","Tilt","_Component","transitionTimeout","updateCall","perspective","easing","onMouseEnter","onMouseLeave","updateElementPosition","willChange","setTransition","_this2","_this3","toFixed","percentageX","percentageY","getValues","Parent","Class","_objectWithoutProperties","excluded","sourceKeys","sourceSymbolKeys","_iterableToArray","_toArray","_toConsumableArray","ownKeys","enumerableOnly","sym","_objectSpread2","getOwnPropertyDescriptors","create$1","createState","partial","nextState","previousState","getState","api","equalityFn","currentSlice","listenerToAdd","nextSlice","previousSlice","subscribeWithSelector","useIsomorphicLayoutEffect","navigator","userAgent","useStore","newStateSlice","stateRef","selectorRef","equalityFnRef","erroredRef","currentSliceRef","hasNewStateSlice","stateBeforeSubscriptionRef","nextStateSlice","unsubscribe","globalCache","handleAsset","lifespan","preload","deepEqual","promise","useAsset","peek","_globalCache$find","useOnWindowResize","onWindowResize","useOnWindowScroll","onScroll","findScrollContainers","getComputedStyle","overflow","overflowX","overflowY","some","prop","areBoundsEqual","every","useMeasure","scroll","debounce$1","polyfill","ResizeObserver","scrollContainers","resizeObserver","lastBounds","scrollDebounce","resizeDebounce","mounted","forceRefresh","resizeChange","scrollChange","scrollContainer","Boolean","fun","str","und","equ","makeId","eventObject","createEvents","store","temp","THREE","calculateDistance","internal","initialClick","filterPointerEvents","_r3f$handlers","__r3f","cancelPointer","hits","hovered","hoveredObj","hit","intersections","onPointerOut","onPointerLeave","pointerMissed","_r3f$handlers2","onPointerMissed","handlePointer","captured","_raycaster$computeOff","prepareRay","isPointerMove","patchIntersects","eventsObjects","interaction","_r3f","unprojectedPoint","releasePointerCapture","localState","stopped","setPointerCapture","extractEventProps","raycastEvent","cap","higher","sourceEvent","handleIntersects","onPointerOver","onPointerEnter","hoveredItem","initialHits","includes","isStore","def","getContainer","_container$__r3f$root","_container$__r3f","DEFAULT","EMPTY","FILTER","catalogue","prepare","React","createStore","applyProps","invalidate","advance","linear","flat","orthographic","frameloop","dpr","clock","raycastOptions","cameraOptions","rootState","setDpr","initialDpr","defaultTarget","performanceTimeout","setPerformanceCurrent","runGlobalEffects","regress","connected","lastProps","subscribers","shallow","globalEffects","globalAfterEffects","globalTailEffects","run","render$1","createPointerEvents","names","onDoubleClick","onWheel","onPointerCancel","onLostPointerCapture","acc","_events$handlers","_events$handlers2","tabIndex","_store","_canvas$parentElement","_canvas$parentElement2","_canvas$parentElement3","_canvas$parentElement4","onCreated","roots","fiber","glRenderer","createRendererInstance","reconciler","useThree","useFrame","renderPriority","createLoop","newProps","_instance$__r3f","_root$getState","_instance$__r3f2","oldProps","accumulative","sameProps","newMemoizedProps","objectKeys","leftOvers","toFilter","filteredProps","filteredPropsEntries","currentInstance","targetProp","defaultClassCall","setScalar","invalidateInstance","updateInstance","_instance$__r3f3","_instance$__r3f3$root","hostContext","internalInstanceHandle","isArgsArr","endsWith","parentInstance","attachArray","attachObject","beforeChild","restSiblings","removeRecursive","_child$__r3f2","_child$__r3f","removeInteractivity","_child$__r3f3","isInstance","shouldDispose","switchInstance","newInstance","Reconciler","warnsIfNotActing","updatePayload","argsNew","restNew","argsOld","restOld","rootContainer","parentHostContext","shouldDeprioritizeSubtree","createRenderer","_state$gl","_state$gl$renderLists","_state$gl2","_dispose","_ref"],"mappings":"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","file":"static/js/2.be833d71.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\r\n  if (!(instance instanceof Constructor)) {\r\n    throw new TypeError(\"Cannot call a class as a function\");\r\n  }\r\n}","function _classCallCheck(instance, Constructor) {\r\n  if (!(instance instanceof Constructor)) {\r\n    throw new TypeError(\"Cannot call a class as a function\");\r\n  }\r\n}\r\n\r\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\r\n  for (var i = 0; i < props.length; i++) {\r\n    var descriptor = props[i];\r\n    descriptor.enumerable = descriptor.enumerable || false;\r\n    descriptor.configurable = true;\r\n    if (\"value\" in descriptor) descriptor.writable = true;\r\n    Object.defineProperty(target, descriptor.key, descriptor);\r\n  }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\r\n  if (staticProps) _defineProperties(Constructor, staticProps);\r\n  return Constructor;\r\n}\r\n\r\nmodule.exports = _createClass;","'use strict';\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\r\n} else {\r\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\r\n}\r\n","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\r\nexport default function _inherits(subClass, superClass) {\r\n  if (typeof superClass !== \"function\" && superClass !== null) {\r\n    throw new TypeError(\"Super expression must either be null or a function\");\r\n  }\r\n\r\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n    constructor: {\r\n      value: subClass,\r\n      writable: true,\r\n      configurable: true\r\n    }\r\n  });\r\n  if (superClass) setPrototypeOf(subClass, superClass);\r\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\r\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\r\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\r\nexport default function _createSuper(Derived) {\r\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\r\n  return function _createSuperInternal() {\r\n    var Super = getPrototypeOf(Derived),\r\n        result;\r\n\r\n    if (hasNativeReflectConstruct) {\r\n      var NewTarget = getPrototypeOf(this).constructor;\r\n      result = Reflect.construct(Super, arguments, NewTarget);\r\n    } else {\r\n      result = Super.apply(this, arguments);\r\n    }\r\n\r\n    return possibleConstructorReturn(this, result);\r\n  };\r\n}","function _defineProperties(target, props) {\r\n  for (var i = 0; i < props.length; i++) {\r\n    var descriptor = props[i];\r\n    descriptor.enumerable = descriptor.enumerable || false;\r\n    descriptor.configurable = true;\r\n    if (\"value\" in descriptor) descriptor.writable = true;\r\n    Object.defineProperty(target, descriptor.key, descriptor);\r\n  }\r\n}\r\n\r\nexport default function _createClass(Constructor, protoProps, staticProps) {\r\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\r\n  if (staticProps) _defineProperties(Constructor, staticProps);\r\n  return Constructor;\r\n}","export default function _getPrototypeOf(o) {\r\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\r\n    return o.__proto__ || Object.getPrototypeOf(o);\r\n  };\r\n  return _getPrototypeOf(o);\r\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\r\n  try {\r\n    var info = gen[key](arg);\r\n    var value = info.value;\r\n  } catch (error) {\r\n    reject(error);\r\n    return;\r\n  }\r\n\r\n  if (info.done) {\r\n    resolve(value);\r\n  } else {\r\n    Promise.resolve(value).then(_next, _throw);\r\n  }\r\n}\r\n\r\nexport default function _asyncToGenerator(fn) {\r\n  return function () {\r\n    var self = this,\r\n        args = arguments;\r\n    return new Promise(function (resolve, reject) {\r\n      var gen = fn.apply(self, args);\r\n\r\n      function _next(value) {\r\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\r\n      }\r\n\r\n      function _throw(err) {\r\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\r\n      }\r\n\r\n      _next(undefined);\r\n    });\r\n  };\r\n}","import superPropBase from \"@babel/runtime/helpers/esm/superPropBase\";\r\nexport default function _get(target, property, receiver) {\r\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\r\n    _get = Reflect.get;\r\n  } else {\r\n    _get = function _get(target, property, receiver) {\r\n      var base = superPropBase(target, property);\r\n      if (!base) return;\r\n      var desc = Object.getOwnPropertyDescriptor(base, property);\r\n\r\n      if (desc.get) {\r\n        return desc.get.call(receiver);\r\n      }\r\n\r\n      return desc.value;\r\n    };\r\n  }\r\n\r\n  return _get(target, property, receiver || target);\r\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\r\nexport default function _superPropBase(object, property) {\r\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n    object = getPrototypeOf(object);\r\n    if (object === null) break;\r\n  }\r\n\r\n  return object;\r\n}","/**\r\n * @license\r\n * Copyright 2010-2021 Three.js Authors\r\n * SPDX-License-Identifier: MIT\r\n */\r\nconst REVISION = '127';\r\nconst MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\r\nconst TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\r\nconst CullFaceNone = 0;\r\nconst CullFaceBack = 1;\r\nconst CullFaceFront = 2;\r\nconst CullFaceFrontBack = 3;\r\nconst BasicShadowMap = 0;\r\nconst PCFShadowMap = 1;\r\nconst PCFSoftShadowMap = 2;\r\nconst VSMShadowMap = 3;\r\nconst FrontSide = 0;\r\nconst BackSide = 1;\r\nconst DoubleSide = 2;\r\nconst FlatShading = 1;\r\nconst SmoothShading = 2;\r\nconst NoBlending = 0;\r\nconst NormalBlending = 1;\r\nconst AdditiveBlending = 2;\r\nconst SubtractiveBlending = 3;\r\nconst MultiplyBlending = 4;\r\nconst CustomBlending = 5;\r\nconst AddEquation = 100;\r\nconst SubtractEquation = 101;\r\nconst ReverseSubtractEquation = 102;\r\nconst MinEquation = 103;\r\nconst MaxEquation = 104;\r\nconst ZeroFactor = 200;\r\nconst OneFactor = 201;\r\nconst SrcColorFactor = 202;\r\nconst OneMinusSrcColorFactor = 203;\r\nconst SrcAlphaFactor = 204;\r\nconst OneMinusSrcAlphaFactor = 205;\r\nconst DstAlphaFactor = 206;\r\nconst OneMinusDstAlphaFactor = 207;\r\nconst DstColorFactor = 208;\r\nconst OneMinusDstColorFactor = 209;\r\nconst SrcAlphaSaturateFactor = 210;\r\nconst NeverDepth = 0;\r\nconst AlwaysDepth = 1;\r\nconst LessDepth = 2;\r\nconst LessEqualDepth = 3;\r\nconst EqualDepth = 4;\r\nconst GreaterEqualDepth = 5;\r\nconst GreaterDepth = 6;\r\nconst NotEqualDepth = 7;\r\nconst MultiplyOperation = 0;\r\nconst MixOperation = 1;\r\nconst AddOperation = 2;\r\nconst NoToneMapping = 0;\r\nconst LinearToneMapping = 1;\r\nconst ReinhardToneMapping = 2;\r\nconst CineonToneMapping = 3;\r\nconst ACESFilmicToneMapping = 4;\r\nconst CustomToneMapping = 5;\r\n\r\nconst UVMapping = 300;\r\nconst CubeReflectionMapping = 301;\r\nconst CubeRefractionMapping = 302;\r\nconst EquirectangularReflectionMapping = 303;\r\nconst EquirectangularRefractionMapping = 304;\r\nconst CubeUVReflectionMapping = 306;\r\nconst CubeUVRefractionMapping = 307;\r\nconst RepeatWrapping = 1000;\r\nconst ClampToEdgeWrapping = 1001;\r\nconst MirroredRepeatWrapping = 1002;\r\nconst NearestFilter = 1003;\r\nconst NearestMipmapNearestFilter = 1004;\r\nconst NearestMipMapNearestFilter = 1004;\r\nconst NearestMipmapLinearFilter = 1005;\r\nconst NearestMipMapLinearFilter = 1005;\r\nconst LinearFilter = 1006;\r\nconst LinearMipmapNearestFilter = 1007;\r\nconst LinearMipMapNearestFilter = 1007;\r\nconst LinearMipmapLinearFilter = 1008;\r\nconst LinearMipMapLinearFilter = 1008;\r\nconst UnsignedByteType = 1009;\r\nconst ByteType = 1010;\r\nconst ShortType = 1011;\r\nconst UnsignedShortType = 1012;\r\nconst IntType = 1013;\r\nconst UnsignedIntType = 1014;\r\nconst FloatType = 1015;\r\nconst HalfFloatType = 1016;\r\nconst UnsignedShort4444Type = 1017;\r\nconst UnsignedShort5551Type = 1018;\r\nconst UnsignedShort565Type = 1019;\r\nconst UnsignedInt248Type = 1020;\r\nconst AlphaFormat = 1021;\r\nconst RGBFormat = 1022;\r\nconst RGBAFormat = 1023;\r\nconst LuminanceFormat = 1024;\r\nconst LuminanceAlphaFormat = 1025;\r\nconst RGBEFormat = RGBAFormat;\r\nconst DepthFormat = 1026;\r\nconst DepthStencilFormat = 1027;\r\nconst RedFormat = 1028;\r\nconst RedIntegerFormat = 1029;\r\nconst RGFormat = 1030;\r\nconst RGIntegerFormat = 1031;\r\nconst RGBIntegerFormat = 1032;\r\nconst RGBAIntegerFormat = 1033;\r\n\r\nconst RGB_S3TC_DXT1_Format = 33776;\r\nconst RGBA_S3TC_DXT1_Format = 33777;\r\nconst RGBA_S3TC_DXT3_Format = 33778;\r\nconst RGBA_S3TC_DXT5_Format = 33779;\r\nconst RGB_PVRTC_4BPPV1_Format = 35840;\r\nconst RGB_PVRTC_2BPPV1_Format = 35841;\r\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\r\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\r\nconst RGB_ETC1_Format = 36196;\r\nconst RGB_ETC2_Format = 37492;\r\nconst RGBA_ETC2_EAC_Format = 37496;\r\nconst RGBA_ASTC_4x4_Format = 37808;\r\nconst RGBA_ASTC_5x4_Format = 37809;\r\nconst RGBA_ASTC_5x5_Format = 37810;\r\nconst RGBA_ASTC_6x5_Format = 37811;\r\nconst RGBA_ASTC_6x6_Format = 37812;\r\nconst RGBA_ASTC_8x5_Format = 37813;\r\nconst RGBA_ASTC_8x6_Format = 37814;\r\nconst RGBA_ASTC_8x8_Format = 37815;\r\nconst RGBA_ASTC_10x5_Format = 37816;\r\nconst RGBA_ASTC_10x6_Format = 37817;\r\nconst RGBA_ASTC_10x8_Format = 37818;\r\nconst RGBA_ASTC_10x10_Format = 37819;\r\nconst RGBA_ASTC_12x10_Format = 37820;\r\nconst RGBA_ASTC_12x12_Format = 37821;\r\nconst RGBA_BPTC_Format = 36492;\r\nconst SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\r\nconst SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\r\nconst SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\r\nconst SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\r\nconst SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\r\nconst SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\r\nconst SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\r\nconst SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\r\nconst SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\r\nconst SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\r\nconst SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\r\nconst SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\r\nconst SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\r\nconst SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\r\nconst LoopOnce = 2200;\r\nconst LoopRepeat = 2201;\r\nconst LoopPingPong = 2202;\r\nconst InterpolateDiscrete = 2300;\r\nconst InterpolateLinear = 2301;\r\nconst InterpolateSmooth = 2302;\r\nconst ZeroCurvatureEnding = 2400;\r\nconst ZeroSlopeEnding = 2401;\r\nconst WrapAroundEnding = 2402;\r\nconst NormalAnimationBlendMode = 2500;\r\nconst AdditiveAnimationBlendMode = 2501;\r\nconst TrianglesDrawMode = 0;\r\nconst TriangleStripDrawMode = 1;\r\nconst TriangleFanDrawMode = 2;\r\nconst LinearEncoding = 3000;\r\nconst sRGBEncoding = 3001;\r\nconst GammaEncoding = 3007;\r\nconst RGBEEncoding = 3002;\r\nconst LogLuvEncoding = 3003;\r\nconst RGBM7Encoding = 3004;\r\nconst RGBM16Encoding = 3005;\r\nconst RGBDEncoding = 3006;\r\nconst BasicDepthPacking = 3200;\r\nconst RGBADepthPacking = 3201;\r\nconst TangentSpaceNormalMap = 0;\r\nconst ObjectSpaceNormalMap = 1;\r\n\r\nconst ZeroStencilOp = 0;\r\nconst KeepStencilOp = 7680;\r\nconst ReplaceStencilOp = 7681;\r\nconst IncrementStencilOp = 7682;\r\nconst DecrementStencilOp = 7683;\r\nconst IncrementWrapStencilOp = 34055;\r\nconst DecrementWrapStencilOp = 34056;\r\nconst InvertStencilOp = 5386;\r\n\r\nconst NeverStencilFunc = 512;\r\nconst LessStencilFunc = 513;\r\nconst EqualStencilFunc = 514;\r\nconst LessEqualStencilFunc = 515;\r\nconst GreaterStencilFunc = 516;\r\nconst NotEqualStencilFunc = 517;\r\nconst GreaterEqualStencilFunc = 518;\r\nconst AlwaysStencilFunc = 519;\r\n\r\nconst StaticDrawUsage = 35044;\r\nconst DynamicDrawUsage = 35048;\r\nconst StreamDrawUsage = 35040;\r\nconst StaticReadUsage = 35045;\r\nconst DynamicReadUsage = 35049;\r\nconst StreamReadUsage = 35041;\r\nconst StaticCopyUsage = 35046;\r\nconst DynamicCopyUsage = 35050;\r\nconst StreamCopyUsage = 35042;\r\n\r\nconst GLSL1 = '100';\r\nconst GLSL3 = '300 es';\r\n\r\n/**\r\n * https://github.com/mrdoob/eventdispatcher.js/\r\n */\r\n\r\nfunction EventDispatcher() {}\r\n\r\nObject.assign( EventDispatcher.prototype, {\r\n\r\n\taddEventListener: function ( type, listener ) {\r\n\r\n\t\tif ( this._listeners === undefined ) this._listeners = {};\r\n\r\n\t\tconst listeners = this._listeners;\r\n\r\n\t\tif ( listeners[ type ] === undefined ) {\r\n\r\n\t\t\tlisteners[ type ] = [];\r\n\r\n\t\t}\r\n\r\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\r\n\r\n\t\t\tlisteners[ type ].push( listener );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\thasEventListener: function ( type, listener ) {\r\n\r\n\t\tif ( this._listeners === undefined ) return false;\r\n\r\n\t\tconst listeners = this._listeners;\r\n\r\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\r\n\r\n\t},\r\n\r\n\tremoveEventListener: function ( type, listener ) {\r\n\r\n\t\tif ( this._listeners === undefined ) return;\r\n\r\n\t\tconst listeners = this._listeners;\r\n\t\tconst listenerArray = listeners[ type ];\r\n\r\n\t\tif ( listenerArray !== undefined ) {\r\n\r\n\t\t\tconst index = listenerArray.indexOf( listener );\r\n\r\n\t\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\t\tlistenerArray.splice( index, 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tdispatchEvent: function ( event ) {\r\n\r\n\t\tif ( this._listeners === undefined ) return;\r\n\r\n\t\tconst listeners = this._listeners;\r\n\t\tconst listenerArray = listeners[ event.type ];\r\n\r\n\t\tif ( listenerArray !== undefined ) {\r\n\r\n\t\t\tevent.target = this;\r\n\r\n\t\t\t// Make a copy, in case listeners are removed while iterating.\r\n\t\t\tconst array = listenerArray.slice( 0 );\r\n\r\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tarray[ i ].call( this, event );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tevent.target = null;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nconst _lut = [];\r\n\r\nfor ( let i = 0; i < 256; i ++ ) {\r\n\r\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\r\n\r\n}\r\n\r\nlet _seed = 1234567;\r\n\r\nconst MathUtils = {\r\n\r\n\tDEG2RAD: Math.PI / 180,\r\n\tRAD2DEG: 180 / Math.PI,\r\n\r\n\tgenerateUUID: function () {\r\n\r\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\r\n\r\n\t\tconst d0 = Math.random() * 0xffffffff | 0;\r\n\t\tconst d1 = Math.random() * 0xffffffff | 0;\r\n\t\tconst d2 = Math.random() * 0xffffffff | 0;\r\n\t\tconst d3 = Math.random() * 0xffffffff | 0;\r\n\t\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\r\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\r\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\r\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\r\n\r\n\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\r\n\t\treturn uuid.toUpperCase();\r\n\r\n\t},\r\n\r\n\tclamp: function ( value, min, max ) {\r\n\r\n\t\treturn Math.max( min, Math.min( max, value ) );\r\n\r\n\t},\r\n\r\n\t// compute euclidian modulo of m % n\r\n\t// https://en.wikipedia.org/wiki/Modulo_operation\r\n\r\n\teuclideanModulo: function ( n, m ) {\r\n\r\n\t\treturn ( ( n % m ) + m ) % m;\r\n\r\n\t},\r\n\r\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\r\n\r\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\r\n\r\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\r\n\r\n\t},\r\n\r\n\t// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\r\n\r\n\tinverseLerp: function ( x, y, value ) {\r\n\r\n\t\tif ( x !== y ) {\r\n\r\n\t\t\treturn ( value - x ) / ( y - x );\r\n\r\n\t\t } else {\r\n\r\n\t\t\treturn 0;\r\n\r\n\t\t }\r\n\r\n\t},\r\n\r\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\r\n\r\n\tlerp: function ( x, y, t ) {\r\n\r\n\t\treturn ( 1 - t ) * x + t * y;\r\n\r\n\t},\r\n\r\n\t// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\r\n\r\n\tdamp: function ( x, y, lambda, dt ) {\r\n\r\n\t\treturn MathUtils.lerp( x, y, 1 - Math.exp( - lambda * dt ) );\r\n\r\n\t},\r\n\r\n\t// https://www.desmos.com/calculator/vcsjnyz7x4\r\n\r\n\tpingpong: function ( x, length = 1 ) {\r\n\r\n\t\treturn length - Math.abs( MathUtils.euclideanModulo( x, length * 2 ) - length );\r\n\r\n\t},\r\n\r\n\t// http://en.wikipedia.org/wiki/Smoothstep\r\n\r\n\tsmoothstep: function ( x, min, max ) {\r\n\r\n\t\tif ( x <= min ) return 0;\r\n\t\tif ( x >= max ) return 1;\r\n\r\n\t\tx = ( x - min ) / ( max - min );\r\n\r\n\t\treturn x * x * ( 3 - 2 * x );\r\n\r\n\t},\r\n\r\n\tsmootherstep: function ( x, min, max ) {\r\n\r\n\t\tif ( x <= min ) return 0;\r\n\t\tif ( x >= max ) return 1;\r\n\r\n\t\tx = ( x - min ) / ( max - min );\r\n\r\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\r\n\r\n\t},\r\n\r\n\t// Random integer from <low, high> interval\r\n\r\n\trandInt: function ( low, high ) {\r\n\r\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\r\n\r\n\t},\r\n\r\n\t// Random float from <low, high> interval\r\n\r\n\trandFloat: function ( low, high ) {\r\n\r\n\t\treturn low + Math.random() * ( high - low );\r\n\r\n\t},\r\n\r\n\t// Random float from <-range/2, range/2> interval\r\n\r\n\trandFloatSpread: function ( range ) {\r\n\r\n\t\treturn range * ( 0.5 - Math.random() );\r\n\r\n\t},\r\n\r\n\t// Deterministic pseudo-random float in the interval [ 0, 1 ]\r\n\r\n\tseededRandom: function ( s ) {\r\n\r\n\t\tif ( s !== undefined ) _seed = s % 2147483647;\r\n\r\n\t\t// Park-Miller algorithm\r\n\r\n\t\t_seed = _seed * 16807 % 2147483647;\r\n\r\n\t\treturn ( _seed - 1 ) / 2147483646;\r\n\r\n\t},\r\n\r\n\tdegToRad: function ( degrees ) {\r\n\r\n\t\treturn degrees * MathUtils.DEG2RAD;\r\n\r\n\t},\r\n\r\n\tradToDeg: function ( radians ) {\r\n\r\n\t\treturn radians * MathUtils.RAD2DEG;\r\n\r\n\t},\r\n\r\n\tisPowerOfTwo: function ( value ) {\r\n\r\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\r\n\r\n\t},\r\n\r\n\tceilPowerOfTwo: function ( value ) {\r\n\r\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\r\n\r\n\t},\r\n\r\n\tfloorPowerOfTwo: function ( value ) {\r\n\r\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\r\n\r\n\t},\r\n\r\n\tsetQuaternionFromProperEuler: function ( q, a, b, c, order ) {\r\n\r\n\t\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\r\n\r\n\t\t// rotations are applied to the axes in the order specified by 'order'\r\n\t\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\r\n\t\t// angles are in radians\r\n\r\n\t\tconst cos = Math.cos;\r\n\t\tconst sin = Math.sin;\r\n\r\n\t\tconst c2 = cos( b / 2 );\r\n\t\tconst s2 = sin( b / 2 );\r\n\r\n\t\tconst c13 = cos( ( a + c ) / 2 );\r\n\t\tconst s13 = sin( ( a + c ) / 2 );\r\n\r\n\t\tconst c1_3 = cos( ( a - c ) / 2 );\r\n\t\tconst s1_3 = sin( ( a - c ) / 2 );\r\n\r\n\t\tconst c3_1 = cos( ( c - a ) / 2 );\r\n\t\tconst s3_1 = sin( ( c - a ) / 2 );\r\n\r\n\t\tswitch ( order ) {\r\n\r\n\t\t\tcase 'XYX':\r\n\t\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'YZY':\r\n\t\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZXZ':\r\n\t\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'XZX':\r\n\t\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'YXY':\r\n\t\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZYZ':\r\n\t\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nclass Vector2 {\r\n\r\n\tconstructor( x = 0, y = 0 ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\r\n\t}\r\n\r\n\tget width() {\r\n\r\n\t\treturn this.x;\r\n\r\n\t}\r\n\r\n\tset width( value ) {\r\n\r\n\t\tthis.x = value;\r\n\r\n\t}\r\n\r\n\tget height() {\r\n\r\n\t\treturn this.y;\r\n\r\n\t}\r\n\r\n\tset height( value ) {\r\n\r\n\t\tthis.y = value;\r\n\r\n\t}\r\n\r\n\tset( x, y ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetScalar( scalar ) {\r\n\r\n\t\tthis.x = scalar;\r\n\t\tthis.y = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetX( x ) {\r\n\r\n\t\tthis.x = x;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetY( y ) {\r\n\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetComponent( index, value ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: this.x = value; break;\r\n\t\t\tcase 1: this.y = value; break;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetComponent( index ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: return this.x;\r\n\t\t\tcase 1: return this.y;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor( this.x, this.y );\r\n\r\n\t}\r\n\r\n\tcopy( v ) {\r\n\r\n\t\tthis.x = v.x;\r\n\t\tthis.y = v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tadd( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddScalar( s ) {\r\n\r\n\t\tthis.x += s;\r\n\t\tthis.y += s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddVectors( a, b ) {\r\n\r\n\t\tthis.x = a.x + b.x;\r\n\t\tthis.y = a.y + b.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddScaledVector( v, s ) {\r\n\r\n\t\tthis.x += v.x * s;\r\n\t\tthis.y += v.y * s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsub( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsubScalar( s ) {\r\n\r\n\t\tthis.x -= s;\r\n\t\tthis.y -= s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsubVectors( a, b ) {\r\n\r\n\t\tthis.x = a.x - b.x;\r\n\t\tthis.y = a.y - b.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiply( v ) {\r\n\r\n\t\tthis.x *= v.x;\r\n\t\tthis.y *= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiplyScalar( scalar ) {\r\n\r\n\t\tthis.x *= scalar;\r\n\t\tthis.y *= scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdivide( v ) {\r\n\r\n\t\tthis.x /= v.x;\r\n\t\tthis.y /= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdivideScalar( scalar ) {\r\n\r\n\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t}\r\n\r\n\tapplyMatrix3( m ) {\r\n\r\n\t\tconst x = this.x, y = this.y;\r\n\t\tconst e = m.elements;\r\n\r\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\r\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmin( v ) {\r\n\r\n\t\tthis.x = Math.min( this.x, v.x );\r\n\t\tthis.y = Math.min( this.y, v.y );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmax( v ) {\r\n\r\n\t\tthis.x = Math.max( this.x, v.x );\r\n\t\tthis.y = Math.max( this.y, v.y );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclamp( min, max ) {\r\n\r\n\t\t// assumes min < max, componentwise\r\n\r\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclampScalar( minVal, maxVal ) {\r\n\r\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\r\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclampLength( min, max ) {\r\n\r\n\t\tconst length = this.length();\r\n\r\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\r\n\r\n\t}\r\n\r\n\tfloor() {\r\n\r\n\t\tthis.x = Math.floor( this.x );\r\n\t\tthis.y = Math.floor( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tceil() {\r\n\r\n\t\tthis.x = Math.ceil( this.x );\r\n\t\tthis.y = Math.ceil( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tround() {\r\n\r\n\t\tthis.x = Math.round( this.x );\r\n\t\tthis.y = Math.round( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\troundToZero() {\r\n\r\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tnegate() {\r\n\r\n\t\tthis.x = - this.x;\r\n\t\tthis.y = - this.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdot( v ) {\r\n\r\n\t\treturn this.x * v.x + this.y * v.y;\r\n\r\n\t}\r\n\r\n\tcross( v ) {\r\n\r\n\t\treturn this.x * v.y - this.y * v.x;\r\n\r\n\t}\r\n\r\n\tlengthSq() {\r\n\r\n\t\treturn this.x * this.x + this.y * this.y;\r\n\r\n\t}\r\n\r\n\tlength() {\r\n\r\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\r\n\r\n\t}\r\n\r\n\tmanhattanLength() {\r\n\r\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\r\n\r\n\t}\r\n\r\n\tnormalize() {\r\n\r\n\t\treturn this.divideScalar( this.length() || 1 );\r\n\r\n\t}\r\n\r\n\tangle() {\r\n\r\n\t\t// computes the angle in radians with respect to the positive x-axis\r\n\r\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\r\n\r\n\t\treturn angle;\r\n\r\n\t}\r\n\r\n\tdistanceTo( v ) {\r\n\r\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\r\n\r\n\t}\r\n\r\n\tdistanceToSquared( v ) {\r\n\r\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\r\n\t\treturn dx * dx + dy * dy;\r\n\r\n\t}\r\n\r\n\tmanhattanDistanceTo( v ) {\r\n\r\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\r\n\r\n\t}\r\n\r\n\tsetLength( length ) {\r\n\r\n\t\treturn this.normalize().multiplyScalar( length );\r\n\r\n\t}\r\n\r\n\tlerp( v, alpha ) {\r\n\r\n\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tlerpVectors( v1, v2, alpha ) {\r\n\r\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\r\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tequals( v ) {\r\n\r\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\r\n\r\n\t}\r\n\r\n\tfromArray( array, offset = 0 ) {\r\n\r\n\t\tthis.x = array[ offset ];\r\n\t\tthis.y = array[ offset + 1 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoArray( array = [], offset = 0 ) {\r\n\r\n\t\tarray[ offset ] = this.x;\r\n\t\tarray[ offset + 1 ] = this.y;\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n\tfromBufferAttribute( attribute, index, offset ) {\r\n\r\n\t\tif ( offset !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x = attribute.getX( index );\r\n\t\tthis.y = attribute.getY( index );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\trotateAround( center, angle ) {\r\n\r\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\r\n\r\n\t\tconst x = this.x - center.x;\r\n\t\tconst y = this.y - center.y;\r\n\r\n\t\tthis.x = x * c - y * s + center.x;\r\n\t\tthis.y = x * s + y * c + center.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\trandom() {\r\n\r\n\t\tthis.x = Math.random();\r\n\t\tthis.y = Math.random();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nVector2.prototype.isVector2 = true;\r\n\r\nclass Matrix3 {\r\n\r\n\tconstructor() {\r\n\r\n\t\tthis.elements = [\r\n\r\n\t\t\t1, 0, 0,\r\n\t\t\t0, 1, 0,\r\n\t\t\t0, 0, 1\r\n\r\n\t\t];\r\n\r\n\t\tif ( arguments.length > 0 ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\r\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\r\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tidentity() {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, 0, 0,\r\n\t\t\t0, 1, 0,\r\n\t\t\t0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopy( m ) {\r\n\r\n\t\tconst te = this.elements;\r\n\t\tconst me = m.elements;\r\n\r\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\r\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\r\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\textractBasis( xAxis, yAxis, zAxis ) {\r\n\r\n\t\txAxis.setFromMatrix3Column( this, 0 );\r\n\t\tyAxis.setFromMatrix3Column( this, 1 );\r\n\t\tzAxis.setFromMatrix3Column( this, 2 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromMatrix4( m ) {\r\n\r\n\t\tconst me = m.elements;\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\r\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\r\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiply( m ) {\r\n\r\n\t\treturn this.multiplyMatrices( this, m );\r\n\r\n\t}\r\n\r\n\tpremultiply( m ) {\r\n\r\n\t\treturn this.multiplyMatrices( m, this );\r\n\r\n\t}\r\n\r\n\tmultiplyMatrices( a, b ) {\r\n\r\n\t\tconst ae = a.elements;\r\n\t\tconst be = b.elements;\r\n\t\tconst te = this.elements;\r\n\r\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\r\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\r\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\r\n\r\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\r\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\r\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\r\n\r\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\r\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\r\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\r\n\r\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\r\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\r\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\r\n\r\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\r\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\r\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiplyScalar( s ) {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\r\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\r\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdeterminant() {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\r\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\r\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\r\n\r\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\r\n\r\n\t}\r\n\r\n\tinvert() {\r\n\r\n\t\tconst te = this.elements,\r\n\r\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\r\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\r\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\r\n\r\n\t\t\tt11 = n33 * n22 - n32 * n23,\r\n\t\t\tt12 = n32 * n13 - n33 * n12,\r\n\t\t\tt13 = n23 * n12 - n22 * n13,\r\n\r\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\r\n\r\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\r\n\r\n\t\tconst detInv = 1 / det;\r\n\r\n\t\tte[ 0 ] = t11 * detInv;\r\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\r\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\r\n\r\n\t\tte[ 3 ] = t12 * detInv;\r\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\r\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\r\n\r\n\t\tte[ 6 ] = t13 * detInv;\r\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\r\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttranspose() {\r\n\r\n\t\tlet tmp;\r\n\t\tconst m = this.elements;\r\n\r\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\r\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\r\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetNormalMatrix( matrix4 ) {\r\n\r\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\r\n\r\n\t}\r\n\r\n\ttransposeIntoArray( r ) {\r\n\r\n\t\tconst m = this.elements;\r\n\r\n\t\tr[ 0 ] = m[ 0 ];\r\n\t\tr[ 1 ] = m[ 3 ];\r\n\t\tr[ 2 ] = m[ 6 ];\r\n\t\tr[ 3 ] = m[ 1 ];\r\n\t\tr[ 4 ] = m[ 4 ];\r\n\t\tr[ 5 ] = m[ 7 ];\r\n\t\tr[ 6 ] = m[ 2 ];\r\n\t\tr[ 7 ] = m[ 5 ];\r\n\t\tr[ 8 ] = m[ 8 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\r\n\r\n\t\tconst c = Math.cos( rotation );\r\n\t\tconst s = Math.sin( rotation );\r\n\r\n\t\tthis.set(\r\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\r\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\r\n\t\t\t0, 0, 1\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tscale( sx, sy ) {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\r\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\trotate( theta ) {\r\n\r\n\t\tconst c = Math.cos( theta );\r\n\t\tconst s = Math.sin( theta );\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\r\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\r\n\r\n\t\tte[ 0 ] = c * a11 + s * a21;\r\n\t\tte[ 3 ] = c * a12 + s * a22;\r\n\t\tte[ 6 ] = c * a13 + s * a23;\r\n\r\n\t\tte[ 1 ] = - s * a11 + c * a21;\r\n\t\tte[ 4 ] = - s * a12 + c * a22;\r\n\t\tte[ 7 ] = - s * a13 + c * a23;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttranslate( tx, ty ) {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\r\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tequals( matrix ) {\r\n\r\n\t\tconst te = this.elements;\r\n\t\tconst me = matrix.elements;\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t}\r\n\r\n\tfromArray( array, offset = 0 ) {\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.elements[ i ] = array[ i + offset ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoArray( array = [], offset = 0 ) {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tarray[ offset ] = te[ 0 ];\r\n\t\tarray[ offset + 1 ] = te[ 1 ];\r\n\t\tarray[ offset + 2 ] = te[ 2 ];\r\n\r\n\t\tarray[ offset + 3 ] = te[ 3 ];\r\n\t\tarray[ offset + 4 ] = te[ 4 ];\r\n\t\tarray[ offset + 5 ] = te[ 5 ];\r\n\r\n\t\tarray[ offset + 6 ] = te[ 6 ];\r\n\t\tarray[ offset + 7 ] = te[ 7 ];\r\n\t\tarray[ offset + 8 ] = te[ 8 ];\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().fromArray( this.elements );\r\n\r\n\t}\r\n\r\n}\r\n\r\nMatrix3.prototype.isMatrix3 = true;\r\n\r\nlet _canvas;\r\n\r\nconst ImageUtils = {\r\n\r\n\tgetDataURL: function ( image ) {\r\n\r\n\t\tif ( /^data:/i.test( image.src ) ) {\r\n\r\n\t\t\treturn image.src;\r\n\r\n\t\t}\r\n\r\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\r\n\r\n\t\t\treturn image.src;\r\n\r\n\t\t}\r\n\r\n\t\tlet canvas;\r\n\r\n\t\tif ( image instanceof HTMLCanvasElement ) {\r\n\r\n\t\t\tcanvas = image;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\r\n\r\n\t\t\t_canvas.width = image.width;\r\n\t\t\t_canvas.height = image.height;\r\n\r\n\t\t\tconst context = _canvas.getContext( '2d' );\r\n\r\n\t\t\tif ( image instanceof ImageData ) {\r\n\r\n\t\t\t\tcontext.putImageData( image, 0, 0 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcanvas = _canvas;\r\n\r\n\t\t}\r\n\r\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image );\r\n\r\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn canvas.toDataURL( 'image/png' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nlet textureId = 0;\r\n\r\nclass Texture extends EventDispatcher {\r\n\r\n\tconstructor( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tObject.defineProperty( this, 'id', { value: textureId ++ } );\r\n\r\n\t\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\t\tthis.name = '';\r\n\r\n\t\tthis.image = image;\r\n\t\tthis.mipmaps = [];\r\n\r\n\t\tthis.mapping = mapping;\r\n\r\n\t\tthis.wrapS = wrapS;\r\n\t\tthis.wrapT = wrapT;\r\n\r\n\t\tthis.magFilter = magFilter;\r\n\t\tthis.minFilter = minFilter;\r\n\r\n\t\tthis.anisotropy = anisotropy;\r\n\r\n\t\tthis.format = format;\r\n\t\tthis.internalFormat = null;\r\n\t\tthis.type = type;\r\n\r\n\t\tthis.offset = new Vector2( 0, 0 );\r\n\t\tthis.repeat = new Vector2( 1, 1 );\r\n\t\tthis.center = new Vector2( 0, 0 );\r\n\t\tthis.rotation = 0;\r\n\r\n\t\tthis.matrixAutoUpdate = true;\r\n\t\tthis.matrix = new Matrix3();\r\n\r\n\t\tthis.generateMipmaps = true;\r\n\t\tthis.premultiplyAlpha = false;\r\n\t\tthis.flipY = true;\r\n\t\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\r\n\r\n\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\r\n\t\t//\r\n\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\r\n\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\r\n\t\tthis.encoding = encoding;\r\n\r\n\t\tthis.version = 0;\r\n\t\tthis.onUpdate = null;\r\n\r\n\t}\r\n\r\n\tupdateMatrix() {\r\n\r\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tthis.name = source.name;\r\n\r\n\t\tthis.image = source.image;\r\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\r\n\r\n\t\tthis.mapping = source.mapping;\r\n\r\n\t\tthis.wrapS = source.wrapS;\r\n\t\tthis.wrapT = source.wrapT;\r\n\r\n\t\tthis.magFilter = source.magFilter;\r\n\t\tthis.minFilter = source.minFilter;\r\n\r\n\t\tthis.anisotropy = source.anisotropy;\r\n\r\n\t\tthis.format = source.format;\r\n\t\tthis.internalFormat = source.internalFormat;\r\n\t\tthis.type = source.type;\r\n\r\n\t\tthis.offset.copy( source.offset );\r\n\t\tthis.repeat.copy( source.repeat );\r\n\t\tthis.center.copy( source.center );\r\n\t\tthis.rotation = source.rotation;\r\n\r\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\r\n\t\tthis.matrix.copy( source.matrix );\r\n\r\n\t\tthis.generateMipmaps = source.generateMipmaps;\r\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\r\n\t\tthis.flipY = source.flipY;\r\n\t\tthis.unpackAlignment = source.unpackAlignment;\r\n\t\tthis.encoding = source.encoding;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON( meta ) {\r\n\r\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\r\n\r\n\t\t\treturn meta.textures[ this.uuid ];\r\n\r\n\t\t}\r\n\r\n\t\tconst output = {\r\n\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.5,\r\n\t\t\t\ttype: 'Texture',\r\n\t\t\t\tgenerator: 'Texture.toJSON'\r\n\t\t\t},\r\n\r\n\t\t\tuuid: this.uuid,\r\n\t\t\tname: this.name,\r\n\r\n\t\t\tmapping: this.mapping,\r\n\r\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\r\n\t\t\toffset: [ this.offset.x, this.offset.y ],\r\n\t\t\tcenter: [ this.center.x, this.center.y ],\r\n\t\t\trotation: this.rotation,\r\n\r\n\t\t\twrap: [ this.wrapS, this.wrapT ],\r\n\r\n\t\t\tformat: this.format,\r\n\t\t\ttype: this.type,\r\n\t\t\tencoding: this.encoding,\r\n\r\n\t\t\tminFilter: this.minFilter,\r\n\t\t\tmagFilter: this.magFilter,\r\n\t\t\tanisotropy: this.anisotropy,\r\n\r\n\t\t\tflipY: this.flipY,\r\n\r\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\r\n\t\t\tunpackAlignment: this.unpackAlignment\r\n\r\n\t\t};\r\n\r\n\t\tif ( this.image !== undefined ) {\r\n\r\n\t\t\t// TODO: Move to THREE.Image\r\n\r\n\t\t\tconst image = this.image;\r\n\r\n\t\t\tif ( image.uuid === undefined ) {\r\n\r\n\t\t\t\timage.uuid = MathUtils.generateUUID(); // UGH\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\r\n\r\n\t\t\t\tlet url;\r\n\r\n\t\t\t\tif ( Array.isArray( image ) ) {\r\n\r\n\t\t\t\t\t// process array of images e.g. CubeTexture\r\n\r\n\t\t\t\t\turl = [];\r\n\r\n\t\t\t\t\tfor ( let i = 0, l = image.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\t// check cube texture with data textures\r\n\r\n\t\t\t\t\t\tif ( image[ i ].isDataTexture ) {\r\n\r\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ].image ) );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ] ) );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// process single image\r\n\r\n\t\t\t\t\turl = serializeImage( image );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmeta.images[ image.uuid ] = {\r\n\t\t\t\t\tuuid: image.uuid,\r\n\t\t\t\t\turl: url\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t\toutput.image = image.uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! isRootObject ) {\r\n\r\n\t\t\tmeta.textures[ this.uuid ] = output;\r\n\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\r\n\t}\r\n\r\n\tdispose() {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n\ttransformUv( uv ) {\r\n\r\n\t\tif ( this.mapping !== UVMapping ) return uv;\r\n\r\n\t\tuv.applyMatrix3( this.matrix );\r\n\r\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\r\n\r\n\t\t\tswitch ( this.wrapS ) {\r\n\r\n\t\t\t\tcase RepeatWrapping:\r\n\r\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase ClampToEdgeWrapping:\r\n\r\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase MirroredRepeatWrapping:\r\n\r\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\r\n\r\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\r\n\r\n\t\t\tswitch ( this.wrapT ) {\r\n\r\n\t\t\t\tcase RepeatWrapping:\r\n\r\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase ClampToEdgeWrapping:\r\n\r\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase MirroredRepeatWrapping:\r\n\r\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\r\n\r\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.flipY ) {\r\n\r\n\t\t\tuv.y = 1 - uv.y;\r\n\r\n\t\t}\r\n\r\n\t\treturn uv;\r\n\r\n\t}\r\n\r\n\tset needsUpdate( value ) {\r\n\r\n\t\tif ( value === true ) this.version ++;\r\n\r\n\t}\r\n\r\n}\r\n\r\nTexture.DEFAULT_IMAGE = undefined;\r\nTexture.DEFAULT_MAPPING = UVMapping;\r\n\r\nTexture.prototype.isTexture = true;\r\n\r\nfunction serializeImage( image ) {\r\n\r\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\r\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\r\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\r\n\r\n\t\t// default images\r\n\r\n\t\treturn ImageUtils.getDataURL( image );\r\n\r\n\t} else {\r\n\r\n\t\tif ( image.data ) {\r\n\r\n\t\t\t// images of DataTexture\r\n\r\n\t\t\treturn {\r\n\t\t\t\tdata: Array.prototype.slice.call( image.data ),\r\n\t\t\t\twidth: image.width,\r\n\t\t\t\theight: image.height,\r\n\t\t\t\ttype: image.data.constructor.name\r\n\t\t\t};\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\r\n\t\t\treturn {};\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Vector4 {\r\n\r\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.z = z;\r\n\t\tthis.w = w;\r\n\r\n\t}\r\n\r\n\tget width() {\r\n\r\n\t\treturn this.z;\r\n\r\n\t}\r\n\r\n\tset width( value ) {\r\n\r\n\t\tthis.z = value;\r\n\r\n\t}\r\n\r\n\tget height() {\r\n\r\n\t\treturn this.w;\r\n\r\n\t}\r\n\r\n\tset height( value ) {\r\n\r\n\t\tthis.w = value;\r\n\r\n\t}\r\n\r\n\tset( x, y, z, w ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.z = z;\r\n\t\tthis.w = w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetScalar( scalar ) {\r\n\r\n\t\tthis.x = scalar;\r\n\t\tthis.y = scalar;\r\n\t\tthis.z = scalar;\r\n\t\tthis.w = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetX( x ) {\r\n\r\n\t\tthis.x = x;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetY( y ) {\r\n\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetZ( z ) {\r\n\r\n\t\tthis.z = z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetW( w ) {\r\n\r\n\t\tthis.w = w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetComponent( index, value ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: this.x = value; break;\r\n\t\t\tcase 1: this.y = value; break;\r\n\t\t\tcase 2: this.z = value; break;\r\n\t\t\tcase 3: this.w = value; break;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetComponent( index ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: return this.x;\r\n\t\t\tcase 1: return this.y;\r\n\t\t\tcase 2: return this.z;\r\n\t\t\tcase 3: return this.w;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\r\n\r\n\t}\r\n\r\n\tcopy( v ) {\r\n\r\n\t\tthis.x = v.x;\r\n\t\tthis.y = v.y;\r\n\t\tthis.z = v.z;\r\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tadd( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\t\tthis.z += v.z;\r\n\t\tthis.w += v.w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddScalar( s ) {\r\n\r\n\t\tthis.x += s;\r\n\t\tthis.y += s;\r\n\t\tthis.z += s;\r\n\t\tthis.w += s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddVectors( a, b ) {\r\n\r\n\t\tthis.x = a.x + b.x;\r\n\t\tthis.y = a.y + b.y;\r\n\t\tthis.z = a.z + b.z;\r\n\t\tthis.w = a.w + b.w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddScaledVector( v, s ) {\r\n\r\n\t\tthis.x += v.x * s;\r\n\t\tthis.y += v.y * s;\r\n\t\tthis.z += v.z * s;\r\n\t\tthis.w += v.w * s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsub( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\t\tthis.z -= v.z;\r\n\t\tthis.w -= v.w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsubScalar( s ) {\r\n\r\n\t\tthis.x -= s;\r\n\t\tthis.y -= s;\r\n\t\tthis.z -= s;\r\n\t\tthis.w -= s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsubVectors( a, b ) {\r\n\r\n\t\tthis.x = a.x - b.x;\r\n\t\tthis.y = a.y - b.y;\r\n\t\tthis.z = a.z - b.z;\r\n\t\tthis.w = a.w - b.w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiply( v ) {\r\n\r\n\t\tthis.x *= v.x;\r\n\t\tthis.y *= v.y;\r\n\t\tthis.z *= v.z;\r\n\t\tthis.w *= v.w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiplyScalar( scalar ) {\r\n\r\n\t\tthis.x *= scalar;\r\n\t\tthis.y *= scalar;\r\n\t\tthis.z *= scalar;\r\n\t\tthis.w *= scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tapplyMatrix4( m ) {\r\n\r\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\r\n\t\tconst e = m.elements;\r\n\r\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\r\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\r\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\r\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdivideScalar( scalar ) {\r\n\r\n\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t}\r\n\r\n\tsetAxisAngleFromQuaternion( q ) {\r\n\r\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\r\n\r\n\t\t// q is assumed to be normalized\r\n\r\n\t\tthis.w = 2 * Math.acos( q.w );\r\n\r\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\r\n\r\n\t\tif ( s < 0.0001 ) {\r\n\r\n\t\t\tthis.x = 1;\r\n\t\t\tthis.y = 0;\r\n\t\t\tthis.z = 0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.x = q.x / s;\r\n\t\t\tthis.y = q.y / s;\r\n\t\t\tthis.z = q.z / s;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetAxisAngleFromRotationMatrix( m ) {\r\n\r\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\r\n\r\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\tlet angle, x, y, z; // variables for result\r\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\r\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\r\n\r\n\t\t\tte = m.elements,\r\n\r\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\r\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\r\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\r\n\r\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\r\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\r\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\r\n\r\n\t\t\t// singularity found\r\n\t\t\t// first check for identity matrix which must have +1 for all terms\r\n\t\t\t// in leading diagonal and zero in other terms\r\n\r\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\r\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\r\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\r\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\r\n\r\n\t\t\t\t// this singularity is identity matrix so angle = 0\r\n\r\n\t\t\t\tthis.set( 1, 0, 0, 0 );\r\n\r\n\t\t\t\treturn this; // zero angle, arbitrary axis\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// otherwise this singularity is angle = 180\r\n\r\n\t\t\tangle = Math.PI;\r\n\r\n\t\t\tconst xx = ( m11 + 1 ) / 2;\r\n\t\t\tconst yy = ( m22 + 1 ) / 2;\r\n\t\t\tconst zz = ( m33 + 1 ) / 2;\r\n\t\t\tconst xy = ( m12 + m21 ) / 4;\r\n\t\t\tconst xz = ( m13 + m31 ) / 4;\r\n\t\t\tconst yz = ( m23 + m32 ) / 4;\r\n\r\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\r\n\r\n\t\t\t\t// m11 is the largest diagonal term\r\n\r\n\t\t\t\tif ( xx < epsilon ) {\r\n\r\n\t\t\t\t\tx = 0;\r\n\t\t\t\t\ty = 0.707106781;\r\n\t\t\t\t\tz = 0.707106781;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tx = Math.sqrt( xx );\r\n\t\t\t\t\ty = xy / x;\r\n\t\t\t\t\tz = xz / x;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( yy > zz ) {\r\n\r\n\t\t\t\t// m22 is the largest diagonal term\r\n\r\n\t\t\t\tif ( yy < epsilon ) {\r\n\r\n\t\t\t\t\tx = 0.707106781;\r\n\t\t\t\t\ty = 0;\r\n\t\t\t\t\tz = 0.707106781;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ty = Math.sqrt( yy );\r\n\t\t\t\t\tx = xy / y;\r\n\t\t\t\t\tz = yz / y;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// m33 is the largest diagonal term so base result on this\r\n\r\n\t\t\t\tif ( zz < epsilon ) {\r\n\r\n\t\t\t\t\tx = 0.707106781;\r\n\t\t\t\t\ty = 0.707106781;\r\n\t\t\t\t\tz = 0;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tz = Math.sqrt( zz );\r\n\t\t\t\t\tx = xz / z;\r\n\t\t\t\t\ty = yz / z;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.set( x, y, z, angle );\r\n\r\n\t\t\treturn this; // return 180 deg rotation\r\n\r\n\t\t}\r\n\r\n\t\t// as we have reached here there are no singularities so we can handle normally\r\n\r\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\r\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\r\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\r\n\r\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\r\n\r\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\r\n\t\t// caught by singularity test above, but I've left it in just in case\r\n\r\n\t\tthis.x = ( m32 - m23 ) / s;\r\n\t\tthis.y = ( m13 - m31 ) / s;\r\n\t\tthis.z = ( m21 - m12 ) / s;\r\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmin( v ) {\r\n\r\n\t\tthis.x = Math.min( this.x, v.x );\r\n\t\tthis.y = Math.min( this.y, v.y );\r\n\t\tthis.z = Math.min( this.z, v.z );\r\n\t\tthis.w = Math.min( this.w, v.w );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmax( v ) {\r\n\r\n\t\tthis.x = Math.max( this.x, v.x );\r\n\t\tthis.y = Math.max( this.y, v.y );\r\n\t\tthis.z = Math.max( this.z, v.z );\r\n\t\tthis.w = Math.max( this.w, v.w );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclamp( min, max ) {\r\n\r\n\t\t// assumes min < max, componentwise\r\n\r\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\r\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclampScalar( minVal, maxVal ) {\r\n\r\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\r\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\r\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\r\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclampLength( min, max ) {\r\n\r\n\t\tconst length = this.length();\r\n\r\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\r\n\r\n\t}\r\n\r\n\tfloor() {\r\n\r\n\t\tthis.x = Math.floor( this.x );\r\n\t\tthis.y = Math.floor( this.y );\r\n\t\tthis.z = Math.floor( this.z );\r\n\t\tthis.w = Math.floor( this.w );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tceil() {\r\n\r\n\t\tthis.x = Math.ceil( this.x );\r\n\t\tthis.y = Math.ceil( this.y );\r\n\t\tthis.z = Math.ceil( this.z );\r\n\t\tthis.w = Math.ceil( this.w );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tround() {\r\n\r\n\t\tthis.x = Math.round( this.x );\r\n\t\tthis.y = Math.round( this.y );\r\n\t\tthis.z = Math.round( this.z );\r\n\t\tthis.w = Math.round( this.w );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\troundToZero() {\r\n\r\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\r\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tnegate() {\r\n\r\n\t\tthis.x = - this.x;\r\n\t\tthis.y = - this.y;\r\n\t\tthis.z = - this.z;\r\n\t\tthis.w = - this.w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdot( v ) {\r\n\r\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\r\n\r\n\t}\r\n\r\n\tlengthSq() {\r\n\r\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\r\n\r\n\t}\r\n\r\n\tlength() {\r\n\r\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\r\n\r\n\t}\r\n\r\n\tmanhattanLength() {\r\n\r\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\r\n\r\n\t}\r\n\r\n\tnormalize() {\r\n\r\n\t\treturn this.divideScalar( this.length() || 1 );\r\n\r\n\t}\r\n\r\n\tsetLength( length ) {\r\n\r\n\t\treturn this.normalize().multiplyScalar( length );\r\n\r\n\t}\r\n\r\n\tlerp( v, alpha ) {\r\n\r\n\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\t\tthis.z += ( v.z - this.z ) * alpha;\r\n\t\tthis.w += ( v.w - this.w ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tlerpVectors( v1, v2, alpha ) {\r\n\r\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\r\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\r\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\r\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tequals( v ) {\r\n\r\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\r\n\r\n\t}\r\n\r\n\tfromArray( array, offset = 0 ) {\r\n\r\n\t\tthis.x = array[ offset ];\r\n\t\tthis.y = array[ offset + 1 ];\r\n\t\tthis.z = array[ offset + 2 ];\r\n\t\tthis.w = array[ offset + 3 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoArray( array = [], offset = 0 ) {\r\n\r\n\t\tarray[ offset ] = this.x;\r\n\t\tarray[ offset + 1 ] = this.y;\r\n\t\tarray[ offset + 2 ] = this.z;\r\n\t\tarray[ offset + 3 ] = this.w;\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n\tfromBufferAttribute( attribute, index, offset ) {\r\n\r\n\t\tif ( offset !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x = attribute.getX( index );\r\n\t\tthis.y = attribute.getY( index );\r\n\t\tthis.z = attribute.getZ( index );\r\n\t\tthis.w = attribute.getW( index );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\trandom() {\r\n\r\n\t\tthis.x = Math.random();\r\n\t\tthis.y = Math.random();\r\n\t\tthis.z = Math.random();\r\n\t\tthis.w = Math.random();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nVector4.prototype.isVector4 = true;\r\n\r\n/*\r\n In options, we can specify:\r\n * Texture parameters for an auto-generated target texture\r\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\r\n*/\r\nclass WebGLRenderTarget extends EventDispatcher {\r\n\r\n\tconstructor( width, height, options ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.depth = 1;\r\n\r\n\t\tthis.scissor = new Vector4( 0, 0, width, height );\r\n\t\tthis.scissorTest = false;\r\n\r\n\t\tthis.viewport = new Vector4( 0, 0, width, height );\r\n\r\n\t\toptions = options || {};\r\n\r\n\t\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\r\n\r\n\t\tthis.texture.image = {};\r\n\t\tthis.texture.image.width = width;\r\n\t\tthis.texture.image.height = height;\r\n\t\tthis.texture.image.depth = 1;\r\n\r\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\r\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\r\n\r\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\r\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\r\n\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\r\n\r\n\t}\r\n\r\n\tsetTexture( texture ) {\r\n\r\n\t\ttexture.image = {\r\n\t\t\twidth: this.width,\r\n\t\t\theight: this.height,\r\n\t\t\tdepth: this.depth\r\n\t\t};\r\n\r\n\t\tthis.texture = texture;\r\n\r\n\t}\r\n\r\n\tsetSize( width, height, depth = 1 ) {\r\n\r\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\r\n\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.height = height;\r\n\t\t\tthis.depth = depth;\r\n\r\n\t\t\tthis.texture.image.width = width;\r\n\t\t\tthis.texture.image.height = height;\r\n\t\t\tthis.texture.image.depth = depth;\r\n\r\n\t\t\tthis.dispose();\r\n\r\n\t\t}\r\n\r\n\t\tthis.viewport.set( 0, 0, width, height );\r\n\t\tthis.scissor.set( 0, 0, width, height );\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tthis.width = source.width;\r\n\t\tthis.height = source.height;\r\n\t\tthis.depth = source.depth;\r\n\r\n\t\tthis.viewport.copy( source.viewport );\r\n\r\n\t\tthis.texture = source.texture.clone();\r\n\r\n\t\tthis.depthBuffer = source.depthBuffer;\r\n\t\tthis.stencilBuffer = source.stencilBuffer;\r\n\t\tthis.depthTexture = source.depthTexture;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdispose() {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n}\r\n\r\nWebGLRenderTarget.prototype.isWebGLRenderTarget = true;\r\n\r\nclass WebGLMultisampleRenderTarget extends WebGLRenderTarget {\r\n\r\n\tconstructor( width, height, options ) {\r\n\r\n\t\tsuper( width, height, options );\r\n\r\n\t\tthis.samples = 4;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy.call( this, source );\r\n\r\n\t\tthis.samples = source.samples;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nWebGLMultisampleRenderTarget.prototype.isWebGLMultisampleRenderTarget = true;\r\n\r\nclass Quaternion {\r\n\r\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\r\n\r\n\t\tthis._x = x;\r\n\t\tthis._y = y;\r\n\t\tthis._z = z;\r\n\t\tthis._w = w;\r\n\r\n\t}\r\n\r\n\tstatic slerp( qa, qb, qm, t ) {\r\n\r\n\t\tconsole.warn( 'THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.' );\r\n\t\treturn qm.slerpQuaternions( qa, qb, t );\r\n\r\n\t}\r\n\r\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\r\n\r\n\t\t// fuzz-free, array-based Quaternion SLERP operation\r\n\r\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\r\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\r\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\r\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\r\n\r\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\r\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\r\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\r\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\r\n\r\n\t\tif ( t === 0 ) {\r\n\r\n\t\t\tdst[ dstOffset + 0 ] = x0;\r\n\t\t\tdst[ dstOffset + 1 ] = y0;\r\n\t\t\tdst[ dstOffset + 2 ] = z0;\r\n\t\t\tdst[ dstOffset + 3 ] = w0;\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( t === 1 ) {\r\n\r\n\t\t\tdst[ dstOffset + 0 ] = x1;\r\n\t\t\tdst[ dstOffset + 1 ] = y1;\r\n\t\t\tdst[ dstOffset + 2 ] = z1;\r\n\t\t\tdst[ dstOffset + 3 ] = w1;\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\r\n\r\n\t\t\tlet s = 1 - t;\r\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\r\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\r\n\t\t\t\tsqrSin = 1 - cos * cos;\r\n\r\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\r\n\t\t\tif ( sqrSin > Number.EPSILON ) {\r\n\r\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\r\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\r\n\r\n\t\t\t\ts = Math.sin( s * len ) / sin;\r\n\t\t\t\tt = Math.sin( t * len ) / sin;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst tDir = t * dir;\r\n\r\n\t\t\tx0 = x0 * s + x1 * tDir;\r\n\t\t\ty0 = y0 * s + y1 * tDir;\r\n\t\t\tz0 = z0 * s + z1 * tDir;\r\n\t\t\tw0 = w0 * s + w1 * tDir;\r\n\r\n\t\t\t// Normalize in case we just did a lerp:\r\n\t\t\tif ( s === 1 - t ) {\r\n\r\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\r\n\r\n\t\t\t\tx0 *= f;\r\n\t\t\t\ty0 *= f;\r\n\t\t\t\tz0 *= f;\r\n\t\t\t\tw0 *= f;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tdst[ dstOffset ] = x0;\r\n\t\tdst[ dstOffset + 1 ] = y0;\r\n\t\tdst[ dstOffset + 2 ] = z0;\r\n\t\tdst[ dstOffset + 3 ] = w0;\r\n\r\n\t}\r\n\r\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\r\n\r\n\t\tconst x0 = src0[ srcOffset0 ];\r\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\r\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\r\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\r\n\r\n\t\tconst x1 = src1[ srcOffset1 ];\r\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\r\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\r\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\r\n\r\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\r\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\r\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\r\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\r\n\r\n\t\treturn dst;\r\n\r\n\t}\r\n\r\n\tget x() {\r\n\r\n\t\treturn this._x;\r\n\r\n\t}\r\n\r\n\tset x( value ) {\r\n\r\n\t\tthis._x = value;\r\n\t\tthis._onChangeCallback();\r\n\r\n\t}\r\n\r\n\tget y() {\r\n\r\n\t\treturn this._y;\r\n\r\n\t}\r\n\r\n\tset y( value ) {\r\n\r\n\t\tthis._y = value;\r\n\t\tthis._onChangeCallback();\r\n\r\n\t}\r\n\r\n\tget z() {\r\n\r\n\t\treturn this._z;\r\n\r\n\t}\r\n\r\n\tset z( value ) {\r\n\r\n\t\tthis._z = value;\r\n\t\tthis._onChangeCallback();\r\n\r\n\t}\r\n\r\n\tget w() {\r\n\r\n\t\treturn this._w;\r\n\r\n\t}\r\n\r\n\tset w( value ) {\r\n\r\n\t\tthis._w = value;\r\n\t\tthis._onChangeCallback();\r\n\r\n\t}\r\n\r\n\tset( x, y, z, w ) {\r\n\r\n\t\tthis._x = x;\r\n\t\tthis._y = y;\r\n\t\tthis._z = z;\r\n\t\tthis._w = w;\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\r\n\r\n\t}\r\n\r\n\tcopy( quaternion ) {\r\n\r\n\t\tthis._x = quaternion.x;\r\n\t\tthis._y = quaternion.y;\r\n\t\tthis._z = quaternion.z;\r\n\t\tthis._w = quaternion.w;\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromEuler( euler, update ) {\r\n\r\n\t\tif ( ! ( euler && euler.isEuler ) ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\r\n\r\n\t\t}\r\n\r\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\r\n\r\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\r\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\r\n\t\t//\tcontent/SpinCalc.m\r\n\r\n\t\tconst cos = Math.cos;\r\n\t\tconst sin = Math.sin;\r\n\r\n\t\tconst c1 = cos( x / 2 );\r\n\t\tconst c2 = cos( y / 2 );\r\n\t\tconst c3 = cos( z / 2 );\r\n\r\n\t\tconst s1 = sin( x / 2 );\r\n\t\tconst s2 = sin( y / 2 );\r\n\t\tconst s3 = sin( z / 2 );\r\n\r\n\t\tswitch ( order ) {\r\n\r\n\t\t\tcase 'XYZ':\r\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\r\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\r\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\r\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'YXZ':\r\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\r\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\r\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\r\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZXY':\r\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\r\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\r\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\r\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZYX':\r\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\r\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\r\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\r\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'YZX':\r\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\r\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\r\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\r\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'XZY':\r\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\r\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\r\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\r\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\r\n\r\n\t\t}\r\n\r\n\t\tif ( update !== false ) this._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromAxisAngle( axis, angle ) {\r\n\r\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\r\n\r\n\t\t// assumes axis is normalized\r\n\r\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\r\n\r\n\t\tthis._x = axis.x * s;\r\n\t\tthis._y = axis.y * s;\r\n\t\tthis._z = axis.z * s;\r\n\t\tthis._w = Math.cos( halfAngle );\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromRotationMatrix( m ) {\r\n\r\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\r\n\r\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\tconst te = m.elements,\r\n\r\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\r\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\r\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\r\n\r\n\t\t\ttrace = m11 + m22 + m33;\r\n\r\n\t\tif ( trace > 0 ) {\r\n\r\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\r\n\r\n\t\t\tthis._w = 0.25 / s;\r\n\t\t\tthis._x = ( m32 - m23 ) * s;\r\n\t\t\tthis._y = ( m13 - m31 ) * s;\r\n\t\t\tthis._z = ( m21 - m12 ) * s;\r\n\r\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\r\n\r\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\r\n\r\n\t\t\tthis._w = ( m32 - m23 ) / s;\r\n\t\t\tthis._x = 0.25 * s;\r\n\t\t\tthis._y = ( m12 + m21 ) / s;\r\n\t\t\tthis._z = ( m13 + m31 ) / s;\r\n\r\n\t\t} else if ( m22 > m33 ) {\r\n\r\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\r\n\r\n\t\t\tthis._w = ( m13 - m31 ) / s;\r\n\t\t\tthis._x = ( m12 + m21 ) / s;\r\n\t\t\tthis._y = 0.25 * s;\r\n\t\t\tthis._z = ( m23 + m32 ) / s;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\r\n\r\n\t\t\tthis._w = ( m21 - m12 ) / s;\r\n\t\t\tthis._x = ( m13 + m31 ) / s;\r\n\t\t\tthis._y = ( m23 + m32 ) / s;\r\n\t\t\tthis._z = 0.25 * s;\r\n\r\n\t\t}\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromUnitVectors( vFrom, vTo ) {\r\n\r\n\t\t// assumes direction vectors vFrom and vTo are normalized\r\n\r\n\t\tlet r = vFrom.dot( vTo ) + 1;\r\n\r\n\t\tif ( r < Number.EPSILON ) {\r\n\r\n\t\t\t// vFrom and vTo point in opposite directions\r\n\r\n\t\t\tr = 0;\r\n\r\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\r\n\r\n\t\t\t\tthis._x = - vFrom.y;\r\n\t\t\t\tthis._y = vFrom.x;\r\n\t\t\t\tthis._z = 0;\r\n\t\t\t\tthis._w = r;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._x = 0;\r\n\t\t\t\tthis._y = - vFrom.z;\r\n\t\t\t\tthis._z = vFrom.y;\r\n\t\t\t\tthis._w = r;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\r\n\r\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\r\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\r\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\r\n\t\t\tthis._w = r;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.normalize();\r\n\r\n\t}\r\n\r\n\tangleTo( q ) {\r\n\r\n\t\treturn 2 * Math.acos( Math.abs( MathUtils.clamp( this.dot( q ), - 1, 1 ) ) );\r\n\r\n\t}\r\n\r\n\trotateTowards( q, step ) {\r\n\r\n\t\tconst angle = this.angleTo( q );\r\n\r\n\t\tif ( angle === 0 ) return this;\r\n\r\n\t\tconst t = Math.min( 1, step / angle );\r\n\r\n\t\tthis.slerp( q, t );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tidentity() {\r\n\r\n\t\treturn this.set( 0, 0, 0, 1 );\r\n\r\n\t}\r\n\r\n\tinvert() {\r\n\r\n\t\t// quaternion is assumed to have unit length\r\n\r\n\t\treturn this.conjugate();\r\n\r\n\t}\r\n\r\n\tconjugate() {\r\n\r\n\t\tthis._x *= - 1;\r\n\t\tthis._y *= - 1;\r\n\t\tthis._z *= - 1;\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdot( v ) {\r\n\r\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\r\n\r\n\t}\r\n\r\n\tlengthSq() {\r\n\r\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\r\n\r\n\t}\r\n\r\n\tlength() {\r\n\r\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\r\n\r\n\t}\r\n\r\n\tnormalize() {\r\n\r\n\t\tlet l = this.length();\r\n\r\n\t\tif ( l === 0 ) {\r\n\r\n\t\t\tthis._x = 0;\r\n\t\t\tthis._y = 0;\r\n\t\t\tthis._z = 0;\r\n\t\t\tthis._w = 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tl = 1 / l;\r\n\r\n\t\t\tthis._x = this._x * l;\r\n\t\t\tthis._y = this._y * l;\r\n\t\t\tthis._z = this._z * l;\r\n\t\t\tthis._w = this._w * l;\r\n\r\n\t\t}\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiply( q, p ) {\r\n\r\n\t\tif ( p !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\r\n\t\t\treturn this.multiplyQuaternions( q, p );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.multiplyQuaternions( this, q );\r\n\r\n\t}\r\n\r\n\tpremultiply( q ) {\r\n\r\n\t\treturn this.multiplyQuaternions( q, this );\r\n\r\n\t}\r\n\r\n\tmultiplyQuaternions( a, b ) {\r\n\r\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\r\n\r\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\r\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\r\n\r\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\r\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\r\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\r\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tslerp( qb, t ) {\r\n\r\n\t\tif ( t === 0 ) return this;\r\n\t\tif ( t === 1 ) return this.copy( qb );\r\n\r\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\r\n\r\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\r\n\r\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\r\n\r\n\t\tif ( cosHalfTheta < 0 ) {\r\n\r\n\t\t\tthis._w = - qb._w;\r\n\t\t\tthis._x = - qb._x;\r\n\t\t\tthis._y = - qb._y;\r\n\t\t\tthis._z = - qb._z;\r\n\r\n\t\t\tcosHalfTheta = - cosHalfTheta;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.copy( qb );\r\n\r\n\t\t}\r\n\r\n\t\tif ( cosHalfTheta >= 1.0 ) {\r\n\r\n\t\t\tthis._w = w;\r\n\t\t\tthis._x = x;\r\n\t\t\tthis._y = y;\r\n\t\t\tthis._z = z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\r\n\r\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\r\n\r\n\t\t\tconst s = 1 - t;\r\n\t\t\tthis._w = s * w + t * this._w;\r\n\t\t\tthis._x = s * x + t * this._x;\r\n\t\t\tthis._y = s * y + t * this._y;\r\n\t\t\tthis._z = s * z + t * this._z;\r\n\r\n\t\t\tthis.normalize();\r\n\t\t\tthis._onChangeCallback();\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\r\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\r\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\r\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\r\n\r\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\r\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\r\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\r\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tslerpQuaternions( qa, qb, t ) {\r\n\r\n\t\tthis.copy( qa ).slerp( qb, t );\r\n\r\n\t}\r\n\r\n\tequals( quaternion ) {\r\n\r\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\r\n\r\n\t}\r\n\r\n\tfromArray( array, offset = 0 ) {\r\n\r\n\t\tthis._x = array[ offset ];\r\n\t\tthis._y = array[ offset + 1 ];\r\n\t\tthis._z = array[ offset + 2 ];\r\n\t\tthis._w = array[ offset + 3 ];\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoArray( array = [], offset = 0 ) {\r\n\r\n\t\tarray[ offset ] = this._x;\r\n\t\tarray[ offset + 1 ] = this._y;\r\n\t\tarray[ offset + 2 ] = this._z;\r\n\t\tarray[ offset + 3 ] = this._w;\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n\tfromBufferAttribute( attribute, index ) {\r\n\r\n\t\tthis._x = attribute.getX( index );\r\n\t\tthis._y = attribute.getY( index );\r\n\t\tthis._z = attribute.getZ( index );\r\n\t\tthis._w = attribute.getW( index );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t_onChange( callback ) {\r\n\r\n\t\tthis._onChangeCallback = callback;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t_onChangeCallback() {}\r\n\r\n}\r\n\r\nQuaternion.prototype.isQuaternion = true;\r\n\r\nclass Vector3 {\r\n\r\n\tconstructor( x = 0, y = 0, z = 0 ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.z = z;\r\n\r\n\t}\r\n\r\n\tset( x, y, z ) {\r\n\r\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.z = z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetScalar( scalar ) {\r\n\r\n\t\tthis.x = scalar;\r\n\t\tthis.y = scalar;\r\n\t\tthis.z = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetX( x ) {\r\n\r\n\t\tthis.x = x;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetY( y ) {\r\n\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetZ( z ) {\r\n\r\n\t\tthis.z = z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetComponent( index, value ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: this.x = value; break;\r\n\t\t\tcase 1: this.y = value; break;\r\n\t\t\tcase 2: this.z = value; break;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetComponent( index ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: return this.x;\r\n\t\t\tcase 1: return this.y;\r\n\t\t\tcase 2: return this.z;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor( this.x, this.y, this.z );\r\n\r\n\t}\r\n\r\n\tcopy( v ) {\r\n\r\n\t\tthis.x = v.x;\r\n\t\tthis.y = v.y;\r\n\t\tthis.z = v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tadd( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\t\tthis.z += v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddScalar( s ) {\r\n\r\n\t\tthis.x += s;\r\n\t\tthis.y += s;\r\n\t\tthis.z += s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddVectors( a, b ) {\r\n\r\n\t\tthis.x = a.x + b.x;\r\n\t\tthis.y = a.y + b.y;\r\n\t\tthis.z = a.z + b.z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddScaledVector( v, s ) {\r\n\r\n\t\tthis.x += v.x * s;\r\n\t\tthis.y += v.y * s;\r\n\t\tthis.z += v.z * s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsub( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\t\tthis.z -= v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsubScalar( s ) {\r\n\r\n\t\tthis.x -= s;\r\n\t\tthis.y -= s;\r\n\t\tthis.z -= s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsubVectors( a, b ) {\r\n\r\n\t\tthis.x = a.x - b.x;\r\n\t\tthis.y = a.y - b.y;\r\n\t\tthis.z = a.z - b.z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiply( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\r\n\t\t\treturn this.multiplyVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x *= v.x;\r\n\t\tthis.y *= v.y;\r\n\t\tthis.z *= v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiplyScalar( scalar ) {\r\n\r\n\t\tthis.x *= scalar;\r\n\t\tthis.y *= scalar;\r\n\t\tthis.z *= scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiplyVectors( a, b ) {\r\n\r\n\t\tthis.x = a.x * b.x;\r\n\t\tthis.y = a.y * b.y;\r\n\t\tthis.z = a.z * b.z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tapplyEuler( euler ) {\r\n\r\n\t\tif ( ! ( euler && euler.isEuler ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.applyQuaternion( _quaternion$4.setFromEuler( euler ) );\r\n\r\n\t}\r\n\r\n\tapplyAxisAngle( axis, angle ) {\r\n\r\n\t\treturn this.applyQuaternion( _quaternion$4.setFromAxisAngle( axis, angle ) );\r\n\r\n\t}\r\n\r\n\tapplyMatrix3( m ) {\r\n\r\n\t\tconst x = this.x, y = this.y, z = this.z;\r\n\t\tconst e = m.elements;\r\n\r\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\r\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\r\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tapplyNormalMatrix( m ) {\r\n\r\n\t\treturn this.applyMatrix3( m ).normalize();\r\n\r\n\t}\r\n\r\n\tapplyMatrix4( m ) {\r\n\r\n\t\tconst x = this.x, y = this.y, z = this.z;\r\n\t\tconst e = m.elements;\r\n\r\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\r\n\r\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\r\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\r\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tapplyQuaternion( q ) {\r\n\r\n\t\tconst x = this.x, y = this.y, z = this.z;\r\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\r\n\r\n\t\t// calculate quat * vector\r\n\r\n\t\tconst ix = qw * x + qy * z - qz * y;\r\n\t\tconst iy = qw * y + qz * x - qx * z;\r\n\t\tconst iz = qw * z + qx * y - qy * x;\r\n\t\tconst iw = - qx * x - qy * y - qz * z;\r\n\r\n\t\t// calculate result * inverse quat\r\n\r\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\r\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\r\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tproject( camera ) {\r\n\r\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\r\n\r\n\t}\r\n\r\n\tunproject( camera ) {\r\n\r\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\r\n\r\n\t}\r\n\r\n\ttransformDirection( m ) {\r\n\r\n\t\t// input: THREE.Matrix4 affine matrix\r\n\t\t// vector interpreted as a direction\r\n\r\n\t\tconst x = this.x, y = this.y, z = this.z;\r\n\t\tconst e = m.elements;\r\n\r\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\r\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\r\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\r\n\r\n\t\treturn this.normalize();\r\n\r\n\t}\r\n\r\n\tdivide( v ) {\r\n\r\n\t\tthis.x /= v.x;\r\n\t\tthis.y /= v.y;\r\n\t\tthis.z /= v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdivideScalar( scalar ) {\r\n\r\n\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t}\r\n\r\n\tmin( v ) {\r\n\r\n\t\tthis.x = Math.min( this.x, v.x );\r\n\t\tthis.y = Math.min( this.y, v.y );\r\n\t\tthis.z = Math.min( this.z, v.z );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmax( v ) {\r\n\r\n\t\tthis.x = Math.max( this.x, v.x );\r\n\t\tthis.y = Math.max( this.y, v.y );\r\n\t\tthis.z = Math.max( this.z, v.z );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclamp( min, max ) {\r\n\r\n\t\t// assumes min < max, componentwise\r\n\r\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclampScalar( minVal, maxVal ) {\r\n\r\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\r\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\r\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclampLength( min, max ) {\r\n\r\n\t\tconst length = this.length();\r\n\r\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\r\n\r\n\t}\r\n\r\n\tfloor() {\r\n\r\n\t\tthis.x = Math.floor( this.x );\r\n\t\tthis.y = Math.floor( this.y );\r\n\t\tthis.z = Math.floor( this.z );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tceil() {\r\n\r\n\t\tthis.x = Math.ceil( this.x );\r\n\t\tthis.y = Math.ceil( this.y );\r\n\t\tthis.z = Math.ceil( this.z );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tround() {\r\n\r\n\t\tthis.x = Math.round( this.x );\r\n\t\tthis.y = Math.round( this.y );\r\n\t\tthis.z = Math.round( this.z );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\troundToZero() {\r\n\r\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tnegate() {\r\n\r\n\t\tthis.x = - this.x;\r\n\t\tthis.y = - this.y;\r\n\t\tthis.z = - this.z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdot( v ) {\r\n\r\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\r\n\r\n\t}\r\n\r\n\t// TODO lengthSquared?\r\n\r\n\tlengthSq() {\r\n\r\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\r\n\r\n\t}\r\n\r\n\tlength() {\r\n\r\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\r\n\r\n\t}\r\n\r\n\tmanhattanLength() {\r\n\r\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\r\n\r\n\t}\r\n\r\n\tnormalize() {\r\n\r\n\t\treturn this.divideScalar( this.length() || 1 );\r\n\r\n\t}\r\n\r\n\tsetLength( length ) {\r\n\r\n\t\treturn this.normalize().multiplyScalar( length );\r\n\r\n\t}\r\n\r\n\tlerp( v, alpha ) {\r\n\r\n\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\t\tthis.z += ( v.z - this.z ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tlerpVectors( v1, v2, alpha ) {\r\n\r\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\r\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\r\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcross( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\r\n\t\t\treturn this.crossVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.crossVectors( this, v );\r\n\r\n\t}\r\n\r\n\tcrossVectors( a, b ) {\r\n\r\n\t\tconst ax = a.x, ay = a.y, az = a.z;\r\n\t\tconst bx = b.x, by = b.y, bz = b.z;\r\n\r\n\t\tthis.x = ay * bz - az * by;\r\n\t\tthis.y = az * bx - ax * bz;\r\n\t\tthis.z = ax * by - ay * bx;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tprojectOnVector( v ) {\r\n\r\n\t\tconst denominator = v.lengthSq();\r\n\r\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\r\n\r\n\t\tconst scalar = v.dot( this ) / denominator;\r\n\r\n\t\treturn this.copy( v ).multiplyScalar( scalar );\r\n\r\n\t}\r\n\r\n\tprojectOnPlane( planeNormal ) {\r\n\r\n\t\t_vector$c.copy( this ).projectOnVector( planeNormal );\r\n\r\n\t\treturn this.sub( _vector$c );\r\n\r\n\t}\r\n\r\n\treflect( normal ) {\r\n\r\n\t\t// reflect incident vector off plane orthogonal to normal\r\n\t\t// normal is assumed to have unit length\r\n\r\n\t\treturn this.sub( _vector$c.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\r\n\r\n\t}\r\n\r\n\tangleTo( v ) {\r\n\r\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\r\n\r\n\t\tif ( denominator === 0 ) return Math.PI / 2;\r\n\r\n\t\tconst theta = this.dot( v ) / denominator;\r\n\r\n\t\t// clamp, to handle numerical problems\r\n\r\n\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\r\n\r\n\t}\r\n\r\n\tdistanceTo( v ) {\r\n\r\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\r\n\r\n\t}\r\n\r\n\tdistanceToSquared( v ) {\r\n\r\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\r\n\r\n\t\treturn dx * dx + dy * dy + dz * dz;\r\n\r\n\t}\r\n\r\n\tmanhattanDistanceTo( v ) {\r\n\r\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\r\n\r\n\t}\r\n\r\n\tsetFromSpherical( s ) {\r\n\r\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\r\n\r\n\t}\r\n\r\n\tsetFromSphericalCoords( radius, phi, theta ) {\r\n\r\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\r\n\r\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\r\n\t\tthis.y = Math.cos( phi ) * radius;\r\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromCylindrical( c ) {\r\n\r\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\r\n\r\n\t}\r\n\r\n\tsetFromCylindricalCoords( radius, theta, y ) {\r\n\r\n\t\tthis.x = radius * Math.sin( theta );\r\n\t\tthis.y = y;\r\n\t\tthis.z = radius * Math.cos( theta );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromMatrixPosition( m ) {\r\n\r\n\t\tconst e = m.elements;\r\n\r\n\t\tthis.x = e[ 12 ];\r\n\t\tthis.y = e[ 13 ];\r\n\t\tthis.z = e[ 14 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromMatrixScale( m ) {\r\n\r\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\r\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\r\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\r\n\r\n\t\tthis.x = sx;\r\n\t\tthis.y = sy;\r\n\t\tthis.z = sz;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromMatrixColumn( m, index ) {\r\n\r\n\t\treturn this.fromArray( m.elements, index * 4 );\r\n\r\n\t}\r\n\r\n\tsetFromMatrix3Column( m, index ) {\r\n\r\n\t\treturn this.fromArray( m.elements, index * 3 );\r\n\r\n\t}\r\n\r\n\tequals( v ) {\r\n\r\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\r\n\r\n\t}\r\n\r\n\tfromArray( array, offset = 0 ) {\r\n\r\n\t\tthis.x = array[ offset ];\r\n\t\tthis.y = array[ offset + 1 ];\r\n\t\tthis.z = array[ offset + 2 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoArray( array = [], offset = 0 ) {\r\n\r\n\t\tarray[ offset ] = this.x;\r\n\t\tarray[ offset + 1 ] = this.y;\r\n\t\tarray[ offset + 2 ] = this.z;\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n\tfromBufferAttribute( attribute, index, offset ) {\r\n\r\n\t\tif ( offset !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x = attribute.getX( index );\r\n\t\tthis.y = attribute.getY( index );\r\n\t\tthis.z = attribute.getZ( index );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\trandom() {\r\n\r\n\t\tthis.x = Math.random();\r\n\t\tthis.y = Math.random();\r\n\t\tthis.z = Math.random();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nVector3.prototype.isVector3 = true;\r\n\r\nconst _vector$c = /*@__PURE__*/ new Vector3();\r\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\r\n\r\nclass Box3 {\r\n\r\n\tconstructor( min = new Vector3( + Infinity, + Infinity, + Infinity ), max = new Vector3( - Infinity, - Infinity, - Infinity ) ) {\r\n\r\n\t\tthis.min = min;\r\n\t\tthis.max = max;\r\n\r\n\t}\r\n\r\n\tset( min, max ) {\r\n\r\n\t\tthis.min.copy( min );\r\n\t\tthis.max.copy( max );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromArray( array ) {\r\n\r\n\t\tlet minX = + Infinity;\r\n\t\tlet minY = + Infinity;\r\n\t\tlet minZ = + Infinity;\r\n\r\n\t\tlet maxX = - Infinity;\r\n\t\tlet maxY = - Infinity;\r\n\t\tlet maxZ = - Infinity;\r\n\r\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\r\n\r\n\t\t\tconst x = array[ i ];\r\n\t\t\tconst y = array[ i + 1 ];\r\n\t\t\tconst z = array[ i + 2 ];\r\n\r\n\t\t\tif ( x < minX ) minX = x;\r\n\t\t\tif ( y < minY ) minY = y;\r\n\t\t\tif ( z < minZ ) minZ = z;\r\n\r\n\t\t\tif ( x > maxX ) maxX = x;\r\n\t\t\tif ( y > maxY ) maxY = y;\r\n\t\t\tif ( z > maxZ ) maxZ = z;\r\n\r\n\t\t}\r\n\r\n\t\tthis.min.set( minX, minY, minZ );\r\n\t\tthis.max.set( maxX, maxY, maxZ );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromBufferAttribute( attribute ) {\r\n\r\n\t\tlet minX = + Infinity;\r\n\t\tlet minY = + Infinity;\r\n\t\tlet minZ = + Infinity;\r\n\r\n\t\tlet maxX = - Infinity;\r\n\t\tlet maxY = - Infinity;\r\n\t\tlet maxZ = - Infinity;\r\n\r\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\r\n\r\n\t\t\tconst x = attribute.getX( i );\r\n\t\t\tconst y = attribute.getY( i );\r\n\t\t\tconst z = attribute.getZ( i );\r\n\r\n\t\t\tif ( x < minX ) minX = x;\r\n\t\t\tif ( y < minY ) minY = y;\r\n\t\t\tif ( z < minZ ) minZ = z;\r\n\r\n\t\t\tif ( x > maxX ) maxX = x;\r\n\t\t\tif ( y > maxY ) maxY = y;\r\n\t\t\tif ( z > maxZ ) maxZ = z;\r\n\r\n\t\t}\r\n\r\n\t\tthis.min.set( minX, minY, minZ );\r\n\t\tthis.max.set( maxX, maxY, maxZ );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromPoints( points ) {\r\n\r\n\t\tthis.makeEmpty();\r\n\r\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.expandByPoint( points[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromCenterAndSize( center, size ) {\r\n\r\n\t\tconst halfSize = _vector$b.copy( size ).multiplyScalar( 0.5 );\r\n\r\n\t\tthis.min.copy( center ).sub( halfSize );\r\n\t\tthis.max.copy( center ).add( halfSize );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromObject( object ) {\r\n\r\n\t\tthis.makeEmpty();\r\n\r\n\t\treturn this.expandByObject( object );\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n\tcopy( box ) {\r\n\r\n\t\tthis.min.copy( box.min );\r\n\t\tthis.max.copy( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakeEmpty() {\r\n\r\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\r\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tisEmpty() {\r\n\r\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\r\n\r\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\r\n\r\n\t}\r\n\r\n\tgetCenter( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\r\n\r\n\t}\r\n\r\n\tgetSize( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\r\n\r\n\t}\r\n\r\n\texpandByPoint( point ) {\r\n\r\n\t\tthis.min.min( point );\r\n\t\tthis.max.max( point );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\texpandByVector( vector ) {\r\n\r\n\t\tthis.min.sub( vector );\r\n\t\tthis.max.add( vector );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\texpandByScalar( scalar ) {\r\n\r\n\t\tthis.min.addScalar( - scalar );\r\n\t\tthis.max.addScalar( scalar );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\texpandByObject( object ) {\r\n\r\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\r\n\t\t// accounting for both the object's, and children's, world transforms\r\n\r\n\t\tobject.updateWorldMatrix( false, false );\r\n\r\n\t\tconst geometry = object.geometry;\r\n\r\n\t\tif ( geometry !== undefined ) {\r\n\r\n\t\t\tif ( geometry.boundingBox === null ) {\r\n\r\n\t\t\t\tgeometry.computeBoundingBox();\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_box$3.copy( geometry.boundingBox );\r\n\t\t\t_box$3.applyMatrix4( object.matrixWorld );\r\n\r\n\t\t\tthis.union( _box$3 );\r\n\r\n\t\t}\r\n\r\n\t\tconst children = object.children;\r\n\r\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tthis.expandByObject( children[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcontainsPoint( point ) {\r\n\r\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\r\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\r\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\r\n\r\n\t}\r\n\r\n\tcontainsBox( box ) {\r\n\r\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\r\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\r\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\r\n\r\n\t}\r\n\r\n\tgetParameter( point, target ) {\r\n\r\n\t\t// This can potentially have a divide by zero if the box\r\n\t\t// has a size dimension of 0.\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.set(\r\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\r\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\r\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tintersectsBox( box ) {\r\n\r\n\t\t// using 6 splitting planes to rule out intersections.\r\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\r\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\r\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\r\n\r\n\t}\r\n\r\n\tintersectsSphere( sphere ) {\r\n\r\n\t\t// Find the point on the AABB closest to the sphere center.\r\n\t\tthis.clampPoint( sphere.center, _vector$b );\r\n\r\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\r\n\t\treturn _vector$b.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\r\n\r\n\t}\r\n\r\n\tintersectsPlane( plane ) {\r\n\r\n\t\t// We compute the minimum and maximum dot product values. If those values\r\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\r\n\r\n\t\tlet min, max;\r\n\r\n\t\tif ( plane.normal.x > 0 ) {\r\n\r\n\t\t\tmin = plane.normal.x * this.min.x;\r\n\t\t\tmax = plane.normal.x * this.max.x;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmin = plane.normal.x * this.max.x;\r\n\t\t\tmax = plane.normal.x * this.min.x;\r\n\r\n\t\t}\r\n\r\n\t\tif ( plane.normal.y > 0 ) {\r\n\r\n\t\t\tmin += plane.normal.y * this.min.y;\r\n\t\t\tmax += plane.normal.y * this.max.y;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmin += plane.normal.y * this.max.y;\r\n\t\t\tmax += plane.normal.y * this.min.y;\r\n\r\n\t\t}\r\n\r\n\t\tif ( plane.normal.z > 0 ) {\r\n\r\n\t\t\tmin += plane.normal.z * this.min.z;\r\n\t\t\tmax += plane.normal.z * this.max.z;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmin += plane.normal.z * this.max.z;\r\n\t\t\tmax += plane.normal.z * this.min.z;\r\n\r\n\t\t}\r\n\r\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\r\n\r\n\t}\r\n\r\n\tintersectsTriangle( triangle ) {\r\n\r\n\t\tif ( this.isEmpty() ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\t// compute box center and extents\r\n\t\tthis.getCenter( _center );\r\n\t\t_extents.subVectors( this.max, _center );\r\n\r\n\t\t// translate triangle to aabb origin\r\n\t\t_v0$2.subVectors( triangle.a, _center );\r\n\t\t_v1$7.subVectors( triangle.b, _center );\r\n\t\t_v2$3.subVectors( triangle.c, _center );\r\n\r\n\t\t// compute edge vectors for triangle\r\n\t\t_f0.subVectors( _v1$7, _v0$2 );\r\n\t\t_f1.subVectors( _v2$3, _v1$7 );\r\n\t\t_f2.subVectors( _v0$2, _v2$3 );\r\n\r\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\r\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\r\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\r\n\t\tlet axes = [\r\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\r\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\r\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\r\n\t\t];\r\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\t// test 3 face normals from the aabb\r\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\r\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\t// finally testing the face normal of the triangle\r\n\t\t// use already existing triangle edge vectors here\r\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\r\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\r\n\r\n\t\treturn satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents );\r\n\r\n\t}\r\n\r\n\tclampPoint( point, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( point ).clamp( this.min, this.max );\r\n\r\n\t}\r\n\r\n\tdistanceToPoint( point ) {\r\n\r\n\t\tconst clampedPoint = _vector$b.copy( point ).clamp( this.min, this.max );\r\n\r\n\t\treturn clampedPoint.sub( point ).length();\r\n\r\n\t}\r\n\r\n\tgetBoundingSphere( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\r\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\r\n\r\n\t\t}\r\n\r\n\t\tthis.getCenter( target.center );\r\n\r\n\t\ttarget.radius = this.getSize( _vector$b ).length() * 0.5;\r\n\r\n\t\treturn target;\r\n\r\n\t}\r\n\r\n\tintersect( box ) {\r\n\r\n\t\tthis.min.max( box.min );\r\n\t\tthis.max.min( box.max );\r\n\r\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\r\n\t\tif ( this.isEmpty() ) this.makeEmpty();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tunion( box ) {\r\n\r\n\t\tthis.min.min( box.min );\r\n\t\tthis.max.max( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tapplyMatrix4( matrix ) {\r\n\r\n\t\t// transform of empty box is an empty box.\r\n\t\tif ( this.isEmpty() ) return this;\r\n\r\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\r\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\r\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\r\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\r\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\r\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\r\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\r\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\r\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\r\n\r\n\t\tthis.setFromPoints( _points );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttranslate( offset ) {\r\n\r\n\t\tthis.min.add( offset );\r\n\t\tthis.max.add( offset );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tequals( box ) {\r\n\r\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\r\n\r\n\t}\r\n\r\n}\r\n\r\nBox3.prototype.isBox3 = true;\r\n\r\nconst _points = [\r\n\t/*@__PURE__*/ new Vector3(),\r\n\t/*@__PURE__*/ new Vector3(),\r\n\t/*@__PURE__*/ new Vector3(),\r\n\t/*@__PURE__*/ new Vector3(),\r\n\t/*@__PURE__*/ new Vector3(),\r\n\t/*@__PURE__*/ new Vector3(),\r\n\t/*@__PURE__*/ new Vector3(),\r\n\t/*@__PURE__*/ new Vector3()\r\n];\r\n\r\nconst _vector$b = /*@__PURE__*/ new Vector3();\r\n\r\nconst _box$3 = /*@__PURE__*/ new Box3();\r\n\r\n// triangle centered vertices\r\n\r\nconst _v0$2 = /*@__PURE__*/ new Vector3();\r\nconst _v1$7 = /*@__PURE__*/ new Vector3();\r\nconst _v2$3 = /*@__PURE__*/ new Vector3();\r\n\r\n// triangle edge vectors\r\n\r\nconst _f0 = /*@__PURE__*/ new Vector3();\r\nconst _f1 = /*@__PURE__*/ new Vector3();\r\nconst _f2 = /*@__PURE__*/ new Vector3();\r\n\r\nconst _center = /*@__PURE__*/ new Vector3();\r\nconst _extents = /*@__PURE__*/ new Vector3();\r\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\r\nconst _testAxis = /*@__PURE__*/ new Vector3();\r\n\r\nfunction satForAxes( axes, v0, v1, v2, extents ) {\r\n\r\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\r\n\r\n\t\t_testAxis.fromArray( axes, i );\r\n\t\t// project the aabb onto the seperating axis\r\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\r\n\t\t// project all 3 vertices of the triangle onto the seperating axis\r\n\t\tconst p0 = v0.dot( _testAxis );\r\n\t\tconst p1 = v1.dot( _testAxis );\r\n\t\tconst p2 = v2.dot( _testAxis );\r\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\r\n\r\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\r\n\t\t\t// the axis is seperating and we can exit\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n}\r\n\r\nconst _box$2 = /*@__PURE__*/ new Box3();\r\nconst _v1$6 = /*@__PURE__*/ new Vector3();\r\nconst _toFarthestPoint = /*@__PURE__*/ new Vector3();\r\nconst _toPoint = /*@__PURE__*/ new Vector3();\r\n\r\nclass Sphere {\r\n\r\n\tconstructor( center = new Vector3(), radius = - 1 ) {\r\n\r\n\t\tthis.center = center;\r\n\t\tthis.radius = radius;\r\n\r\n\t}\r\n\r\n\tset( center, radius ) {\r\n\r\n\t\tthis.center.copy( center );\r\n\t\tthis.radius = radius;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromPoints( points, optionalCenter ) {\r\n\r\n\t\tconst center = this.center;\r\n\r\n\t\tif ( optionalCenter !== undefined ) {\r\n\r\n\t\t\tcenter.copy( optionalCenter );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_box$2.setFromPoints( points ).getCenter( center );\r\n\r\n\t\t}\r\n\r\n\t\tlet maxRadiusSq = 0;\r\n\r\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\r\n\r\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\r\n\r\n\t\t}\r\n\r\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopy( sphere ) {\r\n\r\n\t\tthis.center.copy( sphere.center );\r\n\t\tthis.radius = sphere.radius;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tisEmpty() {\r\n\r\n\t\treturn ( this.radius < 0 );\r\n\r\n\t}\r\n\r\n\tmakeEmpty() {\r\n\r\n\t\tthis.center.set( 0, 0, 0 );\r\n\t\tthis.radius = - 1;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcontainsPoint( point ) {\r\n\r\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\r\n\r\n\t}\r\n\r\n\tdistanceToPoint( point ) {\r\n\r\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\r\n\r\n\t}\r\n\r\n\tintersectsSphere( sphere ) {\r\n\r\n\t\tconst radiusSum = this.radius + sphere.radius;\r\n\r\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\r\n\r\n\t}\r\n\r\n\tintersectsBox( box ) {\r\n\r\n\t\treturn box.intersectsSphere( this );\r\n\r\n\t}\r\n\r\n\tintersectsPlane( plane ) {\r\n\r\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\r\n\r\n\t}\r\n\r\n\tclampPoint( point, target ) {\r\n\r\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\ttarget.copy( point );\r\n\r\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\r\n\r\n\t\t\ttarget.sub( this.center ).normalize();\r\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\r\n\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\r\n\t}\r\n\r\n\tgetBoundingBox( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\r\n\t\t\ttarget = new Box3();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.isEmpty() ) {\r\n\r\n\t\t\t// Empty sphere produces empty bounding box\r\n\t\t\ttarget.makeEmpty();\r\n\t\t\treturn target;\r\n\r\n\t\t}\r\n\r\n\t\ttarget.set( this.center, this.center );\r\n\t\ttarget.expandByScalar( this.radius );\r\n\r\n\t\treturn target;\r\n\r\n\t}\r\n\r\n\tapplyMatrix4( matrix ) {\r\n\r\n\t\tthis.center.applyMatrix4( matrix );\r\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttranslate( offset ) {\r\n\r\n\t\tthis.center.add( offset );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\texpandByPoint( point ) {\r\n\r\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671\r\n\r\n\t\t_toPoint.subVectors( point, this.center );\r\n\r\n\t\tconst lengthSq = _toPoint.lengthSq();\r\n\r\n\t\tif ( lengthSq > ( this.radius * this.radius ) ) {\r\n\r\n\t\t\tconst length = Math.sqrt( lengthSq );\r\n\t\t\tconst missingRadiusHalf = ( length - this.radius ) * 0.5;\r\n\r\n\t\t\t// Nudge this sphere towards the target point. Add half the missing distance to radius,\r\n\t\t\t// and the other half to position. This gives a tighter enclosure, instead of if\r\n\t\t\t// the whole missing distance were just added to radius.\r\n\r\n\t\t\tthis.center.add( _toPoint.multiplyScalar( missingRadiusHalf / length ) );\r\n\t\t\tthis.radius += missingRadiusHalf;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tunion( sphere ) {\r\n\r\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769\r\n\r\n\t\t// To enclose another sphere into this sphere, we only need to enclose two points:\r\n\t\t// 1) Enclose the farthest point on the other sphere into this sphere.\r\n\t\t// 2) Enclose the opposite point of the farthest point into this sphere.\r\n\r\n\t\t_toFarthestPoint.subVectors( sphere.center, this.center ).normalize().multiplyScalar( sphere.radius );\r\n\r\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).add( _toFarthestPoint ) );\r\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).sub( _toFarthestPoint ) );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tequals( sphere ) {\r\n\r\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _vector$a = /*@__PURE__*/ new Vector3();\r\nconst _segCenter = /*@__PURE__*/ new Vector3();\r\nconst _segDir = /*@__PURE__*/ new Vector3();\r\nconst _diff = /*@__PURE__*/ new Vector3();\r\n\r\nconst _edge1 = /*@__PURE__*/ new Vector3();\r\nconst _edge2 = /*@__PURE__*/ new Vector3();\r\nconst _normal$1 = /*@__PURE__*/ new Vector3();\r\n\r\nclass Ray {\r\n\r\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\r\n\r\n\t\tthis.origin = origin;\r\n\t\tthis.direction = direction;\r\n\r\n\t}\r\n\r\n\tset( origin, direction ) {\r\n\r\n\t\tthis.origin.copy( origin );\r\n\t\tthis.direction.copy( direction );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopy( ray ) {\r\n\r\n\t\tthis.origin.copy( ray.origin );\r\n\t\tthis.direction.copy( ray.direction );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tat( t, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\r\n\r\n\t}\r\n\r\n\tlookAt( v ) {\r\n\r\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\trecast( t ) {\r\n\r\n\t\tthis.origin.copy( this.at( t, _vector$a ) );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclosestPointToPoint( point, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\ttarget.subVectors( point, this.origin );\r\n\r\n\t\tconst directionDistance = target.dot( this.direction );\r\n\r\n\t\tif ( directionDistance < 0 ) {\r\n\r\n\t\t\treturn target.copy( this.origin );\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\r\n\r\n\t}\r\n\r\n\tdistanceToPoint( point ) {\r\n\r\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\r\n\r\n\t}\r\n\r\n\tdistanceSqToPoint( point ) {\r\n\r\n\t\tconst directionDistance = _vector$a.subVectors( point, this.origin ).dot( this.direction );\r\n\r\n\t\t// point behind the ray\r\n\r\n\t\tif ( directionDistance < 0 ) {\r\n\r\n\t\t\treturn this.origin.distanceToSquared( point );\r\n\r\n\t\t}\r\n\r\n\t\t_vector$a.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\r\n\r\n\t\treturn _vector$a.distanceToSquared( point );\r\n\r\n\t}\r\n\r\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\r\n\r\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\r\n\t\t// It returns the min distance between the ray and the segment\r\n\t\t// defined by v0 and v1\r\n\t\t// It can also set two optional targets :\r\n\t\t// - The closest point on the ray\r\n\t\t// - The closest point on the segment\r\n\r\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\r\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\r\n\t\t_diff.copy( this.origin ).sub( _segCenter );\r\n\r\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\r\n\t\tconst a01 = - this.direction.dot( _segDir );\r\n\t\tconst b0 = _diff.dot( this.direction );\r\n\t\tconst b1 = - _diff.dot( _segDir );\r\n\t\tconst c = _diff.lengthSq();\r\n\t\tconst det = Math.abs( 1 - a01 * a01 );\r\n\t\tlet s0, s1, sqrDist, extDet;\r\n\r\n\t\tif ( det > 0 ) {\r\n\r\n\t\t\t// The ray and segment are not parallel.\r\n\r\n\t\t\ts0 = a01 * b1 - b0;\r\n\t\t\ts1 = a01 * b0 - b1;\r\n\t\t\textDet = segExtent * det;\r\n\r\n\t\t\tif ( s0 >= 0 ) {\r\n\r\n\t\t\t\tif ( s1 >= - extDet ) {\r\n\r\n\t\t\t\t\tif ( s1 <= extDet ) {\r\n\r\n\t\t\t\t\t\t// region 0\r\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\r\n\r\n\t\t\t\t\t\tconst invDet = 1 / det;\r\n\t\t\t\t\t\ts0 *= invDet;\r\n\t\t\t\t\t\ts1 *= invDet;\r\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// region 1\r\n\r\n\t\t\t\t\t\ts1 = segExtent;\r\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\r\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// region 5\r\n\r\n\t\t\t\t\ts1 = - segExtent;\r\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\r\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( s1 <= - extDet ) {\r\n\r\n\t\t\t\t\t// region 4\r\n\r\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\r\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\r\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t} else if ( s1 <= extDet ) {\r\n\r\n\t\t\t\t\t// region 3\r\n\r\n\t\t\t\t\ts0 = 0;\r\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\r\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// region 2\r\n\r\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\r\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\r\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Ray and segment are parallel.\r\n\r\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\r\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\r\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t}\r\n\r\n\t\tif ( optionalPointOnRay ) {\r\n\r\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\r\n\r\n\t\t}\r\n\r\n\t\tif ( optionalPointOnSegment ) {\r\n\r\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\r\n\r\n\t\t}\r\n\r\n\t\treturn sqrDist;\r\n\r\n\t}\r\n\r\n\tintersectSphere( sphere, target ) {\r\n\r\n\t\t_vector$a.subVectors( sphere.center, this.origin );\r\n\t\tconst tca = _vector$a.dot( this.direction );\r\n\t\tconst d2 = _vector$a.dot( _vector$a ) - tca * tca;\r\n\t\tconst radius2 = sphere.radius * sphere.radius;\r\n\r\n\t\tif ( d2 > radius2 ) return null;\r\n\r\n\t\tconst thc = Math.sqrt( radius2 - d2 );\r\n\r\n\t\t// t0 = first intersect point - entrance on front of sphere\r\n\t\tconst t0 = tca - thc;\r\n\r\n\t\t// t1 = second intersect point - exit point on back of sphere\r\n\t\tconst t1 = tca + thc;\r\n\r\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\r\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\r\n\r\n\t\t// test to see if t0 is behind the ray:\r\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\r\n\t\t// in order to always return an intersect point that is in front of the ray.\r\n\t\tif ( t0 < 0 ) return this.at( t1, target );\r\n\r\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\r\n\t\treturn this.at( t0, target );\r\n\r\n\t}\r\n\r\n\tintersectsSphere( sphere ) {\r\n\r\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\r\n\r\n\t}\r\n\r\n\tdistanceToPlane( plane ) {\r\n\r\n\t\tconst denominator = plane.normal.dot( this.direction );\r\n\r\n\t\tif ( denominator === 0 ) {\r\n\r\n\t\t\t// line is coplanar, return origin\r\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\r\n\r\n\t\t\t\treturn 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\r\n\r\n\t\t// Return if the ray never intersects the plane\r\n\r\n\t\treturn t >= 0 ? t : null;\r\n\r\n\t}\r\n\r\n\tintersectPlane( plane, target ) {\r\n\r\n\t\tconst t = this.distanceToPlane( plane );\r\n\r\n\t\tif ( t === null ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.at( t, target );\r\n\r\n\t}\r\n\r\n\tintersectsPlane( plane ) {\r\n\r\n\t\t// check if the ray lies on the plane first\r\n\r\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\r\n\r\n\t\tif ( distToPoint === 0 ) {\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\tconst denominator = plane.normal.dot( this.direction );\r\n\r\n\t\tif ( denominator * distToPoint < 0 ) {\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\t// ray origin is behind the plane (and is pointing behind it)\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n\tintersectBox( box, target ) {\r\n\r\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\r\n\r\n\t\tconst invdirx = 1 / this.direction.x,\r\n\t\t\tinvdiry = 1 / this.direction.y,\r\n\t\t\tinvdirz = 1 / this.direction.z;\r\n\r\n\t\tconst origin = this.origin;\r\n\r\n\t\tif ( invdirx >= 0 ) {\r\n\r\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\r\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\r\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\r\n\r\n\t\t}\r\n\r\n\t\tif ( invdiry >= 0 ) {\r\n\r\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\r\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\r\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\r\n\r\n\t\t// These lines also handle the case where tmin or tmax is NaN\r\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\r\n\r\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\r\n\r\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\r\n\r\n\t\tif ( invdirz >= 0 ) {\r\n\r\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\r\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\r\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\r\n\r\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\r\n\r\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\r\n\r\n\t\t//return point closest to the ray (positive side)\r\n\r\n\t\tif ( tmax < 0 ) return null;\r\n\r\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\r\n\r\n\t}\r\n\r\n\tintersectsBox( box ) {\r\n\r\n\t\treturn this.intersectBox( box, _vector$a ) !== null;\r\n\r\n\t}\r\n\r\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\r\n\r\n\t\t// Compute the offset origin, edges, and normal.\r\n\r\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\r\n\r\n\t\t_edge1.subVectors( b, a );\r\n\t\t_edge2.subVectors( c, a );\r\n\t\t_normal$1.crossVectors( _edge1, _edge2 );\r\n\r\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\r\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\r\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\r\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\r\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\r\n\t\tlet DdN = this.direction.dot( _normal$1 );\r\n\t\tlet sign;\r\n\r\n\t\tif ( DdN > 0 ) {\r\n\r\n\t\t\tif ( backfaceCulling ) return null;\r\n\t\t\tsign = 1;\r\n\r\n\t\t} else if ( DdN < 0 ) {\r\n\r\n\t\t\tsign = - 1;\r\n\t\t\tDdN = - DdN;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\t_diff.subVectors( this.origin, a );\r\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\r\n\r\n\t\t// b1 < 0, no intersection\r\n\t\tif ( DdQxE2 < 0 ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\r\n\r\n\t\t// b2 < 0, no intersection\r\n\t\tif ( DdE1xQ < 0 ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\t// b1+b2 > 1, no intersection\r\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\t// Line intersects triangle, check if ray does.\r\n\t\tconst QdN = - sign * _diff.dot( _normal$1 );\r\n\r\n\t\t// t < 0, no intersection\r\n\t\tif ( QdN < 0 ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\t// Ray intersects triangle.\r\n\t\treturn this.at( QdN / DdN, target );\r\n\r\n\t}\r\n\r\n\tapplyMatrix4( matrix4 ) {\r\n\r\n\t\tthis.origin.applyMatrix4( matrix4 );\r\n\t\tthis.direction.transformDirection( matrix4 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tequals( ray ) {\r\n\r\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Matrix4 {\r\n\r\n\tconstructor() {\r\n\r\n\t\tthis.elements = [\r\n\r\n\t\t\t1, 0, 0, 0,\r\n\t\t\t0, 1, 0, 0,\r\n\t\t\t0, 0, 1, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t];\r\n\r\n\t\tif ( arguments.length > 0 ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\r\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\r\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\r\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tidentity() {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, 0, 0, 0,\r\n\t\t\t0, 1, 0, 0,\r\n\t\t\t0, 0, 1, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new Matrix4().fromArray( this.elements );\r\n\r\n\t}\r\n\r\n\tcopy( m ) {\r\n\r\n\t\tconst te = this.elements;\r\n\t\tconst me = m.elements;\r\n\r\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\r\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\r\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\r\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopyPosition( m ) {\r\n\r\n\t\tconst te = this.elements, me = m.elements;\r\n\r\n\t\tte[ 12 ] = me[ 12 ];\r\n\t\tte[ 13 ] = me[ 13 ];\r\n\t\tte[ 14 ] = me[ 14 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromMatrix3( m ) {\r\n\r\n\t\tconst me = m.elements;\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\r\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\r\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\textractBasis( xAxis, yAxis, zAxis ) {\r\n\r\n\t\txAxis.setFromMatrixColumn( this, 0 );\r\n\t\tyAxis.setFromMatrixColumn( this, 1 );\r\n\t\tzAxis.setFromMatrixColumn( this, 2 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakeBasis( xAxis, yAxis, zAxis ) {\r\n\r\n\t\tthis.set(\r\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\r\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\r\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\r\n\t\t\t0, 0, 0, 1\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\textractRotation( m ) {\r\n\r\n\t\t// this method does not support reflection matrices\r\n\r\n\t\tconst te = this.elements;\r\n\t\tconst me = m.elements;\r\n\r\n\t\tconst scaleX = 1 / _v1$5.setFromMatrixColumn( m, 0 ).length();\r\n\t\tconst scaleY = 1 / _v1$5.setFromMatrixColumn( m, 1 ).length();\r\n\t\tconst scaleZ = 1 / _v1$5.setFromMatrixColumn( m, 2 ).length();\r\n\r\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\r\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\r\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\r\n\t\tte[ 3 ] = 0;\r\n\r\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\r\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\r\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\r\n\t\tte[ 7 ] = 0;\r\n\r\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\r\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\r\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\r\n\t\tte[ 11 ] = 0;\r\n\r\n\t\tte[ 12 ] = 0;\r\n\t\tte[ 13 ] = 0;\r\n\t\tte[ 14 ] = 0;\r\n\t\tte[ 15 ] = 1;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakeRotationFromEuler( euler ) {\r\n\r\n\t\tif ( ! ( euler && euler.isEuler ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\r\n\r\n\t\t}\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\r\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\r\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\r\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\r\n\r\n\t\tif ( euler.order === 'XYZ' ) {\r\n\r\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\r\n\r\n\t\t\tte[ 0 ] = c * e;\r\n\t\t\tte[ 4 ] = - c * f;\r\n\t\t\tte[ 8 ] = d;\r\n\r\n\t\t\tte[ 1 ] = af + be * d;\r\n\t\t\tte[ 5 ] = ae - bf * d;\r\n\t\t\tte[ 9 ] = - b * c;\r\n\r\n\t\t\tte[ 2 ] = bf - ae * d;\r\n\t\t\tte[ 6 ] = be + af * d;\r\n\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t} else if ( euler.order === 'YXZ' ) {\r\n\r\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\r\n\r\n\t\t\tte[ 0 ] = ce + df * b;\r\n\t\t\tte[ 4 ] = de * b - cf;\r\n\t\t\tte[ 8 ] = a * d;\r\n\r\n\t\t\tte[ 1 ] = a * f;\r\n\t\t\tte[ 5 ] = a * e;\r\n\t\t\tte[ 9 ] = - b;\r\n\r\n\t\t\tte[ 2 ] = cf * b - de;\r\n\t\t\tte[ 6 ] = df + ce * b;\r\n\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t} else if ( euler.order === 'ZXY' ) {\r\n\r\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\r\n\r\n\t\t\tte[ 0 ] = ce - df * b;\r\n\t\t\tte[ 4 ] = - a * f;\r\n\t\t\tte[ 8 ] = de + cf * b;\r\n\r\n\t\t\tte[ 1 ] = cf + de * b;\r\n\t\t\tte[ 5 ] = a * e;\r\n\t\t\tte[ 9 ] = df - ce * b;\r\n\r\n\t\t\tte[ 2 ] = - a * d;\r\n\t\t\tte[ 6 ] = b;\r\n\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t} else if ( euler.order === 'ZYX' ) {\r\n\r\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\r\n\r\n\t\t\tte[ 0 ] = c * e;\r\n\t\t\tte[ 4 ] = be * d - af;\r\n\t\t\tte[ 8 ] = ae * d + bf;\r\n\r\n\t\t\tte[ 1 ] = c * f;\r\n\t\t\tte[ 5 ] = bf * d + ae;\r\n\t\t\tte[ 9 ] = af * d - be;\r\n\r\n\t\t\tte[ 2 ] = - d;\r\n\t\t\tte[ 6 ] = b * c;\r\n\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t} else if ( euler.order === 'YZX' ) {\r\n\r\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\r\n\r\n\t\t\tte[ 0 ] = c * e;\r\n\t\t\tte[ 4 ] = bd - ac * f;\r\n\t\t\tte[ 8 ] = bc * f + ad;\r\n\r\n\t\t\tte[ 1 ] = f;\r\n\t\t\tte[ 5 ] = a * e;\r\n\t\t\tte[ 9 ] = - b * e;\r\n\r\n\t\t\tte[ 2 ] = - d * e;\r\n\t\t\tte[ 6 ] = ad * f + bc;\r\n\t\t\tte[ 10 ] = ac - bd * f;\r\n\r\n\t\t} else if ( euler.order === 'XZY' ) {\r\n\r\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\r\n\r\n\t\t\tte[ 0 ] = c * e;\r\n\t\t\tte[ 4 ] = - f;\r\n\t\t\tte[ 8 ] = d * e;\r\n\r\n\t\t\tte[ 1 ] = ac * f + bd;\r\n\t\t\tte[ 5 ] = a * e;\r\n\t\t\tte[ 9 ] = ad * f - bc;\r\n\r\n\t\t\tte[ 2 ] = bc * f - ad;\r\n\t\t\tte[ 6 ] = b * e;\r\n\t\t\tte[ 10 ] = bd * f + ac;\r\n\r\n\t\t}\r\n\r\n\t\t// bottom row\r\n\t\tte[ 3 ] = 0;\r\n\t\tte[ 7 ] = 0;\r\n\t\tte[ 11 ] = 0;\r\n\r\n\t\t// last column\r\n\t\tte[ 12 ] = 0;\r\n\t\tte[ 13 ] = 0;\r\n\t\tte[ 14 ] = 0;\r\n\t\tte[ 15 ] = 1;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakeRotationFromQuaternion( q ) {\r\n\r\n\t\treturn this.compose( _zero, q, _one );\r\n\r\n\t}\r\n\r\n\tlookAt( eye, target, up ) {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\t_z.subVectors( eye, target );\r\n\r\n\t\tif ( _z.lengthSq() === 0 ) {\r\n\r\n\t\t\t// eye and target are in the same position\r\n\r\n\t\t\t_z.z = 1;\r\n\r\n\t\t}\r\n\r\n\t\t_z.normalize();\r\n\t\t_x.crossVectors( up, _z );\r\n\r\n\t\tif ( _x.lengthSq() === 0 ) {\r\n\r\n\t\t\t// up and z are parallel\r\n\r\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\r\n\r\n\t\t\t\t_z.x += 0.0001;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_z.z += 0.0001;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_z.normalize();\r\n\t\t\t_x.crossVectors( up, _z );\r\n\r\n\t\t}\r\n\r\n\t\t_x.normalize();\r\n\t\t_y.crossVectors( _z, _x );\r\n\r\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\r\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\r\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiply( m, n ) {\r\n\r\n\t\tif ( n !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\r\n\t\t\treturn this.multiplyMatrices( m, n );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.multiplyMatrices( this, m );\r\n\r\n\t}\r\n\r\n\tpremultiply( m ) {\r\n\r\n\t\treturn this.multiplyMatrices( m, this );\r\n\r\n\t}\r\n\r\n\tmultiplyMatrices( a, b ) {\r\n\r\n\t\tconst ae = a.elements;\r\n\t\tconst be = b.elements;\r\n\t\tconst te = this.elements;\r\n\r\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\r\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\r\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\r\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\r\n\r\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\r\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\r\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\r\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\r\n\r\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\r\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\r\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\r\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\r\n\r\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\r\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\r\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\r\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\r\n\r\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\r\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\r\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\r\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\r\n\r\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\r\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\r\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\r\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiplyScalar( s ) {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\r\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\r\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\r\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdeterminant() {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\r\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\r\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\r\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\r\n\r\n\t\t//TODO: make this more efficient\r\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\r\n\r\n\t\treturn (\r\n\t\t\tn41 * (\r\n\t\t\t\t+ n14 * n23 * n32\r\n\t\t\t\t - n13 * n24 * n32\r\n\t\t\t\t - n14 * n22 * n33\r\n\t\t\t\t + n12 * n24 * n33\r\n\t\t\t\t + n13 * n22 * n34\r\n\t\t\t\t - n12 * n23 * n34\r\n\t\t\t) +\r\n\t\t\tn42 * (\r\n\t\t\t\t+ n11 * n23 * n34\r\n\t\t\t\t - n11 * n24 * n33\r\n\t\t\t\t + n14 * n21 * n33\r\n\t\t\t\t - n13 * n21 * n34\r\n\t\t\t\t + n13 * n24 * n31\r\n\t\t\t\t - n14 * n23 * n31\r\n\t\t\t) +\r\n\t\t\tn43 * (\r\n\t\t\t\t+ n11 * n24 * n32\r\n\t\t\t\t - n11 * n22 * n34\r\n\t\t\t\t - n14 * n21 * n32\r\n\t\t\t\t + n12 * n21 * n34\r\n\t\t\t\t + n14 * n22 * n31\r\n\t\t\t\t - n12 * n24 * n31\r\n\t\t\t) +\r\n\t\t\tn44 * (\r\n\t\t\t\t- n13 * n22 * n31\r\n\t\t\t\t - n11 * n23 * n32\r\n\t\t\t\t + n11 * n22 * n33\r\n\t\t\t\t + n13 * n21 * n32\r\n\t\t\t\t - n12 * n21 * n33\r\n\t\t\t\t + n12 * n23 * n31\r\n\t\t\t)\r\n\r\n\t\t);\r\n\r\n\t}\r\n\r\n\ttranspose() {\r\n\r\n\t\tconst te = this.elements;\r\n\t\tlet tmp;\r\n\r\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\r\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\r\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\r\n\r\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\r\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\r\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetPosition( x, y, z ) {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tif ( x.isVector3 ) {\r\n\r\n\t\t\tte[ 12 ] = x.x;\r\n\t\t\tte[ 13 ] = x.y;\r\n\t\t\tte[ 14 ] = x.z;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tte[ 12 ] = x;\r\n\t\t\tte[ 13 ] = y;\r\n\t\t\tte[ 14 ] = z;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tinvert() {\r\n\r\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\r\n\t\tconst te = this.elements,\r\n\r\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\r\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\r\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\r\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\r\n\r\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\r\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\r\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\r\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\r\n\r\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\r\n\r\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\r\n\r\n\t\tconst detInv = 1 / det;\r\n\r\n\t\tte[ 0 ] = t11 * detInv;\r\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\r\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\r\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\r\n\r\n\t\tte[ 4 ] = t12 * detInv;\r\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\r\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\r\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\r\n\r\n\t\tte[ 8 ] = t13 * detInv;\r\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\r\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\r\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\r\n\r\n\t\tte[ 12 ] = t14 * detInv;\r\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\r\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\r\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tscale( v ) {\r\n\r\n\t\tconst te = this.elements;\r\n\t\tconst x = v.x, y = v.y, z = v.z;\r\n\r\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\r\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\r\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\r\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetMaxScaleOnAxis() {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\r\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\r\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\r\n\r\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\r\n\r\n\t}\r\n\r\n\tmakeTranslation( x, y, z ) {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, 0, 0, x,\r\n\t\t\t0, 1, 0, y,\r\n\t\t\t0, 0, 1, z,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakeRotationX( theta ) {\r\n\r\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, 0, 0, 0,\r\n\t\t\t0, c, - s, 0,\r\n\t\t\t0, s, c, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakeRotationY( theta ) {\r\n\r\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t c, 0, s, 0,\r\n\t\t\t 0, 1, 0, 0,\r\n\t\t\t- s, 0, c, 0,\r\n\t\t\t 0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakeRotationZ( theta ) {\r\n\r\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\tc, - s, 0, 0,\r\n\t\t\ts, c, 0, 0,\r\n\t\t\t0, 0, 1, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakeRotationAxis( axis, angle ) {\r\n\r\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\r\n\r\n\t\tconst c = Math.cos( angle );\r\n\t\tconst s = Math.sin( angle );\r\n\t\tconst t = 1 - c;\r\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\r\n\t\tconst tx = t * x, ty = t * y;\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\r\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\r\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakeScale( x, y, z ) {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\tx, 0, 0, 0,\r\n\t\t\t0, y, 0, 0,\r\n\t\t\t0, 0, z, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakeShear( x, y, z ) {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, y, z, 0,\r\n\t\t\tx, 1, z, 0,\r\n\t\t\tx, y, 1, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcompose( position, quaternion, scale ) {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\r\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\r\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\r\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\r\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\r\n\r\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\r\n\r\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\r\n\t\tte[ 1 ] = ( xy + wz ) * sx;\r\n\t\tte[ 2 ] = ( xz - wy ) * sx;\r\n\t\tte[ 3 ] = 0;\r\n\r\n\t\tte[ 4 ] = ( xy - wz ) * sy;\r\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\r\n\t\tte[ 6 ] = ( yz + wx ) * sy;\r\n\t\tte[ 7 ] = 0;\r\n\r\n\t\tte[ 8 ] = ( xz + wy ) * sz;\r\n\t\tte[ 9 ] = ( yz - wx ) * sz;\r\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\r\n\t\tte[ 11 ] = 0;\r\n\r\n\t\tte[ 12 ] = position.x;\r\n\t\tte[ 13 ] = position.y;\r\n\t\tte[ 14 ] = position.z;\r\n\t\tte[ 15 ] = 1;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdecompose( position, quaternion, scale ) {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tlet sx = _v1$5.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\r\n\t\tconst sy = _v1$5.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\r\n\t\tconst sz = _v1$5.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\r\n\r\n\t\t// if determine is negative, we need to invert one scale\r\n\t\tconst det = this.determinant();\r\n\t\tif ( det < 0 ) sx = - sx;\r\n\r\n\t\tposition.x = te[ 12 ];\r\n\t\tposition.y = te[ 13 ];\r\n\t\tposition.z = te[ 14 ];\r\n\r\n\t\t// scale the rotation part\r\n\t\t_m1$2.copy( this );\r\n\r\n\t\tconst invSX = 1 / sx;\r\n\t\tconst invSY = 1 / sy;\r\n\t\tconst invSZ = 1 / sz;\r\n\r\n\t\t_m1$2.elements[ 0 ] *= invSX;\r\n\t\t_m1$2.elements[ 1 ] *= invSX;\r\n\t\t_m1$2.elements[ 2 ] *= invSX;\r\n\r\n\t\t_m1$2.elements[ 4 ] *= invSY;\r\n\t\t_m1$2.elements[ 5 ] *= invSY;\r\n\t\t_m1$2.elements[ 6 ] *= invSY;\r\n\r\n\t\t_m1$2.elements[ 8 ] *= invSZ;\r\n\t\t_m1$2.elements[ 9 ] *= invSZ;\r\n\t\t_m1$2.elements[ 10 ] *= invSZ;\r\n\r\n\t\tquaternion.setFromRotationMatrix( _m1$2 );\r\n\r\n\t\tscale.x = sx;\r\n\t\tscale.y = sy;\r\n\t\tscale.z = sz;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakePerspective( left, right, top, bottom, near, far ) {\r\n\r\n\t\tif ( far === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\r\n\r\n\t\t}\r\n\r\n\t\tconst te = this.elements;\r\n\t\tconst x = 2 * near / ( right - left );\r\n\t\tconst y = 2 * near / ( top - bottom );\r\n\r\n\t\tconst a = ( right + left ) / ( right - left );\r\n\t\tconst b = ( top + bottom ) / ( top - bottom );\r\n\t\tconst c = - ( far + near ) / ( far - near );\r\n\t\tconst d = - 2 * far * near / ( far - near );\r\n\r\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\r\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\r\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\r\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\r\n\r\n\t\tconst te = this.elements;\r\n\t\tconst w = 1.0 / ( right - left );\r\n\t\tconst h = 1.0 / ( top - bottom );\r\n\t\tconst p = 1.0 / ( far - near );\r\n\r\n\t\tconst x = ( right + left ) * w;\r\n\t\tconst y = ( top + bottom ) * h;\r\n\t\tconst z = ( far + near ) * p;\r\n\r\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\r\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\r\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\r\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tequals( matrix ) {\r\n\r\n\t\tconst te = this.elements;\r\n\t\tconst me = matrix.elements;\r\n\r\n\t\tfor ( let i = 0; i < 16; i ++ ) {\r\n\r\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t}\r\n\r\n\tfromArray( array, offset = 0 ) {\r\n\r\n\t\tfor ( let i = 0; i < 16; i ++ ) {\r\n\r\n\t\t\tthis.elements[ i ] = array[ i + offset ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoArray( array = [], offset = 0 ) {\r\n\r\n\t\tconst te = this.elements;\r\n\r\n\t\tarray[ offset ] = te[ 0 ];\r\n\t\tarray[ offset + 1 ] = te[ 1 ];\r\n\t\tarray[ offset + 2 ] = te[ 2 ];\r\n\t\tarray[ offset + 3 ] = te[ 3 ];\r\n\r\n\t\tarray[ offset + 4 ] = te[ 4 ];\r\n\t\tarray[ offset + 5 ] = te[ 5 ];\r\n\t\tarray[ offset + 6 ] = te[ 6 ];\r\n\t\tarray[ offset + 7 ] = te[ 7 ];\r\n\r\n\t\tarray[ offset + 8 ] = te[ 8 ];\r\n\t\tarray[ offset + 9 ] = te[ 9 ];\r\n\t\tarray[ offset + 10 ] = te[ 10 ];\r\n\t\tarray[ offset + 11 ] = te[ 11 ];\r\n\r\n\t\tarray[ offset + 12 ] = te[ 12 ];\r\n\t\tarray[ offset + 13 ] = te[ 13 ];\r\n\t\tarray[ offset + 14 ] = te[ 14 ];\r\n\t\tarray[ offset + 15 ] = te[ 15 ];\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n}\r\n\r\nMatrix4.prototype.isMatrix4 = true;\r\n\r\nconst _v1$5 = /*@__PURE__*/ new Vector3();\r\nconst _m1$2 = /*@__PURE__*/ new Matrix4();\r\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\r\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\r\nconst _x = /*@__PURE__*/ new Vector3();\r\nconst _y = /*@__PURE__*/ new Vector3();\r\nconst _z = /*@__PURE__*/ new Vector3();\r\n\r\nconst _matrix$1 = /*@__PURE__*/ new Matrix4();\r\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\r\n\r\nclass Euler {\r\n\r\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\r\n\r\n\t\tthis._x = x;\r\n\t\tthis._y = y;\r\n\t\tthis._z = z;\r\n\t\tthis._order = order;\r\n\r\n\t}\r\n\r\n\tget x() {\r\n\r\n\t\treturn this._x;\r\n\r\n\t}\r\n\r\n\tset x( value ) {\r\n\r\n\t\tthis._x = value;\r\n\t\tthis._onChangeCallback();\r\n\r\n\t}\r\n\r\n\tget y() {\r\n\r\n\t\treturn this._y;\r\n\r\n\t}\r\n\r\n\tset y( value ) {\r\n\r\n\t\tthis._y = value;\r\n\t\tthis._onChangeCallback();\r\n\r\n\t}\r\n\r\n\tget z() {\r\n\r\n\t\treturn this._z;\r\n\r\n\t}\r\n\r\n\tset z( value ) {\r\n\r\n\t\tthis._z = value;\r\n\t\tthis._onChangeCallback();\r\n\r\n\t}\r\n\r\n\tget order() {\r\n\r\n\t\treturn this._order;\r\n\r\n\t}\r\n\r\n\tset order( value ) {\r\n\r\n\t\tthis._order = value;\r\n\t\tthis._onChangeCallback();\r\n\r\n\t}\r\n\r\n\tset( x, y, z, order ) {\r\n\r\n\t\tthis._x = x;\r\n\t\tthis._y = y;\r\n\t\tthis._z = z;\r\n\t\tthis._order = order || this._order;\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\r\n\r\n\t}\r\n\r\n\tcopy( euler ) {\r\n\r\n\t\tthis._x = euler._x;\r\n\t\tthis._y = euler._y;\r\n\t\tthis._z = euler._z;\r\n\t\tthis._order = euler._order;\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromRotationMatrix( m, order, update ) {\r\n\r\n\t\tconst clamp = MathUtils.clamp;\r\n\r\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\tconst te = m.elements;\r\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\r\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\r\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\r\n\r\n\t\torder = order || this._order;\r\n\r\n\t\tswitch ( order ) {\r\n\r\n\t\t\tcase 'XYZ':\r\n\r\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\r\n\r\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\r\n\r\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\r\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\r\n\t\t\t\t\tthis._z = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'YXZ':\r\n\r\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\r\n\r\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\r\n\r\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\r\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\r\n\t\t\t\t\tthis._z = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZXY':\r\n\r\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\r\n\r\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\r\n\r\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\r\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._y = 0;\r\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZYX':\r\n\r\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\r\n\r\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\r\n\r\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\r\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._x = 0;\r\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'YZX':\r\n\r\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\r\n\r\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\r\n\r\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\r\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._x = 0;\r\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'XZY':\r\n\r\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\r\n\r\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\r\n\r\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\r\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\r\n\t\t\t\t\tthis._y = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\r\n\r\n\t\t}\r\n\r\n\t\tthis._order = order;\r\n\r\n\t\tif ( update !== false ) this._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromQuaternion( q, order, update ) {\r\n\r\n\t\t_matrix$1.makeRotationFromQuaternion( q );\r\n\r\n\t\treturn this.setFromRotationMatrix( _matrix$1, order, update );\r\n\r\n\t}\r\n\r\n\tsetFromVector3( v, order ) {\r\n\r\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\r\n\r\n\t}\r\n\r\n\treorder( newOrder ) {\r\n\r\n\t\t// WARNING: this discards revolution information -bhouston\r\n\r\n\t\t_quaternion$3.setFromEuler( this );\r\n\r\n\t\treturn this.setFromQuaternion( _quaternion$3, newOrder );\r\n\r\n\t}\r\n\r\n\tequals( euler ) {\r\n\r\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\r\n\r\n\t}\r\n\r\n\tfromArray( array ) {\r\n\r\n\t\tthis._x = array[ 0 ];\r\n\t\tthis._y = array[ 1 ];\r\n\t\tthis._z = array[ 2 ];\r\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\r\n\r\n\t\tthis._onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoArray( array = [], offset = 0 ) {\r\n\r\n\t\tarray[ offset ] = this._x;\r\n\t\tarray[ offset + 1 ] = this._y;\r\n\t\tarray[ offset + 2 ] = this._z;\r\n\t\tarray[ offset + 3 ] = this._order;\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n\ttoVector3( optionalResult ) {\r\n\r\n\t\tif ( optionalResult ) {\r\n\r\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn new Vector3( this._x, this._y, this._z );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_onChange( callback ) {\r\n\r\n\t\tthis._onChangeCallback = callback;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t_onChangeCallback() {}\r\n\r\n}\r\n\r\nEuler.prototype.isEuler = true;\r\n\r\nEuler.DefaultOrder = 'XYZ';\r\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\r\n\r\nclass Layers {\r\n\r\n\tconstructor() {\r\n\r\n\t\tthis.mask = 1 | 0;\r\n\r\n\t}\r\n\r\n\tset( channel ) {\r\n\r\n\t\tthis.mask = 1 << channel | 0;\r\n\r\n\t}\r\n\r\n\tenable( channel ) {\r\n\r\n\t\tthis.mask |= 1 << channel | 0;\r\n\r\n\t}\r\n\r\n\tenableAll() {\r\n\r\n\t\tthis.mask = 0xffffffff | 0;\r\n\r\n\t}\r\n\r\n\ttoggle( channel ) {\r\n\r\n\t\tthis.mask ^= 1 << channel | 0;\r\n\r\n\t}\r\n\r\n\tdisable( channel ) {\r\n\r\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\r\n\r\n\t}\r\n\r\n\tdisableAll() {\r\n\r\n\t\tthis.mask = 0;\r\n\r\n\t}\r\n\r\n\ttest( layers ) {\r\n\r\n\t\treturn ( this.mask & layers.mask ) !== 0;\r\n\r\n\t}\r\n\r\n}\r\n\r\nlet _object3DId = 0;\r\n\r\nconst _v1$4 = new Vector3();\r\nconst _q1 = new Quaternion();\r\nconst _m1$1 = new Matrix4();\r\nconst _target = new Vector3();\r\n\r\nconst _position$3 = new Vector3();\r\nconst _scale$2 = new Vector3();\r\nconst _quaternion$2 = new Quaternion();\r\n\r\nconst _xAxis = new Vector3( 1, 0, 0 );\r\nconst _yAxis = new Vector3( 0, 1, 0 );\r\nconst _zAxis = new Vector3( 0, 0, 1 );\r\n\r\nconst _addedEvent = { type: 'added' };\r\nconst _removedEvent = { type: 'removed' };\r\n\r\nfunction Object3D() {\r\n\r\n\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.type = 'Object3D';\r\n\r\n\tthis.parent = null;\r\n\tthis.children = [];\r\n\r\n\tthis.up = Object3D.DefaultUp.clone();\r\n\r\n\tconst position = new Vector3();\r\n\tconst rotation = new Euler();\r\n\tconst quaternion = new Quaternion();\r\n\tconst scale = new Vector3( 1, 1, 1 );\r\n\r\n\tfunction onRotationChange() {\r\n\r\n\t\tquaternion.setFromEuler( rotation, false );\r\n\r\n\t}\r\n\r\n\tfunction onQuaternionChange() {\r\n\r\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\r\n\r\n\t}\r\n\r\n\trotation._onChange( onRotationChange );\r\n\tquaternion._onChange( onQuaternionChange );\r\n\r\n\tObject.defineProperties( this, {\r\n\t\tposition: {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: position\r\n\t\t},\r\n\t\trotation: {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: rotation\r\n\t\t},\r\n\t\tquaternion: {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: quaternion\r\n\t\t},\r\n\t\tscale: {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: scale\r\n\t\t},\r\n\t\tmodelViewMatrix: {\r\n\t\t\tvalue: new Matrix4()\r\n\t\t},\r\n\t\tnormalMatrix: {\r\n\t\t\tvalue: new Matrix3()\r\n\t\t}\r\n\t} );\r\n\r\n\tthis.matrix = new Matrix4();\r\n\tthis.matrixWorld = new Matrix4();\r\n\r\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\r\n\tthis.matrixWorldNeedsUpdate = false;\r\n\r\n\tthis.layers = new Layers();\r\n\tthis.visible = true;\r\n\r\n\tthis.castShadow = false;\r\n\tthis.receiveShadow = false;\r\n\r\n\tthis.frustumCulled = true;\r\n\tthis.renderOrder = 0;\r\n\r\n\tthis.animations = [];\r\n\r\n\tthis.userData = {};\r\n\r\n}\r\n\r\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\r\nObject3D.DefaultMatrixAutoUpdate = true;\r\n\r\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\r\n\r\n\tconstructor: Object3D,\r\n\r\n\tisObject3D: true,\r\n\r\n\tonBeforeRender: function () {},\r\n\tonAfterRender: function () {},\r\n\r\n\tapplyMatrix4: function ( matrix ) {\r\n\r\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\r\n\r\n\t\tthis.matrix.premultiply( matrix );\r\n\r\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\r\n\r\n\t},\r\n\r\n\tapplyQuaternion: function ( q ) {\r\n\r\n\t\tthis.quaternion.premultiply( q );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\r\n\r\n\t\t// assumes axis is normalized\r\n\r\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\r\n\r\n\t},\r\n\r\n\tsetRotationFromEuler: function ( euler ) {\r\n\r\n\t\tthis.quaternion.setFromEuler( euler, true );\r\n\r\n\t},\r\n\r\n\tsetRotationFromMatrix: function ( m ) {\r\n\r\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\tthis.quaternion.setFromRotationMatrix( m );\r\n\r\n\t},\r\n\r\n\tsetRotationFromQuaternion: function ( q ) {\r\n\r\n\t\t// assumes q is normalized\r\n\r\n\t\tthis.quaternion.copy( q );\r\n\r\n\t},\r\n\r\n\trotateOnAxis: function ( axis, angle ) {\r\n\r\n\t\t// rotate object on axis in object space\r\n\t\t// axis is assumed to be normalized\r\n\r\n\t\t_q1.setFromAxisAngle( axis, angle );\r\n\r\n\t\tthis.quaternion.multiply( _q1 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateOnWorldAxis: function ( axis, angle ) {\r\n\r\n\t\t// rotate object on axis in world space\r\n\t\t// axis is assumed to be normalized\r\n\t\t// method assumes no rotated parent\r\n\r\n\t\t_q1.setFromAxisAngle( axis, angle );\r\n\r\n\t\tthis.quaternion.premultiply( _q1 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateX: function ( angle ) {\r\n\r\n\t\treturn this.rotateOnAxis( _xAxis, angle );\r\n\r\n\t},\r\n\r\n\trotateY: function ( angle ) {\r\n\r\n\t\treturn this.rotateOnAxis( _yAxis, angle );\r\n\r\n\t},\r\n\r\n\trotateZ: function ( angle ) {\r\n\r\n\t\treturn this.rotateOnAxis( _zAxis, angle );\r\n\r\n\t},\r\n\r\n\ttranslateOnAxis: function ( axis, distance ) {\r\n\r\n\t\t// translate object by distance along axis in object space\r\n\t\t// axis is assumed to be normalized\r\n\r\n\t\t_v1$4.copy( axis ).applyQuaternion( this.quaternion );\r\n\r\n\t\tthis.position.add( _v1$4.multiplyScalar( distance ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranslateX: function ( distance ) {\r\n\r\n\t\treturn this.translateOnAxis( _xAxis, distance );\r\n\r\n\t},\r\n\r\n\ttranslateY: function ( distance ) {\r\n\r\n\t\treturn this.translateOnAxis( _yAxis, distance );\r\n\r\n\t},\r\n\r\n\ttranslateZ: function ( distance ) {\r\n\r\n\t\treturn this.translateOnAxis( _zAxis, distance );\r\n\r\n\t},\r\n\r\n\tlocalToWorld: function ( vector ) {\r\n\r\n\t\treturn vector.applyMatrix4( this.matrixWorld );\r\n\r\n\t},\r\n\r\n\tworldToLocal: function ( vector ) {\r\n\r\n\t\treturn vector.applyMatrix4( _m1$1.copy( this.matrixWorld ).invert() );\r\n\r\n\t},\r\n\r\n\tlookAt: function ( x, y, z ) {\r\n\r\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\r\n\r\n\t\tif ( x.isVector3 ) {\r\n\r\n\t\t\t_target.copy( x );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_target.set( x, y, z );\r\n\r\n\t\t}\r\n\r\n\t\tconst parent = this.parent;\r\n\r\n\t\tthis.updateWorldMatrix( true, false );\r\n\r\n\t\t_position$3.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t\tif ( this.isCamera || this.isLight ) {\r\n\r\n\t\t\t_m1$1.lookAt( _position$3, _target, this.up );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_m1$1.lookAt( _target, _position$3, this.up );\r\n\r\n\t\t}\r\n\r\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\r\n\r\n\t\tif ( parent ) {\r\n\r\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\r\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\r\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tadd: function ( object ) {\r\n\r\n\t\tif ( arguments.length > 1 ) {\r\n\r\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\t\tthis.add( arguments[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tif ( object === this ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tif ( object && object.isObject3D ) {\r\n\r\n\t\t\tif ( object.parent !== null ) {\r\n\r\n\t\t\t\tobject.parent.remove( object );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobject.parent = this;\r\n\t\t\tthis.children.push( object );\r\n\r\n\t\t\tobject.dispatchEvent( _addedEvent );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremove: function ( object ) {\r\n\r\n\t\tif ( arguments.length > 1 ) {\r\n\r\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\t\tthis.remove( arguments[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tconst index = this.children.indexOf( object );\r\n\r\n\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\tobject.parent = null;\r\n\t\t\tthis.children.splice( index, 1 );\r\n\r\n\t\t\tobject.dispatchEvent( _removedEvent );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclear: function () {\r\n\r\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\r\n\r\n\t\t\tconst object = this.children[ i ];\r\n\r\n\t\t\tobject.parent = null;\r\n\r\n\t\t\tobject.dispatchEvent( _removedEvent );\r\n\r\n\t\t}\r\n\r\n\t\tthis.children.length = 0;\r\n\r\n\t\treturn this;\r\n\r\n\r\n\t},\r\n\r\n\tattach: function ( object ) {\r\n\r\n\t\t// adds object as a child of this, while maintaining the object's world transform\r\n\r\n\t\tthis.updateWorldMatrix( true, false );\r\n\r\n\t\t_m1$1.copy( this.matrixWorld ).invert();\r\n\r\n\t\tif ( object.parent !== null ) {\r\n\r\n\t\t\tobject.parent.updateWorldMatrix( true, false );\r\n\r\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\r\n\r\n\t\t}\r\n\r\n\t\tobject.applyMatrix4( _m1$1 );\r\n\r\n\t\tthis.add( object );\r\n\r\n\t\tobject.updateWorldMatrix( false, true );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetObjectById: function ( id ) {\r\n\r\n\t\treturn this.getObjectByProperty( 'id', id );\r\n\r\n\t},\r\n\r\n\tgetObjectByName: function ( name ) {\r\n\r\n\t\treturn this.getObjectByProperty( 'name', name );\r\n\r\n\t},\r\n\r\n\tgetObjectByProperty: function ( name, value ) {\r\n\r\n\t\tif ( this[ name ] === value ) return this;\r\n\r\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst child = this.children[ i ];\r\n\t\t\tconst object = child.getObjectByProperty( name, value );\r\n\r\n\t\t\tif ( object !== undefined ) {\r\n\r\n\t\t\t\treturn object;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn undefined;\r\n\r\n\t},\r\n\r\n\tgetWorldPosition: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateWorldMatrix( true, false );\r\n\r\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t},\r\n\r\n\tgetWorldQuaternion: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\r\n\t\t\ttarget = new Quaternion();\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateWorldMatrix( true, false );\r\n\r\n\t\tthis.matrixWorld.decompose( _position$3, target, _scale$2 );\r\n\r\n\t\treturn target;\r\n\r\n\t},\r\n\r\n\tgetWorldScale: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateWorldMatrix( true, false );\r\n\r\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$2, target );\r\n\r\n\t\treturn target;\r\n\r\n\t},\r\n\r\n\tgetWorldDirection: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateWorldMatrix( true, false );\r\n\r\n\t\tconst e = this.matrixWorld.elements;\r\n\r\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\r\n\r\n\t},\r\n\r\n\traycast: function () {},\r\n\r\n\ttraverse: function ( callback ) {\r\n\r\n\t\tcallback( this );\r\n\r\n\t\tconst children = this.children;\r\n\r\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tchildren[ i ].traverse( callback );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttraverseVisible: function ( callback ) {\r\n\r\n\t\tif ( this.visible === false ) return;\r\n\r\n\t\tcallback( this );\r\n\r\n\t\tconst children = this.children;\r\n\r\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tchildren[ i ].traverseVisible( callback );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttraverseAncestors: function ( callback ) {\r\n\r\n\t\tconst parent = this.parent;\r\n\r\n\t\tif ( parent !== null ) {\r\n\r\n\t\t\tcallback( parent );\r\n\r\n\t\t\tparent.traverseAncestors( callback );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdateMatrix: function () {\r\n\r\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\r\n\r\n\t\tthis.matrixWorldNeedsUpdate = true;\r\n\r\n\t},\r\n\r\n\tupdateMatrixWorld: function ( force ) {\r\n\r\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\r\n\r\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\r\n\r\n\t\t\tif ( this.parent === null ) {\r\n\r\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.matrixWorldNeedsUpdate = false;\r\n\r\n\t\t\tforce = true;\r\n\r\n\t\t}\r\n\r\n\t\t// update children\r\n\r\n\t\tconst children = this.children;\r\n\r\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tchildren[ i ].updateMatrixWorld( force );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\r\n\r\n\t\tconst parent = this.parent;\r\n\r\n\t\tif ( updateParents === true && parent !== null ) {\r\n\r\n\t\t\tparent.updateWorldMatrix( true, false );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\r\n\r\n\t\tif ( this.parent === null ) {\r\n\r\n\t\t\tthis.matrixWorld.copy( this.matrix );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\r\n\r\n\t\t}\r\n\r\n\t\t// update children\r\n\r\n\t\tif ( updateChildren === true ) {\r\n\r\n\t\t\tconst children = this.children;\r\n\r\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\t// meta is a string when called from JSON.stringify\r\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tconst output = {};\r\n\r\n\t\t// meta is a hash used to collect geometries, materials.\r\n\t\t// not providing it implies that this is the root object\r\n\t\t// being serialized.\r\n\t\tif ( isRootObject ) {\r\n\r\n\t\t\t// initialize meta obj\r\n\t\t\tmeta = {\r\n\t\t\t\tgeometries: {},\r\n\t\t\t\tmaterials: {},\r\n\t\t\t\ttextures: {},\r\n\t\t\t\timages: {},\r\n\t\t\t\tshapes: {},\r\n\t\t\t\tskeletons: {},\r\n\t\t\t\tanimations: {}\r\n\t\t\t};\r\n\r\n\t\t\toutput.metadata = {\r\n\t\t\t\tversion: 4.5,\r\n\t\t\t\ttype: 'Object',\r\n\t\t\t\tgenerator: 'Object3D.toJSON'\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\t// standard Object3D serialization\r\n\r\n\t\tconst object = {};\r\n\r\n\t\tobject.uuid = this.uuid;\r\n\t\tobject.type = this.type;\r\n\r\n\t\tif ( this.name !== '' ) object.name = this.name;\r\n\t\tif ( this.castShadow === true ) object.castShadow = true;\r\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\r\n\t\tif ( this.visible === false ) object.visible = false;\r\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\r\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\r\n\r\n\t\tobject.layers = this.layers.mask;\r\n\t\tobject.matrix = this.matrix.toArray();\r\n\r\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\r\n\r\n\t\t// object specific properties\r\n\r\n\t\tif ( this.isInstancedMesh ) {\r\n\r\n\t\t\tobject.type = 'InstancedMesh';\r\n\t\t\tobject.count = this.count;\r\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\r\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tfunction serialize( library, element ) {\r\n\r\n\t\t\tif ( library[ element.uuid ] === undefined ) {\r\n\r\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn element.uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\r\n\r\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\r\n\r\n\t\t\tconst parameters = this.geometry.parameters;\r\n\r\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\r\n\r\n\t\t\t\tconst shapes = parameters.shapes;\r\n\r\n\t\t\t\tif ( Array.isArray( shapes ) ) {\r\n\r\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst shape = shapes[ i ];\r\n\r\n\t\t\t\t\t\tserialize( meta.shapes, shape );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tserialize( meta.shapes, shapes );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.isSkinnedMesh ) {\r\n\r\n\t\t\tobject.bindMode = this.bindMode;\r\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\r\n\r\n\t\t\tif ( this.skeleton !== undefined ) {\r\n\r\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\r\n\r\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.material !== undefined ) {\r\n\r\n\t\t\tif ( Array.isArray( this.material ) ) {\r\n\r\n\t\t\t\tconst uuids = [];\r\n\r\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tobject.material = uuids;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( this.children.length > 0 ) {\r\n\r\n\t\t\tobject.children = [];\r\n\r\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\r\n\r\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( this.animations.length > 0 ) {\r\n\r\n\t\t\tobject.animations = [];\r\n\r\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\r\n\r\n\t\t\t\tconst animation = this.animations[ i ];\r\n\r\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( isRootObject ) {\r\n\r\n\t\t\tconst geometries = extractFromCache( meta.geometries );\r\n\t\t\tconst materials = extractFromCache( meta.materials );\r\n\t\t\tconst textures = extractFromCache( meta.textures );\r\n\t\t\tconst images = extractFromCache( meta.images );\r\n\t\t\tconst shapes = extractFromCache( meta.shapes );\r\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\r\n\t\t\tconst animations = extractFromCache( meta.animations );\r\n\r\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\r\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\r\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\r\n\t\t\tif ( images.length > 0 ) output.images = images;\r\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\r\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\r\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\r\n\r\n\t\t}\r\n\r\n\t\toutput.object = object;\r\n\r\n\t\treturn output;\r\n\r\n\t\t// extract data from the cache hash\r\n\t\t// remove metadata on each item\r\n\t\t// and return as array\r\n\t\tfunction extractFromCache( cache ) {\r\n\r\n\t\t\tconst values = [];\r\n\t\t\tfor ( const key in cache ) {\r\n\r\n\t\t\t\tconst data = cache[ key ];\r\n\t\t\t\tdelete data.metadata;\r\n\t\t\t\tvalues.push( data );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn values;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function ( recursive ) {\r\n\r\n\t\treturn new this.constructor().copy( this, recursive );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source, recursive = true ) {\r\n\r\n\t\tthis.name = source.name;\r\n\r\n\t\tthis.up.copy( source.up );\r\n\r\n\t\tthis.position.copy( source.position );\r\n\t\tthis.rotation.order = source.rotation.order;\r\n\t\tthis.quaternion.copy( source.quaternion );\r\n\t\tthis.scale.copy( source.scale );\r\n\r\n\t\tthis.matrix.copy( source.matrix );\r\n\t\tthis.matrixWorld.copy( source.matrixWorld );\r\n\r\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\r\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\r\n\r\n\t\tthis.layers.mask = source.layers.mask;\r\n\t\tthis.visible = source.visible;\r\n\r\n\t\tthis.castShadow = source.castShadow;\r\n\t\tthis.receiveShadow = source.receiveShadow;\r\n\r\n\t\tthis.frustumCulled = source.frustumCulled;\r\n\t\tthis.renderOrder = source.renderOrder;\r\n\r\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t\tif ( recursive === true ) {\r\n\r\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\r\n\r\n\t\t\t\tconst child = source.children[ i ];\r\n\t\t\t\tthis.add( child.clone() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nconst _vector1 = /*@__PURE__*/ new Vector3();\r\nconst _vector2$1 = /*@__PURE__*/ new Vector3();\r\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\r\n\r\nclass Plane {\r\n\r\n\tconstructor( normal = new Vector3( 1, 0, 0 ), constant = 0 ) {\r\n\r\n\t\t// normal is assumed to be normalized\r\n\r\n\t\tthis.normal = normal;\r\n\t\tthis.constant = constant;\r\n\r\n\t}\r\n\r\n\tset( normal, constant ) {\r\n\r\n\t\tthis.normal.copy( normal );\r\n\t\tthis.constant = constant;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetComponents( x, y, z, w ) {\r\n\r\n\t\tthis.normal.set( x, y, z );\r\n\t\tthis.constant = w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\r\n\r\n\t\tthis.normal.copy( normal );\r\n\t\tthis.constant = - point.dot( this.normal );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromCoplanarPoints( a, b, c ) {\r\n\r\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2$1.subVectors( a, b ) ).normalize();\r\n\r\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\r\n\r\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopy( plane ) {\r\n\r\n\t\tthis.normal.copy( plane.normal );\r\n\t\tthis.constant = plane.constant;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tnormalize() {\r\n\r\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\r\n\r\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\r\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\r\n\t\tthis.constant *= inverseNormalLength;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tnegate() {\r\n\r\n\t\tthis.constant *= - 1;\r\n\t\tthis.normal.negate();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdistanceToPoint( point ) {\r\n\r\n\t\treturn this.normal.dot( point ) + this.constant;\r\n\r\n\t}\r\n\r\n\tdistanceToSphere( sphere ) {\r\n\r\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\r\n\r\n\t}\r\n\r\n\tprojectPoint( point, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\r\n\r\n\t}\r\n\r\n\tintersectLine( line, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tconst direction = line.delta( _vector1 );\r\n\r\n\t\tconst denominator = this.normal.dot( direction );\r\n\r\n\t\tif ( denominator === 0 ) {\r\n\r\n\t\t\t// line is coplanar, return origin\r\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\r\n\r\n\t\t\t\treturn target.copy( line.start );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Unsure if this is the correct method to handle this case.\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\r\n\r\n\t\tif ( t < 0 || t > 1 ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\r\n\r\n\t}\r\n\r\n\tintersectsLine( line ) {\r\n\r\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\r\n\r\n\t\tconst startSign = this.distanceToPoint( line.start );\r\n\t\tconst endSign = this.distanceToPoint( line.end );\r\n\r\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\r\n\r\n\t}\r\n\r\n\tintersectsBox( box ) {\r\n\r\n\t\treturn box.intersectsPlane( this );\r\n\r\n\t}\r\n\r\n\tintersectsSphere( sphere ) {\r\n\r\n\t\treturn sphere.intersectsPlane( this );\r\n\r\n\t}\r\n\r\n\tcoplanarPoint( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\r\n\r\n\t}\r\n\r\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\r\n\r\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\r\n\r\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\r\n\r\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\r\n\r\n\t\tthis.constant = - referencePoint.dot( normal );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttranslate( offset ) {\r\n\r\n\t\tthis.constant -= offset.dot( this.normal );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tequals( plane ) {\r\n\r\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n}\r\n\r\nPlane.prototype.isPlane = true;\r\n\r\nconst _v0$1 = /*@__PURE__*/ new Vector3();\r\nconst _v1$3 = /*@__PURE__*/ new Vector3();\r\nconst _v2$2 = /*@__PURE__*/ new Vector3();\r\nconst _v3$1 = /*@__PURE__*/ new Vector3();\r\n\r\nconst _vab = /*@__PURE__*/ new Vector3();\r\nconst _vac = /*@__PURE__*/ new Vector3();\r\nconst _vbc = /*@__PURE__*/ new Vector3();\r\nconst _vap = /*@__PURE__*/ new Vector3();\r\nconst _vbp = /*@__PURE__*/ new Vector3();\r\nconst _vcp = /*@__PURE__*/ new Vector3();\r\n\r\nclass Triangle {\r\n\r\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\r\n\r\n\t\tthis.a = a;\r\n\t\tthis.b = b;\r\n\t\tthis.c = c;\r\n\r\n\t}\r\n\r\n\tstatic getNormal( a, b, c, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\ttarget.subVectors( c, b );\r\n\t\t_v0$1.subVectors( a, b );\r\n\t\ttarget.cross( _v0$1 );\r\n\r\n\t\tconst targetLengthSq = target.lengthSq();\r\n\t\tif ( targetLengthSq > 0 ) {\r\n\r\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn target.set( 0, 0, 0 );\r\n\r\n\t}\r\n\r\n\t// static/instance method to calculate barycentric coordinates\r\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\r\n\tstatic getBarycoord( point, a, b, c, target ) {\r\n\r\n\t\t_v0$1.subVectors( c, a );\r\n\t\t_v1$3.subVectors( b, a );\r\n\t\t_v2$2.subVectors( point, a );\r\n\r\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\r\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\r\n\t\tconst dot02 = _v0$1.dot( _v2$2 );\r\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\r\n\t\tconst dot12 = _v1$3.dot( _v2$2 );\r\n\r\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\t// collinear or singular triangle\r\n\t\tif ( denom === 0 ) {\r\n\r\n\t\t\t// arbitrary location outside of triangle?\r\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\r\n\t\t\treturn target.set( - 2, - 1, - 1 );\r\n\r\n\t\t}\r\n\r\n\t\tconst invDenom = 1 / denom;\r\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\r\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\r\n\r\n\t\t// barycentric coordinates must always sum to 1\r\n\t\treturn target.set( 1 - u - v, v, u );\r\n\r\n\t}\r\n\r\n\tstatic containsPoint( point, a, b, c ) {\r\n\r\n\t\tthis.getBarycoord( point, a, b, c, _v3$1 );\r\n\r\n\t\treturn ( _v3$1.x >= 0 ) && ( _v3$1.y >= 0 ) && ( ( _v3$1.x + _v3$1.y ) <= 1 );\r\n\r\n\t}\r\n\r\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\r\n\r\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3$1 );\r\n\r\n\t\ttarget.set( 0, 0 );\r\n\t\ttarget.addScaledVector( uv1, _v3$1.x );\r\n\t\ttarget.addScaledVector( uv2, _v3$1.y );\r\n\t\ttarget.addScaledVector( uv3, _v3$1.z );\r\n\r\n\t\treturn target;\r\n\r\n\t}\r\n\r\n\tstatic isFrontFacing( a, b, c, direction ) {\r\n\r\n\t\t_v0$1.subVectors( c, b );\r\n\t\t_v1$3.subVectors( a, b );\r\n\r\n\t\t// strictly front facing\r\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\r\n\r\n\t}\r\n\r\n\tset( a, b, c ) {\r\n\r\n\t\tthis.a.copy( a );\r\n\t\tthis.b.copy( b );\r\n\t\tthis.c.copy( c );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\r\n\r\n\t\tthis.a.copy( points[ i0 ] );\r\n\t\tthis.b.copy( points[ i1 ] );\r\n\t\tthis.c.copy( points[ i2 ] );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n\tcopy( triangle ) {\r\n\r\n\t\tthis.a.copy( triangle.a );\r\n\t\tthis.b.copy( triangle.b );\r\n\t\tthis.c.copy( triangle.c );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetArea() {\r\n\r\n\t\t_v0$1.subVectors( this.c, this.b );\r\n\t\t_v1$3.subVectors( this.a, this.b );\r\n\r\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\r\n\r\n\t}\r\n\r\n\tgetMidpoint( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\r\n\r\n\t}\r\n\r\n\tgetNormal( target ) {\r\n\r\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\r\n\r\n\t}\r\n\r\n\tgetPlane( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\r\n\t\t\ttarget = new Plane();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\r\n\r\n\t}\r\n\r\n\tgetBarycoord( point, target ) {\r\n\r\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\r\n\r\n\t}\r\n\r\n\tgetUV( point, uv1, uv2, uv3, target ) {\r\n\r\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\r\n\r\n\t}\r\n\r\n\tcontainsPoint( point ) {\r\n\r\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\r\n\r\n\t}\r\n\r\n\tisFrontFacing( direction ) {\r\n\r\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\r\n\r\n\t}\r\n\r\n\tintersectsBox( box ) {\r\n\r\n\t\treturn box.intersectsTriangle( this );\r\n\r\n\t}\r\n\r\n\tclosestPointToPoint( p, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tconst a = this.a, b = this.b, c = this.c;\r\n\t\tlet v, w;\r\n\r\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\r\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\r\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\r\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\r\n\t\t// the point lies in with the minimum amount of redundant computation.\r\n\r\n\t\t_vab.subVectors( b, a );\r\n\t\t_vac.subVectors( c, a );\r\n\t\t_vap.subVectors( p, a );\r\n\t\tconst d1 = _vab.dot( _vap );\r\n\t\tconst d2 = _vac.dot( _vap );\r\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\r\n\r\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\r\n\t\t\treturn target.copy( a );\r\n\r\n\t\t}\r\n\r\n\t\t_vbp.subVectors( p, b );\r\n\t\tconst d3 = _vab.dot( _vbp );\r\n\t\tconst d4 = _vac.dot( _vbp );\r\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\r\n\r\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\r\n\t\t\treturn target.copy( b );\r\n\r\n\t\t}\r\n\r\n\t\tconst vc = d1 * d4 - d3 * d2;\r\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\r\n\r\n\t\t\tv = d1 / ( d1 - d3 );\r\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\r\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\r\n\r\n\t\t}\r\n\r\n\t\t_vcp.subVectors( p, c );\r\n\t\tconst d5 = _vab.dot( _vcp );\r\n\t\tconst d6 = _vac.dot( _vcp );\r\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\r\n\r\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\r\n\t\t\treturn target.copy( c );\r\n\r\n\t\t}\r\n\r\n\t\tconst vb = d5 * d2 - d1 * d6;\r\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\r\n\r\n\t\t\tw = d2 / ( d2 - d6 );\r\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\r\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\r\n\r\n\t\t}\r\n\r\n\t\tconst va = d3 * d6 - d5 * d4;\r\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\r\n\r\n\t\t\t_vbc.subVectors( c, b );\r\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\r\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\r\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\r\n\r\n\t\t}\r\n\r\n\t\t// face region\r\n\t\tconst denom = 1 / ( va + vb + vc );\r\n\t\t// u = va * denom\r\n\t\tv = vb * denom;\r\n\t\tw = vc * denom;\r\n\r\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\r\n\r\n\t}\r\n\r\n\tequals( triangle ) {\r\n\r\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\r\n\r\n\t}\r\n\r\n}\r\n\r\nlet materialId = 0;\r\n\r\nfunction Material() {\r\n\r\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.type = 'Material';\r\n\r\n\tthis.fog = true;\r\n\r\n\tthis.blending = NormalBlending;\r\n\tthis.side = FrontSide;\r\n\tthis.vertexColors = false;\r\n\r\n\tthis.opacity = 1;\r\n\tthis.transparent = false;\r\n\r\n\tthis.blendSrc = SrcAlphaFactor;\r\n\tthis.blendDst = OneMinusSrcAlphaFactor;\r\n\tthis.blendEquation = AddEquation;\r\n\tthis.blendSrcAlpha = null;\r\n\tthis.blendDstAlpha = null;\r\n\tthis.blendEquationAlpha = null;\r\n\r\n\tthis.depthFunc = LessEqualDepth;\r\n\tthis.depthTest = true;\r\n\tthis.depthWrite = true;\r\n\r\n\tthis.stencilWriteMask = 0xff;\r\n\tthis.stencilFunc = AlwaysStencilFunc;\r\n\tthis.stencilRef = 0;\r\n\tthis.stencilFuncMask = 0xff;\r\n\tthis.stencilFail = KeepStencilOp;\r\n\tthis.stencilZFail = KeepStencilOp;\r\n\tthis.stencilZPass = KeepStencilOp;\r\n\tthis.stencilWrite = false;\r\n\r\n\tthis.clippingPlanes = null;\r\n\tthis.clipIntersection = false;\r\n\tthis.clipShadows = false;\r\n\r\n\tthis.shadowSide = null;\r\n\r\n\tthis.colorWrite = true;\r\n\r\n\tthis.precision = null; // override the renderer's default precision for this material\r\n\r\n\tthis.polygonOffset = false;\r\n\tthis.polygonOffsetFactor = 0;\r\n\tthis.polygonOffsetUnits = 0;\r\n\r\n\tthis.dithering = false;\r\n\r\n\tthis.alphaTest = 0;\r\n\tthis.alphaToCoverage = false;\r\n\tthis.premultipliedAlpha = false;\r\n\r\n\tthis.visible = true;\r\n\r\n\tthis.toneMapped = true;\r\n\r\n\tthis.userData = {};\r\n\r\n\tthis.version = 0;\r\n\r\n}\r\n\r\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\r\n\r\n\tconstructor: Material,\r\n\r\n\tisMaterial: true,\r\n\r\n\tonBeforeCompile: function ( /* shaderobject, renderer */ ) {},\r\n\r\n\tcustomProgramCacheKey: function () {\r\n\r\n\t\treturn this.onBeforeCompile.toString();\r\n\r\n\t},\r\n\r\n\tsetValues: function ( values ) {\r\n\r\n\t\tif ( values === undefined ) return;\r\n\r\n\t\tfor ( const key in values ) {\r\n\r\n\t\t\tconst newValue = values[ key ];\r\n\r\n\t\t\tif ( newValue === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// for backward compatability if shading is set in the constructor\r\n\t\t\tif ( key === 'shading' ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\r\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst currentValue = this[ key ];\r\n\r\n\t\t\tif ( currentValue === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.' );\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( currentValue && currentValue.isColor ) {\r\n\r\n\t\t\t\tcurrentValue.set( newValue );\r\n\r\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\r\n\r\n\t\t\t\tcurrentValue.copy( newValue );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis[ key ] = newValue;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tconst isRoot = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tif ( isRoot ) {\r\n\r\n\t\t\tmeta = {\r\n\t\t\t\ttextures: {},\r\n\t\t\t\timages: {}\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tconst data = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.5,\r\n\t\t\t\ttype: 'Material',\r\n\t\t\t\tgenerator: 'Material.toJSON'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// standard Material serialization\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.type = this.type;\r\n\r\n\t\tif ( this.name !== '' ) data.name = this.name;\r\n\r\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\r\n\r\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\r\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\r\n\r\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\r\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\r\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\r\n\r\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\r\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\r\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\r\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\r\n\r\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\r\n\r\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\r\n\r\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\r\n\r\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\r\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\r\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\r\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\r\n\r\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\r\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\r\n\r\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\r\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\r\n\r\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\r\n\t\t\tdata.bumpScale = this.bumpScale;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\r\n\r\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\r\n\t\t\tdata.normalMapType = this.normalMapType;\r\n\t\t\tdata.normalScale = this.normalScale.toArray();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\r\n\r\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\r\n\t\t\tdata.displacementScale = this.displacementScale;\r\n\t\t\tdata.displacementBias = this.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\r\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\r\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.envMap && this.envMap.isTexture ) {\r\n\r\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\r\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\r\n\t\t\tdata.refractionRatio = this.refractionRatio;\r\n\r\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\r\n\t\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\r\n\r\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.size !== undefined ) data.size = this.size;\r\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\r\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\r\n\r\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\r\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\r\n\t\tif ( this.vertexColors ) data.vertexColors = true;\r\n\r\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\r\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\r\n\r\n\t\tdata.depthFunc = this.depthFunc;\r\n\t\tdata.depthTest = this.depthTest;\r\n\t\tdata.depthWrite = this.depthWrite;\r\n\t\tdata.colorWrite = this.colorWrite;\r\n\r\n\t\tdata.stencilWrite = this.stencilWrite;\r\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\r\n\t\tdata.stencilFunc = this.stencilFunc;\r\n\t\tdata.stencilRef = this.stencilRef;\r\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\r\n\t\tdata.stencilFail = this.stencilFail;\r\n\t\tdata.stencilZFail = this.stencilZFail;\r\n\t\tdata.stencilZPass = this.stencilZPass;\r\n\r\n\t\t// rotation (SpriteMaterial)\r\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\r\n\r\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\r\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\r\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\r\n\r\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\r\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\r\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\r\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\r\n\r\n\t\tif ( this.dithering === true ) data.dithering = true;\r\n\r\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\r\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\r\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\r\n\r\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\r\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\r\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\r\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\r\n\r\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\r\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\r\n\t\tif ( this.skinning === true ) data.skinning = true;\r\n\r\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\r\n\r\n\t\tif ( this.visible === false ) data.visible = false;\r\n\r\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\r\n\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\t// TODO: Copied from Object3D.toJSON\r\n\r\n\t\tfunction extractFromCache( cache ) {\r\n\r\n\t\t\tconst values = [];\r\n\r\n\t\t\tfor ( const key in cache ) {\r\n\r\n\t\t\t\tconst data = cache[ key ];\r\n\t\t\t\tdelete data.metadata;\r\n\t\t\t\tvalues.push( data );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn values;\r\n\r\n\t\t}\r\n\r\n\t\tif ( isRoot ) {\r\n\r\n\t\t\tconst textures = extractFromCache( meta.textures );\r\n\t\t\tconst images = extractFromCache( meta.images );\r\n\r\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\r\n\t\t\tif ( images.length > 0 ) data.images = images;\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.name = source.name;\r\n\r\n\t\tthis.fog = source.fog;\r\n\r\n\t\tthis.blending = source.blending;\r\n\t\tthis.side = source.side;\r\n\t\tthis.vertexColors = source.vertexColors;\r\n\r\n\t\tthis.opacity = source.opacity;\r\n\t\tthis.transparent = source.transparent;\r\n\r\n\t\tthis.blendSrc = source.blendSrc;\r\n\t\tthis.blendDst = source.blendDst;\r\n\t\tthis.blendEquation = source.blendEquation;\r\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\r\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\r\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\r\n\r\n\t\tthis.depthFunc = source.depthFunc;\r\n\t\tthis.depthTest = source.depthTest;\r\n\t\tthis.depthWrite = source.depthWrite;\r\n\r\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\r\n\t\tthis.stencilFunc = source.stencilFunc;\r\n\t\tthis.stencilRef = source.stencilRef;\r\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\r\n\t\tthis.stencilFail = source.stencilFail;\r\n\t\tthis.stencilZFail = source.stencilZFail;\r\n\t\tthis.stencilZPass = source.stencilZPass;\r\n\t\tthis.stencilWrite = source.stencilWrite;\r\n\r\n\t\tconst srcPlanes = source.clippingPlanes;\r\n\t\tlet dstPlanes = null;\r\n\r\n\t\tif ( srcPlanes !== null ) {\r\n\r\n\t\t\tconst n = srcPlanes.length;\r\n\t\t\tdstPlanes = new Array( n );\r\n\r\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\r\n\r\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.clippingPlanes = dstPlanes;\r\n\t\tthis.clipIntersection = source.clipIntersection;\r\n\t\tthis.clipShadows = source.clipShadows;\r\n\r\n\t\tthis.shadowSide = source.shadowSide;\r\n\r\n\t\tthis.colorWrite = source.colorWrite;\r\n\r\n\t\tthis.precision = source.precision;\r\n\r\n\t\tthis.polygonOffset = source.polygonOffset;\r\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\r\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\r\n\r\n\t\tthis.dithering = source.dithering;\r\n\r\n\t\tthis.alphaTest = source.alphaTest;\r\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\r\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\r\n\r\n\t\tthis.visible = source.visible;\r\n\r\n\t\tthis.toneMapped = source.toneMapped;\r\n\r\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperty( Material.prototype, 'needsUpdate', {\r\n\r\n\tset: function ( value ) {\r\n\r\n\t\tif ( value === true ) this.version ++;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\r\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\r\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\r\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\r\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\r\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\r\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\r\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\r\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\r\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\r\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\r\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\r\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\r\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\r\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\r\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\r\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\r\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\r\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\r\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\r\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\r\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\r\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\r\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\r\n\r\nconst _hslA = { h: 0, s: 0, l: 0 };\r\nconst _hslB = { h: 0, s: 0, l: 0 };\r\n\r\nfunction hue2rgb( p, q, t ) {\r\n\r\n\tif ( t < 0 ) t += 1;\r\n\tif ( t > 1 ) t -= 1;\r\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\r\n\tif ( t < 1 / 2 ) return q;\r\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\r\n\treturn p;\r\n\r\n}\r\n\r\nfunction SRGBToLinear( c ) {\r\n\r\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\r\n\r\n}\r\n\r\nfunction LinearToSRGB( c ) {\r\n\r\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\r\n\r\n}\r\n\r\nclass Color {\r\n\r\n\tconstructor( r, g, b ) {\r\n\r\n\t\tif ( g === undefined && b === undefined ) {\r\n\r\n\t\t\t// r is THREE.Color, hex or string\r\n\t\t\treturn this.set( r );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.setRGB( r, g, b );\r\n\r\n\t}\r\n\r\n\tset( value ) {\r\n\r\n\t\tif ( value && value.isColor ) {\r\n\r\n\t\t\tthis.copy( value );\r\n\r\n\t\t} else if ( typeof value === 'number' ) {\r\n\r\n\t\t\tthis.setHex( value );\r\n\r\n\t\t} else if ( typeof value === 'string' ) {\r\n\r\n\t\t\tthis.setStyle( value );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetScalar( scalar ) {\r\n\r\n\t\tthis.r = scalar;\r\n\t\tthis.g = scalar;\r\n\t\tthis.b = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetHex( hex ) {\r\n\r\n\t\thex = Math.floor( hex );\r\n\r\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\r\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\r\n\t\tthis.b = ( hex & 255 ) / 255;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetRGB( r, g, b ) {\r\n\r\n\t\tthis.r = r;\r\n\t\tthis.g = g;\r\n\t\tthis.b = b;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetHSL( h, s, l ) {\r\n\r\n\t\t// h,s,l ranges are in 0.0 - 1.0\r\n\t\th = MathUtils.euclideanModulo( h, 1 );\r\n\t\ts = MathUtils.clamp( s, 0, 1 );\r\n\t\tl = MathUtils.clamp( l, 0, 1 );\r\n\r\n\t\tif ( s === 0 ) {\r\n\r\n\t\t\tthis.r = this.g = this.b = l;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\r\n\t\t\tconst q = ( 2 * l ) - p;\r\n\r\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\r\n\t\t\tthis.g = hue2rgb( q, p, h );\r\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetStyle( style ) {\r\n\r\n\t\tfunction handleAlpha( string ) {\r\n\r\n\t\t\tif ( string === undefined ) return;\r\n\r\n\t\t\tif ( parseFloat( string ) < 1 ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t\tlet m;\r\n\r\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec( style ) ) {\r\n\r\n\t\t\t// rgb / hsl\r\n\r\n\t\t\tlet color;\r\n\t\t\tconst name = m[ 1 ];\r\n\t\t\tconst components = m[ 2 ];\r\n\r\n\t\t\tswitch ( name ) {\r\n\r\n\t\t\t\tcase 'rgb':\r\n\t\t\t\tcase 'rgba':\r\n\r\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\r\n\r\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\r\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\r\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\r\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\r\n\r\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\r\n\r\n\t\t\t\t\t\treturn this;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\r\n\r\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\r\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\r\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\r\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\r\n\r\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\r\n\r\n\t\t\t\t\t\treturn this;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'hsl':\r\n\t\t\t\tcase 'hsla':\r\n\r\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\r\n\r\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\r\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\r\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\r\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\r\n\r\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\r\n\r\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\r\n\r\n\t\t\t// hex color\r\n\r\n\t\t\tconst hex = m[ 1 ];\r\n\t\t\tconst size = hex.length;\r\n\r\n\t\t\tif ( size === 3 ) {\r\n\r\n\t\t\t\t// #ff0\r\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\r\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\r\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\r\n\r\n\t\t\t\treturn this;\r\n\r\n\t\t\t} else if ( size === 6 ) {\r\n\r\n\t\t\t\t// #ff0000\r\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\r\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\r\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\r\n\r\n\t\t\t\treturn this;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( style && style.length > 0 ) {\r\n\r\n\t\t\treturn this.setColorName( style );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetColorName( style ) {\r\n\r\n\t\t// color keywords\r\n\t\tconst hex = _colorKeywords[ style ];\r\n\r\n\t\tif ( hex !== undefined ) {\r\n\r\n\t\t\t// red\r\n\t\t\tthis.setHex( hex );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// unknown color\r\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor( this.r, this.g, this.b );\r\n\r\n\t}\r\n\r\n\tcopy( color ) {\r\n\r\n\t\tthis.r = color.r;\r\n\t\tthis.g = color.g;\r\n\t\tthis.b = color.b;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopyGammaToLinear( color, gammaFactor = 2.0 ) {\r\n\r\n\t\tthis.r = Math.pow( color.r, gammaFactor );\r\n\t\tthis.g = Math.pow( color.g, gammaFactor );\r\n\t\tthis.b = Math.pow( color.b, gammaFactor );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopyLinearToGamma( color, gammaFactor = 2.0 ) {\r\n\r\n\t\tconst safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\r\n\r\n\t\tthis.r = Math.pow( color.r, safeInverse );\r\n\t\tthis.g = Math.pow( color.g, safeInverse );\r\n\t\tthis.b = Math.pow( color.b, safeInverse );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tconvertGammaToLinear( gammaFactor ) {\r\n\r\n\t\tthis.copyGammaToLinear( this, gammaFactor );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tconvertLinearToGamma( gammaFactor ) {\r\n\r\n\t\tthis.copyLinearToGamma( this, gammaFactor );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopySRGBToLinear( color ) {\r\n\r\n\t\tthis.r = SRGBToLinear( color.r );\r\n\t\tthis.g = SRGBToLinear( color.g );\r\n\t\tthis.b = SRGBToLinear( color.b );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopyLinearToSRGB( color ) {\r\n\r\n\t\tthis.r = LinearToSRGB( color.r );\r\n\t\tthis.g = LinearToSRGB( color.g );\r\n\t\tthis.b = LinearToSRGB( color.b );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tconvertSRGBToLinear() {\r\n\r\n\t\tthis.copySRGBToLinear( this );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tconvertLinearToSRGB() {\r\n\r\n\t\tthis.copyLinearToSRGB( this );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetHex() {\r\n\r\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\r\n\r\n\t}\r\n\r\n\tgetHexString() {\r\n\r\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\r\n\r\n\t}\r\n\r\n\tgetHSL( target ) {\r\n\r\n\t\t// h,s,l ranges are in 0.0 - 1.0\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\r\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\r\n\r\n\t\t}\r\n\r\n\t\tconst r = this.r, g = this.g, b = this.b;\r\n\r\n\t\tconst max = Math.max( r, g, b );\r\n\t\tconst min = Math.min( r, g, b );\r\n\r\n\t\tlet hue, saturation;\r\n\t\tconst lightness = ( min + max ) / 2.0;\r\n\r\n\t\tif ( min === max ) {\r\n\r\n\t\t\thue = 0;\r\n\t\t\tsaturation = 0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst delta = max - min;\r\n\r\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\r\n\r\n\t\t\tswitch ( max ) {\r\n\r\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\r\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\r\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t\thue /= 6;\r\n\r\n\t\t}\r\n\r\n\t\ttarget.h = hue;\r\n\t\ttarget.s = saturation;\r\n\t\ttarget.l = lightness;\r\n\r\n\t\treturn target;\r\n\r\n\t}\r\n\r\n\tgetStyle() {\r\n\r\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\r\n\r\n\t}\r\n\r\n\toffsetHSL( h, s, l ) {\r\n\r\n\t\tthis.getHSL( _hslA );\r\n\r\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\r\n\r\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tadd( color ) {\r\n\r\n\t\tthis.r += color.r;\r\n\t\tthis.g += color.g;\r\n\t\tthis.b += color.b;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddColors( color1, color2 ) {\r\n\r\n\t\tthis.r = color1.r + color2.r;\r\n\t\tthis.g = color1.g + color2.g;\r\n\t\tthis.b = color1.b + color2.b;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddScalar( s ) {\r\n\r\n\t\tthis.r += s;\r\n\t\tthis.g += s;\r\n\t\tthis.b += s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsub( color ) {\r\n\r\n\t\tthis.r = Math.max( 0, this.r - color.r );\r\n\t\tthis.g = Math.max( 0, this.g - color.g );\r\n\t\tthis.b = Math.max( 0, this.b - color.b );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiply( color ) {\r\n\r\n\t\tthis.r *= color.r;\r\n\t\tthis.g *= color.g;\r\n\t\tthis.b *= color.b;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmultiplyScalar( s ) {\r\n\r\n\t\tthis.r *= s;\r\n\t\tthis.g *= s;\r\n\t\tthis.b *= s;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tlerp( color, alpha ) {\r\n\r\n\t\tthis.r += ( color.r - this.r ) * alpha;\r\n\t\tthis.g += ( color.g - this.g ) * alpha;\r\n\t\tthis.b += ( color.b - this.b ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tlerpColors( color1, color2, alpha ) {\r\n\r\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\r\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\r\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tlerpHSL( color, alpha ) {\r\n\r\n\t\tthis.getHSL( _hslA );\r\n\t\tcolor.getHSL( _hslB );\r\n\r\n\t\tconst h = MathUtils.lerp( _hslA.h, _hslB.h, alpha );\r\n\t\tconst s = MathUtils.lerp( _hslA.s, _hslB.s, alpha );\r\n\t\tconst l = MathUtils.lerp( _hslA.l, _hslB.l, alpha );\r\n\r\n\t\tthis.setHSL( h, s, l );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tequals( c ) {\r\n\r\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\r\n\r\n\t}\r\n\r\n\tfromArray( array, offset = 0 ) {\r\n\r\n\t\tthis.r = array[ offset ];\r\n\t\tthis.g = array[ offset + 1 ];\r\n\t\tthis.b = array[ offset + 2 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoArray( array = [], offset = 0 ) {\r\n\r\n\t\tarray[ offset ] = this.r;\r\n\t\tarray[ offset + 1 ] = this.g;\r\n\t\tarray[ offset + 2 ] = this.b;\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n\tfromBufferAttribute( attribute, index ) {\r\n\r\n\t\tthis.r = attribute.getX( index );\r\n\t\tthis.g = attribute.getY( index );\r\n\t\tthis.b = attribute.getZ( index );\r\n\r\n\t\tif ( attribute.normalized === true ) {\r\n\r\n\t\t\t// assuming Uint8Array\r\n\r\n\t\t\tthis.r /= 255;\r\n\t\t\tthis.g /= 255;\r\n\t\t\tthis.b /= 255;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\treturn this.getHex();\r\n\r\n\t}\r\n\r\n}\r\n\r\nColor.NAMES = _colorKeywords;\r\n\r\nColor.prototype.isColor = true;\r\nColor.prototype.r = 1;\r\nColor.prototype.g = 1;\r\nColor.prototype.b = 1;\r\n\r\n/**\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  specularMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\r\n *  combine: THREE.Multiply,\r\n *  reflectivity: <float>,\r\n *  refractionRatio: <float>,\r\n *\r\n *  depthTest: <bool>,\r\n *  depthWrite: <bool>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>\r\n * }\r\n */\r\n\r\nclass MeshBasicMaterial extends Material {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'MeshBasicMaterial';\r\n\r\n\t\tthis.color = new Color( 0xffffff ); // emissive\r\n\r\n\t\tthis.map = null;\r\n\r\n\t\tthis.lightMap = null;\r\n\t\tthis.lightMapIntensity = 1.0;\r\n\r\n\t\tthis.aoMap = null;\r\n\t\tthis.aoMapIntensity = 1.0;\r\n\r\n\t\tthis.specularMap = null;\r\n\r\n\t\tthis.alphaMap = null;\r\n\r\n\t\tthis.envMap = null;\r\n\t\tthis.combine = MultiplyOperation;\r\n\t\tthis.reflectivity = 1;\r\n\t\tthis.refractionRatio = 0.98;\r\n\r\n\t\tthis.wireframe = false;\r\n\t\tthis.wireframeLinewidth = 1;\r\n\t\tthis.wireframeLinecap = 'round';\r\n\t\tthis.wireframeLinejoin = 'round';\r\n\r\n\t\tthis.skinning = false;\r\n\t\tthis.morphTargets = false;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.color.copy( source.color );\r\n\r\n\t\tthis.map = source.map;\r\n\r\n\t\tthis.lightMap = source.lightMap;\r\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\t\tthis.aoMap = source.aoMap;\r\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\t\tthis.specularMap = source.specularMap;\r\n\r\n\t\tthis.alphaMap = source.alphaMap;\r\n\r\n\t\tthis.envMap = source.envMap;\r\n\t\tthis.combine = source.combine;\r\n\t\tthis.reflectivity = source.reflectivity;\r\n\t\tthis.refractionRatio = source.refractionRatio;\r\n\r\n\t\tthis.wireframe = source.wireframe;\r\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\t\tthis.skinning = source.skinning;\r\n\t\tthis.morphTargets = source.morphTargets;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\r\n\r\nconst _vector$9 = new Vector3();\r\nconst _vector2 = new Vector2();\r\n\r\nfunction BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tif ( Array.isArray( array ) ) {\r\n\r\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\r\n\r\n\t}\r\n\r\n\tthis.name = '';\r\n\r\n\tthis.array = array;\r\n\tthis.itemSize = itemSize;\r\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\r\n\tthis.normalized = normalized === true;\r\n\r\n\tthis.usage = StaticDrawUsage;\r\n\tthis.updateRange = { offset: 0, count: - 1 };\r\n\r\n\tthis.version = 0;\r\n\r\n}\r\n\r\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\r\n\r\n\tset: function ( value ) {\r\n\r\n\t\tif ( value === true ) this.version ++;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( BufferAttribute.prototype, {\r\n\r\n\tisBufferAttribute: true,\r\n\r\n\tonUploadCallback: function () {},\r\n\r\n\tsetUsage: function ( value ) {\r\n\r\n\t\tthis.usage = value;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.name = source.name;\r\n\t\tthis.array = new source.array.constructor( source.array );\r\n\t\tthis.itemSize = source.itemSize;\r\n\t\tthis.count = source.count;\r\n\t\tthis.normalized = source.normalized;\r\n\r\n\t\tthis.usage = source.usage;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyAt: function ( index1, attribute, index2 ) {\r\n\r\n\t\tindex1 *= this.itemSize;\r\n\t\tindex2 *= attribute.itemSize;\r\n\r\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\r\n\r\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyArray: function ( array ) {\r\n\r\n\t\tthis.array.set( array );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyColorsArray: function ( colors ) {\r\n\r\n\t\tconst array = this.array;\r\n\t\tlet offset = 0;\r\n\r\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\r\n\r\n\t\t\tlet color = colors[ i ];\r\n\r\n\t\t\tif ( color === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\r\n\t\t\t\tcolor = new Color();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray[ offset ++ ] = color.r;\r\n\t\t\tarray[ offset ++ ] = color.g;\r\n\t\t\tarray[ offset ++ ] = color.b;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyVector2sArray: function ( vectors ) {\r\n\r\n\t\tconst array = this.array;\r\n\t\tlet offset = 0;\r\n\r\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\r\n\r\n\t\t\tlet vector = vectors[ i ];\r\n\r\n\t\t\tif ( vector === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\r\n\t\t\t\tvector = new Vector2();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray[ offset ++ ] = vector.x;\r\n\t\t\tarray[ offset ++ ] = vector.y;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyVector3sArray: function ( vectors ) {\r\n\r\n\t\tconst array = this.array;\r\n\t\tlet offset = 0;\r\n\r\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\r\n\r\n\t\t\tlet vector = vectors[ i ];\r\n\r\n\t\t\tif ( vector === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\r\n\t\t\t\tvector = new Vector3();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray[ offset ++ ] = vector.x;\r\n\t\t\tarray[ offset ++ ] = vector.y;\r\n\t\t\tarray[ offset ++ ] = vector.z;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyVector4sArray: function ( vectors ) {\r\n\r\n\t\tconst array = this.array;\r\n\t\tlet offset = 0;\r\n\r\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\r\n\r\n\t\t\tlet vector = vectors[ i ];\r\n\r\n\t\t\tif ( vector === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\r\n\t\t\t\tvector = new Vector4();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray[ offset ++ ] = vector.x;\r\n\t\t\tarray[ offset ++ ] = vector.y;\r\n\t\t\tarray[ offset ++ ] = vector.z;\r\n\t\t\tarray[ offset ++ ] = vector.w;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyMatrix3: function ( m ) {\r\n\r\n\t\tif ( this.itemSize === 2 ) {\r\n\r\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\r\n\r\n\t\t\t\t_vector2.fromBufferAttribute( this, i );\r\n\t\t\t\t_vector2.applyMatrix3( m );\r\n\r\n\t\t\t\tthis.setXY( i, _vector2.x, _vector2.y );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( this.itemSize === 3 ) {\r\n\r\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\r\n\r\n\t\t\t\t_vector$9.fromBufferAttribute( this, i );\r\n\t\t\t\t_vector$9.applyMatrix3( m );\r\n\r\n\t\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( m ) {\r\n\r\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\r\n\r\n\t\t\t_vector$9.x = this.getX( i );\r\n\t\t\t_vector$9.y = this.getY( i );\r\n\t\t\t_vector$9.z = this.getZ( i );\r\n\r\n\t\t\t_vector$9.applyMatrix4( m );\r\n\r\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyNormalMatrix: function ( m ) {\r\n\r\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\r\n\r\n\t\t\t_vector$9.x = this.getX( i );\r\n\t\t\t_vector$9.y = this.getY( i );\r\n\t\t\t_vector$9.z = this.getZ( i );\r\n\r\n\t\t\t_vector$9.applyNormalMatrix( m );\r\n\r\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttransformDirection: function ( m ) {\r\n\r\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\r\n\r\n\t\t\t_vector$9.x = this.getX( i );\r\n\t\t\t_vector$9.y = this.getY( i );\r\n\t\t\t_vector$9.z = this.getZ( i );\r\n\r\n\t\t\t_vector$9.transformDirection( m );\r\n\r\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tset: function ( value, offset = 0 ) {\r\n\r\n\t\tthis.array.set( value, offset );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetX: function ( index ) {\r\n\r\n\t\treturn this.array[ index * this.itemSize ];\r\n\r\n\t},\r\n\r\n\tsetX: function ( index, x ) {\r\n\r\n\t\tthis.array[ index * this.itemSize ] = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetY: function ( index ) {\r\n\r\n\t\treturn this.array[ index * this.itemSize + 1 ];\r\n\r\n\t},\r\n\r\n\tsetY: function ( index, y ) {\r\n\r\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetZ: function ( index ) {\r\n\r\n\t\treturn this.array[ index * this.itemSize + 2 ];\r\n\r\n\t},\r\n\r\n\tsetZ: function ( index, z ) {\r\n\r\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetW: function ( index ) {\r\n\r\n\t\treturn this.array[ index * this.itemSize + 3 ];\r\n\r\n\t},\r\n\r\n\tsetW: function ( index, w ) {\r\n\r\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXY: function ( index, x, y ) {\r\n\r\n\t\tindex *= this.itemSize;\r\n\r\n\t\tthis.array[ index + 0 ] = x;\r\n\t\tthis.array[ index + 1 ] = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXYZ: function ( index, x, y, z ) {\r\n\r\n\t\tindex *= this.itemSize;\r\n\r\n\t\tthis.array[ index + 0 ] = x;\r\n\t\tthis.array[ index + 1 ] = y;\r\n\t\tthis.array[ index + 2 ] = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXYZW: function ( index, x, y, z, w ) {\r\n\r\n\t\tindex *= this.itemSize;\r\n\r\n\t\tthis.array[ index + 0 ] = x;\r\n\t\tthis.array[ index + 1 ] = y;\r\n\t\tthis.array[ index + 2 ] = z;\r\n\t\tthis.array[ index + 3 ] = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tonUpload: function ( callback ) {\r\n\r\n\t\tthis.onUploadCallback = callback;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tconst data = {\r\n\t\t\titemSize: this.itemSize,\r\n\t\t\ttype: this.array.constructor.name,\r\n\t\t\tarray: Array.prototype.slice.call( this.array ),\r\n\t\t\tnormalized: this.normalized\r\n\t\t};\r\n\r\n\t\tif ( this.name !== '' ) data.name = this.name;\r\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\r\n\t\tif ( this.updateRange.offset !== 0 || this.updateRange.count !== - 1 ) data.updateRange = this.updateRange;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\r\n\r\n\r\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\r\n\r\n\r\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\r\n\r\n\r\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\r\n\r\n\r\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\r\n\r\n\r\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\r\n\r\n\r\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\r\n\r\nfunction Float16BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nFloat16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nFloat16BufferAttribute.prototype.constructor = Float16BufferAttribute;\r\nFloat16BufferAttribute.prototype.isFloat16BufferAttribute = true;\r\n\r\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\r\n\r\n\r\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\r\n\r\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\r\n\r\n}\r\n\r\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\r\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\r\n\r\nfunction arrayMax( array ) {\r\n\r\n\tif ( array.length === 0 ) return - Infinity;\r\n\r\n\tlet max = array[ 0 ];\r\n\r\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\r\n\r\n\t\tif ( array[ i ] > max ) max = array[ i ];\r\n\r\n\t}\r\n\r\n\treturn max;\r\n\r\n}\r\n\r\nconst TYPED_ARRAYS = {\r\n\tInt8Array: Int8Array,\r\n\tUint8Array: Uint8Array,\r\n\tUint8ClampedArray: Uint8ClampedArray,\r\n\tInt16Array: Int16Array,\r\n\tUint16Array: Uint16Array,\r\n\tInt32Array: Int32Array,\r\n\tUint32Array: Uint32Array,\r\n\tFloat32Array: Float32Array,\r\n\tFloat64Array: Float64Array\r\n};\r\n\r\nfunction getTypedArray( type, buffer ) {\r\n\r\n\treturn new TYPED_ARRAYS[ type ]( buffer );\r\n\r\n}\r\n\r\nlet _id = 0;\r\n\r\nconst _m1 = new Matrix4();\r\nconst _obj = new Object3D();\r\nconst _offset = new Vector3();\r\nconst _box$1 = new Box3();\r\nconst _boxMorphTargets = new Box3();\r\nconst _vector$8 = new Vector3();\r\n\r\nfunction BufferGeometry() {\r\n\r\n\tObject.defineProperty( this, 'id', { value: _id ++ } );\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.type = 'BufferGeometry';\r\n\r\n\tthis.index = null;\r\n\tthis.attributes = {};\r\n\r\n\tthis.morphAttributes = {};\r\n\tthis.morphTargetsRelative = false;\r\n\r\n\tthis.groups = [];\r\n\r\n\tthis.boundingBox = null;\r\n\tthis.boundingSphere = null;\r\n\r\n\tthis.drawRange = { start: 0, count: Infinity };\r\n\r\n\tthis.userData = {};\r\n\r\n}\r\n\r\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\r\n\r\n\tconstructor: BufferGeometry,\r\n\r\n\tisBufferGeometry: true,\r\n\r\n\tgetIndex: function () {\r\n\r\n\t\treturn this.index;\r\n\r\n\t},\r\n\r\n\tsetIndex: function ( index ) {\r\n\r\n\t\tif ( Array.isArray( index ) ) {\r\n\r\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.index = index;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetAttribute: function ( name ) {\r\n\r\n\t\treturn this.attributes[ name ];\r\n\r\n\t},\r\n\r\n\tsetAttribute: function ( name, attribute ) {\r\n\r\n\t\tthis.attributes[ name ] = attribute;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdeleteAttribute: function ( name ) {\r\n\r\n\t\tdelete this.attributes[ name ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\thasAttribute: function ( name ) {\r\n\r\n\t\treturn this.attributes[ name ] !== undefined;\r\n\r\n\t},\r\n\r\n\taddGroup: function ( start, count, materialIndex = 0 ) {\r\n\r\n\t\tthis.groups.push( {\r\n\r\n\t\t\tstart: start,\r\n\t\t\tcount: count,\r\n\t\t\tmaterialIndex: materialIndex\r\n\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\tclearGroups: function () {\r\n\r\n\t\tthis.groups = [];\r\n\r\n\t},\r\n\r\n\tsetDrawRange: function ( start, count ) {\r\n\r\n\t\tthis.drawRange.start = start;\r\n\t\tthis.drawRange.count = count;\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( matrix ) {\r\n\r\n\t\tconst position = this.attributes.position;\r\n\r\n\t\tif ( position !== undefined ) {\r\n\r\n\t\t\tposition.applyMatrix4( matrix );\r\n\r\n\t\t\tposition.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tconst normal = this.attributes.normal;\r\n\r\n\t\tif ( normal !== undefined ) {\r\n\r\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\r\n\r\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\r\n\r\n\t\t\tnormal.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tconst tangent = this.attributes.tangent;\r\n\r\n\t\tif ( tangent !== undefined ) {\r\n\r\n\t\t\ttangent.transformDirection( matrix );\r\n\r\n\t\t\ttangent.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.boundingBox !== null ) {\r\n\r\n\t\t\tthis.computeBoundingBox();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.boundingSphere !== null ) {\r\n\r\n\t\t\tthis.computeBoundingSphere();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateX: function ( angle ) {\r\n\r\n\t\t// rotate geometry around world x-axis\r\n\r\n\t\t_m1.makeRotationX( angle );\r\n\r\n\t\tthis.applyMatrix4( _m1 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateY: function ( angle ) {\r\n\r\n\t\t// rotate geometry around world y-axis\r\n\r\n\t\t_m1.makeRotationY( angle );\r\n\r\n\t\tthis.applyMatrix4( _m1 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateZ: function ( angle ) {\r\n\r\n\t\t// rotate geometry around world z-axis\r\n\r\n\t\t_m1.makeRotationZ( angle );\r\n\r\n\t\tthis.applyMatrix4( _m1 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranslate: function ( x, y, z ) {\r\n\r\n\t\t// translate geometry\r\n\r\n\t\t_m1.makeTranslation( x, y, z );\r\n\r\n\t\tthis.applyMatrix4( _m1 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tscale: function ( x, y, z ) {\r\n\r\n\t\t// scale geometry\r\n\r\n\t\t_m1.makeScale( x, y, z );\r\n\r\n\t\tthis.applyMatrix4( _m1 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlookAt: function ( vector ) {\r\n\r\n\t\t_obj.lookAt( vector );\r\n\r\n\t\t_obj.updateMatrix();\r\n\r\n\t\tthis.applyMatrix4( _obj.matrix );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcenter: function () {\r\n\r\n\t\tthis.computeBoundingBox();\r\n\r\n\t\tthis.boundingBox.getCenter( _offset ).negate();\r\n\r\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromPoints: function ( points ) {\r\n\r\n\t\tconst position = [];\r\n\r\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst point = points[ i ];\r\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\r\n\r\n\t\t}\r\n\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcomputeBoundingBox: function () {\r\n\r\n\t\tif ( this.boundingBox === null ) {\r\n\r\n\t\t\tthis.boundingBox = new Box3();\r\n\r\n\t\t}\r\n\r\n\t\tconst position = this.attributes.position;\r\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\r\n\r\n\t\tif ( position && position.isGLBufferAttribute ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\r\n\r\n\t\t\tthis.boundingBox.set(\r\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\r\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\r\n\t\t\t);\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( position !== undefined ) {\r\n\r\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\r\n\r\n\t\t\t// process morph attributes if present\r\n\r\n\t\t\tif ( morphAttributesPosition ) {\r\n\r\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\r\n\t\t\t\t\t_box$1.setFromBufferAttribute( morphAttribute );\r\n\r\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\r\n\r\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.min, _box$1.min );\r\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\r\n\r\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.max, _box$1.max );\r\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.min );\r\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.max );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.boundingBox.makeEmpty();\r\n\r\n\t\t}\r\n\r\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeBoundingSphere: function () {\r\n\r\n\t\tif ( this.boundingSphere === null ) {\r\n\r\n\t\t\tthis.boundingSphere = new Sphere();\r\n\r\n\t\t}\r\n\r\n\t\tconst position = this.attributes.position;\r\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\r\n\r\n\t\tif ( position && position.isGLBufferAttribute ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\r\n\r\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\t// first, find the center of the bounding sphere\r\n\r\n\t\t\tconst center = this.boundingSphere.center;\r\n\r\n\t\t\t_box$1.setFromBufferAttribute( position );\r\n\r\n\t\t\t// process morph attributes if present\r\n\r\n\t\t\tif ( morphAttributesPosition ) {\r\n\r\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\r\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\r\n\r\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\r\n\r\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.min, _boxMorphTargets.min );\r\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\r\n\r\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.max, _boxMorphTargets.max );\r\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.min );\r\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.max );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_box$1.getCenter( center );\r\n\r\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\r\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\r\n\r\n\t\t\tlet maxRadiusSq = 0;\r\n\r\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\r\n\r\n\t\t\t\t_vector$8.fromBufferAttribute( position, i );\r\n\r\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// process morph attributes if present\r\n\r\n\t\t\tif ( morphAttributesPosition ) {\r\n\r\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\r\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\r\n\r\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\t_vector$8.fromBufferAttribute( morphAttribute, j );\r\n\r\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\r\n\r\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\r\n\t\t\t\t\t\t\t_vector$8.add( _offset );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\r\n\r\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeFaceNormals: function () {\r\n\r\n\t\t// backwards compatibility\r\n\r\n\t},\r\n\r\n\tcomputeTangents: function () {\r\n\r\n\t\tconst index = this.index;\r\n\t\tconst attributes = this.attributes;\r\n\r\n\t\t// based on http://www.terathon.com/code/tangent.html\r\n\t\t// (per vertex tangents)\r\n\r\n\t\tif ( index === null ||\r\n\t\t\t attributes.position === undefined ||\r\n\t\t\t attributes.normal === undefined ||\r\n\t\t\t attributes.uv === undefined ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tconst indices = index.array;\r\n\t\tconst positions = attributes.position.array;\r\n\t\tconst normals = attributes.normal.array;\r\n\t\tconst uvs = attributes.uv.array;\r\n\r\n\t\tconst nVertices = positions.length / 3;\r\n\r\n\t\tif ( attributes.tangent === undefined ) {\r\n\r\n\t\t\tthis.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\r\n\r\n\t\t}\r\n\r\n\t\tconst tangents = attributes.tangent.array;\r\n\r\n\t\tconst tan1 = [], tan2 = [];\r\n\r\n\t\tfor ( let i = 0; i < nVertices; i ++ ) {\r\n\r\n\t\t\ttan1[ i ] = new Vector3();\r\n\t\t\ttan2[ i ] = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tconst vA = new Vector3(),\r\n\t\t\tvB = new Vector3(),\r\n\t\t\tvC = new Vector3(),\r\n\r\n\t\t\tuvA = new Vector2(),\r\n\t\t\tuvB = new Vector2(),\r\n\t\t\tuvC = new Vector2(),\r\n\r\n\t\t\tsdir = new Vector3(),\r\n\t\t\ttdir = new Vector3();\r\n\r\n\t\tfunction handleTriangle( a, b, c ) {\r\n\r\n\t\t\tvA.fromArray( positions, a * 3 );\r\n\t\t\tvB.fromArray( positions, b * 3 );\r\n\t\t\tvC.fromArray( positions, c * 3 );\r\n\r\n\t\t\tuvA.fromArray( uvs, a * 2 );\r\n\t\t\tuvB.fromArray( uvs, b * 2 );\r\n\t\t\tuvC.fromArray( uvs, c * 2 );\r\n\r\n\t\t\tvB.sub( vA );\r\n\t\t\tvC.sub( vA );\r\n\r\n\t\t\tuvB.sub( uvA );\r\n\t\t\tuvC.sub( uvA );\r\n\r\n\t\t\tconst r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\r\n\r\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\r\n\r\n\t\t\tif ( ! isFinite( r ) ) return;\r\n\r\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\r\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\r\n\r\n\t\t\ttan1[ a ].add( sdir );\r\n\t\t\ttan1[ b ].add( sdir );\r\n\t\t\ttan1[ c ].add( sdir );\r\n\r\n\t\t\ttan2[ a ].add( tdir );\r\n\t\t\ttan2[ b ].add( tdir );\r\n\t\t\ttan2[ c ].add( tdir );\r\n\r\n\t\t}\r\n\r\n\t\tlet groups = this.groups;\r\n\r\n\t\tif ( groups.length === 0 ) {\r\n\r\n\t\t\tgroups = [ {\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tcount: indices.length\r\n\t\t\t} ];\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\r\n\r\n\t\t\tconst group = groups[ i ];\r\n\r\n\t\t\tconst start = group.start;\r\n\t\t\tconst count = group.count;\r\n\r\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\r\n\r\n\t\t\t\thandleTriangle(\r\n\t\t\t\t\tindices[ j + 0 ],\r\n\t\t\t\t\tindices[ j + 1 ],\r\n\t\t\t\t\tindices[ j + 2 ]\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst tmp = new Vector3(), tmp2 = new Vector3();\r\n\t\tconst n = new Vector3(), n2 = new Vector3();\r\n\r\n\t\tfunction handleVertex( v ) {\r\n\r\n\t\t\tn.fromArray( normals, v * 3 );\r\n\t\t\tn2.copy( n );\r\n\r\n\t\t\tconst t = tan1[ v ];\r\n\r\n\t\t\t// Gram-Schmidt orthogonalize\r\n\r\n\t\t\ttmp.copy( t );\r\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\r\n\r\n\t\t\t// Calculate handedness\r\n\r\n\t\t\ttmp2.crossVectors( n2, t );\r\n\t\t\tconst test = tmp2.dot( tan2[ v ] );\r\n\t\t\tconst w = ( test < 0.0 ) ? - 1.0 : 1.0;\r\n\r\n\t\t\ttangents[ v * 4 ] = tmp.x;\r\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\r\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\r\n\t\t\ttangents[ v * 4 + 3 ] = w;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\r\n\r\n\t\t\tconst group = groups[ i ];\r\n\r\n\t\t\tconst start = group.start;\r\n\t\t\tconst count = group.count;\r\n\r\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\r\n\r\n\t\t\t\thandleVertex( indices[ j + 0 ] );\r\n\t\t\t\thandleVertex( indices[ j + 1 ] );\r\n\t\t\t\thandleVertex( indices[ j + 2 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeVertexNormals: function () {\r\n\r\n\t\tconst index = this.index;\r\n\t\tconst positionAttribute = this.getAttribute( 'position' );\r\n\r\n\t\tif ( positionAttribute !== undefined ) {\r\n\r\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\r\n\r\n\t\t\tif ( normalAttribute === undefined ) {\r\n\r\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\r\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// reset existing normals to zero\r\n\r\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\r\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\r\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\r\n\r\n\t\t\t// indexed elements\r\n\r\n\t\t\tif ( index ) {\r\n\r\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\r\n\r\n\t\t\t\t\tconst vA = index.getX( i + 0 );\r\n\t\t\t\t\tconst vB = index.getX( i + 1 );\r\n\t\t\t\t\tconst vC = index.getX( i + 2 );\r\n\r\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\r\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\r\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\r\n\r\n\t\t\t\t\tcb.subVectors( pC, pB );\r\n\t\t\t\t\tab.subVectors( pA, pB );\r\n\t\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\r\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\r\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\r\n\r\n\t\t\t\t\tnA.add( cb );\r\n\t\t\t\t\tnB.add( cb );\r\n\t\t\t\t\tnC.add( cb );\r\n\r\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\r\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\r\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\r\n\r\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\r\n\r\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\r\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\r\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\r\n\r\n\t\t\t\t\tcb.subVectors( pC, pB );\r\n\t\t\t\t\tab.subVectors( pA, pB );\r\n\t\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\r\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\r\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.normalizeNormals();\r\n\r\n\t\t\tnormalAttribute.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tmerge: function ( geometry, offset ) {\r\n\r\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( offset === undefined ) {\r\n\r\n\t\t\toffset = 0;\r\n\r\n\t\t\tconsole.warn(\r\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\r\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tconst attributes = this.attributes;\r\n\r\n\t\tfor ( const key in attributes ) {\r\n\r\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\r\n\r\n\t\t\tconst attribute1 = attributes[ key ];\r\n\t\t\tconst attributeArray1 = attribute1.array;\r\n\r\n\t\t\tconst attribute2 = geometry.attributes[ key ];\r\n\t\t\tconst attributeArray2 = attribute2.array;\r\n\r\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\r\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\r\n\r\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\r\n\r\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnormalizeNormals: function () {\r\n\r\n\t\tconst normals = this.attributes.normal;\r\n\r\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\r\n\r\n\t\t\t_vector$8.fromBufferAttribute( normals, i );\r\n\r\n\t\t\t_vector$8.normalize();\r\n\r\n\t\t\tnormals.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttoNonIndexed: function () {\r\n\r\n\t\tfunction convertBufferAttribute( attribute, indices ) {\r\n\r\n\t\t\tconst array = attribute.array;\r\n\t\t\tconst itemSize = attribute.itemSize;\r\n\t\t\tconst normalized = attribute.normalized;\r\n\r\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\r\n\r\n\t\t\tlet index = 0, index2 = 0;\r\n\r\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tindex = indices[ i ] * itemSize;\r\n\r\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\r\n\r\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( this.index === null ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.' );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tconst geometry2 = new BufferGeometry();\r\n\r\n\t\tconst indices = this.index.array;\r\n\t\tconst attributes = this.attributes;\r\n\r\n\t\t// attributes\r\n\r\n\t\tfor ( const name in attributes ) {\r\n\r\n\t\t\tconst attribute = attributes[ name ];\r\n\r\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\r\n\r\n\t\t\tgeometry2.setAttribute( name, newAttribute );\r\n\r\n\t\t}\r\n\r\n\t\t// morph attributes\r\n\r\n\t\tconst morphAttributes = this.morphAttributes;\r\n\r\n\t\tfor ( const name in morphAttributes ) {\r\n\r\n\t\t\tconst morphArray = [];\r\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\r\n\r\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tconst attribute = morphAttribute[ i ];\r\n\r\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\r\n\r\n\t\t\t\tmorphArray.push( newAttribute );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\r\n\r\n\t\t}\r\n\r\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\r\n\r\n\t\t// groups\r\n\r\n\t\tconst groups = this.groups;\r\n\r\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst group = groups[ i ];\r\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\r\n\r\n\t\t}\r\n\r\n\t\treturn geometry2;\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tconst data = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.5,\r\n\t\t\t\ttype: 'BufferGeometry',\r\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// standard BufferGeometry serialization\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.type = this.type;\r\n\t\tif ( this.name !== '' ) data.name = this.name;\r\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\r\n\r\n\t\tif ( this.parameters !== undefined ) {\r\n\r\n\t\t\tconst parameters = this.parameters;\r\n\r\n\t\t\tfor ( const key in parameters ) {\r\n\r\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\t// for simplicity the code assumes attributes are not shared across geometries, see #15811\r\n\r\n\t\tdata.data = { attributes: {} };\r\n\r\n\t\tconst index = this.index;\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tdata.data.index = {\r\n\t\t\t\ttype: index.array.constructor.name,\r\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tconst attributes = this.attributes;\r\n\r\n\t\tfor ( const key in attributes ) {\r\n\r\n\t\t\tconst attribute = attributes[ key ];\r\n\r\n\t\t\tdata.data.attributes[ key ] = attribute.toJSON( data.data );\r\n\r\n\t\t}\r\n\r\n\t\tconst morphAttributes = {};\r\n\t\tlet hasMorphAttributes = false;\r\n\r\n\t\tfor ( const key in this.morphAttributes ) {\r\n\r\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\r\n\r\n\t\t\tconst array = [];\r\n\r\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tconst attribute = attributeArray[ i ];\r\n\r\n\t\t\t\tarray.push( attribute.toJSON( data.data ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( array.length > 0 ) {\r\n\r\n\t\t\t\tmorphAttributes[ key ] = array;\r\n\r\n\t\t\t\thasMorphAttributes = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( hasMorphAttributes ) {\r\n\r\n\t\t\tdata.data.morphAttributes = morphAttributes;\r\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\r\n\r\n\t\t}\r\n\r\n\t\tconst groups = this.groups;\r\n\r\n\t\tif ( groups.length > 0 ) {\r\n\r\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\r\n\r\n\t\t}\r\n\r\n\t\tconst boundingSphere = this.boundingSphere;\r\n\r\n\t\tif ( boundingSphere !== null ) {\r\n\r\n\t\t\tdata.data.boundingSphere = {\r\n\t\t\t\tcenter: boundingSphere.center.toArray(),\r\n\t\t\t\tradius: boundingSphere.radius\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\t/*\r\n\t\t // Handle primitives\r\n\r\n\t\t const parameters = this.parameters;\r\n\r\n\t\t if ( parameters !== undefined ) {\r\n\r\n\t\t const values = [];\r\n\r\n\t\t for ( const key in parameters ) {\r\n\r\n\t\t values.push( parameters[ key ] );\r\n\r\n\t\t }\r\n\r\n\t\t const geometry = Object.create( this.constructor.prototype );\r\n\t\t this.constructor.apply( geometry, values );\r\n\t\t return geometry;\r\n\r\n\t\t }\r\n\r\n\t\t return new this.constructor().copy( this );\r\n\t\t */\r\n\r\n\t\treturn new BufferGeometry().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\t// reset\r\n\r\n\t\tthis.index = null;\r\n\t\tthis.attributes = {};\r\n\t\tthis.morphAttributes = {};\r\n\t\tthis.groups = [];\r\n\t\tthis.boundingBox = null;\r\n\t\tthis.boundingSphere = null;\r\n\r\n\t\t// used for storing cloned, shared data\r\n\r\n\t\tconst data = {};\r\n\r\n\t\t// name\r\n\r\n\t\tthis.name = source.name;\r\n\r\n\t\t// index\r\n\r\n\t\tconst index = source.index;\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tthis.setIndex( index.clone( data ) );\r\n\r\n\t\t}\r\n\r\n\t\t// attributes\r\n\r\n\t\tconst attributes = source.attributes;\r\n\r\n\t\tfor ( const name in attributes ) {\r\n\r\n\t\t\tconst attribute = attributes[ name ];\r\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\r\n\r\n\t\t}\r\n\r\n\t\t// morph attributes\r\n\r\n\t\tconst morphAttributes = source.morphAttributes;\r\n\r\n\t\tfor ( const name in morphAttributes ) {\r\n\r\n\t\t\tconst array = [];\r\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\r\n\r\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.morphAttributes[ name ] = array;\r\n\r\n\t\t}\r\n\r\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\r\n\r\n\t\t// groups\r\n\r\n\t\tconst groups = source.groups;\r\n\r\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst group = groups[ i ];\r\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\r\n\r\n\t\t}\r\n\r\n\t\t// bounding box\r\n\r\n\t\tconst boundingBox = source.boundingBox;\r\n\r\n\t\tif ( boundingBox !== null ) {\r\n\r\n\t\t\tthis.boundingBox = boundingBox.clone();\r\n\r\n\t\t}\r\n\r\n\t\t// bounding sphere\r\n\r\n\t\tconst boundingSphere = source.boundingSphere;\r\n\r\n\t\tif ( boundingSphere !== null ) {\r\n\r\n\t\t\tthis.boundingSphere = boundingSphere.clone();\r\n\r\n\t\t}\r\n\r\n\t\t// draw range\r\n\r\n\t\tthis.drawRange.start = source.drawRange.start;\r\n\t\tthis.drawRange.count = source.drawRange.count;\r\n\r\n\t\t// user data\r\n\r\n\t\tthis.userData = source.userData;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nconst _inverseMatrix$2 = new Matrix4();\r\nconst _ray$2 = new Ray();\r\nconst _sphere$3 = new Sphere();\r\n\r\nconst _vA$1 = new Vector3();\r\nconst _vB$1 = new Vector3();\r\nconst _vC$1 = new Vector3();\r\n\r\nconst _tempA = new Vector3();\r\nconst _tempB = new Vector3();\r\nconst _tempC = new Vector3();\r\n\r\nconst _morphA = new Vector3();\r\nconst _morphB = new Vector3();\r\nconst _morphC = new Vector3();\r\n\r\nconst _uvA$1 = new Vector2();\r\nconst _uvB$1 = new Vector2();\r\nconst _uvC$1 = new Vector2();\r\n\r\nconst _intersectionPoint = new Vector3();\r\nconst _intersectionPointWorld = new Vector3();\r\n\r\nfunction Mesh( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Mesh';\r\n\r\n\tthis.geometry = geometry;\r\n\tthis.material = material;\r\n\r\n\tthis.updateMorphTargets();\r\n\r\n}\r\n\r\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Mesh,\r\n\r\n\tisMesh: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tObject3D.prototype.copy.call( this, source );\r\n\r\n\t\tif ( source.morphTargetInfluences !== undefined ) {\r\n\r\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\r\n\r\n\t\t}\r\n\r\n\t\tif ( source.morphTargetDictionary !== undefined ) {\r\n\r\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\r\n\r\n\t\t}\r\n\r\n\t\tthis.material = source.material;\r\n\t\tthis.geometry = source.geometry;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdateMorphTargets: function () {\r\n\r\n\t\tconst geometry = this.geometry;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\tconst morphAttributes = geometry.morphAttributes;\r\n\t\t\tconst keys = Object.keys( morphAttributes );\r\n\r\n\t\t\tif ( keys.length > 0 ) {\r\n\r\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\r\n\r\n\t\t\t\tif ( morphAttribute !== undefined ) {\r\n\r\n\t\t\t\t\tthis.morphTargetInfluences = [];\r\n\t\t\t\t\tthis.morphTargetDictionary = {};\r\n\r\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\r\n\r\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\r\n\r\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\r\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst morphTargets = geometry.morphTargets;\r\n\r\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\traycast: function ( raycaster, intersects ) {\r\n\r\n\t\tconst geometry = this.geometry;\r\n\t\tconst material = this.material;\r\n\t\tconst matrixWorld = this.matrixWorld;\r\n\r\n\t\tif ( material === undefined ) return;\r\n\r\n\t\t// Checking boundingSphere distance to ray\r\n\r\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\r\n\r\n\t\t_sphere$3.copy( geometry.boundingSphere );\r\n\t\t_sphere$3.applyMatrix4( matrixWorld );\r\n\r\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\r\n\r\n\t\t//\r\n\r\n\t\t_inverseMatrix$2.copy( matrixWorld ).invert();\r\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\r\n\r\n\t\t// Check boundingBox before continuing\r\n\r\n\t\tif ( geometry.boundingBox !== null ) {\r\n\r\n\t\t\tif ( _ray$2.intersectsBox( geometry.boundingBox ) === false ) return;\r\n\r\n\t\t}\r\n\r\n\t\tlet intersection;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\tconst index = geometry.index;\r\n\t\t\tconst position = geometry.attributes.position;\r\n\t\t\tconst morphPosition = geometry.morphAttributes.position;\r\n\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\r\n\t\t\tconst uv = geometry.attributes.uv;\r\n\t\t\tconst uv2 = geometry.attributes.uv2;\r\n\t\t\tconst groups = geometry.groups;\r\n\t\t\tconst drawRange = geometry.drawRange;\r\n\r\n\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\t// indexed buffer geometry\r\n\r\n\t\t\t\tif ( Array.isArray( material ) ) {\r\n\r\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst group = groups[ i ];\r\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\r\n\r\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\r\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\r\n\r\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\r\n\r\n\t\t\t\t\t\t\tconst a = index.getX( j );\r\n\t\t\t\t\t\t\tconst b = index.getX( j + 1 );\r\n\t\t\t\t\t\t\tconst c = index.getX( j + 2 );\r\n\r\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\r\n\r\n\t\t\t\t\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\r\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\r\n\t\t\t\t\t\t\t\tintersects.push( intersection );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\r\n\t\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\r\n\r\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\r\n\r\n\t\t\t\t\t\tconst a = index.getX( i );\r\n\t\t\t\t\t\tconst b = index.getX( i + 1 );\r\n\t\t\t\t\t\tconst c = index.getX( i + 2 );\r\n\r\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\r\n\r\n\t\t\t\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\r\n\t\t\t\t\t\t\tintersects.push( intersection );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( position !== undefined ) {\r\n\r\n\t\t\t\t// non-indexed buffer geometry\r\n\r\n\t\t\t\tif ( Array.isArray( material ) ) {\r\n\r\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst group = groups[ i ];\r\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\r\n\r\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\r\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\r\n\r\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\r\n\r\n\t\t\t\t\t\t\tconst a = j;\r\n\t\t\t\t\t\t\tconst b = j + 1;\r\n\t\t\t\t\t\t\tconst c = j + 2;\r\n\r\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\r\n\r\n\t\t\t\t\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\r\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\r\n\t\t\t\t\t\t\t\tintersects.push( intersection );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\r\n\t\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\r\n\r\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\r\n\r\n\t\t\t\t\t\tconst a = i;\r\n\t\t\t\t\t\tconst b = i + 1;\r\n\t\t\t\t\t\tconst c = i + 2;\r\n\r\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\r\n\r\n\t\t\t\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\r\n\t\t\t\t\t\t\tintersects.push( intersection );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( geometry.isGeometry ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\r\n\r\n\tlet intersect;\r\n\r\n\tif ( material.side === BackSide ) {\r\n\r\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\r\n\r\n\t} else {\r\n\r\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\r\n\r\n\t}\r\n\r\n\tif ( intersect === null ) return null;\r\n\r\n\t_intersectionPointWorld.copy( point );\r\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\r\n\r\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\r\n\r\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\r\n\r\n\treturn {\r\n\t\tdistance: distance,\r\n\t\tpoint: _intersectionPointWorld.clone(),\r\n\t\tobject: object\r\n\t};\r\n\r\n}\r\n\r\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\r\n\r\n\t_vA$1.fromBufferAttribute( position, a );\r\n\t_vB$1.fromBufferAttribute( position, b );\r\n\t_vC$1.fromBufferAttribute( position, c );\r\n\r\n\tconst morphInfluences = object.morphTargetInfluences;\r\n\r\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\r\n\r\n\t\t_morphA.set( 0, 0, 0 );\r\n\t\t_morphB.set( 0, 0, 0 );\r\n\t\t_morphC.set( 0, 0, 0 );\r\n\r\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\r\n\r\n\t\t\tconst influence = morphInfluences[ i ];\r\n\t\t\tconst morphAttribute = morphPosition[ i ];\r\n\r\n\t\t\tif ( influence === 0 ) continue;\r\n\r\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\r\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\r\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\r\n\r\n\t\t\tif ( morphTargetsRelative ) {\r\n\r\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\r\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\r\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA$1 ), influence );\r\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB$1 ), influence );\r\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC$1 ), influence );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t_vA$1.add( _morphA );\r\n\t\t_vB$1.add( _morphB );\r\n\t\t_vC$1.add( _morphC );\r\n\r\n\t}\r\n\r\n\tif ( object.isSkinnedMesh && material.skinning ) {\r\n\r\n\t\tobject.boneTransform( a, _vA$1 );\r\n\t\tobject.boneTransform( b, _vB$1 );\r\n\t\tobject.boneTransform( c, _vC$1 );\r\n\r\n\t}\r\n\r\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA$1, _vB$1, _vC$1, _intersectionPoint );\r\n\r\n\tif ( intersection ) {\r\n\r\n\t\tif ( uv ) {\r\n\r\n\t\t\t_uvA$1.fromBufferAttribute( uv, a );\r\n\t\t\t_uvB$1.fromBufferAttribute( uv, b );\r\n\t\t\t_uvC$1.fromBufferAttribute( uv, c );\r\n\r\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\r\n\r\n\t\t}\r\n\r\n\t\tif ( uv2 ) {\r\n\r\n\t\t\t_uvA$1.fromBufferAttribute( uv2, a );\r\n\t\t\t_uvB$1.fromBufferAttribute( uv2, b );\r\n\t\t\t_uvC$1.fromBufferAttribute( uv2, c );\r\n\r\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\r\n\r\n\t\t}\r\n\r\n\t\tconst face = {\r\n\t\t\ta: a,\r\n\t\t\tb: b,\r\n\t\t\tc: c,\r\n\t\t\tnormal: new Vector3(),\r\n\t\t\tmaterialIndex: 0\r\n\t\t};\r\n\r\n\t\tTriangle.getNormal( _vA$1, _vB$1, _vC$1, face.normal );\r\n\r\n\t\tintersection.face = face;\r\n\r\n\t}\r\n\r\n\treturn intersection;\r\n\r\n}\r\n\r\nclass BoxGeometry extends BufferGeometry {\r\n\r\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'BoxGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\tdepth: depth,\r\n\t\t\twidthSegments: widthSegments,\r\n\t\t\theightSegments: heightSegments,\r\n\t\t\tdepthSegments: depthSegments\r\n\t\t};\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\t// segments\r\n\r\n\t\twidthSegments = Math.floor( widthSegments );\r\n\t\theightSegments = Math.floor( heightSegments );\r\n\t\tdepthSegments = Math.floor( depthSegments );\r\n\r\n\t\t// buffers\r\n\r\n\t\tconst indices = [];\r\n\t\tconst vertices = [];\r\n\t\tconst normals = [];\r\n\t\tconst uvs = [];\r\n\r\n\t\t// helper variables\r\n\r\n\t\tlet numberOfVertices = 0;\r\n\t\tlet groupStart = 0;\r\n\r\n\t\t// build each side of the box geometry\r\n\r\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\r\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\r\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\r\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\r\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\r\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setIndex( indices );\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\r\n\r\n\t\t\tconst segmentWidth = width / gridX;\r\n\t\t\tconst segmentHeight = height / gridY;\r\n\r\n\t\t\tconst widthHalf = width / 2;\r\n\t\t\tconst heightHalf = height / 2;\r\n\t\t\tconst depthHalf = depth / 2;\r\n\r\n\t\t\tconst gridX1 = gridX + 1;\r\n\t\t\tconst gridY1 = gridY + 1;\r\n\r\n\t\t\tlet vertexCounter = 0;\r\n\t\t\tlet groupCount = 0;\r\n\r\n\t\t\tconst vector = new Vector3();\r\n\r\n\t\t\t// generate vertices, normals and uvs\r\n\r\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\r\n\r\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\r\n\r\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\r\n\r\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\r\n\r\n\t\t\t\t\t// set values to correct vector component\r\n\r\n\t\t\t\t\tvector[ u ] = x * udir;\r\n\t\t\t\t\tvector[ v ] = y * vdir;\r\n\t\t\t\t\tvector[ w ] = depthHalf;\r\n\r\n\t\t\t\t\t// now apply vector to vertex buffer\r\n\r\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\r\n\r\n\t\t\t\t\t// set values to correct vector component\r\n\r\n\t\t\t\t\tvector[ u ] = 0;\r\n\t\t\t\t\tvector[ v ] = 0;\r\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\r\n\r\n\t\t\t\t\t// now apply vector to normal buffer\r\n\r\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\r\n\r\n\t\t\t\t\t// uvs\r\n\r\n\t\t\t\t\tuvs.push( ix / gridX );\r\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\r\n\r\n\t\t\t\t\t// counters\r\n\r\n\t\t\t\t\tvertexCounter += 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// indices\r\n\r\n\t\t\t// 1. you need three indices to draw a single face\r\n\t\t\t// 2. a single segment consists of two faces\r\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\r\n\r\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\r\n\r\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\r\n\r\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\r\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\r\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\r\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\r\n\r\n\t\t\t\t\t// faces\r\n\r\n\t\t\t\t\tindices.push( a, b, d );\r\n\t\t\t\t\tindices.push( b, c, d );\r\n\r\n\t\t\t\t\t// increase counter\r\n\r\n\t\t\t\t\tgroupCount += 6;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// add a group to the geometry. this will ensure multi material support\r\n\r\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\r\n\r\n\t\t\t// calculate new start value for groups\r\n\r\n\t\t\tgroupStart += groupCount;\r\n\r\n\t\t\t// update total number of vertices\r\n\r\n\t\t\tnumberOfVertices += vertexCounter;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Uniform Utilities\r\n */\r\n\r\nfunction cloneUniforms( src ) {\r\n\r\n\tconst dst = {};\r\n\r\n\tfor ( const u in src ) {\r\n\r\n\t\tdst[ u ] = {};\r\n\r\n\t\tfor ( const p in src[ u ] ) {\r\n\r\n\t\t\tconst property = src[ u ][ p ];\r\n\r\n\t\t\tif ( property && ( property.isColor ||\r\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\r\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\r\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\r\n\r\n\t\t\t\tdst[ u ][ p ] = property.clone();\r\n\r\n\t\t\t} else if ( Array.isArray( property ) ) {\r\n\r\n\t\t\t\tdst[ u ][ p ] = property.slice();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tdst[ u ][ p ] = property;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn dst;\r\n\r\n}\r\n\r\nfunction mergeUniforms( uniforms ) {\r\n\r\n\tconst merged = {};\r\n\r\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\r\n\r\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\r\n\r\n\t\tfor ( const p in tmp ) {\r\n\r\n\t\t\tmerged[ p ] = tmp[ p ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn merged;\r\n\r\n}\r\n\r\n// Legacy\r\n\r\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\r\n\r\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\r\n\r\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\r\n\r\n/**\r\n * parameters = {\r\n *  defines: { \"label\" : \"value\" },\r\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\r\n *\r\n *  fragmentShader: <string>,\r\n *  vertexShader: <string>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  lights: <bool>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nfunction ShaderMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.type = 'ShaderMaterial';\r\n\r\n\tthis.defines = {};\r\n\tthis.uniforms = {};\r\n\r\n\tthis.vertexShader = default_vertex;\r\n\tthis.fragmentShader = default_fragment;\r\n\r\n\tthis.linewidth = 1;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\r\n\tthis.fog = false; // set to use scene fog\r\n\tthis.lights = false; // set to use scene lights\r\n\tthis.clipping = false; // set to use user-defined clipping planes\r\n\r\n\tthis.skinning = false; // set to use skinning attribute streams\r\n\tthis.morphTargets = false; // set to use morph targets\r\n\tthis.morphNormals = false; // set to use morph normals\r\n\r\n\tthis.extensions = {\r\n\t\tderivatives: false, // set to use derivatives\r\n\t\tfragDepth: false, // set to use fragment depth values\r\n\t\tdrawBuffers: false, // set to use draw buffers\r\n\t\tshaderTextureLOD: false // set to use shader texture LOD\r\n\t};\r\n\r\n\t// When rendered geometry doesn't include these attributes but the material does,\r\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\r\n\tthis.defaultAttributeValues = {\r\n\t\t'color': [ 1, 1, 1 ],\r\n\t\t'uv': [ 0, 0 ],\r\n\t\t'uv2': [ 0, 0 ]\r\n\t};\r\n\r\n\tthis.index0AttributeName = undefined;\r\n\tthis.uniformsNeedUpdate = false;\r\n\r\n\tthis.glslVersion = null;\r\n\r\n\tif ( parameters !== undefined ) {\r\n\r\n\t\tif ( parameters.attributes !== undefined ) {\r\n\r\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n}\r\n\r\nShaderMaterial.prototype = Object.create( Material.prototype );\r\nShaderMaterial.prototype.constructor = ShaderMaterial;\r\n\r\nShaderMaterial.prototype.isShaderMaterial = true;\r\n\r\nShaderMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.fragmentShader = source.fragmentShader;\r\n\tthis.vertexShader = source.vertexShader;\r\n\r\n\tthis.uniforms = cloneUniforms( source.uniforms );\r\n\r\n\tthis.defines = Object.assign( {}, source.defines );\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\r\n\tthis.lights = source.lights;\r\n\tthis.clipping = source.clipping;\r\n\r\n\tthis.skinning = source.skinning;\r\n\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\tthis.extensions = Object.assign( {}, source.extensions );\r\n\r\n\tthis.glslVersion = source.glslVersion;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nShaderMaterial.prototype.toJSON = function ( meta ) {\r\n\r\n\tconst data = Material.prototype.toJSON.call( this, meta );\r\n\r\n\tdata.glslVersion = this.glslVersion;\r\n\tdata.uniforms = {};\r\n\r\n\tfor ( const name in this.uniforms ) {\r\n\r\n\t\tconst uniform = this.uniforms[ name ];\r\n\t\tconst value = uniform.value;\r\n\r\n\t\tif ( value && value.isTexture ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 't',\r\n\t\t\t\tvalue: value.toJSON( meta ).uuid\r\n\t\t\t};\r\n\r\n\t\t} else if ( value && value.isColor ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 'c',\r\n\t\t\t\tvalue: value.getHex()\r\n\t\t\t};\r\n\r\n\t\t} else if ( value && value.isVector2 ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 'v2',\r\n\t\t\t\tvalue: value.toArray()\r\n\t\t\t};\r\n\r\n\t\t} else if ( value && value.isVector3 ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 'v3',\r\n\t\t\t\tvalue: value.toArray()\r\n\t\t\t};\r\n\r\n\t\t} else if ( value && value.isVector4 ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 'v4',\r\n\t\t\t\tvalue: value.toArray()\r\n\t\t\t};\r\n\r\n\t\t} else if ( value && value.isMatrix3 ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 'm3',\r\n\t\t\t\tvalue: value.toArray()\r\n\t\t\t};\r\n\r\n\t\t} else if ( value && value.isMatrix4 ) {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\ttype: 'm4',\r\n\t\t\t\tvalue: value.toArray()\r\n\t\t\t};\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdata.uniforms[ name ] = {\r\n\t\t\t\tvalue: value\r\n\t\t\t};\r\n\r\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\r\n\r\n\tdata.vertexShader = this.vertexShader;\r\n\tdata.fragmentShader = this.fragmentShader;\r\n\r\n\tconst extensions = {};\r\n\r\n\tfor ( const key in this.extensions ) {\r\n\r\n\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\r\n\r\n\t}\r\n\r\n\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nfunction Camera() {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Camera';\r\n\r\n\tthis.matrixWorldInverse = new Matrix4();\r\n\r\n\tthis.projectionMatrix = new Matrix4();\r\n\tthis.projectionMatrixInverse = new Matrix4();\r\n\r\n}\r\n\r\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Camera,\r\n\r\n\tisCamera: true,\r\n\r\n\tcopy: function ( source, recursive ) {\r\n\r\n\t\tObject3D.prototype.copy.call( this, source, recursive );\r\n\r\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\r\n\r\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\r\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetWorldDirection: function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateWorldMatrix( true, false );\r\n\r\n\t\tconst e = this.matrixWorld.elements;\r\n\r\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\r\n\r\n\t},\r\n\r\n\tupdateMatrixWorld: function ( force ) {\r\n\r\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\r\n\r\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\r\n\r\n\t},\r\n\r\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\r\n\r\n\t\tObject3D.prototype.updateWorldMatrix.call( this, updateParents, updateChildren );\r\n\r\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction PerspectiveCamera( fov = 50, aspect = 1, near = 0.1, far = 2000 ) {\r\n\r\n\tCamera.call( this );\r\n\r\n\tthis.type = 'PerspectiveCamera';\r\n\r\n\tthis.fov = fov;\r\n\tthis.zoom = 1;\r\n\r\n\tthis.near = near;\r\n\tthis.far = far;\r\n\tthis.focus = 10;\r\n\r\n\tthis.aspect = aspect;\r\n\tthis.view = null;\r\n\r\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\r\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\r\n\r\n\tthis.updateProjectionMatrix();\r\n\r\n}\r\n\r\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\r\n\r\n\tconstructor: PerspectiveCamera,\r\n\r\n\tisPerspectiveCamera: true,\r\n\r\n\tcopy: function ( source, recursive ) {\r\n\r\n\t\tCamera.prototype.copy.call( this, source, recursive );\r\n\r\n\t\tthis.fov = source.fov;\r\n\t\tthis.zoom = source.zoom;\r\n\r\n\t\tthis.near = source.near;\r\n\t\tthis.far = source.far;\r\n\t\tthis.focus = source.focus;\r\n\r\n\t\tthis.aspect = source.aspect;\r\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\r\n\r\n\t\tthis.filmGauge = source.filmGauge;\r\n\t\tthis.filmOffset = source.filmOffset;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\r\n\t *\r\n\t * The default film gauge is 35, so that the focal length can be specified for\r\n\t * a 35mm (full frame) camera.\r\n\t *\r\n\t * Values for focal length and film gauge must have the same unit.\r\n\t */\r\n\tsetFocalLength: function ( focalLength ) {\r\n\r\n\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\r\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\r\n\r\n\t\tthis.fov = MathUtils.RAD2DEG * 2 * Math.atan( vExtentSlope );\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Calculates the focal length from the current .fov and .filmGauge.\r\n\t */\r\n\tgetFocalLength: function () {\r\n\r\n\t\tconst vExtentSlope = Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov );\r\n\r\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\r\n\r\n\t},\r\n\r\n\tgetEffectiveFOV: function () {\r\n\r\n\t\treturn MathUtils.RAD2DEG * 2 * Math.atan(\r\n\t\t\tMath.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom );\r\n\r\n\t},\r\n\r\n\tgetFilmWidth: function () {\r\n\r\n\t\t// film not completely covered in portrait format (aspect < 1)\r\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\r\n\r\n\t},\r\n\r\n\tgetFilmHeight: function () {\r\n\r\n\t\t// film not completely covered in landscape format (aspect > 1)\r\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\r\n\t * multi-monitor/multi-machine setups.\r\n\t *\r\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\r\n\t * the monitors are in grid like this\r\n\t *\r\n\t *   +---+---+---+\r\n\t *   | A | B | C |\r\n\t *   +---+---+---+\r\n\t *   | D | E | F |\r\n\t *   +---+---+---+\r\n\t *\r\n\t * then for each monitor you would call it like this\r\n\t *\r\n\t *   const w = 1920;\r\n\t *   const h = 1080;\r\n\t *   const fullWidth = w * 3;\r\n\t *   const fullHeight = h * 2;\r\n\t *\r\n\t *   --A--\r\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\r\n\t *   --B--\r\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\r\n\t *   --C--\r\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\r\n\t *   --D--\r\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\r\n\t *   --E--\r\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\r\n\t *   --F--\r\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\r\n\t *\r\n\t *   Note there is no reason monitors have to be the same size or in a grid.\r\n\t */\r\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\r\n\r\n\t\tthis.aspect = fullWidth / fullHeight;\r\n\r\n\t\tif ( this.view === null ) {\r\n\r\n\t\t\tthis.view = {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tfullWidth: 1,\r\n\t\t\t\tfullHeight: 1,\r\n\t\t\t\toffsetX: 0,\r\n\t\t\t\toffsetY: 0,\r\n\t\t\t\twidth: 1,\r\n\t\t\t\theight: 1\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tthis.view.enabled = true;\r\n\t\tthis.view.fullWidth = fullWidth;\r\n\t\tthis.view.fullHeight = fullHeight;\r\n\t\tthis.view.offsetX = x;\r\n\t\tthis.view.offsetY = y;\r\n\t\tthis.view.width = width;\r\n\t\tthis.view.height = height;\r\n\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t},\r\n\r\n\tclearViewOffset: function () {\r\n\r\n\t\tif ( this.view !== null ) {\r\n\r\n\t\t\tthis.view.enabled = false;\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t},\r\n\r\n\tupdateProjectionMatrix: function () {\r\n\r\n\t\tconst near = this.near;\r\n\t\tlet top = near * Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom;\r\n\t\tlet height = 2 * top;\r\n\t\tlet width = this.aspect * height;\r\n\t\tlet left = - 0.5 * width;\r\n\t\tconst view = this.view;\r\n\r\n\t\tif ( this.view !== null && this.view.enabled ) {\r\n\r\n\t\t\tconst fullWidth = view.fullWidth,\r\n\t\t\t\tfullHeight = view.fullHeight;\r\n\r\n\t\t\tleft += view.offsetX * width / fullWidth;\r\n\t\t\ttop -= view.offsetY * height / fullHeight;\r\n\t\t\twidth *= view.width / fullWidth;\r\n\t\t\theight *= view.height / fullHeight;\r\n\r\n\t\t}\r\n\r\n\t\tconst skew = this.filmOffset;\r\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\r\n\r\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\r\n\r\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\r\n\r\n\t\tdata.object.fov = this.fov;\r\n\t\tdata.object.zoom = this.zoom;\r\n\r\n\t\tdata.object.near = this.near;\r\n\t\tdata.object.far = this.far;\r\n\t\tdata.object.focus = this.focus;\r\n\r\n\t\tdata.object.aspect = this.aspect;\r\n\r\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\r\n\r\n\t\tdata.object.filmGauge = this.filmGauge;\r\n\t\tdata.object.filmOffset = this.filmOffset;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nconst fov = 90, aspect = 1;\r\n\r\nclass CubeCamera extends Object3D {\r\n\r\n\tconstructor( near, far, renderTarget ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'CubeCamera';\r\n\r\n\t\tif ( renderTarget.isWebGLCubeRenderTarget !== true ) {\r\n\r\n\t\t\tconsole.error( 'THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis.renderTarget = renderTarget;\r\n\r\n\t\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\r\n\t\tcameraPX.layers = this.layers;\r\n\t\tcameraPX.up.set( 0, - 1, 0 );\r\n\t\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\r\n\t\tthis.add( cameraPX );\r\n\r\n\t\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\r\n\t\tcameraNX.layers = this.layers;\r\n\t\tcameraNX.up.set( 0, - 1, 0 );\r\n\t\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\r\n\t\tthis.add( cameraNX );\r\n\r\n\t\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\r\n\t\tcameraPY.layers = this.layers;\r\n\t\tcameraPY.up.set( 0, 0, 1 );\r\n\t\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\r\n\t\tthis.add( cameraPY );\r\n\r\n\t\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\r\n\t\tcameraNY.layers = this.layers;\r\n\t\tcameraNY.up.set( 0, 0, - 1 );\r\n\t\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\r\n\t\tthis.add( cameraNY );\r\n\r\n\t\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\r\n\t\tcameraPZ.layers = this.layers;\r\n\t\tcameraPZ.up.set( 0, - 1, 0 );\r\n\t\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\r\n\t\tthis.add( cameraPZ );\r\n\r\n\t\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\r\n\t\tcameraNZ.layers = this.layers;\r\n\t\tcameraNZ.up.set( 0, - 1, 0 );\r\n\t\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\r\n\t\tthis.add( cameraNZ );\r\n\r\n\t}\r\n\r\n\tupdate( renderer, scene ) {\r\n\r\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\r\n\r\n\t\tconst renderTarget = this.renderTarget;\r\n\r\n\t\tconst [ cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ ] = this.children;\r\n\r\n\t\tconst currentXrEnabled = renderer.xr.enabled;\r\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\r\n\r\n\t\trenderer.xr.enabled = false;\r\n\r\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\r\n\r\n\t\trenderTarget.texture.generateMipmaps = false;\r\n\r\n\t\trenderer.setRenderTarget( renderTarget, 0 );\r\n\t\trenderer.render( scene, cameraPX );\r\n\r\n\t\trenderer.setRenderTarget( renderTarget, 1 );\r\n\t\trenderer.render( scene, cameraNX );\r\n\r\n\t\trenderer.setRenderTarget( renderTarget, 2 );\r\n\t\trenderer.render( scene, cameraPY );\r\n\r\n\t\trenderer.setRenderTarget( renderTarget, 3 );\r\n\t\trenderer.render( scene, cameraNY );\r\n\r\n\t\trenderer.setRenderTarget( renderTarget, 4 );\r\n\t\trenderer.render( scene, cameraPZ );\r\n\r\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\r\n\r\n\t\trenderer.setRenderTarget( renderTarget, 5 );\r\n\t\trenderer.render( scene, cameraNZ );\r\n\r\n\t\trenderer.setRenderTarget( currentRenderTarget );\r\n\r\n\t\trenderer.xr.enabled = currentXrEnabled;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass CubeTexture extends Texture {\r\n\r\n\tconstructor( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\r\n\r\n\t\timages = images !== undefined ? images : [];\r\n\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\r\n\t\tformat = format !== undefined ? format : RGBFormat;\r\n\r\n\t\tsuper( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\r\n\r\n\t\t// Why CubeTexture._needsFlipEnvMap is necessary:\r\n\t\t//\r\n\t\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\r\n\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\r\n\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\r\n\r\n\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\r\n\t\t// and the flag _needsFlipEnvMap controls this conversion. The flip is not required (and thus _needsFlipEnvMap is set to false)\r\n\t\t// when using WebGLCubeRenderTarget.texture as a cube texture.\r\n\r\n\t\tthis._needsFlipEnvMap = true;\r\n\r\n\t\tthis.flipY = false;\r\n\r\n\t}\r\n\r\n\tget images() {\r\n\r\n\t\treturn this.image;\r\n\r\n\t}\r\n\r\n\tset images( value ) {\r\n\r\n\t\tthis.image = value;\r\n\r\n\t}\r\n\r\n}\r\n\r\nCubeTexture.prototype.isCubeTexture = true;\r\n\r\nclass WebGLCubeRenderTarget extends WebGLRenderTarget {\r\n\r\n\tconstructor( size, options, dummy ) {\r\n\r\n\t\tif ( Number.isInteger( options ) ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\r\n\r\n\t\t\toptions = dummy;\r\n\r\n\t\t}\r\n\r\n\t\tsuper( size, size, options );\r\n\r\n\t\toptions = options || {};\r\n\r\n\t\tthis.texture = new CubeTexture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\r\n\r\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\r\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\r\n\r\n\t\tthis.texture._needsFlipEnvMap = false;\r\n\r\n\t}\r\n\r\n\tfromEquirectangularTexture( renderer, texture ) {\r\n\r\n\t\tthis.texture.type = texture.type;\r\n\t\tthis.texture.format = RGBAFormat; // see #18859\r\n\t\tthis.texture.encoding = texture.encoding;\r\n\r\n\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\r\n\t\tthis.texture.minFilter = texture.minFilter;\r\n\t\tthis.texture.magFilter = texture.magFilter;\r\n\r\n\t\tconst shader = {\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\ttEquirect: { value: null },\r\n\t\t\t},\r\n\r\n\t\t\tvertexShader: /* glsl */`\r\n\r\n\t\t\t\tvarying vec3 vWorldDirection;\r\n\r\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\r\n\r\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvoid main() {\r\n\r\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\r\n\r\n\t\t\t\t\t#include <begin_vertex>\r\n\t\t\t\t\t#include <project_vertex>\r\n\r\n\t\t\t\t}\r\n\t\t\t`,\r\n\r\n\t\t\tfragmentShader: /* glsl */`\r\n\r\n\t\t\t\tuniform sampler2D tEquirect;\r\n\r\n\t\t\t\tvarying vec3 vWorldDirection;\r\n\r\n\t\t\t\t#include <common>\r\n\r\n\t\t\t\tvoid main() {\r\n\r\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\r\n\r\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\r\n\r\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\r\n\r\n\t\t\t\t}\r\n\t\t\t`\r\n\t\t};\r\n\r\n\t\tconst geometry = new BoxGeometry( 5, 5, 5 );\r\n\r\n\t\tconst material = new ShaderMaterial( {\r\n\r\n\t\t\tname: 'CubemapFromEquirect',\r\n\r\n\t\t\tuniforms: cloneUniforms( shader.uniforms ),\r\n\t\t\tvertexShader: shader.vertexShader,\r\n\t\t\tfragmentShader: shader.fragmentShader,\r\n\t\t\tside: BackSide,\r\n\t\t\tblending: NoBlending\r\n\r\n\t\t} );\r\n\r\n\t\tmaterial.uniforms.tEquirect.value = texture;\r\n\r\n\t\tconst mesh = new Mesh( geometry, material );\r\n\r\n\t\tconst currentMinFilter = texture.minFilter;\r\n\r\n\t\t// Avoid blurred poles\r\n\t\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\r\n\r\n\t\tconst camera = new CubeCamera( 1, 10, this );\r\n\t\tcamera.update( renderer, mesh );\r\n\r\n\t\ttexture.minFilter = currentMinFilter;\r\n\r\n\t\tmesh.geometry.dispose();\r\n\t\tmesh.material.dispose();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclear( renderer, color, depth, stencil ) {\r\n\r\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\r\n\r\n\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\trenderer.setRenderTarget( this, i );\r\n\r\n\t\t\trenderer.clear( color, depth, stencil );\r\n\r\n\t\t}\r\n\r\n\t\trenderer.setRenderTarget( currentRenderTarget );\r\n\r\n\t}\r\n\r\n}\r\n\r\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\r\n\r\nclass DataTexture extends Texture {\r\n\r\n\tconstructor( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\r\n\r\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\r\n\r\n\t\tthis.image = { data: data || null, width: width || 1, height: height || 1 };\r\n\r\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\r\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\r\n\r\n\t\tthis.generateMipmaps = false;\r\n\t\tthis.flipY = false;\r\n\t\tthis.unpackAlignment = 1;\r\n\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n}\r\n\r\nDataTexture.prototype.isDataTexture = true;\r\n\r\nconst _sphere$2 = /*@__PURE__*/ new Sphere();\r\nconst _vector$7 = /*@__PURE__*/ new Vector3();\r\n\r\nclass Frustum {\r\n\r\n\tconstructor( p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane() ) {\r\n\r\n\t\tthis.planes = [ p0, p1, p2, p3, p4, p5 ];\r\n\r\n\t}\r\n\r\n\tset( p0, p1, p2, p3, p4, p5 ) {\r\n\r\n\t\tconst planes = this.planes;\r\n\r\n\t\tplanes[ 0 ].copy( p0 );\r\n\t\tplanes[ 1 ].copy( p1 );\r\n\t\tplanes[ 2 ].copy( p2 );\r\n\t\tplanes[ 3 ].copy( p3 );\r\n\t\tplanes[ 4 ].copy( p4 );\r\n\t\tplanes[ 5 ].copy( p5 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopy( frustum ) {\r\n\r\n\t\tconst planes = this.planes;\r\n\r\n\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromProjectionMatrix( m ) {\r\n\r\n\t\tconst planes = this.planes;\r\n\t\tconst me = m.elements;\r\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\r\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\r\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\r\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\r\n\r\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\r\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\r\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\r\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\r\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\r\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tintersectsObject( object ) {\r\n\r\n\t\tconst geometry = object.geometry;\r\n\r\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\r\n\r\n\t\t_sphere$2.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\r\n\r\n\t\treturn this.intersectsSphere( _sphere$2 );\r\n\r\n\t}\r\n\r\n\tintersectsSprite( sprite ) {\r\n\r\n\t\t_sphere$2.center.set( 0, 0, 0 );\r\n\t\t_sphere$2.radius = 0.7071067811865476;\r\n\t\t_sphere$2.applyMatrix4( sprite.matrixWorld );\r\n\r\n\t\treturn this.intersectsSphere( _sphere$2 );\r\n\r\n\t}\r\n\r\n\tintersectsSphere( sphere ) {\r\n\r\n\t\tconst planes = this.planes;\r\n\t\tconst center = sphere.center;\r\n\t\tconst negRadius = - sphere.radius;\r\n\r\n\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\r\n\r\n\t\t\tif ( distance < negRadius ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t}\r\n\r\n\tintersectsBox( box ) {\r\n\r\n\t\tconst planes = this.planes;\r\n\r\n\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tconst plane = planes[ i ];\r\n\r\n\t\t\t// corner at max distance\r\n\r\n\t\t\t_vector$7.x = plane.normal.x > 0 ? box.max.x : box.min.x;\r\n\t\t\t_vector$7.y = plane.normal.y > 0 ? box.max.y : box.min.y;\r\n\t\t\t_vector$7.z = plane.normal.z > 0 ? box.max.z : box.min.z;\r\n\r\n\t\t\tif ( plane.distanceToPoint( _vector$7 ) < 0 ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t}\r\n\r\n\tcontainsPoint( point ) {\r\n\r\n\t\tconst planes = this.planes;\r\n\r\n\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction WebGLAnimation() {\r\n\r\n\tlet context = null;\r\n\tlet isAnimating = false;\r\n\tlet animationLoop = null;\r\n\tlet requestId = null;\r\n\r\n\tfunction onAnimationFrame( time, frame ) {\r\n\r\n\t\tanimationLoop( time, frame );\r\n\r\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tstart: function () {\r\n\r\n\t\t\tif ( isAnimating === true ) return;\r\n\t\t\tif ( animationLoop === null ) return;\r\n\r\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\r\n\r\n\t\t\tisAnimating = true;\r\n\r\n\t\t},\r\n\r\n\t\tstop: function () {\r\n\r\n\t\t\tcontext.cancelAnimationFrame( requestId );\r\n\r\n\t\t\tisAnimating = false;\r\n\r\n\t\t},\r\n\r\n\t\tsetAnimationLoop: function ( callback ) {\r\n\r\n\t\t\tanimationLoop = callback;\r\n\r\n\t\t},\r\n\r\n\t\tsetContext: function ( value ) {\r\n\r\n\t\t\tcontext = value;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLAttributes( gl, capabilities ) {\r\n\r\n\tconst isWebGL2 = capabilities.isWebGL2;\r\n\r\n\tconst buffers = new WeakMap();\r\n\r\n\tfunction createBuffer( attribute, bufferType ) {\r\n\r\n\t\tconst array = attribute.array;\r\n\t\tconst usage = attribute.usage;\r\n\r\n\t\tconst buffer = gl.createBuffer();\r\n\r\n\t\tgl.bindBuffer( bufferType, buffer );\r\n\t\tgl.bufferData( bufferType, array, usage );\r\n\r\n\t\tattribute.onUploadCallback();\r\n\r\n\t\tlet type = 5126;\r\n\r\n\t\tif ( array instanceof Float32Array ) {\r\n\r\n\t\t\ttype = 5126;\r\n\r\n\t\t} else if ( array instanceof Float64Array ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\r\n\r\n\t\t} else if ( array instanceof Uint16Array ) {\r\n\r\n\t\t\tif ( attribute.isFloat16BufferAttribute ) {\r\n\r\n\t\t\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\t\t\ttype = 5131;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\ttype = 5123;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( array instanceof Int16Array ) {\r\n\r\n\t\t\ttype = 5122;\r\n\r\n\t\t} else if ( array instanceof Uint32Array ) {\r\n\r\n\t\t\ttype = 5125;\r\n\r\n\t\t} else if ( array instanceof Int32Array ) {\r\n\r\n\t\t\ttype = 5124;\r\n\r\n\t\t} else if ( array instanceof Int8Array ) {\r\n\r\n\t\t\ttype = 5120;\r\n\r\n\t\t} else if ( array instanceof Uint8Array ) {\r\n\r\n\t\t\ttype = 5121;\r\n\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tbuffer: buffer,\r\n\t\t\ttype: type,\r\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\r\n\t\t\tversion: attribute.version\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\r\n\r\n\t\tconst array = attribute.array;\r\n\t\tconst updateRange = attribute.updateRange;\r\n\r\n\t\tgl.bindBuffer( bufferType, buffer );\r\n\r\n\t\tif ( updateRange.count === - 1 ) {\r\n\r\n\t\t\t// Not using update ranges\r\n\r\n\t\t\tgl.bufferSubData( bufferType, 0, array );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\r\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\r\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tupdateRange.count = - 1; // reset range\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction get( attribute ) {\r\n\r\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\r\n\r\n\t\treturn buffers.get( attribute );\r\n\r\n\t}\r\n\r\n\tfunction remove( attribute ) {\r\n\r\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\r\n\r\n\t\tconst data = buffers.get( attribute );\r\n\r\n\t\tif ( data ) {\r\n\r\n\t\t\tgl.deleteBuffer( data.buffer );\r\n\r\n\t\t\tbuffers.delete( attribute );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction update( attribute, bufferType ) {\r\n\r\n\t\tif ( attribute.isGLBufferAttribute ) {\r\n\r\n\t\t\tconst cached = buffers.get( attribute );\r\n\r\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\r\n\r\n\t\t\t\tbuffers.set( attribute, {\r\n\t\t\t\t\tbuffer: attribute.buffer,\r\n\t\t\t\t\ttype: attribute.type,\r\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\r\n\t\t\t\t\tversion: attribute.version\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\r\n\r\n\t\tconst data = buffers.get( attribute );\r\n\r\n\t\tif ( data === undefined ) {\r\n\r\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\r\n\r\n\t\t} else if ( data.version < attribute.version ) {\r\n\r\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\r\n\r\n\t\t\tdata.version = attribute.version;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tget: get,\r\n\t\tremove: remove,\r\n\t\tupdate: update\r\n\r\n\t};\r\n\r\n}\r\n\r\nclass PlaneGeometry extends BufferGeometry {\r\n\r\n\tconstructor( width = 1, height = 1, widthSegments = 1, heightSegments = 1 ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.type = 'PlaneGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\twidthSegments: widthSegments,\r\n\t\t\theightSegments: heightSegments\r\n\t\t};\r\n\r\n\t\tconst width_half = width / 2;\r\n\t\tconst height_half = height / 2;\r\n\r\n\t\tconst gridX = Math.floor( widthSegments );\r\n\t\tconst gridY = Math.floor( heightSegments );\r\n\r\n\t\tconst gridX1 = gridX + 1;\r\n\t\tconst gridY1 = gridY + 1;\r\n\r\n\t\tconst segment_width = width / gridX;\r\n\t\tconst segment_height = height / gridY;\r\n\r\n\t\t//\r\n\r\n\t\tconst indices = [];\r\n\t\tconst vertices = [];\r\n\t\tconst normals = [];\r\n\t\tconst uvs = [];\r\n\r\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\r\n\r\n\t\t\tconst y = iy * segment_height - height_half;\r\n\r\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\r\n\r\n\t\t\t\tconst x = ix * segment_width - width_half;\r\n\r\n\t\t\t\tvertices.push( x, - y, 0 );\r\n\r\n\t\t\t\tnormals.push( 0, 0, 1 );\r\n\r\n\t\t\t\tuvs.push( ix / gridX );\r\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\r\n\r\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\r\n\r\n\t\t\t\tconst a = ix + gridX1 * iy;\r\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\r\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\r\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\r\n\r\n\t\t\t\tindices.push( a, b, d );\r\n\t\t\t\tindices.push( b, c, d );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.setIndex( indices );\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\r\n\r\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\r\n\r\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\r\n\r\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\r\n\r\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\r\n\r\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\r\n\r\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\r\n\r\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\r\n\r\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\r\n\r\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\r\n\r\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\r\n\r\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\r\n\r\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\r\n\r\nvar color_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\r\n\r\nvar color_pars_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\r\n\r\nvar color_pars_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\r\n\r\nvar color_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\r\n\r\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\r\n\r\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\r\n\r\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\r\n\r\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\r\n\r\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\r\n\r\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\r\n\r\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\r\n\r\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\r\n\r\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\r\n\r\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\r\n\r\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\r\n\r\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\r\n\r\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\r\n\r\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\r\n\r\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = - mvPosition.z;\\n#endif\";\r\n\r\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\r\n\r\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\r\n\r\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\r\n\r\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\r\n\r\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\r\n\r\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\r\n\r\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\r\n\r\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\r\n\r\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\r\n\r\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\r\n\r\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\r\n\r\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\r\n\r\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\r\n\r\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\r\n\r\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularRoughness;\\n\\tvec3 specularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\r\n\r\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\r\n\r\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\r\n\r\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\r\n\r\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\r\n\r\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\r\n\r\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\r\n\r\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\r\n\r\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\r\n\r\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\r\n\r\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\r\n\r\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\r\n\r\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\r\n\r\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\r\n\r\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\r\n\r\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\r\n\r\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\r\n\r\nvar normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\r\n\r\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\r\n\r\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\";\r\n\r\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\r\n\r\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\";\r\n\r\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\r\n\r\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\r\n\r\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\r\n\r\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\r\n\r\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\r\n\r\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\r\n\r\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\r\n\r\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\r\n\r\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\r\n\r\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\r\n\r\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\r\n\r\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\r\n\r\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\r\n\r\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\r\n\r\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\r\n\r\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\r\n\r\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\r\n\r\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\r\n\r\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\r\n\r\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\r\n\r\nvar transmissionmap_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\\n#endif\";\r\n\r\nvar transmissionmap_pars_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\tuniform sampler2D transmissionMap;\\n#endif\";\r\n\r\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\r\n\r\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\r\n\r\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\r\n\r\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\r\n\r\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\r\n\r\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\r\n\r\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\r\n\r\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\r\n\r\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\r\n\r\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\r\n\r\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\r\n\r\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\r\n\r\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\r\n\r\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\r\n\r\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\r\n\r\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\r\n\r\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\r\n\r\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\r\n\r\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\r\n\r\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\r\n\r\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\r\n\r\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\r\n\r\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\r\n\r\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\r\n\r\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSMISSION\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSMISSION\\n\\tuniform float transmission;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <transmissionmap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#ifdef TRANSMISSION\\n\\t\\tfloat totalTransmission = transmission;\\n\\t#endif\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <transmissionmap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSMISSION\\n\\t\\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\r\n\r\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\r\n\r\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\r\n\r\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\r\n\r\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\r\n\r\nvar shadow_vert = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\r\n\r\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\r\n\r\nconst ShaderChunk = {\r\n\talphamap_fragment: alphamap_fragment,\r\n\talphamap_pars_fragment: alphamap_pars_fragment,\r\n\talphatest_fragment: alphatest_fragment,\r\n\taomap_fragment: aomap_fragment,\r\n\taomap_pars_fragment: aomap_pars_fragment,\r\n\tbegin_vertex: begin_vertex,\r\n\tbeginnormal_vertex: beginnormal_vertex,\r\n\tbsdfs: bsdfs,\r\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\r\n\tclipping_planes_fragment: clipping_planes_fragment,\r\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\r\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\r\n\tclipping_planes_vertex: clipping_planes_vertex,\r\n\tcolor_fragment: color_fragment,\r\n\tcolor_pars_fragment: color_pars_fragment,\r\n\tcolor_pars_vertex: color_pars_vertex,\r\n\tcolor_vertex: color_vertex,\r\n\tcommon: common,\r\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\r\n\tdefaultnormal_vertex: defaultnormal_vertex,\r\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\r\n\tdisplacementmap_vertex: displacementmap_vertex,\r\n\temissivemap_fragment: emissivemap_fragment,\r\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\r\n\tencodings_fragment: encodings_fragment,\r\n\tencodings_pars_fragment: encodings_pars_fragment,\r\n\tenvmap_fragment: envmap_fragment,\r\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\r\n\tenvmap_pars_fragment: envmap_pars_fragment,\r\n\tenvmap_pars_vertex: envmap_pars_vertex,\r\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\r\n\tenvmap_vertex: envmap_vertex,\r\n\tfog_vertex: fog_vertex,\r\n\tfog_pars_vertex: fog_pars_vertex,\r\n\tfog_fragment: fog_fragment,\r\n\tfog_pars_fragment: fog_pars_fragment,\r\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\r\n\tlightmap_fragment: lightmap_fragment,\r\n\tlightmap_pars_fragment: lightmap_pars_fragment,\r\n\tlights_lambert_vertex: lights_lambert_vertex,\r\n\tlights_pars_begin: lights_pars_begin,\r\n\tlights_toon_fragment: lights_toon_fragment,\r\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\r\n\tlights_phong_fragment: lights_phong_fragment,\r\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\r\n\tlights_physical_fragment: lights_physical_fragment,\r\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\r\n\tlights_fragment_begin: lights_fragment_begin,\r\n\tlights_fragment_maps: lights_fragment_maps,\r\n\tlights_fragment_end: lights_fragment_end,\r\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\r\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\r\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\r\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\r\n\tmap_fragment: map_fragment,\r\n\tmap_pars_fragment: map_pars_fragment,\r\n\tmap_particle_fragment: map_particle_fragment,\r\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\r\n\tmetalnessmap_fragment: metalnessmap_fragment,\r\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\r\n\tmorphnormal_vertex: morphnormal_vertex,\r\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\r\n\tmorphtarget_vertex: morphtarget_vertex,\r\n\tnormal_fragment_begin: normal_fragment_begin,\r\n\tnormal_fragment_maps: normal_fragment_maps,\r\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\r\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\r\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\r\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\r\n\tpacking: packing,\r\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\r\n\tproject_vertex: project_vertex,\r\n\tdithering_fragment: dithering_fragment,\r\n\tdithering_pars_fragment: dithering_pars_fragment,\r\n\troughnessmap_fragment: roughnessmap_fragment,\r\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\r\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\r\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\r\n\tshadowmap_vertex: shadowmap_vertex,\r\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\r\n\tskinbase_vertex: skinbase_vertex,\r\n\tskinning_pars_vertex: skinning_pars_vertex,\r\n\tskinning_vertex: skinning_vertex,\r\n\tskinnormal_vertex: skinnormal_vertex,\r\n\tspecularmap_fragment: specularmap_fragment,\r\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\r\n\ttonemapping_fragment: tonemapping_fragment,\r\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\r\n\ttransmissionmap_fragment: transmissionmap_fragment,\r\n\ttransmissionmap_pars_fragment: transmissionmap_pars_fragment,\r\n\tuv_pars_fragment: uv_pars_fragment,\r\n\tuv_pars_vertex: uv_pars_vertex,\r\n\tuv_vertex: uv_vertex,\r\n\tuv2_pars_fragment: uv2_pars_fragment,\r\n\tuv2_pars_vertex: uv2_pars_vertex,\r\n\tuv2_vertex: uv2_vertex,\r\n\tworldpos_vertex: worldpos_vertex,\r\n\r\n\tbackground_frag: background_frag,\r\n\tbackground_vert: background_vert,\r\n\tcube_frag: cube_frag,\r\n\tcube_vert: cube_vert,\r\n\tdepth_frag: depth_frag,\r\n\tdepth_vert: depth_vert,\r\n\tdistanceRGBA_frag: distanceRGBA_frag,\r\n\tdistanceRGBA_vert: distanceRGBA_vert,\r\n\tequirect_frag: equirect_frag,\r\n\tequirect_vert: equirect_vert,\r\n\tlinedashed_frag: linedashed_frag,\r\n\tlinedashed_vert: linedashed_vert,\r\n\tmeshbasic_frag: meshbasic_frag,\r\n\tmeshbasic_vert: meshbasic_vert,\r\n\tmeshlambert_frag: meshlambert_frag,\r\n\tmeshlambert_vert: meshlambert_vert,\r\n\tmeshmatcap_frag: meshmatcap_frag,\r\n\tmeshmatcap_vert: meshmatcap_vert,\r\n\tmeshtoon_frag: meshtoon_frag,\r\n\tmeshtoon_vert: meshtoon_vert,\r\n\tmeshphong_frag: meshphong_frag,\r\n\tmeshphong_vert: meshphong_vert,\r\n\tmeshphysical_frag: meshphysical_frag,\r\n\tmeshphysical_vert: meshphysical_vert,\r\n\tnormal_frag: normal_frag,\r\n\tnormal_vert: normal_vert,\r\n\tpoints_frag: points_frag,\r\n\tpoints_vert: points_vert,\r\n\tshadow_frag: shadow_frag,\r\n\tshadow_vert: shadow_vert,\r\n\tsprite_frag: sprite_frag,\r\n\tsprite_vert: sprite_vert\r\n};\r\n\r\n/**\r\n * Uniforms library for shared webgl shaders\r\n */\r\n\r\nconst UniformsLib = {\r\n\r\n\tcommon: {\r\n\r\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\r\n\t\topacity: { value: 1.0 },\r\n\r\n\t\tmap: { value: null },\r\n\t\tuvTransform: { value: new Matrix3() },\r\n\t\tuv2Transform: { value: new Matrix3() },\r\n\r\n\t\talphaMap: { value: null },\r\n\r\n\t},\r\n\r\n\tspecularmap: {\r\n\r\n\t\tspecularMap: { value: null },\r\n\r\n\t},\r\n\r\n\tenvmap: {\r\n\r\n\t\tenvMap: { value: null },\r\n\t\tflipEnvMap: { value: - 1 },\r\n\t\treflectivity: { value: 1.0 },\r\n\t\trefractionRatio: { value: 0.98 },\r\n\t\tmaxMipLevel: { value: 0 }\r\n\r\n\t},\r\n\r\n\taomap: {\r\n\r\n\t\taoMap: { value: null },\r\n\t\taoMapIntensity: { value: 1 }\r\n\r\n\t},\r\n\r\n\tlightmap: {\r\n\r\n\t\tlightMap: { value: null },\r\n\t\tlightMapIntensity: { value: 1 }\r\n\r\n\t},\r\n\r\n\temissivemap: {\r\n\r\n\t\temissiveMap: { value: null }\r\n\r\n\t},\r\n\r\n\tbumpmap: {\r\n\r\n\t\tbumpMap: { value: null },\r\n\t\tbumpScale: { value: 1 }\r\n\r\n\t},\r\n\r\n\tnormalmap: {\r\n\r\n\t\tnormalMap: { value: null },\r\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\r\n\r\n\t},\r\n\r\n\tdisplacementmap: {\r\n\r\n\t\tdisplacementMap: { value: null },\r\n\t\tdisplacementScale: { value: 1 },\r\n\t\tdisplacementBias: { value: 0 }\r\n\r\n\t},\r\n\r\n\troughnessmap: {\r\n\r\n\t\troughnessMap: { value: null }\r\n\r\n\t},\r\n\r\n\tmetalnessmap: {\r\n\r\n\t\tmetalnessMap: { value: null }\r\n\r\n\t},\r\n\r\n\tgradientmap: {\r\n\r\n\t\tgradientMap: { value: null }\r\n\r\n\t},\r\n\r\n\tfog: {\r\n\r\n\t\tfogDensity: { value: 0.00025 },\r\n\t\tfogNear: { value: 1 },\r\n\t\tfogFar: { value: 2000 },\r\n\t\tfogColor: { value: new Color( 0xffffff ) }\r\n\r\n\t},\r\n\r\n\tlights: {\r\n\r\n\t\tambientLightColor: { value: [] },\r\n\r\n\t\tlightProbe: { value: [] },\r\n\r\n\t\tdirectionalLights: { value: [], properties: {\r\n\t\t\tdirection: {},\r\n\t\t\tcolor: {}\r\n\t\t} },\r\n\r\n\t\tdirectionalLightShadows: { value: [], properties: {\r\n\t\t\tshadowBias: {},\r\n\t\t\tshadowNormalBias: {},\r\n\t\t\tshadowRadius: {},\r\n\t\t\tshadowMapSize: {}\r\n\t\t} },\r\n\r\n\t\tdirectionalShadowMap: { value: [] },\r\n\t\tdirectionalShadowMatrix: { value: [] },\r\n\r\n\t\tspotLights: { value: [], properties: {\r\n\t\t\tcolor: {},\r\n\t\t\tposition: {},\r\n\t\t\tdirection: {},\r\n\t\t\tdistance: {},\r\n\t\t\tconeCos: {},\r\n\t\t\tpenumbraCos: {},\r\n\t\t\tdecay: {}\r\n\t\t} },\r\n\r\n\t\tspotLightShadows: { value: [], properties: {\r\n\t\t\tshadowBias: {},\r\n\t\t\tshadowNormalBias: {},\r\n\t\t\tshadowRadius: {},\r\n\t\t\tshadowMapSize: {}\r\n\t\t} },\r\n\r\n\t\tspotShadowMap: { value: [] },\r\n\t\tspotShadowMatrix: { value: [] },\r\n\r\n\t\tpointLights: { value: [], properties: {\r\n\t\t\tcolor: {},\r\n\t\t\tposition: {},\r\n\t\t\tdecay: {},\r\n\t\t\tdistance: {}\r\n\t\t} },\r\n\r\n\t\tpointLightShadows: { value: [], properties: {\r\n\t\t\tshadowBias: {},\r\n\t\t\tshadowNormalBias: {},\r\n\t\t\tshadowRadius: {},\r\n\t\t\tshadowMapSize: {},\r\n\t\t\tshadowCameraNear: {},\r\n\t\t\tshadowCameraFar: {}\r\n\t\t} },\r\n\r\n\t\tpointShadowMap: { value: [] },\r\n\t\tpointShadowMatrix: { value: [] },\r\n\r\n\t\themisphereLights: { value: [], properties: {\r\n\t\t\tdirection: {},\r\n\t\t\tskyColor: {},\r\n\t\t\tgroundColor: {}\r\n\t\t} },\r\n\r\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\r\n\t\trectAreaLights: { value: [], properties: {\r\n\t\t\tcolor: {},\r\n\t\t\tposition: {},\r\n\t\t\twidth: {},\r\n\t\t\theight: {}\r\n\t\t} },\r\n\r\n\t\tltc_1: { value: null },\r\n\t\tltc_2: { value: null }\r\n\r\n\t},\r\n\r\n\tpoints: {\r\n\r\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\r\n\t\topacity: { value: 1.0 },\r\n\t\tsize: { value: 1.0 },\r\n\t\tscale: { value: 1.0 },\r\n\t\tmap: { value: null },\r\n\t\talphaMap: { value: null },\r\n\t\tuvTransform: { value: new Matrix3() }\r\n\r\n\t},\r\n\r\n\tsprite: {\r\n\r\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\r\n\t\topacity: { value: 1.0 },\r\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\r\n\t\trotation: { value: 0.0 },\r\n\t\tmap: { value: null },\r\n\t\talphaMap: { value: null },\r\n\t\tuvTransform: { value: new Matrix3() }\r\n\r\n\t}\r\n\r\n};\r\n\r\nconst ShaderLib = {\r\n\r\n\tbasic: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.specularmap,\r\n\t\t\tUniformsLib.envmap,\r\n\t\t\tUniformsLib.aomap,\r\n\t\t\tUniformsLib.lightmap,\r\n\t\t\tUniformsLib.fog\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\r\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\r\n\r\n\t},\r\n\r\n\tlambert: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.specularmap,\r\n\t\t\tUniformsLib.envmap,\r\n\t\t\tUniformsLib.aomap,\r\n\t\t\tUniformsLib.lightmap,\r\n\t\t\tUniformsLib.emissivemap,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights,\r\n\t\t\t{\r\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\r\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\r\n\r\n\t},\r\n\r\n\tphong: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.specularmap,\r\n\t\t\tUniformsLib.envmap,\r\n\t\t\tUniformsLib.aomap,\r\n\t\t\tUniformsLib.lightmap,\r\n\t\t\tUniformsLib.emissivemap,\r\n\t\t\tUniformsLib.bumpmap,\r\n\t\t\tUniformsLib.normalmap,\r\n\t\t\tUniformsLib.displacementmap,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights,\r\n\t\t\t{\r\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\r\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\r\n\t\t\t\tshininess: { value: 30 }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.meshphong_vert,\r\n\t\tfragmentShader: ShaderChunk.meshphong_frag\r\n\r\n\t},\r\n\r\n\tstandard: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.envmap,\r\n\t\t\tUniformsLib.aomap,\r\n\t\t\tUniformsLib.lightmap,\r\n\t\t\tUniformsLib.emissivemap,\r\n\t\t\tUniformsLib.bumpmap,\r\n\t\t\tUniformsLib.normalmap,\r\n\t\t\tUniformsLib.displacementmap,\r\n\t\t\tUniformsLib.roughnessmap,\r\n\t\t\tUniformsLib.metalnessmap,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights,\r\n\t\t\t{\r\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\r\n\t\t\t\troughness: { value: 1.0 },\r\n\t\t\t\tmetalness: { value: 0.0 },\r\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\r\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\r\n\r\n\t},\r\n\r\n\ttoon: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.aomap,\r\n\t\t\tUniformsLib.lightmap,\r\n\t\t\tUniformsLib.emissivemap,\r\n\t\t\tUniformsLib.bumpmap,\r\n\t\t\tUniformsLib.normalmap,\r\n\t\t\tUniformsLib.displacementmap,\r\n\t\t\tUniformsLib.gradientmap,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights,\r\n\t\t\t{\r\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\r\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\r\n\r\n\t},\r\n\r\n\tmatcap: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.bumpmap,\r\n\t\t\tUniformsLib.normalmap,\r\n\t\t\tUniformsLib.displacementmap,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\t{\r\n\t\t\t\tmatcap: { value: null }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\r\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\r\n\r\n\t},\r\n\r\n\tpoints: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.points,\r\n\t\t\tUniformsLib.fog\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.points_vert,\r\n\t\tfragmentShader: ShaderChunk.points_frag\r\n\r\n\t},\r\n\r\n\tdashed: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\t{\r\n\t\t\t\tscale: { value: 1 },\r\n\t\t\t\tdashSize: { value: 1 },\r\n\t\t\t\ttotalSize: { value: 2 }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.linedashed_vert,\r\n\t\tfragmentShader: ShaderChunk.linedashed_frag\r\n\r\n\t},\r\n\r\n\tdepth: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.displacementmap\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.depth_vert,\r\n\t\tfragmentShader: ShaderChunk.depth_frag\r\n\r\n\t},\r\n\r\n\tnormal: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.bumpmap,\r\n\t\t\tUniformsLib.normalmap,\r\n\t\t\tUniformsLib.displacementmap,\r\n\t\t\t{\r\n\t\t\t\topacity: { value: 1.0 }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.normal_vert,\r\n\t\tfragmentShader: ShaderChunk.normal_frag\r\n\r\n\t},\r\n\r\n\tsprite: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.sprite,\r\n\t\t\tUniformsLib.fog\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.sprite_vert,\r\n\t\tfragmentShader: ShaderChunk.sprite_frag\r\n\r\n\t},\r\n\r\n\tbackground: {\r\n\r\n\t\tuniforms: {\r\n\t\t\tuvTransform: { value: new Matrix3() },\r\n\t\t\tt2D: { value: null },\r\n\t\t},\r\n\r\n\t\tvertexShader: ShaderChunk.background_vert,\r\n\t\tfragmentShader: ShaderChunk.background_frag\r\n\r\n\t},\r\n\t/* -------------------------------------------------------------------------\r\n\t//\tCube map shader\r\n\t ------------------------------------------------------------------------- */\r\n\r\n\tcube: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.envmap,\r\n\t\t\t{\r\n\t\t\t\topacity: { value: 1.0 }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.cube_vert,\r\n\t\tfragmentShader: ShaderChunk.cube_frag\r\n\r\n\t},\r\n\r\n\tequirect: {\r\n\r\n\t\tuniforms: {\r\n\t\t\ttEquirect: { value: null },\r\n\t\t},\r\n\r\n\t\tvertexShader: ShaderChunk.equirect_vert,\r\n\t\tfragmentShader: ShaderChunk.equirect_frag\r\n\r\n\t},\r\n\r\n\tdistanceRGBA: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.common,\r\n\t\t\tUniformsLib.displacementmap,\r\n\t\t\t{\r\n\t\t\t\treferencePosition: { value: new Vector3() },\r\n\t\t\t\tnearDistance: { value: 1 },\r\n\t\t\t\tfarDistance: { value: 1000 }\r\n\t\t\t}\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\r\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\r\n\r\n\t},\r\n\r\n\tshadow: {\r\n\r\n\t\tuniforms: mergeUniforms( [\r\n\t\t\tUniformsLib.lights,\r\n\t\t\tUniformsLib.fog,\r\n\t\t\t{\r\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\r\n\t\t\t\topacity: { value: 1.0 }\r\n\t\t\t},\r\n\t\t] ),\r\n\r\n\t\tvertexShader: ShaderChunk.shadow_vert,\r\n\t\tfragmentShader: ShaderChunk.shadow_frag\r\n\r\n\t}\r\n\r\n};\r\n\r\nShaderLib.physical = {\r\n\r\n\tuniforms: mergeUniforms( [\r\n\t\tShaderLib.standard.uniforms,\r\n\t\t{\r\n\t\t\tclearcoat: { value: 0 },\r\n\t\t\tclearcoatMap: { value: null },\r\n\t\t\tclearcoatRoughness: { value: 0 },\r\n\t\t\tclearcoatRoughnessMap: { value: null },\r\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\r\n\t\t\tclearcoatNormalMap: { value: null },\r\n\t\t\tsheen: { value: new Color( 0x000000 ) },\r\n\t\t\ttransmission: { value: 0 },\r\n\t\t\ttransmissionMap: { value: null },\r\n\t\t}\r\n\t] ),\r\n\r\n\tvertexShader: ShaderChunk.meshphysical_vert,\r\n\tfragmentShader: ShaderChunk.meshphysical_frag\r\n\r\n};\r\n\r\nfunction WebGLBackground( renderer, cubemaps, state, objects, premultipliedAlpha ) {\r\n\r\n\tconst clearColor = new Color( 0x000000 );\r\n\tlet clearAlpha = 0;\r\n\r\n\tlet planeMesh;\r\n\tlet boxMesh;\r\n\r\n\tlet currentBackground = null;\r\n\tlet currentBackgroundVersion = 0;\r\n\tlet currentTonemapping = null;\r\n\r\n\tfunction render( renderList, scene, camera, forceClear ) {\r\n\r\n\t\tlet background = scene.isScene === true ? scene.background : null;\r\n\r\n\t\tif ( background && background.isTexture ) {\r\n\r\n\t\t\tbackground = cubemaps.get( background );\r\n\r\n\t\t}\r\n\r\n\t\t// Ignore background in AR\r\n\t\t// TODO: Reconsider this.\r\n\r\n\t\tconst xr = renderer.xr;\r\n\t\tconst session = xr.getSession && xr.getSession();\r\n\r\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\r\n\r\n\t\t\tbackground = null;\r\n\r\n\t\t}\r\n\r\n\t\tif ( background === null ) {\r\n\r\n\t\t\tsetClear( clearColor, clearAlpha );\r\n\r\n\t\t} else if ( background && background.isColor ) {\r\n\r\n\t\t\tsetClear( background, 1 );\r\n\t\t\tforceClear = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( renderer.autoClear || forceClear ) {\r\n\r\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\r\n\r\n\t\t}\r\n\r\n\t\tif ( background && ( background.isCubeTexture || background.mapping === CubeUVReflectionMapping ) ) {\r\n\r\n\t\t\tif ( boxMesh === undefined ) {\r\n\r\n\t\t\t\tboxMesh = new Mesh(\r\n\t\t\t\t\tnew BoxGeometry( 1, 1, 1 ),\r\n\t\t\t\t\tnew ShaderMaterial( {\r\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\r\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\r\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\r\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\r\n\t\t\t\t\t\tside: BackSide,\r\n\t\t\t\t\t\tdepthTest: false,\r\n\t\t\t\t\t\tdepthWrite: false,\r\n\t\t\t\t\t\tfog: false\r\n\t\t\t\t\t} )\r\n\t\t\t\t);\r\n\r\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\r\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\r\n\r\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\r\n\r\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// enable code injection for non-built-in material\r\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\r\n\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tobjects.update( boxMesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\r\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background._needsFlipEnvMap ) ? - 1 : 1;\r\n\r\n\t\t\tif ( currentBackground !== background ||\r\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\r\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\r\n\r\n\t\t\t\tboxMesh.material.needsUpdate = true;\r\n\r\n\t\t\t\tcurrentBackground = background;\r\n\t\t\t\tcurrentBackgroundVersion = background.version;\r\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// push to the pre-sorted opaque render list\r\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\r\n\r\n\t\t} else if ( background && background.isTexture ) {\r\n\r\n\t\t\tif ( planeMesh === undefined ) {\r\n\r\n\t\t\t\tplaneMesh = new Mesh(\r\n\t\t\t\t\tnew PlaneGeometry( 2, 2 ),\r\n\t\t\t\t\tnew ShaderMaterial( {\r\n\t\t\t\t\t\tname: 'BackgroundMaterial',\r\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\r\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\r\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\r\n\t\t\t\t\t\tside: FrontSide,\r\n\t\t\t\t\t\tdepthTest: false,\r\n\t\t\t\t\t\tdepthWrite: false,\r\n\t\t\t\t\t\tfog: false\r\n\t\t\t\t\t} )\r\n\t\t\t\t);\r\n\r\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\r\n\r\n\t\t\t\t// enable code injection for non-built-in material\r\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\r\n\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tobjects.update( planeMesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\r\n\r\n\t\t\tif ( background.matrixAutoUpdate === true ) {\r\n\r\n\t\t\t\tbackground.updateMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\r\n\r\n\t\t\tif ( currentBackground !== background ||\r\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\r\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\r\n\r\n\t\t\t\tplaneMesh.material.needsUpdate = true;\r\n\r\n\t\t\t\tcurrentBackground = background;\r\n\t\t\t\tcurrentBackgroundVersion = background.version;\r\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// push to the pre-sorted opaque render list\r\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction setClear( color, alpha ) {\r\n\r\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tgetClearColor: function () {\r\n\r\n\t\t\treturn clearColor;\r\n\r\n\t\t},\r\n\t\tsetClearColor: function ( color, alpha = 1 ) {\r\n\r\n\t\t\tclearColor.set( color );\r\n\t\t\tclearAlpha = alpha;\r\n\t\t\tsetClear( clearColor, clearAlpha );\r\n\r\n\t\t},\r\n\t\tgetClearAlpha: function () {\r\n\r\n\t\t\treturn clearAlpha;\r\n\r\n\t\t},\r\n\t\tsetClearAlpha: function ( alpha ) {\r\n\r\n\t\t\tclearAlpha = alpha;\r\n\t\t\tsetClear( clearColor, clearAlpha );\r\n\r\n\t\t},\r\n\t\trender: render\r\n\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\r\n\r\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\r\n\r\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\r\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\r\n\r\n\tconst bindingStates = {};\r\n\r\n\tconst defaultState = createBindingState( null );\r\n\tlet currentState = defaultState;\r\n\r\n\tfunction setup( object, material, program, geometry, index ) {\r\n\r\n\t\tlet updateBuffers = false;\r\n\r\n\t\tif ( vaoAvailable ) {\r\n\r\n\t\t\tconst state = getBindingState( geometry, program, material );\r\n\r\n\t\t\tif ( currentState !== state ) {\r\n\r\n\t\t\t\tcurrentState = state;\r\n\t\t\t\tbindVertexArrayObject( currentState.object );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tupdateBuffers = needsUpdate( geometry, index );\r\n\r\n\t\t\tif ( updateBuffers ) saveCache( geometry, index );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst wireframe = ( material.wireframe === true );\r\n\r\n\t\t\tif ( currentState.geometry !== geometry.id ||\r\n\t\t\t\tcurrentState.program !== program.id ||\r\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\r\n\r\n\t\t\t\tcurrentState.geometry = geometry.id;\r\n\t\t\t\tcurrentState.program = program.id;\r\n\t\t\t\tcurrentState.wireframe = wireframe;\r\n\r\n\t\t\t\tupdateBuffers = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.isInstancedMesh === true ) {\r\n\r\n\t\t\tupdateBuffers = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tattributes.update( index, 34963 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( updateBuffers ) {\r\n\r\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\r\n\r\n\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction createVertexArrayObject() {\r\n\r\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\r\n\r\n\t\treturn extension.createVertexArrayOES();\r\n\r\n\t}\r\n\r\n\tfunction bindVertexArrayObject( vao ) {\r\n\r\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\r\n\r\n\t\treturn extension.bindVertexArrayOES( vao );\r\n\r\n\t}\r\n\r\n\tfunction deleteVertexArrayObject( vao ) {\r\n\r\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\r\n\r\n\t\treturn extension.deleteVertexArrayOES( vao );\r\n\r\n\t}\r\n\r\n\tfunction getBindingState( geometry, program, material ) {\r\n\r\n\t\tconst wireframe = ( material.wireframe === true );\r\n\r\n\t\tlet programMap = bindingStates[ geometry.id ];\r\n\r\n\t\tif ( programMap === undefined ) {\r\n\r\n\t\t\tprogramMap = {};\r\n\t\t\tbindingStates[ geometry.id ] = programMap;\r\n\r\n\t\t}\r\n\r\n\t\tlet stateMap = programMap[ program.id ];\r\n\r\n\t\tif ( stateMap === undefined ) {\r\n\r\n\t\t\tstateMap = {};\r\n\t\t\tprogramMap[ program.id ] = stateMap;\r\n\r\n\t\t}\r\n\r\n\t\tlet state = stateMap[ wireframe ];\r\n\r\n\t\tif ( state === undefined ) {\r\n\r\n\t\t\tstate = createBindingState( createVertexArrayObject() );\r\n\t\t\tstateMap[ wireframe ] = state;\r\n\r\n\t\t}\r\n\r\n\t\treturn state;\r\n\r\n\t}\r\n\r\n\tfunction createBindingState( vao ) {\r\n\r\n\t\tconst newAttributes = [];\r\n\t\tconst enabledAttributes = [];\r\n\t\tconst attributeDivisors = [];\r\n\r\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\r\n\r\n\t\t\tnewAttributes[ i ] = 0;\r\n\t\t\tenabledAttributes[ i ] = 0;\r\n\t\t\tattributeDivisors[ i ] = 0;\r\n\r\n\t\t}\r\n\r\n\t\treturn {\r\n\r\n\t\t\t// for backward compatibility on non-VAO support browser\r\n\t\t\tgeometry: null,\r\n\t\t\tprogram: null,\r\n\t\t\twireframe: false,\r\n\r\n\t\t\tnewAttributes: newAttributes,\r\n\t\t\tenabledAttributes: enabledAttributes,\r\n\t\t\tattributeDivisors: attributeDivisors,\r\n\t\t\tobject: vao,\r\n\t\t\tattributes: {},\r\n\t\t\tindex: null\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction needsUpdate( geometry, index ) {\r\n\r\n\t\tconst cachedAttributes = currentState.attributes;\r\n\t\tconst geometryAttributes = geometry.attributes;\r\n\r\n\t\tlet attributesNum = 0;\r\n\r\n\t\tfor ( const key in geometryAttributes ) {\r\n\r\n\t\t\tconst cachedAttribute = cachedAttributes[ key ];\r\n\t\t\tconst geometryAttribute = geometryAttributes[ key ];\r\n\r\n\t\t\tif ( cachedAttribute === undefined ) return true;\r\n\r\n\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\r\n\r\n\t\t\tif ( cachedAttribute.data !== geometryAttribute.data ) return true;\r\n\r\n\t\t\tattributesNum ++;\r\n\r\n\t\t}\r\n\r\n\t\tif ( currentState.attributesNum !== attributesNum ) return true;\r\n\r\n\t\tif ( currentState.index !== index ) return true;\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n\tfunction saveCache( geometry, index ) {\r\n\r\n\t\tconst cache = {};\r\n\t\tconst attributes = geometry.attributes;\r\n\t\tlet attributesNum = 0;\r\n\r\n\t\tfor ( const key in attributes ) {\r\n\r\n\t\t\tconst attribute = attributes[ key ];\r\n\r\n\t\t\tconst data = {};\r\n\t\t\tdata.attribute = attribute;\r\n\r\n\t\t\tif ( attribute.data ) {\r\n\r\n\t\t\t\tdata.data = attribute.data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcache[ key ] = data;\r\n\r\n\t\t\tattributesNum ++;\r\n\r\n\t\t}\r\n\r\n\t\tcurrentState.attributes = cache;\r\n\t\tcurrentState.attributesNum = attributesNum;\r\n\r\n\t\tcurrentState.index = index;\r\n\r\n\t}\r\n\r\n\tfunction initAttributes() {\r\n\r\n\t\tconst newAttributes = currentState.newAttributes;\r\n\r\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\r\n\r\n\t\t\tnewAttributes[ i ] = 0;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction enableAttribute( attribute ) {\r\n\r\n\t\tenableAttributeAndDivisor( attribute, 0 );\r\n\r\n\t}\r\n\r\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\r\n\r\n\t\tconst newAttributes = currentState.newAttributes;\r\n\t\tconst enabledAttributes = currentState.enabledAttributes;\r\n\t\tconst attributeDivisors = currentState.attributeDivisors;\r\n\r\n\t\tnewAttributes[ attribute ] = 1;\r\n\r\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\r\n\r\n\t\t\tgl.enableVertexAttribArray( attribute );\r\n\t\t\tenabledAttributes[ attribute ] = 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\r\n\r\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\r\n\r\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\r\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction disableUnusedAttributes() {\r\n\r\n\t\tconst newAttributes = currentState.newAttributes;\r\n\t\tconst enabledAttributes = currentState.enabledAttributes;\r\n\r\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\r\n\r\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\r\n\r\n\t\t\t\tgl.disableVertexAttribArray( i );\r\n\t\t\t\tenabledAttributes[ i ] = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\r\n\r\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\r\n\r\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\r\n\r\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\r\n\r\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\r\n\r\n\t\t}\r\n\r\n\t\tinitAttributes();\r\n\r\n\t\tconst geometryAttributes = geometry.attributes;\r\n\r\n\t\tconst programAttributes = program.getAttributes();\r\n\r\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\r\n\r\n\t\tfor ( const name in programAttributes ) {\r\n\r\n\t\t\tconst programAttribute = programAttributes[ name ];\r\n\r\n\t\t\tif ( programAttribute >= 0 ) {\r\n\r\n\t\t\t\tconst geometryAttribute = geometryAttributes[ name ];\r\n\r\n\t\t\t\tif ( geometryAttribute !== undefined ) {\r\n\r\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\r\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\r\n\r\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\r\n\r\n\t\t\t\t\t// TODO Attribute may not be available on context restore\r\n\r\n\t\t\t\t\tif ( attribute === undefined ) continue;\r\n\r\n\t\t\t\t\tconst buffer = attribute.buffer;\r\n\t\t\t\t\tconst type = attribute.type;\r\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\r\n\r\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\r\n\r\n\t\t\t\t\t\tconst data = geometryAttribute.data;\r\n\t\t\t\t\t\tconst stride = data.stride;\r\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\r\n\r\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\r\n\r\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\r\n\r\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\r\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\r\n\r\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\r\n\r\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\r\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\r\n\r\n\t\t\t\t\tconst attribute = attributes.get( object.instanceMatrix );\r\n\r\n\t\t\t\t\t// TODO Attribute may not be available on context restore\r\n\r\n\t\t\t\t\tif ( attribute === undefined ) continue;\r\n\r\n\t\t\t\t\tconst buffer = attribute.buffer;\r\n\t\t\t\t\tconst type = attribute.type;\r\n\r\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 0, 1 );\r\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 1, 1 );\r\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 2, 1 );\r\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 3, 1 );\r\n\r\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\r\n\r\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\r\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\r\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\r\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\r\n\r\n\t\t\t\t} else if ( name === 'instanceColor' ) {\r\n\r\n\t\t\t\t\tconst attribute = attributes.get( object.instanceColor );\r\n\r\n\t\t\t\t\t// TODO Attribute may not be available on context restore\r\n\r\n\t\t\t\t\tif ( attribute === undefined ) continue;\r\n\r\n\t\t\t\t\tconst buffer = attribute.buffer;\r\n\t\t\t\t\tconst type = attribute.type;\r\n\r\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute, 1 );\r\n\r\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\r\n\r\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute, 3, type, false, 12, 0 );\r\n\r\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\r\n\r\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\r\n\r\n\t\t\t\t\tif ( value !== undefined ) {\r\n\r\n\t\t\t\t\t\tswitch ( value.length ) {\r\n\r\n\t\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute, value );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute, value );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute, value );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute, value );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tdisableUnusedAttributes();\r\n\r\n\t}\r\n\r\n\tfunction dispose() {\r\n\r\n\t\treset();\r\n\r\n\t\tfor ( const geometryId in bindingStates ) {\r\n\r\n\t\t\tconst programMap = bindingStates[ geometryId ];\r\n\r\n\t\t\tfor ( const programId in programMap ) {\r\n\r\n\t\t\t\tconst stateMap = programMap[ programId ];\r\n\r\n\t\t\t\tfor ( const wireframe in stateMap ) {\r\n\r\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\r\n\r\n\t\t\t\t\tdelete stateMap[ wireframe ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdelete programMap[ programId ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdelete bindingStates[ geometryId ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction releaseStatesOfGeometry( geometry ) {\r\n\r\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\r\n\r\n\t\tconst programMap = bindingStates[ geometry.id ];\r\n\r\n\t\tfor ( const programId in programMap ) {\r\n\r\n\t\t\tconst stateMap = programMap[ programId ];\r\n\r\n\t\t\tfor ( const wireframe in stateMap ) {\r\n\r\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\r\n\r\n\t\t\t\tdelete stateMap[ wireframe ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdelete programMap[ programId ];\r\n\r\n\t\t}\r\n\r\n\t\tdelete bindingStates[ geometry.id ];\r\n\r\n\t}\r\n\r\n\tfunction releaseStatesOfProgram( program ) {\r\n\r\n\t\tfor ( const geometryId in bindingStates ) {\r\n\r\n\t\t\tconst programMap = bindingStates[ geometryId ];\r\n\r\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\r\n\r\n\t\t\tconst stateMap = programMap[ program.id ];\r\n\r\n\t\t\tfor ( const wireframe in stateMap ) {\r\n\r\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\r\n\r\n\t\t\t\tdelete stateMap[ wireframe ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdelete programMap[ program.id ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction reset() {\r\n\r\n\t\tresetDefaultState();\r\n\r\n\t\tif ( currentState === defaultState ) return;\r\n\r\n\t\tcurrentState = defaultState;\r\n\t\tbindVertexArrayObject( currentState.object );\r\n\r\n\t}\r\n\r\n\t// for backward-compatilibity\r\n\r\n\tfunction resetDefaultState() {\r\n\r\n\t\tdefaultState.geometry = null;\r\n\t\tdefaultState.program = null;\r\n\t\tdefaultState.wireframe = false;\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tsetup: setup,\r\n\t\treset: reset,\r\n\t\tresetDefaultState: resetDefaultState,\r\n\t\tdispose: dispose,\r\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\r\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\r\n\r\n\t\tinitAttributes: initAttributes,\r\n\t\tenableAttribute: enableAttribute,\r\n\t\tdisableUnusedAttributes: disableUnusedAttributes\r\n\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\r\n\r\n\tconst isWebGL2 = capabilities.isWebGL2;\r\n\r\n\tlet mode;\r\n\r\n\tfunction setMode( value ) {\r\n\r\n\t\tmode = value;\r\n\r\n\t}\r\n\r\n\tfunction render( start, count ) {\r\n\r\n\t\tgl.drawArrays( mode, start, count );\r\n\r\n\t\tinfo.update( count, mode, 1 );\r\n\r\n\t}\r\n\r\n\tfunction renderInstances( start, count, primcount ) {\r\n\r\n\t\tif ( primcount === 0 ) return;\r\n\r\n\t\tlet extension, methodName;\r\n\r\n\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\textension = gl;\r\n\t\t\tmethodName = 'drawArraysInstanced';\r\n\r\n\t\t} else {\r\n\r\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\r\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\r\n\r\n\t\t\tif ( extension === null ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\textension[ methodName ]( mode, start, count, primcount );\r\n\r\n\t\tinfo.update( count, mode, primcount );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tthis.setMode = setMode;\r\n\tthis.render = render;\r\n\tthis.renderInstances = renderInstances;\r\n\r\n}\r\n\r\nfunction WebGLCapabilities( gl, extensions, parameters ) {\r\n\r\n\tlet maxAnisotropy;\r\n\r\n\tfunction getMaxAnisotropy() {\r\n\r\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\r\n\r\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\r\n\r\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\r\n\r\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmaxAnisotropy = 0;\r\n\r\n\t\t}\r\n\r\n\t\treturn maxAnisotropy;\r\n\r\n\t}\r\n\r\n\tfunction getMaxPrecision( precision ) {\r\n\r\n\t\tif ( precision === 'highp' ) {\r\n\r\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\r\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\r\n\r\n\t\t\t\treturn 'highp';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tprecision = 'mediump';\r\n\r\n\t\t}\r\n\r\n\t\tif ( precision === 'mediump' ) {\r\n\r\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\r\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\r\n\r\n\t\t\t\treturn 'mediump';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn 'lowp';\r\n\r\n\t}\r\n\r\n\t/* eslint-disable no-undef */\r\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\r\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\r\n\t/* eslint-enable no-undef */\r\n\r\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\r\n\tconst maxPrecision = getMaxPrecision( precision );\r\n\r\n\tif ( maxPrecision !== precision ) {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\r\n\t\tprecision = maxPrecision;\r\n\r\n\t}\r\n\r\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\r\n\r\n\tconst maxTextures = gl.getParameter( 34930 );\r\n\tconst maxVertexTextures = gl.getParameter( 35660 );\r\n\tconst maxTextureSize = gl.getParameter( 3379 );\r\n\tconst maxCubemapSize = gl.getParameter( 34076 );\r\n\r\n\tconst maxAttributes = gl.getParameter( 34921 );\r\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\r\n\tconst maxVaryings = gl.getParameter( 36348 );\r\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\r\n\r\n\tconst vertexTextures = maxVertexTextures > 0;\r\n\tconst floatFragmentTextures = isWebGL2 || extensions.has( 'OES_texture_float' );\r\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\r\n\r\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\r\n\r\n\treturn {\r\n\r\n\t\tisWebGL2: isWebGL2,\r\n\r\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\r\n\t\tgetMaxPrecision: getMaxPrecision,\r\n\r\n\t\tprecision: precision,\r\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\r\n\r\n\t\tmaxTextures: maxTextures,\r\n\t\tmaxVertexTextures: maxVertexTextures,\r\n\t\tmaxTextureSize: maxTextureSize,\r\n\t\tmaxCubemapSize: maxCubemapSize,\r\n\r\n\t\tmaxAttributes: maxAttributes,\r\n\t\tmaxVertexUniforms: maxVertexUniforms,\r\n\t\tmaxVaryings: maxVaryings,\r\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\r\n\r\n\t\tvertexTextures: vertexTextures,\r\n\t\tfloatFragmentTextures: floatFragmentTextures,\r\n\t\tfloatVertexTextures: floatVertexTextures,\r\n\r\n\t\tmaxSamples: maxSamples\r\n\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLClipping( properties ) {\r\n\r\n\tconst scope = this;\r\n\r\n\tlet globalState = null,\r\n\t\tnumGlobalPlanes = 0,\r\n\t\tlocalClippingEnabled = false,\r\n\t\trenderingShadows = false;\r\n\r\n\tconst plane = new Plane(),\r\n\t\tviewNormalMatrix = new Matrix3(),\r\n\r\n\t\tuniform = { value: null, needsUpdate: false };\r\n\r\n\tthis.uniform = uniform;\r\n\tthis.numPlanes = 0;\r\n\tthis.numIntersection = 0;\r\n\r\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\r\n\r\n\t\tconst enabled =\r\n\t\t\tplanes.length !== 0 ||\r\n\t\t\tenableLocalClipping ||\r\n\t\t\t// enable state of previous frame - the clipping code has to\r\n\t\t\t// run another frame in order to reset the state:\r\n\t\t\tnumGlobalPlanes !== 0 ||\r\n\t\t\tlocalClippingEnabled;\r\n\r\n\t\tlocalClippingEnabled = enableLocalClipping;\r\n\r\n\t\tglobalState = projectPlanes( planes, camera, 0 );\r\n\t\tnumGlobalPlanes = planes.length;\r\n\r\n\t\treturn enabled;\r\n\r\n\t};\r\n\r\n\tthis.beginShadows = function () {\r\n\r\n\t\trenderingShadows = true;\r\n\t\tprojectPlanes( null );\r\n\r\n\t};\r\n\r\n\tthis.endShadows = function () {\r\n\r\n\t\trenderingShadows = false;\r\n\t\tresetGlobalState();\r\n\r\n\t};\r\n\r\n\tthis.setState = function ( material, camera, useCache ) {\r\n\r\n\t\tconst planes = material.clippingPlanes,\r\n\t\t\tclipIntersection = material.clipIntersection,\r\n\t\t\tclipShadows = material.clipShadows;\r\n\r\n\t\tconst materialProperties = properties.get( material );\r\n\r\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\r\n\r\n\t\t\t// there's no local clipping\r\n\r\n\t\t\tif ( renderingShadows ) {\r\n\r\n\t\t\t\t// there's no global clipping\r\n\r\n\t\t\t\tprojectPlanes( null );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresetGlobalState();\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\r\n\t\t\t\tlGlobal = nGlobal * 4;\r\n\r\n\t\t\tlet dstArray = materialProperties.clippingState || null;\r\n\r\n\t\t\tuniform.value = dstArray; // ensure unique state\r\n\r\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\r\n\r\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\r\n\r\n\t\t\t\tdstArray[ i ] = globalState[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialProperties.clippingState = dstArray;\r\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\r\n\t\t\tthis.numPlanes += nGlobal;\r\n\r\n\t\t}\r\n\r\n\r\n\t};\r\n\r\n\tfunction resetGlobalState() {\r\n\r\n\t\tif ( uniform.value !== globalState ) {\r\n\r\n\t\t\tuniform.value = globalState;\r\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\r\n\r\n\t\t}\r\n\r\n\t\tscope.numPlanes = numGlobalPlanes;\r\n\t\tscope.numIntersection = 0;\r\n\r\n\t}\r\n\r\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\r\n\r\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\r\n\t\tlet dstArray = null;\r\n\r\n\t\tif ( nPlanes !== 0 ) {\r\n\r\n\t\t\tdstArray = uniform.value;\r\n\r\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\r\n\r\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\r\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\r\n\r\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\r\n\r\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\r\n\r\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\r\n\r\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\r\n\r\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\r\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuniform.value = dstArray;\r\n\t\t\tuniform.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tscope.numPlanes = nPlanes;\r\n\t\tscope.numIntersection = 0;\r\n\r\n\t\treturn dstArray;\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction WebGLCubeMaps( renderer ) {\r\n\r\n\tlet cubemaps = new WeakMap();\r\n\r\n\tfunction mapTextureMapping( texture, mapping ) {\r\n\r\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\r\n\r\n\t\t\ttexture.mapping = CubeReflectionMapping;\r\n\r\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\r\n\r\n\t\t\ttexture.mapping = CubeRefractionMapping;\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n\tfunction get( texture ) {\r\n\r\n\t\tif ( texture && texture.isTexture ) {\r\n\r\n\t\t\tconst mapping = texture.mapping;\r\n\r\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\r\n\r\n\t\t\t\tif ( cubemaps.has( texture ) ) {\r\n\r\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\r\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconst image = texture.image;\r\n\r\n\t\t\t\t\tif ( image && image.height > 0 ) {\r\n\r\n\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\r\n\r\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\r\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\r\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\r\n\r\n\t\t\t\t\t\trenderer.setRenderTarget( currentRenderTarget );\r\n\r\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\r\n\r\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\r\n\r\n\t\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n\tfunction onTextureDispose( event ) {\r\n\r\n\t\tconst texture = event.target;\r\n\r\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\r\n\r\n\t\tconst cubemap = cubemaps.get( texture );\r\n\r\n\t\tif ( cubemap !== undefined ) {\r\n\r\n\t\t\tcubemaps.delete( texture );\r\n\t\t\tcubemap.dispose();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction dispose() {\r\n\r\n\t\tcubemaps = new WeakMap();\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tget: get,\r\n\t\tdispose: dispose\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLExtensions( gl ) {\r\n\r\n\tconst extensions = {};\r\n\r\n\tfunction getExtension( name ) {\r\n\r\n\t\tif ( extensions[ name ] !== undefined ) {\r\n\r\n\t\t\treturn extensions[ name ];\r\n\r\n\t\t}\r\n\r\n\t\tlet extension;\r\n\r\n\t\tswitch ( name ) {\r\n\r\n\t\t\tcase 'WEBGL_depth_texture':\r\n\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'EXT_texture_filter_anisotropic':\r\n\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'WEBGL_compressed_texture_s3tc':\r\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\r\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\textension = gl.getExtension( name );\r\n\r\n\t\t}\r\n\r\n\t\textensions[ name ] = extension;\r\n\r\n\t\treturn extension;\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\thas: function ( name ) {\r\n\r\n\t\t\treturn getExtension( name ) !== null;\r\n\r\n\t\t},\r\n\r\n\t\tinit: function ( capabilities ) {\r\n\r\n\t\t\tif ( capabilities.isWebGL2 ) {\r\n\r\n\t\t\t\tgetExtension( 'EXT_color_buffer_float' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tgetExtension( 'WEBGL_depth_texture' );\r\n\t\t\t\tgetExtension( 'OES_texture_float' );\r\n\t\t\t\tgetExtension( 'OES_texture_half_float' );\r\n\t\t\t\tgetExtension( 'OES_texture_half_float_linear' );\r\n\t\t\t\tgetExtension( 'OES_standard_derivatives' );\r\n\t\t\t\tgetExtension( 'OES_element_index_uint' );\r\n\t\t\t\tgetExtension( 'OES_vertex_array_object' );\r\n\t\t\t\tgetExtension( 'ANGLE_instanced_arrays' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgetExtension( 'OES_texture_float_linear' );\r\n\t\t\tgetExtension( 'EXT_color_buffer_half_float' );\r\n\r\n\t\t},\r\n\r\n\t\tget: function ( name ) {\r\n\r\n\t\t\tconst extension = getExtension( name );\r\n\r\n\t\t\tif ( extension === null ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn extension;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\r\n\r\n\tconst geometries = {};\r\n\tconst wireframeAttributes = new WeakMap();\r\n\r\n\tfunction onGeometryDispose( event ) {\r\n\r\n\t\tconst geometry = event.target;\r\n\r\n\t\tif ( geometry.index !== null ) {\r\n\r\n\t\t\tattributes.remove( geometry.index );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( const name in geometry.attributes ) {\r\n\r\n\t\t\tattributes.remove( geometry.attributes[ name ] );\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\r\n\r\n\t\tdelete geometries[ geometry.id ];\r\n\r\n\t\tconst attribute = wireframeAttributes.get( geometry );\r\n\r\n\t\tif ( attribute ) {\r\n\r\n\t\t\tattributes.remove( attribute );\r\n\t\t\twireframeAttributes.delete( geometry );\r\n\r\n\t\t}\r\n\r\n\t\tbindingStates.releaseStatesOfGeometry( geometry );\r\n\r\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\r\n\r\n\t\t\tdelete geometry._maxInstanceCount;\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tinfo.memory.geometries --;\r\n\r\n\t}\r\n\r\n\tfunction get( object, geometry ) {\r\n\r\n\t\tif ( geometries[ geometry.id ] === true ) return geometry;\r\n\r\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\r\n\r\n\t\tgeometries[ geometry.id ] = true;\r\n\r\n\t\tinfo.memory.geometries ++;\r\n\r\n\t\treturn geometry;\r\n\r\n\t}\r\n\r\n\tfunction update( geometry ) {\r\n\r\n\t\tconst geometryAttributes = geometry.attributes;\r\n\r\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\r\n\r\n\t\tfor ( const name in geometryAttributes ) {\r\n\r\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\r\n\r\n\t\t}\r\n\r\n\t\t// morph targets\r\n\r\n\t\tconst morphAttributes = geometry.morphAttributes;\r\n\r\n\t\tfor ( const name in morphAttributes ) {\r\n\r\n\t\t\tconst array = morphAttributes[ name ];\r\n\r\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tattributes.update( array[ i ], 34962 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction updateWireframeAttribute( geometry ) {\r\n\r\n\t\tconst indices = [];\r\n\r\n\t\tconst geometryIndex = geometry.index;\r\n\t\tconst geometryPosition = geometry.attributes.position;\r\n\t\tlet version = 0;\r\n\r\n\t\tif ( geometryIndex !== null ) {\r\n\r\n\t\t\tconst array = geometryIndex.array;\r\n\t\t\tversion = geometryIndex.version;\r\n\r\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\r\n\r\n\t\t\t\tconst a = array[ i + 0 ];\r\n\t\t\t\tconst b = array[ i + 1 ];\r\n\t\t\t\tconst c = array[ i + 2 ];\r\n\r\n\t\t\t\tindices.push( a, b, b, c, c, a );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst array = geometryPosition.array;\r\n\t\t\tversion = geometryPosition.version;\r\n\r\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\r\n\r\n\t\t\t\tconst a = i + 0;\r\n\t\t\t\tconst b = i + 1;\r\n\t\t\t\tconst c = i + 2;\r\n\r\n\t\t\t\tindices.push( a, b, b, c, c, a );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\r\n\t\tattribute.version = version;\r\n\r\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\r\n\r\n\t\t//\r\n\r\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\r\n\r\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\r\n\r\n\t\t//\r\n\r\n\t\twireframeAttributes.set( geometry, attribute );\r\n\r\n\t}\r\n\r\n\tfunction getWireframeAttribute( geometry ) {\r\n\r\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\r\n\r\n\t\tif ( currentAttribute ) {\r\n\r\n\t\t\tconst geometryIndex = geometry.index;\r\n\r\n\t\t\tif ( geometryIndex !== null ) {\r\n\r\n\t\t\t\t// if the attribute is obsolete, create a new one\r\n\r\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\r\n\r\n\t\t\t\t\tupdateWireframeAttribute( geometry );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tupdateWireframeAttribute( geometry );\r\n\r\n\t\t}\r\n\r\n\t\treturn wireframeAttributes.get( geometry );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tget: get,\r\n\t\tupdate: update,\r\n\r\n\t\tgetWireframeAttribute: getWireframeAttribute\r\n\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\r\n\r\n\tconst isWebGL2 = capabilities.isWebGL2;\r\n\r\n\tlet mode;\r\n\r\n\tfunction setMode( value ) {\r\n\r\n\t\tmode = value;\r\n\r\n\t}\r\n\r\n\tlet type, bytesPerElement;\r\n\r\n\tfunction setIndex( value ) {\r\n\r\n\t\ttype = value.type;\r\n\t\tbytesPerElement = value.bytesPerElement;\r\n\r\n\t}\r\n\r\n\tfunction render( start, count ) {\r\n\r\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\r\n\r\n\t\tinfo.update( count, mode, 1 );\r\n\r\n\t}\r\n\r\n\tfunction renderInstances( start, count, primcount ) {\r\n\r\n\t\tif ( primcount === 0 ) return;\r\n\r\n\t\tlet extension, methodName;\r\n\r\n\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\textension = gl;\r\n\t\t\tmethodName = 'drawElementsInstanced';\r\n\r\n\t\t} else {\r\n\r\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\r\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\r\n\r\n\t\t\tif ( extension === null ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\r\n\r\n\t\tinfo.update( count, mode, primcount );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tthis.setMode = setMode;\r\n\tthis.setIndex = setIndex;\r\n\tthis.render = render;\r\n\tthis.renderInstances = renderInstances;\r\n\r\n}\r\n\r\nfunction WebGLInfo( gl ) {\r\n\r\n\tconst memory = {\r\n\t\tgeometries: 0,\r\n\t\ttextures: 0\r\n\t};\r\n\r\n\tconst render = {\r\n\t\tframe: 0,\r\n\t\tcalls: 0,\r\n\t\ttriangles: 0,\r\n\t\tpoints: 0,\r\n\t\tlines: 0\r\n\t};\r\n\r\n\tfunction update( count, mode, instanceCount ) {\r\n\r\n\t\trender.calls ++;\r\n\r\n\t\tswitch ( mode ) {\r\n\r\n\t\t\tcase 4:\r\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 3:\r\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\t\t\t\trender.lines += instanceCount * count;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 0:\r\n\t\t\t\trender.points += instanceCount * count;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction reset() {\r\n\r\n\t\trender.frame ++;\r\n\t\trender.calls = 0;\r\n\t\trender.triangles = 0;\r\n\t\trender.points = 0;\r\n\t\trender.lines = 0;\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tmemory: memory,\r\n\t\trender: render,\r\n\t\tprograms: null,\r\n\t\tautoReset: true,\r\n\t\treset: reset,\r\n\t\tupdate: update\r\n\t};\r\n\r\n}\r\n\r\nfunction numericalSort( a, b ) {\r\n\r\n\treturn a[ 0 ] - b[ 0 ];\r\n\r\n}\r\n\r\nfunction absNumericalSort( a, b ) {\r\n\r\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\r\n\r\n}\r\n\r\nfunction WebGLMorphtargets( gl ) {\r\n\r\n\tconst influencesList = {};\r\n\tconst morphInfluences = new Float32Array( 8 );\r\n\r\n\tconst workInfluences = [];\r\n\r\n\tfor ( let i = 0; i < 8; i ++ ) {\r\n\r\n\t\tworkInfluences[ i ] = [ i, 0 ];\r\n\r\n\t}\r\n\r\n\tfunction update( object, geometry, material, program ) {\r\n\r\n\t\tconst objectInfluences = object.morphTargetInfluences;\r\n\r\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\r\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\r\n\r\n\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\r\n\r\n\t\tlet influences = influencesList[ geometry.id ];\r\n\r\n\t\tif ( influences === undefined ) {\r\n\r\n\t\t\t// initialise list\r\n\r\n\t\t\tinfluences = [];\r\n\r\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\r\n\r\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tinfluencesList[ geometry.id ] = influences;\r\n\r\n\t\t}\r\n\r\n\t\t// Collect influences\r\n\r\n\t\tfor ( let i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tconst influence = influences[ i ];\r\n\r\n\t\t\tinfluence[ 0 ] = i;\r\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\r\n\r\n\t\t}\r\n\r\n\t\tinfluences.sort( absNumericalSort );\r\n\r\n\t\tfor ( let i = 0; i < 8; i ++ ) {\r\n\r\n\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\r\n\r\n\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\r\n\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\r\n\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tworkInfluences.sort( numericalSort );\r\n\r\n\t\tconst morphTargets = material.morphTargets && geometry.morphAttributes.position;\r\n\t\tconst morphNormals = material.morphNormals && geometry.morphAttributes.normal;\r\n\r\n\t\tlet morphInfluencesSum = 0;\r\n\r\n\t\tfor ( let i = 0; i < 8; i ++ ) {\r\n\r\n\t\t\tconst influence = workInfluences[ i ];\r\n\t\t\tconst index = influence[ 0 ];\r\n\t\t\tconst value = influence[ 1 ];\r\n\r\n\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\r\n\r\n\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\r\n\r\n\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\r\n\r\n\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmorphInfluences[ i ] = value;\r\n\t\t\t\tmorphInfluencesSum += value;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( morphTargets && geometry.hasAttribute( 'morphTarget' + i ) === true ) {\r\n\r\n\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( morphNormals && geometry.hasAttribute( 'morphNormal' + i ) === true ) {\r\n\r\n\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmorphInfluences[ i ] = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\r\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\r\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\r\n\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\r\n\r\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\r\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tupdate: update\r\n\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLObjects( gl, geometries, attributes, info ) {\r\n\r\n\tlet updateMap = new WeakMap();\r\n\r\n\tfunction update( object ) {\r\n\r\n\t\tconst frame = info.render.frame;\r\n\r\n\t\tconst geometry = object.geometry;\r\n\t\tconst buffergeometry = geometries.get( object, geometry );\r\n\r\n\t\t// Update once per frame\r\n\r\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\r\n\r\n\t\t\tgeometries.update( buffergeometry );\r\n\r\n\t\t\tupdateMap.set( buffergeometry, frame );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.isInstancedMesh ) {\r\n\r\n\t\t\tif ( object.hasEventListener( 'dispose', onInstancedMeshDispose ) === false ) {\r\n\r\n\t\t\t\tobject.addEventListener( 'dispose', onInstancedMeshDispose );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\r\n\r\n\t\t\tif ( object.instanceColor !== null ) {\r\n\r\n\t\t\t\tattributes.update( object.instanceColor, 34962 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn buffergeometry;\r\n\r\n\t}\r\n\r\n\tfunction dispose() {\r\n\r\n\t\tupdateMap = new WeakMap();\r\n\r\n\t}\r\n\r\n\tfunction onInstancedMeshDispose( event ) {\r\n\r\n\t\tconst instancedMesh = event.target;\r\n\r\n\t\tinstancedMesh.removeEventListener( 'dispose', onInstancedMeshDispose );\r\n\r\n\t\tattributes.remove( instancedMesh.instanceMatrix );\r\n\r\n\t\tif ( instancedMesh.instanceColor !== null ) attributes.remove( instancedMesh.instanceColor );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tupdate: update,\r\n\t\tdispose: dispose\r\n\r\n\t};\r\n\r\n}\r\n\r\nclass DataTexture2DArray extends Texture {\r\n\r\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\r\n\r\n\t\tsuper( null );\r\n\r\n\t\tthis.image = { data, width, height, depth };\r\n\r\n\t\tthis.magFilter = NearestFilter;\r\n\t\tthis.minFilter = NearestFilter;\r\n\r\n\t\tthis.wrapR = ClampToEdgeWrapping;\r\n\r\n\t\tthis.generateMipmaps = false;\r\n\t\tthis.flipY = false;\r\n\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n}\r\n\r\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\r\n\r\nclass DataTexture3D extends Texture {\r\n\r\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\r\n\r\n\t\t// We're going to add .setXXX() methods for setting properties later.\r\n\t\t// Users can still set in DataTexture3D directly.\r\n\t\t//\r\n\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\r\n\t\t// \ttexture.anisotropy = 16;\r\n\t\t//\r\n\t\t// See #14839\r\n\r\n\t\tsuper( null );\r\n\r\n\t\tthis.image = { data, width, height, depth };\r\n\r\n\t\tthis.magFilter = NearestFilter;\r\n\t\tthis.minFilter = NearestFilter;\r\n\r\n\t\tthis.wrapR = ClampToEdgeWrapping;\r\n\r\n\t\tthis.generateMipmaps = false;\r\n\t\tthis.flipY = false;\r\n\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n}\r\n\r\nDataTexture3D.prototype.isDataTexture3D = true;\r\n\r\n/**\r\n * Uniforms of a program.\r\n * Those form a tree structure with a special top-level container for the root,\r\n * which you get by calling 'new WebGLUniforms( gl, program )'.\r\n *\r\n *\r\n * Properties of inner nodes including the top-level container:\r\n *\r\n * .seq - array of nested uniforms\r\n * .map - nested uniforms by name\r\n *\r\n *\r\n * Methods of all nodes except the top-level container:\r\n *\r\n * .setValue( gl, value, [textures] )\r\n *\r\n * \t\tuploads a uniform value(s)\r\n *  \tthe 'textures' parameter is needed for sampler uniforms\r\n *\r\n *\r\n * Static methods of the top-level container (textures factorizations):\r\n *\r\n * .upload( gl, seq, values, textures )\r\n *\r\n * \t\tsets uniforms in 'seq' to 'values[id].value'\r\n *\r\n * .seqWithValue( seq, values ) : filteredSeq\r\n *\r\n * \t\tfilters 'seq' entries with corresponding entry in values\r\n *\r\n *\r\n * Methods of the top-level container (textures factorizations):\r\n *\r\n * .setValue( gl, name, value, textures )\r\n *\r\n * \t\tsets uniform with  name 'name' to 'value'\r\n *\r\n * .setOptional( gl, obj, prop )\r\n *\r\n * \t\tlike .set for an optional property of the object\r\n *\r\n */\r\n\r\nconst emptyTexture = new Texture();\r\nconst emptyTexture2dArray = new DataTexture2DArray();\r\nconst emptyTexture3d = new DataTexture3D();\r\nconst emptyCubeTexture = new CubeTexture();\r\n\r\n// --- Utilities ---\r\n\r\n// Array Caches (provide typed arrays for temporary by size)\r\n\r\nconst arrayCacheF32 = [];\r\nconst arrayCacheI32 = [];\r\n\r\n// Float32Array caches used for uploading Matrix uniforms\r\n\r\nconst mat4array = new Float32Array( 16 );\r\nconst mat3array = new Float32Array( 9 );\r\nconst mat2array = new Float32Array( 4 );\r\n\r\n// Flattening for arrays of vectors and matrices\r\n\r\nfunction flatten( array, nBlocks, blockSize ) {\r\n\r\n\tconst firstElem = array[ 0 ];\r\n\r\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\r\n\t// unoptimized: ! isNaN( firstElem )\r\n\t// see http://jacksondunstan.com/articles/983\r\n\r\n\tconst n = nBlocks * blockSize;\r\n\tlet r = arrayCacheF32[ n ];\r\n\r\n\tif ( r === undefined ) {\r\n\r\n\t\tr = new Float32Array( n );\r\n\t\tarrayCacheF32[ n ] = r;\r\n\r\n\t}\r\n\r\n\tif ( nBlocks !== 0 ) {\r\n\r\n\t\tfirstElem.toArray( r, 0 );\r\n\r\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\r\n\r\n\t\t\toffset += blockSize;\r\n\t\t\tarray[ i ].toArray( r, offset );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn r;\r\n\r\n}\r\n\r\nfunction arraysEqual( a, b ) {\r\n\r\n\tif ( a.length !== b.length ) return false;\r\n\r\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\r\n\r\n\t\tif ( a[ i ] !== b[ i ] ) return false;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n}\r\n\r\nfunction copyArray( a, b ) {\r\n\r\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\r\n\r\n\t\ta[ i ] = b[ i ];\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Texture unit allocation\r\n\r\nfunction allocTexUnits( textures, n ) {\r\n\r\n\tlet r = arrayCacheI32[ n ];\r\n\r\n\tif ( r === undefined ) {\r\n\r\n\t\tr = new Int32Array( n );\r\n\t\tarrayCacheI32[ n ] = r;\r\n\r\n\t}\r\n\r\n\tfor ( let i = 0; i !== n; ++ i ) {\r\n\r\n\t\tr[ i ] = textures.allocateTextureUnit();\r\n\r\n\t}\r\n\r\n\treturn r;\r\n\r\n}\r\n\r\n// --- Setters ---\r\n\r\n// Note: Defining these methods externally, because they come in a bunch\r\n// and this way their names minify.\r\n\r\n// Single scalar\r\n\r\nfunction setValueV1f( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( cache[ 0 ] === v ) return;\r\n\r\n\tgl.uniform1f( this.addr, v );\r\n\r\n\tcache[ 0 ] = v;\r\n\r\n}\r\n\r\n// Single float vector (from flat array or THREE.VectorN)\r\n\r\nfunction setValueV2f( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( v.x !== undefined ) {\r\n\r\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\r\n\r\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\r\n\r\n\t\t\tcache[ 0 ] = v.x;\r\n\t\t\tcache[ 1 ] = v.y;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\t\tgl.uniform2fv( this.addr, v );\r\n\r\n\t\tcopyArray( cache, v );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction setValueV3f( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( v.x !== undefined ) {\r\n\r\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\r\n\r\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\r\n\r\n\t\t\tcache[ 0 ] = v.x;\r\n\t\t\tcache[ 1 ] = v.y;\r\n\t\t\tcache[ 2 ] = v.z;\r\n\r\n\t\t}\r\n\r\n\t} else if ( v.r !== undefined ) {\r\n\r\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\r\n\r\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\r\n\r\n\t\t\tcache[ 0 ] = v.r;\r\n\t\t\tcache[ 1 ] = v.g;\r\n\t\t\tcache[ 2 ] = v.b;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\t\tgl.uniform3fv( this.addr, v );\r\n\r\n\t\tcopyArray( cache, v );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction setValueV4f( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( v.x !== undefined ) {\r\n\r\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\r\n\r\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\r\n\r\n\t\t\tcache[ 0 ] = v.x;\r\n\t\t\tcache[ 1 ] = v.y;\r\n\t\t\tcache[ 2 ] = v.z;\r\n\t\t\tcache[ 3 ] = v.w;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\t\tgl.uniform4fv( this.addr, v );\r\n\r\n\t\tcopyArray( cache, v );\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Single matrix (from flat array or THREE.MatrixN)\r\n\r\nfunction setValueM2( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\tconst elements = v.elements;\r\n\r\n\tif ( elements === undefined ) {\r\n\r\n\t\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\r\n\r\n\t\tcopyArray( cache, v );\r\n\r\n\t} else {\r\n\r\n\t\tif ( arraysEqual( cache, elements ) ) return;\r\n\r\n\t\tmat2array.set( elements );\r\n\r\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\r\n\r\n\t\tcopyArray( cache, elements );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction setValueM3( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\tconst elements = v.elements;\r\n\r\n\tif ( elements === undefined ) {\r\n\r\n\t\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\r\n\r\n\t\tcopyArray( cache, v );\r\n\r\n\t} else {\r\n\r\n\t\tif ( arraysEqual( cache, elements ) ) return;\r\n\r\n\t\tmat3array.set( elements );\r\n\r\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\r\n\r\n\t\tcopyArray( cache, elements );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction setValueM4( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\tconst elements = v.elements;\r\n\r\n\tif ( elements === undefined ) {\r\n\r\n\t\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\r\n\r\n\t\tcopyArray( cache, v );\r\n\r\n\t} else {\r\n\r\n\t\tif ( arraysEqual( cache, elements ) ) return;\r\n\r\n\t\tmat4array.set( elements );\r\n\r\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\r\n\r\n\t\tcopyArray( cache, elements );\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Single integer / boolean\r\n\r\nfunction setValueV1i( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( cache[ 0 ] === v ) return;\r\n\r\n\tgl.uniform1i( this.addr, v );\r\n\r\n\tcache[ 0 ] = v;\r\n\r\n}\r\n\r\n// Single integer / boolean vector (from flat array)\r\n\r\nfunction setValueV2i( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\tgl.uniform2iv( this.addr, v );\r\n\r\n\tcopyArray( cache, v );\r\n\r\n}\r\n\r\nfunction setValueV3i( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\tgl.uniform3iv( this.addr, v );\r\n\r\n\tcopyArray( cache, v );\r\n\r\n}\r\n\r\nfunction setValueV4i( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\tgl.uniform4iv( this.addr, v );\r\n\r\n\tcopyArray( cache, v );\r\n\r\n}\r\n\r\n// Single unsigned integer\r\n\r\nfunction setValueV1ui( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( cache[ 0 ] === v ) return;\r\n\r\n\tgl.uniform1ui( this.addr, v );\r\n\r\n\tcache[ 0 ] = v;\r\n\r\n}\r\n\r\n// Single unsigned integer vector (from flat array)\r\n\r\nfunction setValueV2ui( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\tgl.uniform2uiv( this.addr, v );\r\n\r\n\tcopyArray( cache, v );\r\n\r\n}\r\n\r\nfunction setValueV3ui( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\tgl.uniform3uiv( this.addr, v );\r\n\r\n\tcopyArray( cache, v );\r\n\r\n}\r\n\r\nfunction setValueV4ui( gl, v ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( arraysEqual( cache, v ) ) return;\r\n\r\n\tgl.uniform4uiv( this.addr, v );\r\n\r\n\tcopyArray( cache, v );\r\n\r\n}\r\n\r\n\r\n// Single texture (2D / Cube)\r\n\r\nfunction setValueT1( gl, v, textures ) {\r\n\r\n\tconst cache = this.cache;\r\n\tconst unit = textures.allocateTextureUnit();\r\n\r\n\tif ( cache[ 0 ] !== unit ) {\r\n\r\n\t\tgl.uniform1i( this.addr, unit );\r\n\t\tcache[ 0 ] = unit;\r\n\r\n\t}\r\n\r\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\r\n\r\n}\r\n\r\nfunction setValueT3D1( gl, v, textures ) {\r\n\r\n\tconst cache = this.cache;\r\n\tconst unit = textures.allocateTextureUnit();\r\n\r\n\tif ( cache[ 0 ] !== unit ) {\r\n\r\n\t\tgl.uniform1i( this.addr, unit );\r\n\t\tcache[ 0 ] = unit;\r\n\r\n\t}\r\n\r\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\r\n\r\n}\r\n\r\nfunction setValueT6( gl, v, textures ) {\r\n\r\n\tconst cache = this.cache;\r\n\tconst unit = textures.allocateTextureUnit();\r\n\r\n\tif ( cache[ 0 ] !== unit ) {\r\n\r\n\t\tgl.uniform1i( this.addr, unit );\r\n\t\tcache[ 0 ] = unit;\r\n\r\n\t}\r\n\r\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\r\n\r\n}\r\n\r\nfunction setValueT2DArray1( gl, v, textures ) {\r\n\r\n\tconst cache = this.cache;\r\n\tconst unit = textures.allocateTextureUnit();\r\n\r\n\tif ( cache[ 0 ] !== unit ) {\r\n\r\n\t\tgl.uniform1i( this.addr, unit );\r\n\t\tcache[ 0 ] = unit;\r\n\r\n\t}\r\n\r\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\r\n\r\n}\r\n\r\n// Helper to pick the right setter for the singular case\r\n\r\nfunction getSingularSetter( type ) {\r\n\r\n\tswitch ( type ) {\r\n\r\n\t\tcase 0x1406: return setValueV1f; // FLOAT\r\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\r\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\r\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\r\n\r\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\r\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\r\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\r\n\r\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\r\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\r\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\r\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\r\n\r\n\t\tcase 0x1405: return setValueV1ui; // UINT\r\n\t\tcase 0x8dc6: return setValueV2ui; // _VEC2\r\n\t\tcase 0x8dc7: return setValueV3ui; // _VEC3\r\n\t\tcase 0x8dc8: return setValueV4ui; // _VEC4\r\n\r\n\t\tcase 0x8b5e: // SAMPLER_2D\r\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\r\n\t\tcase 0x8dca: // INT_SAMPLER_2D\r\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\r\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\r\n\t\t\treturn setValueT1;\r\n\r\n\t\tcase 0x8b5f: // SAMPLER_3D\r\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\r\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\r\n\t\t\treturn setValueT3D1;\r\n\r\n\t\tcase 0x8b60: // SAMPLER_CUBE\r\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\r\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\r\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\r\n\t\t\treturn setValueT6;\r\n\r\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\r\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\r\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\r\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\r\n\t\t\treturn setValueT2DArray1;\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n// Array of scalars\r\n\r\nfunction setValueV1fArray( gl, v ) {\r\n\r\n\tgl.uniform1fv( this.addr, v );\r\n\r\n}\r\n\r\n// Array of vectors (from flat array or array of THREE.VectorN)\r\n\r\nfunction setValueV2fArray( gl, v ) {\r\n\r\n\tconst data = flatten( v, this.size, 2 );\r\n\r\n\tgl.uniform2fv( this.addr, data );\r\n\r\n}\r\n\r\nfunction setValueV3fArray( gl, v ) {\r\n\r\n\tconst data = flatten( v, this.size, 3 );\r\n\r\n\tgl.uniform3fv( this.addr, data );\r\n\r\n}\r\n\r\nfunction setValueV4fArray( gl, v ) {\r\n\r\n\tconst data = flatten( v, this.size, 4 );\r\n\r\n\tgl.uniform4fv( this.addr, data );\r\n\r\n}\r\n\r\n// Array of matrices (from flat array or array of THREE.MatrixN)\r\n\r\nfunction setValueM2Array( gl, v ) {\r\n\r\n\tconst data = flatten( v, this.size, 4 );\r\n\r\n\tgl.uniformMatrix2fv( this.addr, false, data );\r\n\r\n}\r\n\r\nfunction setValueM3Array( gl, v ) {\r\n\r\n\tconst data = flatten( v, this.size, 9 );\r\n\r\n\tgl.uniformMatrix3fv( this.addr, false, data );\r\n\r\n}\r\n\r\nfunction setValueM4Array( gl, v ) {\r\n\r\n\tconst data = flatten( v, this.size, 16 );\r\n\r\n\tgl.uniformMatrix4fv( this.addr, false, data );\r\n\r\n}\r\n\r\n// Array of integer / boolean\r\n\r\nfunction setValueV1iArray( gl, v ) {\r\n\r\n\tgl.uniform1iv( this.addr, v );\r\n\r\n}\r\n\r\n// Array of integer / boolean vectors (from flat array)\r\n\r\nfunction setValueV2iArray( gl, v ) {\r\n\r\n\tgl.uniform2iv( this.addr, v );\r\n\r\n}\r\n\r\nfunction setValueV3iArray( gl, v ) {\r\n\r\n\tgl.uniform3iv( this.addr, v );\r\n\r\n}\r\n\r\nfunction setValueV4iArray( gl, v ) {\r\n\r\n\tgl.uniform4iv( this.addr, v );\r\n\r\n}\r\n\r\n// Array of unsigned integer\r\n\r\nfunction setValueV1uiArray( gl, v ) {\r\n\r\n\tgl.uniform1uiv( this.addr, v );\r\n\r\n}\r\n\r\n// Array of unsigned integer vectors (from flat array)\r\n\r\nfunction setValueV2uiArray( gl, v ) {\r\n\r\n\tgl.uniform2uiv( this.addr, v );\r\n\r\n}\r\n\r\nfunction setValueV3uiArray( gl, v ) {\r\n\r\n\tgl.uniform3uiv( this.addr, v );\r\n\r\n}\r\n\r\nfunction setValueV4uiArray( gl, v ) {\r\n\r\n\tgl.uniform4uiv( this.addr, v );\r\n\r\n}\r\n\r\n\r\n// Array of textures (2D / Cube)\r\n\r\nfunction setValueT1Array( gl, v, textures ) {\r\n\r\n\tconst n = v.length;\r\n\r\n\tconst units = allocTexUnits( textures, n );\r\n\r\n\tgl.uniform1iv( this.addr, units );\r\n\r\n\tfor ( let i = 0; i !== n; ++ i ) {\r\n\r\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction setValueT6Array( gl, v, textures ) {\r\n\r\n\tconst n = v.length;\r\n\r\n\tconst units = allocTexUnits( textures, n );\r\n\r\n\tgl.uniform1iv( this.addr, units );\r\n\r\n\tfor ( let i = 0; i !== n; ++ i ) {\r\n\r\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Helper to pick the right setter for a pure (bottom-level) array\r\n\r\nfunction getPureArraySetter( type ) {\r\n\r\n\tswitch ( type ) {\r\n\r\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\r\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\r\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\r\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\r\n\r\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\r\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\r\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\r\n\r\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\r\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\r\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\r\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\r\n\r\n\t\tcase 0x1405: return setValueV1uiArray; // UINT\r\n\t\tcase 0x8dc6: return setValueV2uiArray; // _VEC2\r\n\t\tcase 0x8dc7: return setValueV3uiArray; // _VEC3\r\n\t\tcase 0x8dc8: return setValueV4uiArray; // _VEC4\r\n\r\n\t\tcase 0x8b5e: // SAMPLER_2D\r\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\r\n\t\tcase 0x8dca: // INT_SAMPLER_2D\r\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\r\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\r\n\t\t\treturn setValueT1Array;\r\n\r\n\t\tcase 0x8b60: // SAMPLER_CUBE\r\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\r\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\r\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\r\n\t\t\treturn setValueT6Array;\r\n\r\n\t}\r\n\r\n}\r\n\r\n// --- Uniform Classes ---\r\n\r\nfunction SingleUniform( id, activeInfo, addr ) {\r\n\r\n\tthis.id = id;\r\n\tthis.addr = addr;\r\n\tthis.cache = [];\r\n\tthis.setValue = getSingularSetter( activeInfo.type );\r\n\r\n\t// this.path = activeInfo.name; // DEBUG\r\n\r\n}\r\n\r\nfunction PureArrayUniform( id, activeInfo, addr ) {\r\n\r\n\tthis.id = id;\r\n\tthis.addr = addr;\r\n\tthis.cache = [];\r\n\tthis.size = activeInfo.size;\r\n\tthis.setValue = getPureArraySetter( activeInfo.type );\r\n\r\n\t// this.path = activeInfo.name; // DEBUG\r\n\r\n}\r\n\r\nPureArrayUniform.prototype.updateCache = function ( data ) {\r\n\r\n\tconst cache = this.cache;\r\n\r\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\r\n\r\n\t\tthis.cache = new Float32Array( data.length );\r\n\r\n\t}\r\n\r\n\tcopyArray( cache, data );\r\n\r\n};\r\n\r\nfunction StructuredUniform( id ) {\r\n\r\n\tthis.id = id;\r\n\r\n\tthis.seq = [];\r\n\tthis.map = {};\r\n\r\n}\r\n\r\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\r\n\r\n\tconst seq = this.seq;\r\n\r\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\r\n\r\n\t\tconst u = seq[ i ];\r\n\t\tu.setValue( gl, value[ u.id ], textures );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// --- Top-level ---\r\n\r\n// Parser - builds up the property tree from the path strings\r\n\r\nconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g;\r\n\r\n// extracts\r\n// \t- the identifier (member name or array index)\r\n//  - followed by an optional right bracket (found when array index)\r\n//  - followed by an optional left bracket or dot (type of subscript)\r\n//\r\n// Note: These portions can be read in a non-overlapping fashion and\r\n// allow straightforward parsing of the hierarchy that WebGL encodes\r\n// in the uniform names.\r\n\r\nfunction addUniform( container, uniformObject ) {\r\n\r\n\tcontainer.seq.push( uniformObject );\r\n\tcontainer.map[ uniformObject.id ] = uniformObject;\r\n\r\n}\r\n\r\nfunction parseUniform( activeInfo, addr, container ) {\r\n\r\n\tconst path = activeInfo.name,\r\n\t\tpathLength = path.length;\r\n\r\n\t// reset RegExp object, because of the early exit of a previous run\r\n\tRePathPart.lastIndex = 0;\r\n\r\n\twhile ( true ) {\r\n\r\n\t\tconst match = RePathPart.exec( path ),\r\n\t\t\tmatchEnd = RePathPart.lastIndex;\r\n\r\n\t\tlet id = match[ 1 ];\r\n\t\tconst idIsIndex = match[ 2 ] === ']',\r\n\t\t\tsubscript = match[ 3 ];\r\n\r\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\r\n\r\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\r\n\r\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\r\n\r\n\t\t\taddUniform( container, subscript === undefined ?\r\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\r\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// step into inner node / create it in case it doesn't exist\r\n\r\n\t\t\tconst map = container.map;\r\n\t\t\tlet next = map[ id ];\r\n\r\n\t\t\tif ( next === undefined ) {\r\n\r\n\t\t\t\tnext = new StructuredUniform( id );\r\n\t\t\t\taddUniform( container, next );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcontainer = next;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Root Container\r\n\r\nfunction WebGLUniforms( gl, program ) {\r\n\r\n\tthis.seq = [];\r\n\tthis.map = {};\r\n\r\n\tconst n = gl.getProgramParameter( program, 35718 );\r\n\r\n\tfor ( let i = 0; i < n; ++ i ) {\r\n\r\n\t\tconst info = gl.getActiveUniform( program, i ),\r\n\t\t\taddr = gl.getUniformLocation( program, info.name );\r\n\r\n\t\tparseUniform( info, addr, this );\r\n\r\n\t}\r\n\r\n}\r\n\r\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\r\n\r\n\tconst u = this.map[ name ];\r\n\r\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\r\n\r\n};\r\n\r\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\r\n\r\n\tconst v = object[ name ];\r\n\r\n\tif ( v !== undefined ) this.setValue( gl, name, v );\r\n\r\n};\r\n\r\n\r\n// Static interface\r\n\r\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\r\n\r\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\r\n\r\n\t\tconst u = seq[ i ],\r\n\t\t\tv = values[ u.id ];\r\n\r\n\t\tif ( v.needsUpdate !== false ) {\r\n\r\n\t\t\t// note: always updating when .needsUpdate is undefined\r\n\t\t\tu.setValue( gl, v.value, textures );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nWebGLUniforms.seqWithValue = function ( seq, values ) {\r\n\r\n\tconst r = [];\r\n\r\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\r\n\r\n\t\tconst u = seq[ i ];\r\n\t\tif ( u.id in values ) r.push( u );\r\n\r\n\t}\r\n\r\n\treturn r;\r\n\r\n};\r\n\r\nfunction WebGLShader( gl, type, string ) {\r\n\r\n\tconst shader = gl.createShader( type );\r\n\r\n\tgl.shaderSource( shader, string );\r\n\tgl.compileShader( shader );\r\n\r\n\treturn shader;\r\n\r\n}\r\n\r\nlet programIdCount = 0;\r\n\r\nfunction addLineNumbers( string ) {\r\n\r\n\tconst lines = string.split( '\\n' );\r\n\r\n\tfor ( let i = 0; i < lines.length; i ++ ) {\r\n\r\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\r\n\r\n\t}\r\n\r\n\treturn lines.join( '\\n' );\r\n\r\n}\r\n\r\nfunction getEncodingComponents( encoding ) {\r\n\r\n\tswitch ( encoding ) {\r\n\r\n\t\tcase LinearEncoding:\r\n\t\t\treturn [ 'Linear', '( value )' ];\r\n\t\tcase sRGBEncoding:\r\n\t\t\treturn [ 'sRGB', '( value )' ];\r\n\t\tcase RGBEEncoding:\r\n\t\t\treturn [ 'RGBE', '( value )' ];\r\n\t\tcase RGBM7Encoding:\r\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\r\n\t\tcase RGBM16Encoding:\r\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\r\n\t\tcase RGBDEncoding:\r\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\r\n\t\tcase GammaEncoding:\r\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\r\n\t\tcase LogLuvEncoding:\r\n\t\t\treturn [ 'LogLuv', '( value )' ];\r\n\t\tdefault:\r\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\r\n\t\t\treturn [ 'Linear', '( value )' ];\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction getShaderErrors( gl, shader, type ) {\r\n\r\n\tconst status = gl.getShaderParameter( shader, 35713 );\r\n\tconst log = gl.getShaderInfoLog( shader ).trim();\r\n\r\n\tif ( status && log === '' ) return '';\r\n\r\n\t// --enable-privileged-webgl-extension\r\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\r\n\r\n\tconst source = gl.getShaderSource( shader );\r\n\r\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\r\n\r\n}\r\n\r\nfunction getTexelDecodingFunction( functionName, encoding ) {\r\n\r\n\tconst components = getEncodingComponents( encoding );\r\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\r\n\r\n}\r\n\r\nfunction getTexelEncodingFunction( functionName, encoding ) {\r\n\r\n\tconst components = getEncodingComponents( encoding );\r\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\r\n\r\n}\r\n\r\nfunction getToneMappingFunction( functionName, toneMapping ) {\r\n\r\n\tlet toneMappingName;\r\n\r\n\tswitch ( toneMapping ) {\r\n\r\n\t\tcase LinearToneMapping:\r\n\t\t\ttoneMappingName = 'Linear';\r\n\t\t\tbreak;\r\n\r\n\t\tcase ReinhardToneMapping:\r\n\t\t\ttoneMappingName = 'Reinhard';\r\n\t\t\tbreak;\r\n\r\n\t\tcase CineonToneMapping:\r\n\t\t\ttoneMappingName = 'OptimizedCineon';\r\n\t\t\tbreak;\r\n\r\n\t\tcase ACESFilmicToneMapping:\r\n\t\t\ttoneMappingName = 'ACESFilmic';\r\n\t\t\tbreak;\r\n\r\n\t\tcase CustomToneMapping:\r\n\t\t\ttoneMappingName = 'Custom';\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\r\n\t\t\ttoneMappingName = 'Linear';\r\n\r\n\t}\r\n\r\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\r\n\r\n}\r\n\r\nfunction generateExtensions( parameters ) {\r\n\r\n\tconst chunks = [\r\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\r\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\r\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\r\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\r\n\t];\r\n\r\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\r\n\r\n}\r\n\r\nfunction generateDefines( defines ) {\r\n\r\n\tconst chunks = [];\r\n\r\n\tfor ( const name in defines ) {\r\n\r\n\t\tconst value = defines[ name ];\r\n\r\n\t\tif ( value === false ) continue;\r\n\r\n\t\tchunks.push( '#define ' + name + ' ' + value );\r\n\r\n\t}\r\n\r\n\treturn chunks.join( '\\n' );\r\n\r\n}\r\n\r\nfunction fetchAttributeLocations( gl, program ) {\r\n\r\n\tconst attributes = {};\r\n\r\n\tconst n = gl.getProgramParameter( program, 35721 );\r\n\r\n\tfor ( let i = 0; i < n; i ++ ) {\r\n\r\n\t\tconst info = gl.getActiveAttrib( program, i );\r\n\t\tconst name = info.name;\r\n\r\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\r\n\r\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\r\n\r\n\t}\r\n\r\n\treturn attributes;\r\n\r\n}\r\n\r\nfunction filterEmptyLine( string ) {\r\n\r\n\treturn string !== '';\r\n\r\n}\r\n\r\nfunction replaceLightNums( string, parameters ) {\r\n\r\n\treturn string\r\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\r\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\r\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\r\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\r\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\r\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\r\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\r\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\r\n\r\n}\r\n\r\nfunction replaceClippingPlaneNums( string, parameters ) {\r\n\r\n\treturn string\r\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\r\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\r\n\r\n}\r\n\r\n// Resolve Includes\r\n\r\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\r\n\r\nfunction resolveIncludes( string ) {\r\n\r\n\treturn string.replace( includePattern, includeReplacer );\r\n\r\n}\r\n\r\nfunction includeReplacer( match, include ) {\r\n\r\n\tconst string = ShaderChunk[ include ];\r\n\r\n\tif ( string === undefined ) {\r\n\r\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\r\n\r\n\t}\r\n\r\n\treturn resolveIncludes( string );\r\n\r\n}\r\n\r\n// Unroll Loops\r\n\r\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\r\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\r\n\r\nfunction unrollLoops( string ) {\r\n\r\n\treturn string\r\n\t\t.replace( unrollLoopPattern, loopReplacer )\r\n\t\t.replace( deprecatedUnrollLoopPattern, deprecatedLoopReplacer );\r\n\r\n}\r\n\r\nfunction deprecatedLoopReplacer( match, start, end, snippet ) {\r\n\r\n\tconsole.warn( 'WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.' );\r\n\treturn loopReplacer( match, start, end, snippet );\r\n\r\n}\r\n\r\nfunction loopReplacer( match, start, end, snippet ) {\r\n\r\n\tlet string = '';\r\n\r\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\r\n\r\n\t\tstring += snippet\r\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\r\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\r\n\r\n\t}\r\n\r\n\treturn string;\r\n\r\n}\r\n\r\n//\r\n\r\nfunction generatePrecision( parameters ) {\r\n\r\n\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\r\n\r\n\tif ( parameters.precision === 'highp' ) {\r\n\r\n\t\tprecisionstring += '\\n#define HIGH_PRECISION';\r\n\r\n\t} else if ( parameters.precision === 'mediump' ) {\r\n\r\n\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\r\n\r\n\t} else if ( parameters.precision === 'lowp' ) {\r\n\r\n\t\tprecisionstring += '\\n#define LOW_PRECISION';\r\n\r\n\t}\r\n\r\n\treturn precisionstring;\r\n\r\n}\r\n\r\nfunction generateShadowMapTypeDefine( parameters ) {\r\n\r\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\r\n\r\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\r\n\r\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\r\n\r\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\r\n\r\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\r\n\r\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\r\n\r\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\r\n\r\n\t}\r\n\r\n\treturn shadowMapTypeDefine;\r\n\r\n}\r\n\r\nfunction generateEnvMapTypeDefine( parameters ) {\r\n\r\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\r\n\r\n\tif ( parameters.envMap ) {\r\n\r\n\t\tswitch ( parameters.envMapMode ) {\r\n\r\n\t\t\tcase CubeReflectionMapping:\r\n\t\t\tcase CubeRefractionMapping:\r\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase CubeUVReflectionMapping:\r\n\t\t\tcase CubeUVRefractionMapping:\r\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn envMapTypeDefine;\r\n\r\n}\r\n\r\nfunction generateEnvMapModeDefine( parameters ) {\r\n\r\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\r\n\r\n\tif ( parameters.envMap ) {\r\n\r\n\t\tswitch ( parameters.envMapMode ) {\r\n\r\n\t\t\tcase CubeRefractionMapping:\r\n\t\t\tcase CubeUVRefractionMapping:\r\n\r\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn envMapModeDefine;\r\n\r\n}\r\n\r\nfunction generateEnvMapBlendingDefine( parameters ) {\r\n\r\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\r\n\r\n\tif ( parameters.envMap ) {\r\n\r\n\t\tswitch ( parameters.combine ) {\r\n\r\n\t\t\tcase MultiplyOperation:\r\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MixOperation:\r\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase AddOperation:\r\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn envMapBlendingDefine;\r\n\r\n}\r\n\r\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\r\n\r\n\tconst gl = renderer.getContext();\r\n\r\n\tconst defines = parameters.defines;\r\n\r\n\tlet vertexShader = parameters.vertexShader;\r\n\tlet fragmentShader = parameters.fragmentShader;\r\n\r\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\r\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\r\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\r\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\r\n\r\n\r\n\tconst gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\r\n\r\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\r\n\r\n\tconst customDefines = generateDefines( defines );\r\n\r\n\tconst program = gl.createProgram();\r\n\r\n\tlet prefixVertex, prefixFragment;\r\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\r\n\r\n\tif ( parameters.isRawShaderMaterial ) {\r\n\r\n\t\tprefixVertex = [\r\n\r\n\t\t\tcustomDefines\r\n\r\n\t\t].filter( filterEmptyLine ).join( '\\n' );\r\n\r\n\t\tif ( prefixVertex.length > 0 ) {\r\n\r\n\t\t\tprefixVertex += '\\n';\r\n\r\n\t\t}\r\n\r\n\t\tprefixFragment = [\r\n\r\n\t\t\tcustomExtensions,\r\n\t\t\tcustomDefines\r\n\r\n\t\t].filter( filterEmptyLine ).join( '\\n' );\r\n\r\n\t\tif ( prefixFragment.length > 0 ) {\r\n\r\n\t\t\tprefixFragment += '\\n';\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tprefixVertex = [\r\n\r\n\t\t\tgeneratePrecision( parameters ),\r\n\r\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\r\n\r\n\t\t\tcustomDefines,\r\n\r\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\r\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\r\n\r\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\r\n\r\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\r\n\r\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\r\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\r\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\r\n\r\n\t\t\tparameters.map ? '#define USE_MAP' : '',\r\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\r\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\r\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\r\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\r\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\r\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\r\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\r\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\r\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\r\n\r\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\r\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\r\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\r\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\r\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\r\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\r\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\r\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\r\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\r\n\r\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\r\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\r\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\r\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\r\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\r\n\r\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\r\n\r\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\r\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\r\n\r\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\r\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\r\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\r\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\r\n\r\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\r\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\r\n\r\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\r\n\r\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\r\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\r\n\r\n\t\t\t'uniform mat4 modelMatrix;',\r\n\t\t\t'uniform mat4 modelViewMatrix;',\r\n\t\t\t'uniform mat4 projectionMatrix;',\r\n\t\t\t'uniform mat4 viewMatrix;',\r\n\t\t\t'uniform mat3 normalMatrix;',\r\n\t\t\t'uniform vec3 cameraPosition;',\r\n\t\t\t'uniform bool isOrthographic;',\r\n\r\n\t\t\t'#ifdef USE_INSTANCING',\r\n\r\n\t\t\t'\tattribute mat4 instanceMatrix;',\r\n\r\n\t\t\t'#endif',\r\n\r\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\r\n\r\n\t\t\t'\tattribute vec3 instanceColor;',\r\n\r\n\t\t\t'#endif',\r\n\r\n\t\t\t'attribute vec3 position;',\r\n\t\t\t'attribute vec3 normal;',\r\n\t\t\t'attribute vec2 uv;',\r\n\r\n\t\t\t'#ifdef USE_TANGENT',\r\n\r\n\t\t\t'\tattribute vec4 tangent;',\r\n\r\n\t\t\t'#endif',\r\n\r\n\t\t\t'#if defined( USE_COLOR_ALPHA )',\r\n\r\n\t\t\t'\tattribute vec4 color;',\r\n\r\n\t\t\t'#elif defined( USE_COLOR )',\r\n\r\n\t\t\t'\tattribute vec3 color;',\r\n\r\n\t\t\t'#endif',\r\n\r\n\t\t\t'#ifdef USE_MORPHTARGETS',\r\n\r\n\t\t\t'\tattribute vec3 morphTarget0;',\r\n\t\t\t'\tattribute vec3 morphTarget1;',\r\n\t\t\t'\tattribute vec3 morphTarget2;',\r\n\t\t\t'\tattribute vec3 morphTarget3;',\r\n\r\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\r\n\r\n\t\t\t'\t\tattribute vec3 morphNormal0;',\r\n\t\t\t'\t\tattribute vec3 morphNormal1;',\r\n\t\t\t'\t\tattribute vec3 morphNormal2;',\r\n\t\t\t'\t\tattribute vec3 morphNormal3;',\r\n\r\n\t\t\t'\t#else',\r\n\r\n\t\t\t'\t\tattribute vec3 morphTarget4;',\r\n\t\t\t'\t\tattribute vec3 morphTarget5;',\r\n\t\t\t'\t\tattribute vec3 morphTarget6;',\r\n\t\t\t'\t\tattribute vec3 morphTarget7;',\r\n\r\n\t\t\t'\t#endif',\r\n\r\n\t\t\t'#endif',\r\n\r\n\t\t\t'#ifdef USE_SKINNING',\r\n\r\n\t\t\t'\tattribute vec4 skinIndex;',\r\n\t\t\t'\tattribute vec4 skinWeight;',\r\n\r\n\t\t\t'#endif',\r\n\r\n\t\t\t'\\n'\r\n\r\n\t\t].filter( filterEmptyLine ).join( '\\n' );\r\n\r\n\t\tprefixFragment = [\r\n\r\n\t\t\tcustomExtensions,\r\n\r\n\t\t\tgeneratePrecision( parameters ),\r\n\r\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\r\n\r\n\t\t\tcustomDefines,\r\n\r\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\r\n\r\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\r\n\r\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\r\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\r\n\r\n\t\t\tparameters.map ? '#define USE_MAP' : '',\r\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\r\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\r\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\r\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\r\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\r\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\r\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\r\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\r\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\r\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\r\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\r\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\r\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\r\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\r\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\r\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\r\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\r\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\r\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\r\n\r\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\r\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\r\n\r\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\r\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\r\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\r\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\r\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\r\n\r\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\r\n\r\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\r\n\r\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\r\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\r\n\r\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\r\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\r\n\r\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\r\n\r\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\r\n\r\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\r\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\r\n\r\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\r\n\r\n\t\t\t'uniform mat4 viewMatrix;',\r\n\t\t\t'uniform vec3 cameraPosition;',\r\n\t\t\t'uniform bool isOrthographic;',\r\n\r\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\r\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\r\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\r\n\r\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\r\n\r\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\r\n\t\t\tparameters.map ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\r\n\t\t\tparameters.matcap ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\r\n\t\t\tparameters.envMap ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\r\n\t\t\tparameters.emissiveMap ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\r\n\t\t\tparameters.lightMap ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\r\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\r\n\r\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\r\n\r\n\t\t\t'\\n'\r\n\r\n\t\t].filter( filterEmptyLine ).join( '\\n' );\r\n\r\n\t}\r\n\r\n\tvertexShader = resolveIncludes( vertexShader );\r\n\tvertexShader = replaceLightNums( vertexShader, parameters );\r\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\r\n\r\n\tfragmentShader = resolveIncludes( fragmentShader );\r\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\r\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\r\n\r\n\tvertexShader = unrollLoops( vertexShader );\r\n\tfragmentShader = unrollLoops( fragmentShader );\r\n\r\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\r\n\r\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\r\n\r\n\t\tversionString = '#version 300 es\\n';\r\n\r\n\t\tprefixVertex = [\r\n\t\t\t'#define attribute in',\r\n\t\t\t'#define varying out',\r\n\t\t\t'#define texture2D texture'\r\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\r\n\r\n\t\tprefixFragment = [\r\n\t\t\t'#define varying in',\r\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'out highp vec4 pc_fragColor;',\r\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\r\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\r\n\t\t\t'#define texture2D texture',\r\n\t\t\t'#define textureCube texture',\r\n\t\t\t'#define texture2DProj textureProj',\r\n\t\t\t'#define texture2DLodEXT textureLod',\r\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\r\n\t\t\t'#define textureCubeLodEXT textureLod',\r\n\t\t\t'#define texture2DGradEXT textureGrad',\r\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\r\n\t\t\t'#define textureCubeGradEXT textureGrad'\r\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\r\n\r\n\t}\r\n\r\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\r\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\r\n\r\n\t// console.log( '*VERTEX*', vertexGlsl );\r\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\r\n\r\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\r\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\r\n\r\n\tgl.attachShader( program, glVertexShader );\r\n\tgl.attachShader( program, glFragmentShader );\r\n\r\n\t// Force a particular attribute to index 0.\r\n\r\n\tif ( parameters.index0AttributeName !== undefined ) {\r\n\r\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\r\n\r\n\t} else if ( parameters.morphTargets === true ) {\r\n\r\n\t\t// programs with morphTargets displace position out of attribute 0\r\n\t\tgl.bindAttribLocation( program, 0, 'position' );\r\n\r\n\t}\r\n\r\n\tgl.linkProgram( program );\r\n\r\n\t// check for link errors\r\n\tif ( renderer.debug.checkShaderErrors ) {\r\n\r\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\r\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\r\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\r\n\r\n\t\tlet runnable = true;\r\n\t\tlet haveDiagnostics = true;\r\n\r\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\r\n\r\n\t\t\trunnable = false;\r\n\r\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\r\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\r\n\r\n\t\t} else if ( programLog !== '' ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\r\n\r\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\r\n\r\n\t\t\thaveDiagnostics = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( haveDiagnostics ) {\r\n\r\n\t\t\tthis.diagnostics = {\r\n\r\n\t\t\t\trunnable: runnable,\r\n\r\n\t\t\t\tprogramLog: programLog,\r\n\r\n\t\t\t\tvertexShader: {\r\n\r\n\t\t\t\t\tlog: vertexLog,\r\n\t\t\t\t\tprefix: prefixVertex\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tfragmentShader: {\r\n\r\n\t\t\t\t\tlog: fragmentLog,\r\n\t\t\t\t\tprefix: prefixFragment\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Clean up\r\n\r\n\t// Crashes in iOS9 and iOS10. #18402\r\n\t// gl.detachShader( program, glVertexShader );\r\n\t// gl.detachShader( program, glFragmentShader );\r\n\r\n\tgl.deleteShader( glVertexShader );\r\n\tgl.deleteShader( glFragmentShader );\r\n\r\n\t// set up caching for uniform locations\r\n\r\n\tlet cachedUniforms;\r\n\r\n\tthis.getUniforms = function () {\r\n\r\n\t\tif ( cachedUniforms === undefined ) {\r\n\r\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\r\n\r\n\t\t}\r\n\r\n\t\treturn cachedUniforms;\r\n\r\n\t};\r\n\r\n\t// set up caching for attribute locations\r\n\r\n\tlet cachedAttributes;\r\n\r\n\tthis.getAttributes = function () {\r\n\r\n\t\tif ( cachedAttributes === undefined ) {\r\n\r\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\r\n\r\n\t\t}\r\n\r\n\t\treturn cachedAttributes;\r\n\r\n\t};\r\n\r\n\t// free resource\r\n\r\n\tthis.destroy = function () {\r\n\r\n\t\tbindingStates.releaseStatesOfProgram( this );\r\n\r\n\t\tgl.deleteProgram( program );\r\n\t\tthis.program = undefined;\r\n\r\n\t};\r\n\r\n\t//\r\n\r\n\tthis.name = parameters.shaderName;\r\n\tthis.id = programIdCount ++;\r\n\tthis.cacheKey = cacheKey;\r\n\tthis.usedTimes = 1;\r\n\tthis.program = program;\r\n\tthis.vertexShader = glVertexShader;\r\n\tthis.fragmentShader = glFragmentShader;\r\n\r\n\treturn this;\r\n\r\n}\r\n\r\nfunction WebGLPrograms( renderer, cubemaps, extensions, capabilities, bindingStates, clipping ) {\r\n\r\n\tconst programs = [];\r\n\r\n\tconst isWebGL2 = capabilities.isWebGL2;\r\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\r\n\tconst floatVertexTextures = capabilities.floatVertexTextures;\r\n\tconst maxVertexUniforms = capabilities.maxVertexUniforms;\r\n\tconst vertexTextures = capabilities.vertexTextures;\r\n\r\n\tlet precision = capabilities.precision;\r\n\r\n\tconst shaderIDs = {\r\n\t\tMeshDepthMaterial: 'depth',\r\n\t\tMeshDistanceMaterial: 'distanceRGBA',\r\n\t\tMeshNormalMaterial: 'normal',\r\n\t\tMeshBasicMaterial: 'basic',\r\n\t\tMeshLambertMaterial: 'lambert',\r\n\t\tMeshPhongMaterial: 'phong',\r\n\t\tMeshToonMaterial: 'toon',\r\n\t\tMeshStandardMaterial: 'physical',\r\n\t\tMeshPhysicalMaterial: 'physical',\r\n\t\tMeshMatcapMaterial: 'matcap',\r\n\t\tLineBasicMaterial: 'basic',\r\n\t\tLineDashedMaterial: 'dashed',\r\n\t\tPointsMaterial: 'points',\r\n\t\tShadowMaterial: 'shadow',\r\n\t\tSpriteMaterial: 'sprite'\r\n\t};\r\n\r\n\tconst parameterNames = [\r\n\t\t'precision', 'isWebGL2', 'supportsVertexTextures', 'outputEncoding', 'instancing', 'instancingColor',\r\n\t\t'map', 'mapEncoding', 'matcap', 'matcapEncoding', 'envMap', 'envMapMode', 'envMapEncoding', 'envMapCubeUV',\r\n\t\t'lightMap', 'lightMapEncoding', 'aoMap', 'emissiveMap', 'emissiveMapEncoding', 'bumpMap', 'normalMap', 'objectSpaceNormalMap', 'tangentSpaceNormalMap', 'clearcoatMap', 'clearcoatRoughnessMap', 'clearcoatNormalMap', 'displacementMap', 'specularMap',\r\n\t\t'roughnessMap', 'metalnessMap', 'gradientMap',\r\n\t\t'alphaMap', 'combine', 'vertexColors', 'vertexAlphas', 'vertexTangents', 'vertexUvs', 'uvsVertexOnly', 'fog', 'useFog', 'fogExp2',\r\n\t\t'flatShading', 'sizeAttenuation', 'logarithmicDepthBuffer', 'skinning',\r\n\t\t'maxBones', 'useVertexTexture', 'morphTargets', 'morphNormals', 'premultipliedAlpha',\r\n\t\t'numDirLights', 'numPointLights', 'numSpotLights', 'numHemiLights', 'numRectAreaLights',\r\n\t\t'numDirLightShadows', 'numPointLightShadows', 'numSpotLightShadows',\r\n\t\t'shadowMapEnabled', 'shadowMapType', 'toneMapping', 'physicallyCorrectLights',\r\n\t\t'alphaTest', 'doubleSided', 'flipSided', 'numClippingPlanes', 'numClipIntersection', 'depthPacking', 'dithering',\r\n\t\t'sheen', 'transmissionMap'\r\n\t];\r\n\r\n\tfunction getMaxBones( object ) {\r\n\r\n\t\tconst skeleton = object.skeleton;\r\n\t\tconst bones = skeleton.bones;\r\n\r\n\t\tif ( floatVertexTextures ) {\r\n\r\n\t\t\treturn 1024;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// default for when object is not specified\r\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\r\n\t\t\t//\r\n\t\t\t//  - leave some extra space for other uniforms\r\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\r\n\t\t\t//    (up to 54 should be safe)\r\n\r\n\t\t\tconst nVertexUniforms = maxVertexUniforms;\r\n\t\t\tconst nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\r\n\r\n\t\t\tconst maxBones = Math.min( nVertexMatrices, bones.length );\r\n\r\n\t\t\tif ( maxBones < bones.length ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\r\n\t\t\t\treturn 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn maxBones;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction getTextureEncodingFromMap( map ) {\r\n\r\n\t\tlet encoding;\r\n\r\n\t\tif ( map && map.isTexture ) {\r\n\r\n\t\t\tencoding = map.encoding;\r\n\r\n\t\t} else if ( map && map.isWebGLRenderTarget ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLPrograms.getTextureEncodingFromMap: don\\'t use render targets as textures. Use their .texture property instead.' );\r\n\t\t\tencoding = map.texture.encoding;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tencoding = LinearEncoding;\r\n\r\n\t\t}\r\n\r\n\t\treturn encoding;\r\n\r\n\t}\r\n\r\n\tfunction getParameters( material, lights, shadows, scene, object ) {\r\n\r\n\t\tconst fog = scene.fog;\r\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\r\n\r\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\r\n\r\n\t\tconst shaderID = shaderIDs[ material.type ];\r\n\r\n\t\t// heuristics to create shader parameters according to lights in the scene\r\n\t\t// (not to blow over maxLights budget)\r\n\r\n\t\tconst maxBones = object.isSkinnedMesh ? getMaxBones( object ) : 0;\r\n\r\n\t\tif ( material.precision !== null ) {\r\n\r\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\r\n\r\n\t\t\tif ( precision !== material.precision ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tlet vertexShader, fragmentShader;\r\n\r\n\t\tif ( shaderID ) {\r\n\r\n\t\t\tconst shader = ShaderLib[ shaderID ];\r\n\r\n\t\t\tvertexShader = shader.vertexShader;\r\n\t\t\tfragmentShader = shader.fragmentShader;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvertexShader = material.vertexShader;\r\n\t\t\tfragmentShader = material.fragmentShader;\r\n\r\n\t\t}\r\n\r\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\r\n\r\n\t\tconst parameters = {\r\n\r\n\t\t\tisWebGL2: isWebGL2,\r\n\r\n\t\t\tshaderID: shaderID,\r\n\t\t\tshaderName: material.type,\r\n\r\n\t\t\tvertexShader: vertexShader,\r\n\t\t\tfragmentShader: fragmentShader,\r\n\t\t\tdefines: material.defines,\r\n\r\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\r\n\t\t\tglslVersion: material.glslVersion,\r\n\r\n\t\t\tprecision: precision,\r\n\r\n\t\t\tinstancing: object.isInstancedMesh === true,\r\n\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\r\n\r\n\t\t\tsupportsVertexTextures: vertexTextures,\r\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\r\n\t\t\tmap: !! material.map,\r\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\r\n\t\t\tmatcap: !! material.matcap,\r\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\r\n\t\t\tenvMap: !! envMap,\r\n\t\t\tenvMapMode: envMap && envMap.mapping,\r\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\r\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\r\n\t\t\tlightMap: !! material.lightMap,\r\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\r\n\t\t\taoMap: !! material.aoMap,\r\n\t\t\temissiveMap: !! material.emissiveMap,\r\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\r\n\t\t\tbumpMap: !! material.bumpMap,\r\n\t\t\tnormalMap: !! material.normalMap,\r\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\r\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\r\n\t\t\tclearcoatMap: !! material.clearcoatMap,\r\n\t\t\tclearcoatRoughnessMap: !! material.clearcoatRoughnessMap,\r\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\r\n\t\t\tdisplacementMap: !! material.displacementMap,\r\n\t\t\troughnessMap: !! material.roughnessMap,\r\n\t\t\tmetalnessMap: !! material.metalnessMap,\r\n\t\t\tspecularMap: !! material.specularMap,\r\n\t\t\talphaMap: !! material.alphaMap,\r\n\r\n\t\t\tgradientMap: !! material.gradientMap,\r\n\r\n\t\t\tsheen: !! material.sheen,\r\n\r\n\t\t\ttransmissionMap: !! material.transmissionMap,\r\n\r\n\t\t\tcombine: material.combine,\r\n\r\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\r\n\t\t\tvertexColors: material.vertexColors,\r\n\t\t\tvertexAlphas: material.vertexColors === true && object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4,\r\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.displacementMap || !! material.transmissionMap,\r\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.transmissionMap ) && !! material.displacementMap,\r\n\r\n\t\t\tfog: !! fog,\r\n\t\t\tuseFog: material.fog,\r\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\r\n\r\n\t\t\tflatShading: !! material.flatShading,\r\n\r\n\t\t\tsizeAttenuation: material.sizeAttenuation,\r\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\r\n\r\n\t\t\tskinning: material.skinning && maxBones > 0,\r\n\t\t\tmaxBones: maxBones,\r\n\t\t\tuseVertexTexture: floatVertexTextures,\r\n\r\n\t\t\tmorphTargets: material.morphTargets,\r\n\t\t\tmorphNormals: material.morphNormals,\r\n\r\n\t\t\tnumDirLights: lights.directional.length,\r\n\t\t\tnumPointLights: lights.point.length,\r\n\t\t\tnumSpotLights: lights.spot.length,\r\n\t\t\tnumRectAreaLights: lights.rectArea.length,\r\n\t\t\tnumHemiLights: lights.hemi.length,\r\n\r\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\r\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\r\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\r\n\r\n\t\t\tnumClippingPlanes: clipping.numPlanes,\r\n\t\t\tnumClipIntersection: clipping.numIntersection,\r\n\r\n\t\t\tdithering: material.dithering,\r\n\r\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\r\n\t\t\tshadowMapType: renderer.shadowMap.type,\r\n\r\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\r\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\r\n\r\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\r\n\r\n\t\t\talphaTest: material.alphaTest,\r\n\t\t\tdoubleSided: material.side === DoubleSide,\r\n\t\t\tflipSided: material.side === BackSide,\r\n\r\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\r\n\r\n\t\t\tindex0AttributeName: material.index0AttributeName,\r\n\r\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\r\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\r\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\r\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\r\n\r\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has( 'EXT_frag_depth' ),\r\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has( 'WEBGL_draw_buffers' ),\r\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has( 'EXT_shader_texture_lod' ),\r\n\r\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\r\n\r\n\t\t};\r\n\r\n\t\treturn parameters;\r\n\r\n\t}\r\n\r\n\tfunction getProgramCacheKey( parameters ) {\r\n\r\n\t\tconst array = [];\r\n\r\n\t\tif ( parameters.shaderID ) {\r\n\r\n\t\t\tarray.push( parameters.shaderID );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tarray.push( parameters.fragmentShader );\r\n\t\t\tarray.push( parameters.vertexShader );\r\n\r\n\t\t}\r\n\r\n\t\tif ( parameters.defines !== undefined ) {\r\n\r\n\t\t\tfor ( const name in parameters.defines ) {\r\n\r\n\t\t\t\tarray.push( name );\r\n\t\t\t\tarray.push( parameters.defines[ name ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( parameters.isRawShaderMaterial === false ) {\r\n\r\n\t\t\tfor ( let i = 0; i < parameterNames.length; i ++ ) {\r\n\r\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray.push( renderer.outputEncoding );\r\n\t\t\tarray.push( renderer.gammaFactor );\r\n\r\n\t\t}\r\n\r\n\t\tarray.push( parameters.customProgramCacheKey );\r\n\r\n\t\treturn array.join();\r\n\r\n\t}\r\n\r\n\tfunction getUniforms( material ) {\r\n\r\n\t\tconst shaderID = shaderIDs[ material.type ];\r\n\t\tlet uniforms;\r\n\r\n\t\tif ( shaderID ) {\r\n\r\n\t\t\tconst shader = ShaderLib[ shaderID ];\r\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tuniforms = material.uniforms;\r\n\r\n\t\t}\r\n\r\n\t\treturn uniforms;\r\n\r\n\t}\r\n\r\n\tfunction acquireProgram( parameters, cacheKey ) {\r\n\r\n\t\tlet program;\r\n\r\n\t\t// Check if code has been already compiled\r\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\r\n\r\n\t\t\tconst preexistingProgram = programs[ p ];\r\n\r\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\r\n\r\n\t\t\t\tprogram = preexistingProgram;\r\n\t\t\t\t++ program.usedTimes;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( program === undefined ) {\r\n\r\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\r\n\t\t\tprograms.push( program );\r\n\r\n\t\t}\r\n\r\n\t\treturn program;\r\n\r\n\t}\r\n\r\n\tfunction releaseProgram( program ) {\r\n\r\n\t\tif ( -- program.usedTimes === 0 ) {\r\n\r\n\t\t\t// Remove from unordered set\r\n\t\t\tconst i = programs.indexOf( program );\r\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\r\n\t\t\tprograms.pop();\r\n\r\n\t\t\t// Free WebGL resources\r\n\t\t\tprogram.destroy();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tgetParameters: getParameters,\r\n\t\tgetProgramCacheKey: getProgramCacheKey,\r\n\t\tgetUniforms: getUniforms,\r\n\t\tacquireProgram: acquireProgram,\r\n\t\treleaseProgram: releaseProgram,\r\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\r\n\t\tprograms: programs\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLProperties() {\r\n\r\n\tlet properties = new WeakMap();\r\n\r\n\tfunction get( object ) {\r\n\r\n\t\tlet map = properties.get( object );\r\n\r\n\t\tif ( map === undefined ) {\r\n\r\n\t\t\tmap = {};\r\n\t\t\tproperties.set( object, map );\r\n\r\n\t\t}\r\n\r\n\t\treturn map;\r\n\r\n\t}\r\n\r\n\tfunction remove( object ) {\r\n\r\n\t\tproperties.delete( object );\r\n\r\n\t}\r\n\r\n\tfunction update( object, key, value ) {\r\n\r\n\t\tproperties.get( object )[ key ] = value;\r\n\r\n\t}\r\n\r\n\tfunction dispose() {\r\n\r\n\t\tproperties = new WeakMap();\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tget: get,\r\n\t\tremove: remove,\r\n\t\tupdate: update,\r\n\t\tdispose: dispose\r\n\t};\r\n\r\n}\r\n\r\nfunction painterSortStable( a, b ) {\r\n\r\n\tif ( a.groupOrder !== b.groupOrder ) {\r\n\r\n\t\treturn a.groupOrder - b.groupOrder;\r\n\r\n\t} else if ( a.renderOrder !== b.renderOrder ) {\r\n\r\n\t\treturn a.renderOrder - b.renderOrder;\r\n\r\n\t} else if ( a.program !== b.program ) {\r\n\r\n\t\treturn a.program.id - b.program.id;\r\n\r\n\t} else if ( a.material.id !== b.material.id ) {\r\n\r\n\t\treturn a.material.id - b.material.id;\r\n\r\n\t} else if ( a.z !== b.z ) {\r\n\r\n\t\treturn a.z - b.z;\r\n\r\n\t} else {\r\n\r\n\t\treturn a.id - b.id;\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction reversePainterSortStable( a, b ) {\r\n\r\n\tif ( a.groupOrder !== b.groupOrder ) {\r\n\r\n\t\treturn a.groupOrder - b.groupOrder;\r\n\r\n\t} else if ( a.renderOrder !== b.renderOrder ) {\r\n\r\n\t\treturn a.renderOrder - b.renderOrder;\r\n\r\n\t} else if ( a.z !== b.z ) {\r\n\r\n\t\treturn b.z - a.z;\r\n\r\n\t} else {\r\n\r\n\t\treturn a.id - b.id;\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction WebGLRenderList( properties ) {\r\n\r\n\tconst renderItems = [];\r\n\tlet renderItemsIndex = 0;\r\n\r\n\tconst opaque = [];\r\n\tconst transparent = [];\r\n\r\n\tconst defaultProgram = { id: - 1 };\r\n\r\n\tfunction init() {\r\n\r\n\t\trenderItemsIndex = 0;\r\n\r\n\t\topaque.length = 0;\r\n\t\ttransparent.length = 0;\r\n\r\n\t}\r\n\r\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\r\n\r\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\r\n\t\tconst materialProperties = properties.get( material );\r\n\r\n\t\tif ( renderItem === undefined ) {\r\n\r\n\t\t\trenderItem = {\r\n\t\t\t\tid: object.id,\r\n\t\t\t\tobject: object,\r\n\t\t\t\tgeometry: geometry,\r\n\t\t\t\tmaterial: material,\r\n\t\t\t\tprogram: materialProperties.program || defaultProgram,\r\n\t\t\t\tgroupOrder: groupOrder,\r\n\t\t\t\trenderOrder: object.renderOrder,\r\n\t\t\t\tz: z,\r\n\t\t\t\tgroup: group\r\n\t\t\t};\r\n\r\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderItem.id = object.id;\r\n\t\t\trenderItem.object = object;\r\n\t\t\trenderItem.geometry = geometry;\r\n\t\t\trenderItem.material = material;\r\n\t\t\trenderItem.program = materialProperties.program || defaultProgram;\r\n\t\t\trenderItem.groupOrder = groupOrder;\r\n\t\t\trenderItem.renderOrder = object.renderOrder;\r\n\t\t\trenderItem.z = z;\r\n\t\t\trenderItem.group = group;\r\n\r\n\t\t}\r\n\r\n\t\trenderItemsIndex ++;\r\n\r\n\t\treturn renderItem;\r\n\r\n\t}\r\n\r\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\r\n\r\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\r\n\r\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\r\n\r\n\t}\r\n\r\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\r\n\r\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\r\n\r\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\r\n\r\n\t}\r\n\r\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\r\n\r\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\r\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\r\n\r\n\t}\r\n\r\n\tfunction finish() {\r\n\r\n\t\t// Clear references from inactive renderItems in the list\r\n\r\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\r\n\r\n\t\t\tconst renderItem = renderItems[ i ];\r\n\r\n\t\t\tif ( renderItem.id === null ) break;\r\n\r\n\t\t\trenderItem.id = null;\r\n\t\t\trenderItem.object = null;\r\n\t\t\trenderItem.geometry = null;\r\n\t\t\trenderItem.material = null;\r\n\t\t\trenderItem.program = null;\r\n\t\t\trenderItem.group = null;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\topaque: opaque,\r\n\t\ttransparent: transparent,\r\n\r\n\t\tinit: init,\r\n\t\tpush: push,\r\n\t\tunshift: unshift,\r\n\t\tfinish: finish,\r\n\r\n\t\tsort: sort\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLRenderLists( properties ) {\r\n\r\n\tlet lists = new WeakMap();\r\n\r\n\tfunction get( scene, renderCallDepth ) {\r\n\r\n\t\tlet list;\r\n\r\n\t\tif ( lists.has( scene ) === false ) {\r\n\r\n\t\t\tlist = new WebGLRenderList( properties );\r\n\t\t\tlists.set( scene, [ list ] );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( renderCallDepth >= lists.get( scene ).length ) {\r\n\r\n\t\t\t\tlist = new WebGLRenderList( properties );\r\n\t\t\t\tlists.get( scene ).push( list );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tlist = lists.get( scene )[ renderCallDepth ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn list;\r\n\r\n\t}\r\n\r\n\tfunction dispose() {\r\n\r\n\t\tlists = new WeakMap();\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tget: get,\r\n\t\tdispose: dispose\r\n\t};\r\n\r\n}\r\n\r\nfunction UniformsCache() {\r\n\r\n\tconst lights = {};\r\n\r\n\treturn {\r\n\r\n\t\tget: function ( light ) {\r\n\r\n\t\t\tif ( lights[ light.id ] !== undefined ) {\r\n\r\n\t\t\t\treturn lights[ light.id ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlet uniforms;\r\n\r\n\t\t\tswitch ( light.type ) {\r\n\r\n\t\t\t\tcase 'DirectionalLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tdirection: new Vector3(),\r\n\t\t\t\t\t\tcolor: new Color()\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'SpotLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tposition: new Vector3(),\r\n\t\t\t\t\t\tdirection: new Vector3(),\r\n\t\t\t\t\t\tcolor: new Color(),\r\n\t\t\t\t\t\tdistance: 0,\r\n\t\t\t\t\t\tconeCos: 0,\r\n\t\t\t\t\t\tpenumbraCos: 0,\r\n\t\t\t\t\t\tdecay: 0\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'PointLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tposition: new Vector3(),\r\n\t\t\t\t\t\tcolor: new Color(),\r\n\t\t\t\t\t\tdistance: 0,\r\n\t\t\t\t\t\tdecay: 0\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'HemisphereLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tdirection: new Vector3(),\r\n\t\t\t\t\t\tskyColor: new Color(),\r\n\t\t\t\t\t\tgroundColor: new Color()\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'RectAreaLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tcolor: new Color(),\r\n\t\t\t\t\t\tposition: new Vector3(),\r\n\t\t\t\t\t\thalfWidth: new Vector3(),\r\n\t\t\t\t\t\thalfHeight: new Vector3()\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlights[ light.id ] = uniforms;\r\n\r\n\t\t\treturn uniforms;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}\r\n\r\nfunction ShadowUniformsCache() {\r\n\r\n\tconst lights = {};\r\n\r\n\treturn {\r\n\r\n\t\tget: function ( light ) {\r\n\r\n\t\t\tif ( lights[ light.id ] !== undefined ) {\r\n\r\n\t\t\t\treturn lights[ light.id ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlet uniforms;\r\n\r\n\t\t\tswitch ( light.type ) {\r\n\r\n\t\t\t\tcase 'DirectionalLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tshadowBias: 0,\r\n\t\t\t\t\t\tshadowNormalBias: 0,\r\n\t\t\t\t\t\tshadowRadius: 1,\r\n\t\t\t\t\t\tshadowMapSize: new Vector2()\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'SpotLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tshadowBias: 0,\r\n\t\t\t\t\t\tshadowNormalBias: 0,\r\n\t\t\t\t\t\tshadowRadius: 1,\r\n\t\t\t\t\t\tshadowMapSize: new Vector2()\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'PointLight':\r\n\t\t\t\t\tuniforms = {\r\n\t\t\t\t\t\tshadowBias: 0,\r\n\t\t\t\t\t\tshadowNormalBias: 0,\r\n\t\t\t\t\t\tshadowRadius: 1,\r\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\r\n\t\t\t\t\t\tshadowCameraNear: 1,\r\n\t\t\t\t\t\tshadowCameraFar: 1000\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlights[ light.id ] = uniforms;\r\n\r\n\t\t\treturn uniforms;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}\r\n\r\n\r\n\r\nlet nextVersion = 0;\r\n\r\nfunction shadowCastingLightsFirst( lightA, lightB ) {\r\n\r\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\r\n\r\n}\r\n\r\nfunction WebGLLights( extensions, capabilities ) {\r\n\r\n\tconst cache = new UniformsCache();\r\n\r\n\tconst shadowCache = ShadowUniformsCache();\r\n\r\n\tconst state = {\r\n\r\n\t\tversion: 0,\r\n\r\n\t\thash: {\r\n\t\t\tdirectionalLength: - 1,\r\n\t\t\tpointLength: - 1,\r\n\t\t\tspotLength: - 1,\r\n\t\t\trectAreaLength: - 1,\r\n\t\t\themiLength: - 1,\r\n\r\n\t\t\tnumDirectionalShadows: - 1,\r\n\t\t\tnumPointShadows: - 1,\r\n\t\t\tnumSpotShadows: - 1\r\n\t\t},\r\n\r\n\t\tambient: [ 0, 0, 0 ],\r\n\t\tprobe: [],\r\n\t\tdirectional: [],\r\n\t\tdirectionalShadow: [],\r\n\t\tdirectionalShadowMap: [],\r\n\t\tdirectionalShadowMatrix: [],\r\n\t\tspot: [],\r\n\t\tspotShadow: [],\r\n\t\tspotShadowMap: [],\r\n\t\tspotShadowMatrix: [],\r\n\t\trectArea: [],\r\n\t\trectAreaLTC1: null,\r\n\t\trectAreaLTC2: null,\r\n\t\tpoint: [],\r\n\t\tpointShadow: [],\r\n\t\tpointShadowMap: [],\r\n\t\tpointShadowMatrix: [],\r\n\t\themi: []\r\n\r\n\t};\r\n\r\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\r\n\r\n\tconst vector3 = new Vector3();\r\n\tconst matrix4 = new Matrix4();\r\n\tconst matrix42 = new Matrix4();\r\n\r\n\tfunction setup( lights ) {\r\n\r\n\t\tlet r = 0, g = 0, b = 0;\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\r\n\r\n\t\tlet directionalLength = 0;\r\n\t\tlet pointLength = 0;\r\n\t\tlet spotLength = 0;\r\n\t\tlet rectAreaLength = 0;\r\n\t\tlet hemiLength = 0;\r\n\r\n\t\tlet numDirectionalShadows = 0;\r\n\t\tlet numPointShadows = 0;\r\n\t\tlet numSpotShadows = 0;\r\n\r\n\t\tlights.sort( shadowCastingLightsFirst );\r\n\r\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst light = lights[ i ];\r\n\r\n\t\t\tconst color = light.color;\r\n\t\t\tconst intensity = light.intensity;\r\n\t\t\tconst distance = light.distance;\r\n\r\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\r\n\r\n\t\t\tif ( light.isAmbientLight ) {\r\n\r\n\t\t\t\tr += color.r * intensity;\r\n\t\t\t\tg += color.g * intensity;\r\n\t\t\t\tb += color.b * intensity;\r\n\r\n\t\t\t} else if ( light.isLightProbe ) {\r\n\r\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\r\n\r\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( light.isDirectionalLight ) {\r\n\r\n\t\t\t\tconst uniforms = cache.get( light );\r\n\r\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\r\n\r\n\t\t\t\tif ( light.castShadow ) {\r\n\r\n\t\t\t\t\tconst shadow = light.shadow;\r\n\r\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\r\n\r\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\r\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\r\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\r\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\r\n\r\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\r\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\r\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\r\n\r\n\t\t\t\t\tnumDirectionalShadows ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\r\n\r\n\t\t\t\tdirectionalLength ++;\r\n\r\n\t\t\t} else if ( light.isSpotLight ) {\r\n\r\n\t\t\t\tconst uniforms = cache.get( light );\r\n\r\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\r\n\r\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\r\n\t\t\t\tuniforms.distance = distance;\r\n\r\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\r\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\r\n\t\t\t\tuniforms.decay = light.decay;\r\n\r\n\t\t\t\tif ( light.castShadow ) {\r\n\r\n\t\t\t\t\tconst shadow = light.shadow;\r\n\r\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\r\n\r\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\r\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\r\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\r\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\r\n\r\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\r\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\r\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\r\n\r\n\t\t\t\t\tnumSpotShadows ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\r\n\r\n\t\t\t\tspotLength ++;\r\n\r\n\t\t\t} else if ( light.isRectAreaLight ) {\r\n\r\n\t\t\t\tconst uniforms = cache.get( light );\r\n\r\n\t\t\t\t// (a) intensity is the total visible light emitted\r\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\r\n\r\n\t\t\t\t// (b) intensity is the brightness of the light\r\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\r\n\r\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\r\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\r\n\r\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\r\n\r\n\t\t\t\trectAreaLength ++;\r\n\r\n\t\t\t} else if ( light.isPointLight ) {\r\n\r\n\t\t\t\tconst uniforms = cache.get( light );\r\n\r\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\r\n\t\t\t\tuniforms.distance = light.distance;\r\n\t\t\t\tuniforms.decay = light.decay;\r\n\r\n\t\t\t\tif ( light.castShadow ) {\r\n\r\n\t\t\t\t\tconst shadow = light.shadow;\r\n\r\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\r\n\r\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\r\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\r\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\r\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\r\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\r\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\r\n\r\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\r\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\r\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\r\n\r\n\t\t\t\t\tnumPointShadows ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstate.point[ pointLength ] = uniforms;\r\n\r\n\t\t\t\tpointLength ++;\r\n\r\n\t\t\t} else if ( light.isHemisphereLight ) {\r\n\r\n\t\t\t\tconst uniforms = cache.get( light );\r\n\r\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\r\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\r\n\r\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\r\n\r\n\t\t\t\themiLength ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( rectAreaLength > 0 ) {\r\n\r\n\t\t\tif ( capabilities.isWebGL2 ) {\r\n\r\n\t\t\t\t// WebGL 2\r\n\r\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\r\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// WebGL 1\r\n\r\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\r\n\r\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\r\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\r\n\r\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\r\n\r\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\r\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tstate.ambient[ 0 ] = r;\r\n\t\tstate.ambient[ 1 ] = g;\r\n\t\tstate.ambient[ 2 ] = b;\r\n\r\n\t\tconst hash = state.hash;\r\n\r\n\t\tif ( hash.directionalLength !== directionalLength ||\r\n\t\t\thash.pointLength !== pointLength ||\r\n\t\t\thash.spotLength !== spotLength ||\r\n\t\t\thash.rectAreaLength !== rectAreaLength ||\r\n\t\t\thash.hemiLength !== hemiLength ||\r\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\r\n\t\t\thash.numPointShadows !== numPointShadows ||\r\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\r\n\r\n\t\t\tstate.directional.length = directionalLength;\r\n\t\t\tstate.spot.length = spotLength;\r\n\t\t\tstate.rectArea.length = rectAreaLength;\r\n\t\t\tstate.point.length = pointLength;\r\n\t\t\tstate.hemi.length = hemiLength;\r\n\r\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\r\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\r\n\t\t\tstate.pointShadow.length = numPointShadows;\r\n\t\t\tstate.pointShadowMap.length = numPointShadows;\r\n\t\t\tstate.spotShadow.length = numSpotShadows;\r\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\r\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\r\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\r\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\r\n\r\n\t\t\thash.directionalLength = directionalLength;\r\n\t\t\thash.pointLength = pointLength;\r\n\t\t\thash.spotLength = spotLength;\r\n\t\t\thash.rectAreaLength = rectAreaLength;\r\n\t\t\thash.hemiLength = hemiLength;\r\n\r\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\r\n\t\t\thash.numPointShadows = numPointShadows;\r\n\t\t\thash.numSpotShadows = numSpotShadows;\r\n\r\n\t\t\tstate.version = nextVersion ++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction setupView( lights, camera ) {\r\n\r\n\t\tlet directionalLength = 0;\r\n\t\tlet pointLength = 0;\r\n\t\tlet spotLength = 0;\r\n\t\tlet rectAreaLength = 0;\r\n\t\tlet hemiLength = 0;\r\n\r\n\t\tconst viewMatrix = camera.matrixWorldInverse;\r\n\r\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst light = lights[ i ];\r\n\r\n\t\t\tif ( light.isDirectionalLight ) {\r\n\r\n\t\t\t\tconst uniforms = state.directional[ directionalLength ];\r\n\r\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\r\n\t\t\t\tuniforms.direction.sub( vector3 );\r\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\r\n\r\n\t\t\t\tdirectionalLength ++;\r\n\r\n\t\t\t} else if ( light.isSpotLight ) {\r\n\r\n\t\t\t\tconst uniforms = state.spot[ spotLength ];\r\n\r\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\r\n\r\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\r\n\t\t\t\tuniforms.direction.sub( vector3 );\r\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\r\n\r\n\t\t\t\tspotLength ++;\r\n\r\n\t\t\t} else if ( light.isRectAreaLight ) {\r\n\r\n\t\t\t\tconst uniforms = state.rectArea[ rectAreaLength ];\r\n\r\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\r\n\r\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\r\n\t\t\t\tmatrix42.identity();\r\n\t\t\t\tmatrix4.copy( light.matrixWorld );\r\n\t\t\t\tmatrix4.premultiply( viewMatrix );\r\n\t\t\t\tmatrix42.extractRotation( matrix4 );\r\n\r\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\r\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\r\n\r\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\r\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\r\n\r\n\t\t\t\trectAreaLength ++;\r\n\r\n\t\t\t} else if ( light.isPointLight ) {\r\n\r\n\t\t\t\tconst uniforms = state.point[ pointLength ];\r\n\r\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\r\n\r\n\t\t\t\tpointLength ++;\r\n\r\n\t\t\t} else if ( light.isHemisphereLight ) {\r\n\r\n\t\t\t\tconst uniforms = state.hemi[ hemiLength ];\r\n\r\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\r\n\t\t\t\tuniforms.direction.normalize();\r\n\r\n\t\t\t\themiLength ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tsetup: setup,\r\n\t\tsetupView: setupView,\r\n\t\tstate: state\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLRenderState( extensions, capabilities ) {\r\n\r\n\tconst lights = new WebGLLights( extensions, capabilities );\r\n\r\n\tconst lightsArray = [];\r\n\tconst shadowsArray = [];\r\n\r\n\tfunction init() {\r\n\r\n\t\tlightsArray.length = 0;\r\n\t\tshadowsArray.length = 0;\r\n\r\n\t}\r\n\r\n\tfunction pushLight( light ) {\r\n\r\n\t\tlightsArray.push( light );\r\n\r\n\t}\r\n\r\n\tfunction pushShadow( shadowLight ) {\r\n\r\n\t\tshadowsArray.push( shadowLight );\r\n\r\n\t}\r\n\r\n\tfunction setupLights() {\r\n\r\n\t\tlights.setup( lightsArray );\r\n\r\n\t}\r\n\r\n\tfunction setupLightsView( camera ) {\r\n\r\n\t\tlights.setupView( lightsArray, camera );\r\n\r\n\t}\r\n\r\n\tconst state = {\r\n\t\tlightsArray: lightsArray,\r\n\t\tshadowsArray: shadowsArray,\r\n\r\n\t\tlights: lights\r\n\t};\r\n\r\n\treturn {\r\n\t\tinit: init,\r\n\t\tstate: state,\r\n\t\tsetupLights: setupLights,\r\n\t\tsetupLightsView: setupLightsView,\r\n\r\n\t\tpushLight: pushLight,\r\n\t\tpushShadow: pushShadow\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLRenderStates( extensions, capabilities ) {\r\n\r\n\tlet renderStates = new WeakMap();\r\n\r\n\tfunction get( scene, renderCallDepth = 0 ) {\r\n\r\n\t\tlet renderState;\r\n\r\n\t\tif ( renderStates.has( scene ) === false ) {\r\n\r\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\r\n\t\t\trenderStates.set( scene, [ renderState ] );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( renderCallDepth >= renderStates.get( scene ).length ) {\r\n\r\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\r\n\t\t\t\trenderStates.get( scene ).push( renderState );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trenderState = renderStates.get( scene )[ renderCallDepth ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn renderState;\r\n\r\n\t}\r\n\r\n\tfunction dispose() {\r\n\r\n\t\trenderStates = new WeakMap();\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tget: get,\r\n\t\tdispose: dispose\r\n\t};\r\n\r\n}\r\n\r\n/**\r\n * parameters = {\r\n *\r\n *  opacity: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>\r\n * }\r\n */\r\n\r\nclass MeshDepthMaterial extends Material {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'MeshDepthMaterial';\r\n\r\n\t\tthis.depthPacking = BasicDepthPacking;\r\n\r\n\t\tthis.skinning = false;\r\n\t\tthis.morphTargets = false;\r\n\r\n\t\tthis.map = null;\r\n\r\n\t\tthis.alphaMap = null;\r\n\r\n\t\tthis.displacementMap = null;\r\n\t\tthis.displacementScale = 1;\r\n\t\tthis.displacementBias = 0;\r\n\r\n\t\tthis.wireframe = false;\r\n\t\tthis.wireframeLinewidth = 1;\r\n\r\n\t\tthis.fog = false;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.depthPacking = source.depthPacking;\r\n\r\n\t\tthis.skinning = source.skinning;\r\n\t\tthis.morphTargets = source.morphTargets;\r\n\r\n\t\tthis.map = source.map;\r\n\r\n\t\tthis.alphaMap = source.alphaMap;\r\n\r\n\t\tthis.displacementMap = source.displacementMap;\r\n\t\tthis.displacementScale = source.displacementScale;\r\n\t\tthis.displacementBias = source.displacementBias;\r\n\r\n\t\tthis.wireframe = source.wireframe;\r\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\r\n\r\n/**\r\n * parameters = {\r\n *\r\n *  referencePosition: <float>,\r\n *  nearDistance: <float>,\r\n *  farDistance: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>\r\n *\r\n * }\r\n */\r\n\r\nclass MeshDistanceMaterial extends Material {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'MeshDistanceMaterial';\r\n\r\n\t\tthis.referencePosition = new Vector3();\r\n\t\tthis.nearDistance = 1;\r\n\t\tthis.farDistance = 1000;\r\n\r\n\t\tthis.skinning = false;\r\n\t\tthis.morphTargets = false;\r\n\r\n\t\tthis.map = null;\r\n\r\n\t\tthis.alphaMap = null;\r\n\r\n\t\tthis.displacementMap = null;\r\n\t\tthis.displacementScale = 1;\r\n\t\tthis.displacementBias = 0;\r\n\r\n\t\tthis.fog = false;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.referencePosition.copy( source.referencePosition );\r\n\t\tthis.nearDistance = source.nearDistance;\r\n\t\tthis.farDistance = source.farDistance;\r\n\r\n\t\tthis.skinning = source.skinning;\r\n\t\tthis.morphTargets = source.morphTargets;\r\n\r\n\t\tthis.map = source.map;\r\n\r\n\t\tthis.alphaMap = source.alphaMap;\r\n\r\n\t\tthis.displacementMap = source.displacementMap;\r\n\t\tthis.displacementScale = source.displacementScale;\r\n\t\tthis.displacementBias = source.displacementBias;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\r\n\r\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\\n\\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean * HALF_SAMPLE_RATE;\\n\\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\r\n\r\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\r\n\r\nfunction WebGLShadowMap( _renderer, _objects, _capabilities ) {\r\n\r\n\tlet _frustum = new Frustum();\r\n\r\n\tconst _shadowMapSize = new Vector2(),\r\n\t\t_viewportSize = new Vector2(),\r\n\r\n\t\t_viewport = new Vector4(),\r\n\r\n\t\t_depthMaterials = [],\r\n\t\t_distanceMaterials = [],\r\n\r\n\t\t_materialCache = {},\r\n\r\n\t\t_maxTextureSize = _capabilities.maxTextureSize;\r\n\r\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\r\n\r\n\tconst shadowMaterialVertical = new ShaderMaterial( {\r\n\r\n\t\tdefines: {\r\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\r\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\r\n\t\t},\r\n\r\n\t\tuniforms: {\r\n\t\t\tshadow_pass: { value: null },\r\n\t\t\tresolution: { value: new Vector2() },\r\n\t\t\tradius: { value: 4.0 }\r\n\t\t},\r\n\r\n\t\tvertexShader: vsm_vert,\r\n\r\n\t\tfragmentShader: vsm_frag\r\n\r\n\t} );\r\n\r\n\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\r\n\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\r\n\r\n\tconst fullScreenTri = new BufferGeometry();\r\n\tfullScreenTri.setAttribute(\r\n\t\t'position',\r\n\t\tnew BufferAttribute(\r\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\r\n\t\t\t3\r\n\t\t)\r\n\t);\r\n\r\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\r\n\r\n\tconst scope = this;\r\n\r\n\tthis.enabled = false;\r\n\r\n\tthis.autoUpdate = true;\r\n\tthis.needsUpdate = false;\r\n\r\n\tthis.type = PCFShadowMap;\r\n\r\n\tthis.render = function ( lights, scene, camera ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\r\n\r\n\t\tif ( lights.length === 0 ) return;\r\n\r\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\r\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\r\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\r\n\r\n\t\tconst _state = _renderer.state;\r\n\r\n\t\t// Set GL state for depth map.\r\n\t\t_state.setBlending( NoBlending );\r\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\r\n\t\t_state.buffers.depth.setTest( true );\r\n\t\t_state.setScissorTest( false );\r\n\r\n\t\t// render depth map\r\n\r\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\r\n\r\n\t\t\tconst light = lights[ i ];\r\n\t\t\tconst shadow = light.shadow;\r\n\r\n\t\t\tif ( shadow === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\r\n\r\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\r\n\r\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\r\n\r\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\r\n\r\n\t\t\t_viewportSize.copy( shadow.mapSize );\r\n\r\n\t\t\tif ( _shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize ) {\r\n\r\n\t\t\t\tif ( _shadowMapSize.x > _maxTextureSize ) {\r\n\r\n\t\t\t\t\t_viewportSize.x = Math.floor( _maxTextureSize / shadowFrameExtents.x );\r\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\r\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( _shadowMapSize.y > _maxTextureSize ) {\r\n\r\n\t\t\t\t\t_viewportSize.y = Math.floor( _maxTextureSize / shadowFrameExtents.y );\r\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\r\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\r\n\r\n\t\t\t\tconst pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\r\n\r\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\r\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\r\n\r\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\r\n\r\n\t\t\t\tshadow.camera.updateProjectionMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( shadow.map === null ) {\r\n\r\n\t\t\t\tconst pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\r\n\r\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\r\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\r\n\r\n\t\t\t\tshadow.camera.updateProjectionMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_renderer.setRenderTarget( shadow.map );\r\n\t\t\t_renderer.clear();\r\n\r\n\t\t\tconst viewportCount = shadow.getViewportCount();\r\n\r\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\r\n\r\n\t\t\t\tconst viewport = shadow.getViewport( vp );\r\n\r\n\t\t\t\t_viewport.set(\r\n\t\t\t\t\t_viewportSize.x * viewport.x,\r\n\t\t\t\t\t_viewportSize.y * viewport.y,\r\n\t\t\t\t\t_viewportSize.x * viewport.z,\r\n\t\t\t\t\t_viewportSize.y * viewport.w\r\n\t\t\t\t);\r\n\r\n\t\t\t\t_state.viewport( _viewport );\r\n\r\n\t\t\t\tshadow.updateMatrices( light, vp );\r\n\r\n\t\t\t\t_frustum = shadow.getFrustum();\r\n\r\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// do blur pass for VSM\r\n\r\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\r\n\r\n\t\t\t\tVSMPass( shadow, camera );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tshadow.needsUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tscope.needsUpdate = false;\r\n\r\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\r\n\r\n\t};\r\n\r\n\tfunction VSMPass( shadow, camera ) {\r\n\r\n\t\tconst geometry = _objects.update( fullScreenMesh );\r\n\r\n\t\t// vertical pass\r\n\r\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\r\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\r\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\r\n\t\t_renderer.setRenderTarget( shadow.mapPass );\r\n\t\t_renderer.clear();\r\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\r\n\r\n\t\t// horizontal pass\r\n\r\n\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\r\n\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\r\n\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\r\n\t\t_renderer.setRenderTarget( shadow.map );\r\n\t\t_renderer.clear();\r\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null );\r\n\r\n\t}\r\n\r\n\tfunction getDepthMaterialVariant( useMorphing, useSkinning, useInstancing ) {\r\n\r\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\r\n\r\n\t\tlet material = _depthMaterials[ index ];\r\n\r\n\t\tif ( material === undefined ) {\r\n\r\n\t\t\tmaterial = new MeshDepthMaterial( {\r\n\r\n\t\t\t\tdepthPacking: RGBADepthPacking,\r\n\r\n\t\t\t\tmorphTargets: useMorphing,\r\n\t\t\t\tskinning: useSkinning\r\n\r\n\t\t\t} );\r\n\r\n\t\t\t_depthMaterials[ index ] = material;\r\n\r\n\t\t}\r\n\r\n\t\treturn material;\r\n\r\n\t}\r\n\r\n\tfunction getDistanceMaterialVariant( useMorphing, useSkinning, useInstancing ) {\r\n\r\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\r\n\r\n\t\tlet material = _distanceMaterials[ index ];\r\n\r\n\t\tif ( material === undefined ) {\r\n\r\n\t\t\tmaterial = new MeshDistanceMaterial( {\r\n\r\n\t\t\t\tmorphTargets: useMorphing,\r\n\t\t\t\tskinning: useSkinning\r\n\r\n\t\t\t} );\r\n\r\n\t\t\t_distanceMaterials[ index ] = material;\r\n\r\n\t\t}\r\n\r\n\t\treturn material;\r\n\r\n\t}\r\n\r\n\tfunction getDepthMaterial( object, geometry, material, light, shadowCameraNear, shadowCameraFar, type ) {\r\n\r\n\t\tlet result = null;\r\n\r\n\t\tlet getMaterialVariant = getDepthMaterialVariant;\r\n\t\tlet customMaterial = object.customDepthMaterial;\r\n\r\n\t\tif ( light.isPointLight === true ) {\r\n\r\n\t\t\tgetMaterialVariant = getDistanceMaterialVariant;\r\n\t\t\tcustomMaterial = object.customDistanceMaterial;\r\n\r\n\t\t}\r\n\r\n\t\tif ( customMaterial === undefined ) {\r\n\r\n\t\t\tlet useMorphing = false;\r\n\r\n\t\t\tif ( material.morphTargets === true ) {\r\n\r\n\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlet useSkinning = false;\r\n\r\n\t\t\tif ( object.isSkinnedMesh === true ) {\r\n\r\n\t\t\t\tif ( material.skinning === true ) {\r\n\r\n\t\t\t\t\tuseSkinning = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst useInstancing = object.isInstancedMesh === true;\r\n\r\n\t\t\tresult = getMaterialVariant( useMorphing, useSkinning, useInstancing );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tresult = customMaterial;\r\n\r\n\t\t}\r\n\r\n\t\tif ( _renderer.localClippingEnabled &&\r\n\t\t\t\tmaterial.clipShadows === true &&\r\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\r\n\r\n\t\t\t// in this case we need a unique material instance reflecting the\r\n\t\t\t// appropriate state\r\n\r\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\r\n\r\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\r\n\r\n\t\t\tif ( materialsForVariant === undefined ) {\r\n\r\n\t\t\t\tmaterialsForVariant = {};\r\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\r\n\r\n\t\t\tif ( cachedMaterial === undefined ) {\r\n\r\n\t\t\t\tcachedMaterial = result.clone();\r\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tresult = cachedMaterial;\r\n\r\n\t\t}\r\n\r\n\t\tresult.visible = material.visible;\r\n\t\tresult.wireframe = material.wireframe;\r\n\r\n\t\tif ( type === VSMShadowMap ) {\r\n\r\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\r\n\r\n\t\t}\r\n\r\n\t\tresult.clipShadows = material.clipShadows;\r\n\t\tresult.clippingPlanes = material.clippingPlanes;\r\n\t\tresult.clipIntersection = material.clipIntersection;\r\n\r\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\r\n\t\tresult.linewidth = material.linewidth;\r\n\r\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\r\n\r\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\tresult.nearDistance = shadowCameraNear;\r\n\t\t\tresult.farDistance = shadowCameraFar;\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\r\n\r\n\t\tif ( object.visible === false ) return;\r\n\r\n\t\tconst visible = object.layers.test( camera.layers );\r\n\r\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\r\n\r\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\r\n\r\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\r\n\r\n\t\t\t\tconst geometry = _objects.update( object );\r\n\t\t\t\tconst material = object.material;\r\n\r\n\t\t\t\tif ( Array.isArray( material ) ) {\r\n\r\n\t\t\t\t\tconst groups = geometry.groups;\r\n\r\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\r\n\r\n\t\t\t\t\t\tconst group = groups[ k ];\r\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\r\n\r\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\r\n\r\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\r\n\r\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( material.visible ) {\r\n\r\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, material, light, shadowCamera.near, shadowCamera.far, type );\r\n\r\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst children = object.children;\r\n\r\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction WebGLState( gl, extensions, capabilities ) {\r\n\r\n\tconst isWebGL2 = capabilities.isWebGL2;\r\n\r\n\tfunction ColorBuffer() {\r\n\r\n\t\tlet locked = false;\r\n\r\n\t\tconst color = new Vector4();\r\n\t\tlet currentColorMask = null;\r\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\r\n\r\n\t\treturn {\r\n\r\n\t\t\tsetMask: function ( colorMask ) {\r\n\r\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\r\n\r\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\r\n\t\t\t\t\tcurrentColorMask = colorMask;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetLocked: function ( lock ) {\r\n\r\n\t\t\t\tlocked = lock;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\r\n\r\n\t\t\t\tif ( premultipliedAlpha === true ) {\r\n\r\n\t\t\t\t\tr *= a; g *= a; b *= a;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcolor.set( r, g, b, a );\r\n\r\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\r\n\r\n\t\t\t\t\tgl.clearColor( r, g, b, a );\r\n\t\t\t\t\tcurrentColorClear.copy( color );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\treset: function () {\r\n\r\n\t\t\t\tlocked = false;\r\n\r\n\t\t\t\tcurrentColorMask = null;\r\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction DepthBuffer() {\r\n\r\n\t\tlet locked = false;\r\n\r\n\t\tlet currentDepthMask = null;\r\n\t\tlet currentDepthFunc = null;\r\n\t\tlet currentDepthClear = null;\r\n\r\n\t\treturn {\r\n\r\n\t\t\tsetTest: function ( depthTest ) {\r\n\r\n\t\t\t\tif ( depthTest ) {\r\n\r\n\t\t\t\t\tenable( 2929 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tdisable( 2929 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetMask: function ( depthMask ) {\r\n\r\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\r\n\r\n\t\t\t\t\tgl.depthMask( depthMask );\r\n\t\t\t\t\tcurrentDepthMask = depthMask;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetFunc: function ( depthFunc ) {\r\n\r\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\r\n\r\n\t\t\t\t\tif ( depthFunc ) {\r\n\r\n\t\t\t\t\t\tswitch ( depthFunc ) {\r\n\r\n\t\t\t\t\t\t\tcase NeverDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase AlwaysDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase LessDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase LessEqualDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase EqualDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase GreaterDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase NotEqualDepth:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tgl.depthFunc( 515 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetLocked: function ( lock ) {\r\n\r\n\t\t\t\tlocked = lock;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetClear: function ( depth ) {\r\n\r\n\t\t\t\tif ( currentDepthClear !== depth ) {\r\n\r\n\t\t\t\t\tgl.clearDepth( depth );\r\n\t\t\t\t\tcurrentDepthClear = depth;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\treset: function () {\r\n\r\n\t\t\t\tlocked = false;\r\n\r\n\t\t\t\tcurrentDepthMask = null;\r\n\t\t\t\tcurrentDepthFunc = null;\r\n\t\t\t\tcurrentDepthClear = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction StencilBuffer() {\r\n\r\n\t\tlet locked = false;\r\n\r\n\t\tlet currentStencilMask = null;\r\n\t\tlet currentStencilFunc = null;\r\n\t\tlet currentStencilRef = null;\r\n\t\tlet currentStencilFuncMask = null;\r\n\t\tlet currentStencilFail = null;\r\n\t\tlet currentStencilZFail = null;\r\n\t\tlet currentStencilZPass = null;\r\n\t\tlet currentStencilClear = null;\r\n\r\n\t\treturn {\r\n\r\n\t\t\tsetTest: function ( stencilTest ) {\r\n\r\n\t\t\t\tif ( ! locked ) {\r\n\r\n\t\t\t\t\tif ( stencilTest ) {\r\n\r\n\t\t\t\t\t\tenable( 2960 );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdisable( 2960 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetMask: function ( stencilMask ) {\r\n\r\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\r\n\r\n\t\t\t\t\tgl.stencilMask( stencilMask );\r\n\t\t\t\t\tcurrentStencilMask = stencilMask;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\r\n\r\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\r\n\t\t\t\t     currentStencilRef !== stencilRef ||\r\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\r\n\r\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\r\n\r\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\r\n\t\t\t\t\tcurrentStencilRef = stencilRef;\r\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\r\n\r\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\r\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\r\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\r\n\r\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\r\n\r\n\t\t\t\t\tcurrentStencilFail = stencilFail;\r\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\r\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetLocked: function ( lock ) {\r\n\r\n\t\t\t\tlocked = lock;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetClear: function ( stencil ) {\r\n\r\n\t\t\t\tif ( currentStencilClear !== stencil ) {\r\n\r\n\t\t\t\t\tgl.clearStencil( stencil );\r\n\t\t\t\t\tcurrentStencilClear = stencil;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\treset: function () {\r\n\r\n\t\t\t\tlocked = false;\r\n\r\n\t\t\t\tcurrentStencilMask = null;\r\n\t\t\t\tcurrentStencilFunc = null;\r\n\t\t\t\tcurrentStencilRef = null;\r\n\t\t\t\tcurrentStencilFuncMask = null;\r\n\t\t\t\tcurrentStencilFail = null;\r\n\t\t\t\tcurrentStencilZFail = null;\r\n\t\t\t\tcurrentStencilZPass = null;\r\n\t\t\t\tcurrentStencilClear = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tconst colorBuffer = new ColorBuffer();\r\n\tconst depthBuffer = new DepthBuffer();\r\n\tconst stencilBuffer = new StencilBuffer();\r\n\r\n\tlet enabledCapabilities = {};\r\n\r\n\tlet xrFramebuffer = null;\r\n\tlet currentBoundFramebuffers = {};\r\n\r\n\tlet currentProgram = null;\r\n\r\n\tlet currentBlendingEnabled = false;\r\n\tlet currentBlending = null;\r\n\tlet currentBlendEquation = null;\r\n\tlet currentBlendSrc = null;\r\n\tlet currentBlendDst = null;\r\n\tlet currentBlendEquationAlpha = null;\r\n\tlet currentBlendSrcAlpha = null;\r\n\tlet currentBlendDstAlpha = null;\r\n\tlet currentPremultipledAlpha = false;\r\n\r\n\tlet currentFlipSided = null;\r\n\tlet currentCullFace = null;\r\n\r\n\tlet currentLineWidth = null;\r\n\r\n\tlet currentPolygonOffsetFactor = null;\r\n\tlet currentPolygonOffsetUnits = null;\r\n\r\n\tconst maxTextures = gl.getParameter( 35661 );\r\n\r\n\tlet lineWidthAvailable = false;\r\n\tlet version = 0;\r\n\tconst glVersion = gl.getParameter( 7938 );\r\n\r\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\r\n\r\n\t\tversion = parseFloat( /^WebGL (\\d)/.exec( glVersion )[ 1 ] );\r\n\t\tlineWidthAvailable = ( version >= 1.0 );\r\n\r\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\r\n\r\n\t\tversion = parseFloat( /^OpenGL ES (\\d)/.exec( glVersion )[ 1 ] );\r\n\t\tlineWidthAvailable = ( version >= 2.0 );\r\n\r\n\t}\r\n\r\n\tlet currentTextureSlot = null;\r\n\tlet currentBoundTextures = {};\r\n\r\n\tconst currentScissor = new Vector4( 0, 0, gl.canvas.width, gl.canvas.height );\r\n\tconst currentViewport = new Vector4( 0, 0, gl.canvas.width, gl.canvas.height );\r\n\r\n\tfunction createTexture( type, target, count ) {\r\n\r\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\r\n\t\tconst texture = gl.createTexture();\r\n\r\n\t\tgl.bindTexture( type, texture );\r\n\t\tgl.texParameteri( type, 10241, 9728 );\r\n\t\tgl.texParameteri( type, 10240, 9728 );\r\n\r\n\t\tfor ( let i = 0; i < count; i ++ ) {\r\n\r\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n\tconst emptyTextures = {};\r\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\r\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\r\n\r\n\t// init\r\n\r\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\r\n\tdepthBuffer.setClear( 1 );\r\n\tstencilBuffer.setClear( 0 );\r\n\r\n\tenable( 2929 );\r\n\tdepthBuffer.setFunc( LessEqualDepth );\r\n\r\n\tsetFlipSided( false );\r\n\tsetCullFace( CullFaceBack );\r\n\tenable( 2884 );\r\n\r\n\tsetBlending( NoBlending );\r\n\r\n\t//\r\n\r\n\tfunction enable( id ) {\r\n\r\n\t\tif ( enabledCapabilities[ id ] !== true ) {\r\n\r\n\t\t\tgl.enable( id );\r\n\t\t\tenabledCapabilities[ id ] = true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction disable( id ) {\r\n\r\n\t\tif ( enabledCapabilities[ id ] !== false ) {\r\n\r\n\t\t\tgl.disable( id );\r\n\t\t\tenabledCapabilities[ id ] = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction bindXRFramebuffer( framebuffer ) {\r\n\r\n\t\tif ( framebuffer !== xrFramebuffer ) {\r\n\r\n\t\t\tgl.bindFramebuffer( 36160, framebuffer );\r\n\r\n\t\t\txrFramebuffer = framebuffer;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction bindFramebuffer( target, framebuffer ) {\r\n\r\n\t\tif ( framebuffer === null && xrFramebuffer !== null ) framebuffer = xrFramebuffer; // use active XR framebuffer if available\r\n\r\n\t\tif ( currentBoundFramebuffers[ target ] !== framebuffer ) {\r\n\r\n\t\t\tgl.bindFramebuffer( target, framebuffer );\r\n\r\n\t\t\tcurrentBoundFramebuffers[ target ] = framebuffer;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction useProgram( program ) {\r\n\r\n\t\tif ( currentProgram !== program ) {\r\n\r\n\t\t\tgl.useProgram( program );\r\n\r\n\t\t\tcurrentProgram = program;\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n\tconst equationToGL = {\r\n\t\t[ AddEquation ]: 32774,\r\n\t\t[ SubtractEquation ]: 32778,\r\n\t\t[ ReverseSubtractEquation ]: 32779\r\n\t};\r\n\r\n\tif ( isWebGL2 ) {\r\n\r\n\t\tequationToGL[ MinEquation ] = 32775;\r\n\t\tequationToGL[ MaxEquation ] = 32776;\r\n\r\n\t} else {\r\n\r\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\r\n\r\n\t\tif ( extension !== null ) {\r\n\r\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\r\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst factorToGL = {\r\n\t\t[ ZeroFactor ]: 0,\r\n\t\t[ OneFactor ]: 1,\r\n\t\t[ SrcColorFactor ]: 768,\r\n\t\t[ SrcAlphaFactor ]: 770,\r\n\t\t[ SrcAlphaSaturateFactor ]: 776,\r\n\t\t[ DstColorFactor ]: 774,\r\n\t\t[ DstAlphaFactor ]: 772,\r\n\t\t[ OneMinusSrcColorFactor ]: 769,\r\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\r\n\t\t[ OneMinusDstColorFactor ]: 775,\r\n\t\t[ OneMinusDstAlphaFactor ]: 773\r\n\t};\r\n\r\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\r\n\r\n\t\tif ( blending === NoBlending ) {\r\n\r\n\t\t\tif ( currentBlendingEnabled === true ) {\r\n\r\n\t\t\t\tdisable( 3042 );\r\n\t\t\t\tcurrentBlendingEnabled = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( currentBlendingEnabled === false ) {\r\n\r\n\t\t\tenable( 3042 );\r\n\t\t\tcurrentBlendingEnabled = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( blending !== CustomBlending ) {\r\n\r\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\r\n\r\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\r\n\r\n\t\t\t\t\tgl.blendEquation( 32774 );\r\n\r\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\r\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( premultipliedAlpha ) {\r\n\r\n\t\t\t\t\tswitch ( blending ) {\r\n\r\n\t\t\t\t\t\tcase NormalBlending:\r\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase AdditiveBlending:\r\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase SubtractiveBlending:\r\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase MultiplyBlending:\r\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tswitch ( blending ) {\r\n\r\n\t\t\t\t\t\tcase NormalBlending:\r\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase AdditiveBlending:\r\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase SubtractiveBlending:\r\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase MultiplyBlending:\r\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrentBlendSrc = null;\r\n\t\t\t\tcurrentBlendDst = null;\r\n\t\t\t\tcurrentBlendSrcAlpha = null;\r\n\t\t\t\tcurrentBlendDstAlpha = null;\r\n\r\n\t\t\t\tcurrentBlending = blending;\r\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t// custom blending\r\n\r\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\r\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\r\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\r\n\r\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\r\n\r\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\r\n\r\n\t\t\tcurrentBlendEquation = blendEquation;\r\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\r\n\r\n\t\t}\r\n\r\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\r\n\r\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\r\n\r\n\t\t\tcurrentBlendSrc = blendSrc;\r\n\t\t\tcurrentBlendDst = blendDst;\r\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\r\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\r\n\r\n\t\t}\r\n\r\n\t\tcurrentBlending = blending;\r\n\t\tcurrentPremultipledAlpha = null;\r\n\r\n\t}\r\n\r\n\tfunction setMaterial( material, frontFaceCW ) {\r\n\r\n\t\tmaterial.side === DoubleSide\r\n\t\t\t? disable( 2884 )\r\n\t\t\t: enable( 2884 );\r\n\r\n\t\tlet flipSided = ( material.side === BackSide );\r\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\r\n\r\n\t\tsetFlipSided( flipSided );\r\n\r\n\t\t( material.blending === NormalBlending && material.transparent === false )\r\n\t\t\t? setBlending( NoBlending )\r\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\r\n\r\n\t\tdepthBuffer.setFunc( material.depthFunc );\r\n\t\tdepthBuffer.setTest( material.depthTest );\r\n\t\tdepthBuffer.setMask( material.depthWrite );\r\n\t\tcolorBuffer.setMask( material.colorWrite );\r\n\r\n\t\tconst stencilWrite = material.stencilWrite;\r\n\t\tstencilBuffer.setTest( stencilWrite );\r\n\t\tif ( stencilWrite ) {\r\n\r\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\r\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\r\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\r\n\r\n\t\t}\r\n\r\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\r\n\r\n\t\tmaterial.alphaToCoverage === true\r\n\t\t\t? enable( 32926 )\r\n\t\t\t: disable( 32926 );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction setFlipSided( flipSided ) {\r\n\r\n\t\tif ( currentFlipSided !== flipSided ) {\r\n\r\n\t\t\tif ( flipSided ) {\r\n\r\n\t\t\t\tgl.frontFace( 2304 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tgl.frontFace( 2305 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcurrentFlipSided = flipSided;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction setCullFace( cullFace ) {\r\n\r\n\t\tif ( cullFace !== CullFaceNone ) {\r\n\r\n\t\t\tenable( 2884 );\r\n\r\n\t\t\tif ( cullFace !== currentCullFace ) {\r\n\r\n\t\t\t\tif ( cullFace === CullFaceBack ) {\r\n\r\n\t\t\t\t\tgl.cullFace( 1029 );\r\n\r\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\r\n\r\n\t\t\t\t\tgl.cullFace( 1028 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tgl.cullFace( 1032 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdisable( 2884 );\r\n\r\n\t\t}\r\n\r\n\t\tcurrentCullFace = cullFace;\r\n\r\n\t}\r\n\r\n\tfunction setLineWidth( width ) {\r\n\r\n\t\tif ( width !== currentLineWidth ) {\r\n\r\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\r\n\r\n\t\t\tcurrentLineWidth = width;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\r\n\r\n\t\tif ( polygonOffset ) {\r\n\r\n\t\t\tenable( 32823 );\r\n\r\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\r\n\r\n\t\t\t\tgl.polygonOffset( factor, units );\r\n\r\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\r\n\t\t\t\tcurrentPolygonOffsetUnits = units;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdisable( 32823 );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction setScissorTest( scissorTest ) {\r\n\r\n\t\tif ( scissorTest ) {\r\n\r\n\t\t\tenable( 3089 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdisable( 3089 );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// texture\r\n\r\n\tfunction activeTexture( webglSlot ) {\r\n\r\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\r\n\r\n\t\tif ( currentTextureSlot !== webglSlot ) {\r\n\r\n\t\t\tgl.activeTexture( webglSlot );\r\n\t\t\tcurrentTextureSlot = webglSlot;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction bindTexture( webglType, webglTexture ) {\r\n\r\n\t\tif ( currentTextureSlot === null ) {\r\n\r\n\t\t\tactiveTexture();\r\n\r\n\t\t}\r\n\r\n\t\tlet boundTexture = currentBoundTextures[ currentTextureSlot ];\r\n\r\n\t\tif ( boundTexture === undefined ) {\r\n\r\n\t\t\tboundTexture = { type: undefined, texture: undefined };\r\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\r\n\r\n\t\t}\r\n\r\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\r\n\r\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\r\n\r\n\t\t\tboundTexture.type = webglType;\r\n\t\t\tboundTexture.texture = webglTexture;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction unbindTexture() {\r\n\r\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\r\n\r\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\r\n\r\n\t\t\tgl.bindTexture( boundTexture.type, null );\r\n\r\n\t\t\tboundTexture.type = undefined;\r\n\t\t\tboundTexture.texture = undefined;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction compressedTexImage2D() {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\r\n\r\n\t\t} catch ( error ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction texImage2D() {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tgl.texImage2D.apply( gl, arguments );\r\n\r\n\t\t} catch ( error ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction texImage3D() {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tgl.texImage3D.apply( gl, arguments );\r\n\r\n\t\t} catch ( error ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction scissor( scissor ) {\r\n\r\n\t\tif ( currentScissor.equals( scissor ) === false ) {\r\n\r\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\r\n\t\t\tcurrentScissor.copy( scissor );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction viewport( viewport ) {\r\n\r\n\t\tif ( currentViewport.equals( viewport ) === false ) {\r\n\r\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\r\n\t\t\tcurrentViewport.copy( viewport );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction reset() {\r\n\r\n\t\t// reset state\r\n\r\n\t\tgl.disable( 3042 );\r\n\t\tgl.disable( 2884 );\r\n\t\tgl.disable( 2929 );\r\n\t\tgl.disable( 32823 );\r\n\t\tgl.disable( 3089 );\r\n\t\tgl.disable( 2960 );\r\n\t\tgl.disable( 32926 );\r\n\r\n\t\tgl.blendEquation( 32774 );\r\n\t\tgl.blendFunc( 1, 0 );\r\n\t\tgl.blendFuncSeparate( 1, 0, 1, 0 );\r\n\r\n\t\tgl.colorMask( true, true, true, true );\r\n\t\tgl.clearColor( 0, 0, 0, 0 );\r\n\r\n\t\tgl.depthMask( true );\r\n\t\tgl.depthFunc( 513 );\r\n\t\tgl.clearDepth( 1 );\r\n\r\n\t\tgl.stencilMask( 0xffffffff );\r\n\t\tgl.stencilFunc( 519, 0, 0xffffffff );\r\n\t\tgl.stencilOp( 7680, 7680, 7680 );\r\n\t\tgl.clearStencil( 0 );\r\n\r\n\t\tgl.cullFace( 1029 );\r\n\t\tgl.frontFace( 2305 );\r\n\r\n\t\tgl.polygonOffset( 0, 0 );\r\n\r\n\t\tgl.activeTexture( 33984 );\r\n\r\n\t\tgl.bindFramebuffer( 36160, null );\r\n\r\n\t\tif ( isWebGL2 === true ) {\r\n\r\n\t\t\tgl.bindFramebuffer( 36009, null );\r\n\t\t\tgl.bindFramebuffer( 36008, null );\r\n\r\n\t\t}\r\n\r\n\t\tgl.useProgram( null );\r\n\r\n\t\tgl.lineWidth( 1 );\r\n\r\n\t\tgl.scissor( 0, 0, gl.canvas.width, gl.canvas.height );\r\n\t\tgl.viewport( 0, 0, gl.canvas.width, gl.canvas.height );\r\n\r\n\t\t// reset internals\r\n\r\n\t\tenabledCapabilities = {};\r\n\r\n\t\tcurrentTextureSlot = null;\r\n\t\tcurrentBoundTextures = {};\r\n\r\n\t\txrFramebuffer = null;\r\n\t\tcurrentBoundFramebuffers = {};\r\n\r\n\t\tcurrentProgram = null;\r\n\r\n\t\tcurrentBlendingEnabled = false;\r\n\t\tcurrentBlending = null;\r\n\t\tcurrentBlendEquation = null;\r\n\t\tcurrentBlendSrc = null;\r\n\t\tcurrentBlendDst = null;\r\n\t\tcurrentBlendEquationAlpha = null;\r\n\t\tcurrentBlendSrcAlpha = null;\r\n\t\tcurrentBlendDstAlpha = null;\r\n\t\tcurrentPremultipledAlpha = false;\r\n\r\n\t\tcurrentFlipSided = null;\r\n\t\tcurrentCullFace = null;\r\n\r\n\t\tcurrentLineWidth = null;\r\n\r\n\t\tcurrentPolygonOffsetFactor = null;\r\n\t\tcurrentPolygonOffsetUnits = null;\r\n\r\n\t\tcurrentScissor.set( 0, 0, gl.canvas.width, gl.canvas.height );\r\n\t\tcurrentViewport.set( 0, 0, gl.canvas.width, gl.canvas.height );\r\n\r\n\t\tcolorBuffer.reset();\r\n\t\tdepthBuffer.reset();\r\n\t\tstencilBuffer.reset();\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tbuffers: {\r\n\t\t\tcolor: colorBuffer,\r\n\t\t\tdepth: depthBuffer,\r\n\t\t\tstencil: stencilBuffer\r\n\t\t},\r\n\r\n\t\tenable: enable,\r\n\t\tdisable: disable,\r\n\r\n\t\tbindFramebuffer: bindFramebuffer,\r\n\t\tbindXRFramebuffer: bindXRFramebuffer,\r\n\r\n\t\tuseProgram: useProgram,\r\n\r\n\t\tsetBlending: setBlending,\r\n\t\tsetMaterial: setMaterial,\r\n\r\n\t\tsetFlipSided: setFlipSided,\r\n\t\tsetCullFace: setCullFace,\r\n\r\n\t\tsetLineWidth: setLineWidth,\r\n\t\tsetPolygonOffset: setPolygonOffset,\r\n\r\n\t\tsetScissorTest: setScissorTest,\r\n\r\n\t\tactiveTexture: activeTexture,\r\n\t\tbindTexture: bindTexture,\r\n\t\tunbindTexture: unbindTexture,\r\n\t\tcompressedTexImage2D: compressedTexImage2D,\r\n\t\ttexImage2D: texImage2D,\r\n\t\ttexImage3D: texImage3D,\r\n\r\n\t\tscissor: scissor,\r\n\t\tviewport: viewport,\r\n\r\n\t\treset: reset\r\n\r\n\t};\r\n\r\n}\r\n\r\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\r\n\r\n\tconst isWebGL2 = capabilities.isWebGL2;\r\n\tconst maxTextures = capabilities.maxTextures;\r\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\r\n\tconst maxTextureSize = capabilities.maxTextureSize;\r\n\tconst maxSamples = capabilities.maxSamples;\r\n\r\n\tconst _videoTextures = new WeakMap();\r\n\tlet _canvas;\r\n\r\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\r\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\r\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\r\n\r\n\tlet useOffscreenCanvas = false;\r\n\r\n\ttry {\r\n\r\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\r\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( '2d' ) ) !== null;\r\n\r\n\t} catch ( err ) {\r\n\r\n\t\t// Ignore any errors\r\n\r\n\t}\r\n\r\n\tfunction createCanvas( width, height ) {\r\n\r\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\r\n\r\n\t\treturn useOffscreenCanvas ?\r\n\t\t\tnew OffscreenCanvas( width, height ) :\r\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\r\n\r\n\t}\r\n\r\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\r\n\r\n\t\tlet scale = 1;\r\n\r\n\t\t// handle case if texture exceeds max size\r\n\r\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\r\n\r\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\r\n\r\n\t\t}\r\n\r\n\t\t// only perform resize if necessary\r\n\r\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\r\n\r\n\t\t\t// only perform resize for certain image types\r\n\r\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\r\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\r\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\r\n\r\n\t\t\t\tconst floor = needsPowerOfTwo ? MathUtils.floorPowerOfTwo : Math.floor;\r\n\r\n\t\t\t\tconst width = floor( scale * image.width );\r\n\t\t\t\tconst height = floor( scale * image.height );\r\n\r\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\r\n\r\n\t\t\t\t// cube textures can't reuse the same canvas\r\n\r\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\r\n\r\n\t\t\t\tcanvas.width = width;\r\n\t\t\t\tcanvas.height = height;\r\n\r\n\t\t\t\tconst context = canvas.getContext( '2d' );\r\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\r\n\r\n\t\t\t\treturn canvas;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( 'data' in image ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn image;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn image;\r\n\r\n\t}\r\n\r\n\tfunction isPowerOfTwo( image ) {\r\n\r\n\t\treturn MathUtils.isPowerOfTwo( image.width ) && MathUtils.isPowerOfTwo( image.height );\r\n\r\n\t}\r\n\r\n\tfunction textureNeedsPowerOfTwo( texture ) {\r\n\r\n\t\tif ( isWebGL2 ) return false;\r\n\r\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\r\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\r\n\r\n\t}\r\n\r\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\r\n\r\n\t\treturn texture.generateMipmaps && supportsMips &&\r\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\r\n\r\n\t}\r\n\r\n\tfunction generateMipmap( target, texture, width, height ) {\r\n\r\n\t\t_gl.generateMipmap( target );\r\n\r\n\t\tconst textureProperties = properties.get( texture );\r\n\r\n\t\ttextureProperties.__maxMipLevel = Math.log2( Math.max( width, height ) );\r\n\r\n\t}\r\n\r\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\r\n\r\n\t\tif ( isWebGL2 === false ) return glFormat;\r\n\r\n\t\tif ( internalFormatName !== null ) {\r\n\r\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\r\n\r\n\t\t}\r\n\r\n\t\tlet internalFormat = glFormat;\r\n\r\n\t\tif ( glFormat === 6403 ) {\r\n\r\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\r\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\r\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\r\n\r\n\t\t}\r\n\r\n\t\tif ( glFormat === 6407 ) {\r\n\r\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\r\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\r\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\r\n\r\n\t\t}\r\n\r\n\t\tif ( glFormat === 6408 ) {\r\n\r\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\r\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\r\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\r\n\r\n\t\t}\r\n\r\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\r\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\r\n\r\n\t\t\textensions.get( 'EXT_color_buffer_float' );\r\n\r\n\t\t}\r\n\r\n\t\treturn internalFormat;\r\n\r\n\t}\r\n\r\n\t// Fallback filters for non-power-of-2 textures\r\n\r\n\tfunction filterFallback( f ) {\r\n\r\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\r\n\r\n\t\t\treturn 9728;\r\n\r\n\t\t}\r\n\r\n\t\treturn 9729;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction onTextureDispose( event ) {\r\n\r\n\t\tconst texture = event.target;\r\n\r\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\r\n\r\n\t\tdeallocateTexture( texture );\r\n\r\n\t\tif ( texture.isVideoTexture ) {\r\n\r\n\t\t\t_videoTextures.delete( texture );\r\n\r\n\t\t}\r\n\r\n\t\tinfo.memory.textures --;\r\n\r\n\t}\r\n\r\n\tfunction onRenderTargetDispose( event ) {\r\n\r\n\t\tconst renderTarget = event.target;\r\n\r\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\r\n\r\n\t\tdeallocateRenderTarget( renderTarget );\r\n\r\n\t\tinfo.memory.textures --;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction deallocateTexture( texture ) {\r\n\r\n\t\tconst textureProperties = properties.get( texture );\r\n\r\n\t\tif ( textureProperties.__webglInit === undefined ) return;\r\n\r\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\r\n\r\n\t\tproperties.remove( texture );\r\n\r\n\t}\r\n\r\n\tfunction deallocateRenderTarget( renderTarget ) {\r\n\r\n\t\tconst texture = renderTarget.texture;\r\n\r\n\t\tconst renderTargetProperties = properties.get( renderTarget );\r\n\t\tconst textureProperties = properties.get( texture );\r\n\r\n\t\tif ( ! renderTarget ) return;\r\n\r\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\r\n\r\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\r\n\r\n\t\t}\r\n\r\n\t\tif ( renderTarget.depthTexture ) {\r\n\r\n\t\t\trenderTarget.depthTexture.dispose();\r\n\r\n\t\t}\r\n\r\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\r\n\r\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\r\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\r\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\r\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\r\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer );\r\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\r\n\r\n\t\t}\r\n\r\n\t\tproperties.remove( texture );\r\n\t\tproperties.remove( renderTarget );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tlet textureUnits = 0;\r\n\r\n\tfunction resetTextureUnits() {\r\n\r\n\t\ttextureUnits = 0;\r\n\r\n\t}\r\n\r\n\tfunction allocateTextureUnit() {\r\n\r\n\t\tconst textureUnit = textureUnits;\r\n\r\n\t\tif ( textureUnit >= maxTextures ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\r\n\r\n\t\t}\r\n\r\n\t\ttextureUnits += 1;\r\n\r\n\t\treturn textureUnit;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction setTexture2D( texture, slot ) {\r\n\r\n\t\tconst textureProperties = properties.get( texture );\r\n\r\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\r\n\r\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\r\n\r\n\t\t\tconst image = texture.image;\r\n\r\n\t\t\tif ( image === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\r\n\r\n\t\t\t} else if ( image.complete === false ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tstate.activeTexture( 33984 + slot );\r\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\r\n\r\n\t}\r\n\r\n\tfunction setTexture2DArray( texture, slot ) {\r\n\r\n\t\tconst textureProperties = properties.get( texture );\r\n\r\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\r\n\r\n\t\t\tuploadTexture( textureProperties, texture, slot );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tstate.activeTexture( 33984 + slot );\r\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\r\n\r\n\t}\r\n\r\n\tfunction setTexture3D( texture, slot ) {\r\n\r\n\t\tconst textureProperties = properties.get( texture );\r\n\r\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\r\n\r\n\t\t\tuploadTexture( textureProperties, texture, slot );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tstate.activeTexture( 33984 + slot );\r\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\r\n\r\n\t}\r\n\r\n\tfunction setTextureCube( texture, slot ) {\r\n\r\n\t\tconst textureProperties = properties.get( texture );\r\n\r\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\r\n\r\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tstate.activeTexture( 33984 + slot );\r\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\r\n\r\n\t}\r\n\r\n\tconst wrappingToGL = {\r\n\t\t[ RepeatWrapping ]: 10497,\r\n\t\t[ ClampToEdgeWrapping ]: 33071,\r\n\t\t[ MirroredRepeatWrapping ]: 33648\r\n\t};\r\n\r\n\tconst filterToGL = {\r\n\t\t[ NearestFilter ]: 9728,\r\n\t\t[ NearestMipmapNearestFilter ]: 9984,\r\n\t\t[ NearestMipmapLinearFilter ]: 9986,\r\n\r\n\t\t[ LinearFilter ]: 9729,\r\n\t\t[ LinearMipmapNearestFilter ]: 9985,\r\n\t\t[ LinearMipmapLinearFilter ]: 9987\r\n\t};\r\n\r\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\r\n\r\n\t\tif ( supportsMips ) {\r\n\r\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\r\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\r\n\r\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\r\n\r\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\r\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\r\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\r\n\r\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\r\n\r\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\r\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\r\n\r\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\r\n\r\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\r\n\r\n\t\t\tif ( texture.type === FloatType && extensions.has( 'OES_texture_float_linear' ) === false ) return; // verify extension for WebGL 1 and WebGL 2\r\n\t\t\tif ( isWebGL2 === false && ( texture.type === HalfFloatType && extensions.has( 'OES_texture_half_float_linear' ) === false ) ) return; // verify extension for WebGL 1 only\r\n\r\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\r\n\r\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\r\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction initTexture( textureProperties, texture ) {\r\n\r\n\t\tif ( textureProperties.__webglInit === undefined ) {\r\n\r\n\t\t\ttextureProperties.__webglInit = true;\r\n\r\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\r\n\r\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\r\n\r\n\t\t\tinfo.memory.textures ++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction uploadTexture( textureProperties, texture, slot ) {\r\n\r\n\t\tlet textureType = 3553;\r\n\r\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\r\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\r\n\r\n\t\tinitTexture( textureProperties, texture );\r\n\r\n\t\tstate.activeTexture( 33984 + slot );\r\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\r\n\r\n\t\t_gl.pixelStorei( 37440, texture.flipY );\r\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\r\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\r\n\t\t_gl.pixelStorei( 37443, 0 );\r\n\r\n\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\r\n\t\tconst image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\r\n\r\n\t\tconst supportsMips = isPowerOfTwo( image ) || isWebGL2,\r\n\t\t\tglFormat = utils.convert( texture.format );\r\n\r\n\t\tlet glType = utils.convert( texture.type ),\r\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\r\n\r\n\t\tsetTextureParameters( textureType, texture, supportsMips );\r\n\r\n\t\tlet mipmap;\r\n\t\tconst mipmaps = texture.mipmaps;\r\n\r\n\t\tif ( texture.isDepthTexture ) {\r\n\r\n\t\t\t// populate depth texture with dummy data\r\n\r\n\t\t\tglInternalFormat = 6402;\r\n\r\n\t\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\t\tif ( texture.type === FloatType ) {\r\n\r\n\t\t\t\t\tglInternalFormat = 36012;\r\n\r\n\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\r\n\r\n\t\t\t\t\tglInternalFormat = 33190;\r\n\r\n\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\r\n\r\n\t\t\t\t\tglInternalFormat = 35056;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( texture.type === FloatType ) {\r\n\r\n\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// validation checks for WebGL 1\r\n\r\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\r\n\r\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\r\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\r\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\r\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\r\n\r\n\t\t\t\t\ttexture.type = UnsignedShortType;\r\n\t\t\t\t\tglType = utils.convert( texture.type );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\r\n\r\n\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\r\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\r\n\t\t\t\tglInternalFormat = 34041;\r\n\r\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\r\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\r\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\r\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\r\n\r\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\r\n\t\t\t\t\tglType = utils.convert( texture.type );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//\r\n\r\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\r\n\r\n\t\t} else if ( texture.isDataTexture ) {\r\n\r\n\t\t\t// use manually created mipmaps if available\r\n\t\t\t// if there are no manual mipmaps\r\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\r\n\r\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\r\n\r\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tmipmap = mipmaps[ i ];\r\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\r\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( texture.isCompressedTexture ) {\r\n\r\n\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tmipmap = mipmaps[ i ];\r\n\r\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\r\n\r\n\t\t\t\t\tif ( glFormat !== null ) {\r\n\r\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\r\n\r\n\t\t} else if ( texture.isDataTexture2DArray ) {\r\n\r\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\r\n\t\t\ttextureProperties.__maxMipLevel = 0;\r\n\r\n\t\t} else if ( texture.isDataTexture3D ) {\r\n\r\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\r\n\t\t\ttextureProperties.__maxMipLevel = 0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// regular Texture (image, video, canvas)\r\n\r\n\t\t\t// use manually created mipmaps if available\r\n\t\t\t// if there are no manual mipmaps\r\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\r\n\r\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\r\n\r\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tmipmap = mipmaps[ i ];\r\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\r\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\r\n\r\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\r\n\r\n\t\t}\r\n\r\n\t\ttextureProperties.__version = texture.version;\r\n\r\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\r\n\r\n\t}\r\n\r\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\r\n\r\n\t\tif ( texture.image.length !== 6 ) return;\r\n\r\n\t\tinitTexture( textureProperties, texture );\r\n\r\n\t\tstate.activeTexture( 33984 + slot );\r\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\r\n\r\n\t\t_gl.pixelStorei( 37440, texture.flipY );\r\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\r\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\r\n\t\t_gl.pixelStorei( 37443, 0 );\r\n\r\n\t\tconst isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\r\n\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\r\n\r\n\t\tconst cubeImage = [];\r\n\r\n\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tif ( ! isCompressed && ! isDataTexture ) {\r\n\r\n\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst image = cubeImage[ 0 ],\r\n\t\t\tsupportsMips = isPowerOfTwo( image ) || isWebGL2,\r\n\t\t\tglFormat = utils.convert( texture.format ),\r\n\t\t\tglType = utils.convert( texture.type ),\r\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\r\n\r\n\t\tsetTextureParameters( 34067, texture, supportsMips );\r\n\r\n\t\tlet mipmaps;\r\n\r\n\t\tif ( isCompressed ) {\r\n\r\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\r\n\r\n\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\r\n\r\n\t\t\t\t\tconst mipmap = mipmaps[ j ];\r\n\r\n\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\r\n\r\n\t\t\t\t\t\tif ( glFormat !== null ) {\r\n\r\n\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmipmaps = texture.mipmaps;\r\n\r\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\tif ( isDataTexture ) {\r\n\r\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\r\n\r\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\r\n\r\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\r\n\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\r\n\r\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\r\n\r\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\r\n\r\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\r\n\r\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\r\n\r\n\t\t}\r\n\r\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\r\n\r\n\t\t\t// We assume images for cube map have the same size.\r\n\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\r\n\r\n\t\t}\r\n\r\n\t\ttextureProperties.__version = texture.version;\r\n\r\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\r\n\r\n\t}\r\n\r\n\t// Render targets\r\n\r\n\t// Setup storage for target texture and bind it to correct framebuffer\r\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\r\n\r\n\t\tconst texture = renderTarget.texture;\r\n\r\n\t\tconst glFormat = utils.convert( texture.format );\r\n\t\tconst glType = utils.convert( texture.type );\r\n\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\r\n\r\n\t\tif ( textureTarget === 32879 || textureTarget === 35866 ) {\r\n\r\n\t\t\tstate.texImage3D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\r\n\r\n\t\t}\r\n\r\n\t\tstate.bindFramebuffer( 36160, framebuffer );\r\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0 );\r\n\t\tstate.bindFramebuffer( 36160, null );\r\n\r\n\t}\r\n\r\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\r\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\r\n\r\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\r\n\r\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\r\n\r\n\t\t\tlet glInternalFormat = 33189;\r\n\r\n\t\t\tif ( isMultisample ) {\r\n\r\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\r\n\r\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\r\n\r\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\r\n\r\n\t\t\t\t\t\tglInternalFormat = 36012;\r\n\r\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\r\n\r\n\t\t\t\t\t\tglInternalFormat = 33190;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\r\n\r\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\r\n\r\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\r\n\r\n\t\t\tif ( isMultisample ) {\r\n\r\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\r\n\r\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst texture = renderTarget.texture;\r\n\r\n\t\t\tconst glFormat = utils.convert( texture.format );\r\n\t\t\tconst glType = utils.convert( texture.type );\r\n\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\r\n\r\n\t\t\tif ( isMultisample ) {\r\n\r\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\r\n\r\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t_gl.bindRenderbuffer( 36161, null );\r\n\r\n\t}\r\n\r\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\r\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\r\n\r\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\r\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\r\n\r\n\t\tstate.bindFramebuffer( 36160, framebuffer );\r\n\r\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\r\n\r\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\r\n\r\n\t\t}\r\n\r\n\t\t// upload an empty depth texture with framebuffer size\r\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\r\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\r\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\r\n\r\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\r\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\r\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\r\n\r\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\r\n\r\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\r\n\r\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\r\n\r\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\r\n\r\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Setup GL resources for a non-texture depth buffer\r\n\tfunction setupDepthRenderbuffer( renderTarget ) {\r\n\r\n\t\tconst renderTargetProperties = properties.get( renderTarget );\r\n\r\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\r\n\r\n\t\tif ( renderTarget.depthTexture ) {\r\n\r\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\r\n\r\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( isCube ) {\r\n\r\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\r\n\r\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\r\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\r\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\r\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\r\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tstate.bindFramebuffer( 36160, null );\r\n\r\n\t}\r\n\r\n\t// Set up GL resources for the render target\r\n\tfunction setupRenderTarget( renderTarget ) {\r\n\r\n\t\tconst texture = renderTarget.texture;\r\n\r\n\t\tconst renderTargetProperties = properties.get( renderTarget );\r\n\t\tconst textureProperties = properties.get( texture );\r\n\r\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\r\n\r\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\r\n\t\ttextureProperties.__version = texture.version;\r\n\r\n\t\tinfo.memory.textures ++;\r\n\r\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\r\n\t\tconst isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\r\n\t\tconst isRenderTarget3D = texture.isDataTexture3D || texture.isDataTexture2DArray;\r\n\t\tconst supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\r\n\r\n\t\t// Handles WebGL2 RGBFormat fallback - #18858\r\n\r\n\t\tif ( isWebGL2 && texture.format === RGBFormat && ( texture.type === FloatType || texture.type === HalfFloatType ) ) {\r\n\r\n\t\t\ttexture.format = RGBAFormat;\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.' );\r\n\r\n\t\t}\r\n\r\n\t\t// Setup framebuffer\r\n\r\n\t\tif ( isCube ) {\r\n\r\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\r\n\r\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\r\n\r\n\t\t\tif ( isMultisample ) {\r\n\r\n\t\t\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\r\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\r\n\r\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\r\n\r\n\t\t\t\t\tconst glFormat = utils.convert( texture.format );\r\n\t\t\t\t\tconst glType = utils.convert( texture.type );\r\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\r\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\r\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\r\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\r\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\r\n\r\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\r\n\r\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\r\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstate.bindFramebuffer( 36160, null );\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Setup color buffer\r\n\r\n\t\tif ( isCube ) {\r\n\r\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\r\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\r\n\r\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\r\n\r\n\t\t\t\tgenerateMipmap( 34067, texture, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.bindTexture( 34067, null );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tlet glTextureType = 3553;\r\n\r\n\t\t\tif ( isRenderTarget3D ) {\r\n\r\n\t\t\t\t// Render targets containing layers, i.e: Texture 3D and 2d arrays\r\n\r\n\t\t\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\t\t\tconst isTexture3D = texture.isDataTexture3D;\r\n\t\t\t\t\tglTextureType = isTexture3D ? 32879 : 35866;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.bindTexture( glTextureType, textureProperties.__webglTexture );\r\n\t\t\tsetTextureParameters( glTextureType, texture, supportsMips );\r\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, glTextureType );\r\n\r\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\r\n\r\n\t\t\t\tgenerateMipmap( 3553, texture, renderTarget.width, renderTarget.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.bindTexture( 3553, null );\r\n\r\n\t\t}\r\n\r\n\t\t// Setup depth and stencil buffers\r\n\r\n\t\tif ( renderTarget.depthBuffer ) {\r\n\r\n\t\t\tsetupDepthRenderbuffer( renderTarget );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction updateRenderTargetMipmap( renderTarget ) {\r\n\r\n\t\tconst texture = renderTarget.texture;\r\n\r\n\t\tconst supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\r\n\r\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\r\n\r\n\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\r\n\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\r\n\r\n\t\t\tstate.bindTexture( target, webglTexture );\r\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\r\n\t\t\tstate.bindTexture( target, null );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\r\n\r\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\r\n\r\n\t\t\tif ( isWebGL2 ) {\r\n\r\n\t\t\t\tconst renderTargetProperties = properties.get( renderTarget );\r\n\r\n\t\t\t\tstate.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\r\n\t\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\r\n\r\n\t\t\t\tconst width = renderTarget.width;\r\n\t\t\t\tconst height = renderTarget.height;\r\n\t\t\t\tlet mask = 16384;\r\n\r\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\r\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\r\n\r\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\r\n\r\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer ); // see #18905\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction getRenderTargetSamples( renderTarget ) {\r\n\r\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\r\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\r\n\r\n\t}\r\n\r\n\tfunction updateVideoTexture( texture ) {\r\n\r\n\t\tconst frame = info.render.frame;\r\n\r\n\t\t// Check the last frame we updated the VideoTexture\r\n\r\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\r\n\r\n\t\t\t_videoTextures.set( texture, frame );\r\n\t\t\ttexture.update();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// backwards compatibility\r\n\r\n\tlet warnedTexture2D = false;\r\n\tlet warnedTextureCube = false;\r\n\r\n\tfunction safeSetTexture2D( texture, slot ) {\r\n\r\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\r\n\r\n\t\t\tif ( warnedTexture2D === false ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTexture2D: don\\'t use render targets as textures. Use their .texture property instead.' );\r\n\t\t\t\twarnedTexture2D = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture = texture.texture;\r\n\r\n\t\t}\r\n\r\n\t\tsetTexture2D( texture, slot );\r\n\r\n\t}\r\n\r\n\tfunction safeSetTextureCube( texture, slot ) {\r\n\r\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\r\n\r\n\t\t\tif ( warnedTextureCube === false ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTextureCube: don\\'t use cube render targets as textures. Use their .texture property instead.' );\r\n\t\t\t\twarnedTextureCube = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture = texture.texture;\r\n\r\n\t\t}\r\n\r\n\r\n\t\tsetTextureCube( texture, slot );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tthis.allocateTextureUnit = allocateTextureUnit;\r\n\tthis.resetTextureUnits = resetTextureUnits;\r\n\r\n\tthis.setTexture2D = setTexture2D;\r\n\tthis.setTexture2DArray = setTexture2DArray;\r\n\tthis.setTexture3D = setTexture3D;\r\n\tthis.setTextureCube = setTextureCube;\r\n\tthis.setupRenderTarget = setupRenderTarget;\r\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\r\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\r\n\r\n\tthis.safeSetTexture2D = safeSetTexture2D;\r\n\tthis.safeSetTextureCube = safeSetTextureCube;\r\n\r\n}\r\n\r\nfunction WebGLUtils( gl, extensions, capabilities ) {\r\n\r\n\tconst isWebGL2 = capabilities.isWebGL2;\r\n\r\n\tfunction convert( p ) {\r\n\r\n\t\tlet extension;\r\n\r\n\t\tif ( p === UnsignedByteType ) return 5121;\r\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\r\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\r\n\t\tif ( p === UnsignedShort565Type ) return 33635;\r\n\r\n\t\tif ( p === ByteType ) return 5120;\r\n\t\tif ( p === ShortType ) return 5122;\r\n\t\tif ( p === UnsignedShortType ) return 5123;\r\n\t\tif ( p === IntType ) return 5124;\r\n\t\tif ( p === UnsignedIntType ) return 5125;\r\n\t\tif ( p === FloatType ) return 5126;\r\n\r\n\t\tif ( p === HalfFloatType ) {\r\n\r\n\t\t\tif ( isWebGL2 ) return 5131;\r\n\r\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\treturn extension.HALF_FLOAT_OES;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === AlphaFormat ) return 6406;\r\n\t\tif ( p === RGBFormat ) return 6407;\r\n\t\tif ( p === RGBAFormat ) return 6408;\r\n\t\tif ( p === LuminanceFormat ) return 6409;\r\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\r\n\t\tif ( p === DepthFormat ) return 6402;\r\n\t\tif ( p === DepthStencilFormat ) return 34041;\r\n\t\tif ( p === RedFormat ) return 6403;\r\n\r\n\t\t// WebGL2 formats.\r\n\r\n\t\tif ( p === RedIntegerFormat ) return 36244;\r\n\t\tif ( p === RGFormat ) return 33319;\r\n\t\tif ( p === RGIntegerFormat ) return 33320;\r\n\t\tif ( p === RGBIntegerFormat ) return 36248;\r\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\r\n\r\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\r\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\r\n\r\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\r\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\r\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\r\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\r\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\r\n\r\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\r\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\r\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\r\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === RGB_ETC1_Format ) {\r\n\r\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\r\n\r\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\r\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\r\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\r\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\r\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\r\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\r\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\r\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\r\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\r\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\r\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\r\n\r\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\t// TODO Complete?\r\n\r\n\t\t\t\treturn p;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === RGBA_BPTC_Format ) {\r\n\r\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\t// TODO Complete?\r\n\r\n\t\t\t\treturn p;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === UnsignedInt248Type ) {\r\n\r\n\t\t\tif ( isWebGL2 ) return 34042;\r\n\r\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn { convert: convert };\r\n\r\n}\r\n\r\nclass ArrayCamera extends PerspectiveCamera {\r\n\r\n\tconstructor( array = [] ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.cameras = array;\r\n\r\n\t}\r\n\r\n}\r\n\r\nArrayCamera.prototype.isArrayCamera = true;\r\n\r\nclass Group extends Object3D {\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'Group';\r\n\r\n\t}\r\n\r\n}\r\n\r\nGroup.prototype.isGroup = true;\r\n\r\nfunction WebXRController() {\r\n\r\n\tthis._targetRay = null;\r\n\tthis._grip = null;\r\n\tthis._hand = null;\r\n\r\n}\r\n\r\nObject.assign( WebXRController.prototype, {\r\n\r\n\tconstructor: WebXRController,\r\n\r\n\tgetHandSpace: function () {\r\n\r\n\t\tif ( this._hand === null ) {\r\n\r\n\t\t\tthis._hand = new Group();\r\n\t\t\tthis._hand.matrixAutoUpdate = false;\r\n\t\t\tthis._hand.visible = false;\r\n\r\n\t\t\tthis._hand.joints = {};\r\n\t\t\tthis._hand.inputState = { pinching: false };\r\n\r\n\t\t}\r\n\r\n\t\treturn this._hand;\r\n\r\n\t},\r\n\r\n\tgetTargetRaySpace: function () {\r\n\r\n\t\tif ( this._targetRay === null ) {\r\n\r\n\t\t\tthis._targetRay = new Group();\r\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\r\n\t\t\tthis._targetRay.visible = false;\r\n\r\n\t\t}\r\n\r\n\t\treturn this._targetRay;\r\n\r\n\t},\r\n\r\n\tgetGripSpace: function () {\r\n\r\n\t\tif ( this._grip === null ) {\r\n\r\n\t\t\tthis._grip = new Group();\r\n\t\t\tthis._grip.matrixAutoUpdate = false;\r\n\t\t\tthis._grip.visible = false;\r\n\r\n\t\t}\r\n\r\n\t\treturn this._grip;\r\n\r\n\t},\r\n\r\n\tdispatchEvent: function ( event ) {\r\n\r\n\t\tif ( this._targetRay !== null ) {\r\n\r\n\t\t\tthis._targetRay.dispatchEvent( event );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this._grip !== null ) {\r\n\r\n\t\t\tthis._grip.dispatchEvent( event );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this._hand !== null ) {\r\n\r\n\t\t\tthis._hand.dispatchEvent( event );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdisconnect: function ( inputSource ) {\r\n\r\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\r\n\r\n\t\tif ( this._targetRay !== null ) {\r\n\r\n\t\t\tthis._targetRay.visible = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this._grip !== null ) {\r\n\r\n\t\t\tthis._grip.visible = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this._hand !== null ) {\r\n\r\n\t\t\tthis._hand.visible = false;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdate: function ( inputSource, frame, referenceSpace ) {\r\n\r\n\t\tlet inputPose = null;\r\n\t\tlet gripPose = null;\r\n\t\tlet handPose = null;\r\n\r\n\t\tconst targetRay = this._targetRay;\r\n\t\tconst grip = this._grip;\r\n\t\tconst hand = this._hand;\r\n\r\n\t\tif ( inputSource && frame.session.visibilityState !== 'visible-blurred' ) {\r\n\r\n\t\t\tif ( targetRay !== null ) {\r\n\r\n\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\r\n\r\n\t\t\t\tif ( inputPose !== null ) {\r\n\r\n\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\r\n\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hand && inputSource.hand ) {\r\n\r\n\t\t\t\thandPose = true;\r\n\r\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\r\n\r\n\t\t\t\t\t// Update the joints groups with the XRJoint poses\r\n\t\t\t\t\tconst jointPose = frame.getJointPose( inputjoint, referenceSpace );\r\n\r\n\t\t\t\t\tif ( hand.joints[ inputjoint.jointName ] === undefined ) {\r\n\r\n\t\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\r\n\t\t\t\t\t\tconst joint = new Group();\r\n\t\t\t\t\t\tjoint.matrixAutoUpdate = false;\r\n\t\t\t\t\t\tjoint.visible = false;\r\n\t\t\t\t\t\thand.joints[ inputjoint.jointName ] = joint;\r\n\t\t\t\t\t\t// ??\r\n\t\t\t\t\t\thand.add( joint );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst joint = hand.joints[ inputjoint.jointName ];\r\n\r\n\t\t\t\t\tif ( jointPose !== null ) {\r\n\r\n\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\r\n\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\r\n\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tjoint.visible = jointPose !== null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Custom events\r\n\r\n\t\t\t\t// Check pinchz\r\n\t\t\t\tconst indexTip = hand.joints[ 'index-finger-tip' ];\r\n\t\t\t\tconst thumbTip = hand.joints[ 'thumb-tip' ];\r\n\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\r\n\r\n\t\t\t\tconst distanceToPinch = 0.02;\r\n\t\t\t\tconst threshold = 0.005;\r\n\r\n\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\r\n\r\n\t\t\t\t\thand.inputState.pinching = false;\r\n\t\t\t\t\tthis.dispatchEvent( {\r\n\t\t\t\t\t\ttype: 'pinchend',\r\n\t\t\t\t\t\thandedness: inputSource.handedness,\r\n\t\t\t\t\t\ttarget: this\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\r\n\r\n\t\t\t\t\thand.inputState.pinching = true;\r\n\t\t\t\t\tthis.dispatchEvent( {\r\n\t\t\t\t\t\ttype: 'pinchstart',\r\n\t\t\t\t\t\thandedness: inputSource.handedness,\r\n\t\t\t\t\t\ttarget: this\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\r\n\r\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\r\n\r\n\t\t\t\t\tif ( gripPose !== null ) {\r\n\r\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\r\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( targetRay !== null ) {\r\n\r\n\t\t\ttargetRay.visible = ( inputPose !== null );\r\n\r\n\t\t}\r\n\r\n\t\tif ( grip !== null ) {\r\n\r\n\t\t\tgrip.visible = ( gripPose !== null );\r\n\r\n\t\t}\r\n\r\n\t\tif ( hand !== null ) {\r\n\r\n\t\t\thand.visible = ( handPose !== null );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction WebXRManager( renderer, gl ) {\r\n\r\n\tconst scope = this;\r\n\tconst state = renderer.state;\r\n\r\n\tlet session = null;\r\n\r\n\tlet framebufferScaleFactor = 1.0;\r\n\r\n\tlet referenceSpace = null;\r\n\tlet referenceSpaceType = 'local-floor';\r\n\r\n\tlet pose = null;\r\n\r\n\tconst controllers = [];\r\n\tconst inputSourcesMap = new Map();\r\n\r\n\t//\r\n\r\n\tconst cameraL = new PerspectiveCamera();\r\n\tcameraL.layers.enable( 1 );\r\n\tcameraL.viewport = new Vector4();\r\n\r\n\tconst cameraR = new PerspectiveCamera();\r\n\tcameraR.layers.enable( 2 );\r\n\tcameraR.viewport = new Vector4();\r\n\r\n\tconst cameras = [ cameraL, cameraR ];\r\n\r\n\tconst cameraVR = new ArrayCamera();\r\n\tcameraVR.layers.enable( 1 );\r\n\tcameraVR.layers.enable( 2 );\r\n\r\n\tlet _currentDepthNear = null;\r\n\tlet _currentDepthFar = null;\r\n\r\n\t//\r\n\r\n\tthis.enabled = false;\r\n\r\n\tthis.isPresenting = false;\r\n\r\n\tthis.getController = function ( index ) {\r\n\r\n\t\tlet controller = controllers[ index ];\r\n\r\n\t\tif ( controller === undefined ) {\r\n\r\n\t\t\tcontroller = new WebXRController();\r\n\t\t\tcontrollers[ index ] = controller;\r\n\r\n\t\t}\r\n\r\n\t\treturn controller.getTargetRaySpace();\r\n\r\n\t};\r\n\r\n\tthis.getControllerGrip = function ( index ) {\r\n\r\n\t\tlet controller = controllers[ index ];\r\n\r\n\t\tif ( controller === undefined ) {\r\n\r\n\t\t\tcontroller = new WebXRController();\r\n\t\t\tcontrollers[ index ] = controller;\r\n\r\n\t\t}\r\n\r\n\t\treturn controller.getGripSpace();\r\n\r\n\t};\r\n\r\n\tthis.getHand = function ( index ) {\r\n\r\n\t\tlet controller = controllers[ index ];\r\n\r\n\t\tif ( controller === undefined ) {\r\n\r\n\t\t\tcontroller = new WebXRController();\r\n\t\t\tcontrollers[ index ] = controller;\r\n\r\n\t\t}\r\n\r\n\t\treturn controller.getHandSpace();\r\n\r\n\t};\r\n\r\n\t//\r\n\r\n\tfunction onSessionEvent( event ) {\r\n\r\n\t\tconst controller = inputSourcesMap.get( event.inputSource );\r\n\r\n\t\tif ( controller ) {\r\n\r\n\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onSessionEnd() {\r\n\r\n\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\r\n\r\n\t\t\tcontroller.disconnect( inputSource );\r\n\r\n\t\t} );\r\n\r\n\t\tinputSourcesMap.clear();\r\n\r\n\t\t_currentDepthNear = null;\r\n\t\t_currentDepthFar = null;\r\n\r\n\t\t// restore framebuffer/rendering state\r\n\r\n\t\tstate.bindXRFramebuffer( null );\r\n\t\trenderer.setRenderTarget( renderer.getRenderTarget() );\r\n\r\n\t\t//\r\n\r\n\t\tanimation.stop();\r\n\r\n\t\tscope.isPresenting = false;\r\n\r\n\t\tscope.dispatchEvent( { type: 'sessionend' } );\r\n\r\n\t}\r\n\r\n\tthis.setFramebufferScaleFactor = function ( value ) {\r\n\r\n\t\tframebufferScaleFactor = value;\r\n\r\n\t\tif ( scope.isPresenting === true ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setReferenceSpaceType = function ( value ) {\r\n\r\n\t\treferenceSpaceType = value;\r\n\r\n\t\tif ( scope.isPresenting === true ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.getReferenceSpace = function () {\r\n\r\n\t\treturn referenceSpace;\r\n\r\n\t};\r\n\r\n\tthis.getSession = function () {\r\n\r\n\t\treturn session;\r\n\r\n\t};\r\n\r\n\tthis.setSession = async function ( value ) {\r\n\r\n\t\tsession = value;\r\n\r\n\t\tif ( session !== null ) {\r\n\r\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\r\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\r\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\r\n\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\r\n\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\r\n\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\r\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\r\n\t\t\tsession.addEventListener( 'inputsourceschange', onInputSourcesChange );\r\n\r\n\t\t\tconst attributes = gl.getContextAttributes();\r\n\r\n\t\t\tif ( attributes.xrCompatible !== true ) {\r\n\r\n\t\t\t\tawait gl.makeXRCompatible();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst layerInit = {\r\n\t\t\t\tantialias: attributes.antialias,\r\n\t\t\t\talpha: attributes.alpha,\r\n\t\t\t\tdepth: attributes.depth,\r\n\t\t\t\tstencil: attributes.stencil,\r\n\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\r\n\t\t\t};\r\n\r\n\t\t\t// eslint-disable-next-line no-undef\r\n\t\t\tconst baseLayer = new XRWebGLLayer( session, gl, layerInit );\r\n\r\n\t\t\tsession.updateRenderState( { baseLayer: baseLayer } );\r\n\r\n\t\t\treferenceSpace = await session.requestReferenceSpace( referenceSpaceType );\r\n\r\n\t\t\tanimation.setContext( session );\r\n\t\t\tanimation.start();\r\n\r\n\t\t\tscope.isPresenting = true;\r\n\r\n\t\t\tscope.dispatchEvent( { type: 'sessionstart' } );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tfunction onInputSourcesChange( event ) {\r\n\r\n\t\tconst inputSources = session.inputSources;\r\n\r\n\t\t// Assign inputSources to available controllers\r\n\r\n\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\r\n\r\n\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\t// Notify disconnected\r\n\r\n\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\r\n\r\n\t\t\tconst inputSource = event.removed[ i ];\r\n\t\t\tconst controller = inputSourcesMap.get( inputSource );\r\n\r\n\t\t\tif ( controller ) {\r\n\r\n\t\t\t\tcontroller.dispatchEvent( { type: 'disconnected', data: inputSource } );\r\n\t\t\t\tinputSourcesMap.delete( inputSource );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Notify connected\r\n\r\n\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\r\n\r\n\t\t\tconst inputSource = event.added[ i ];\r\n\t\t\tconst controller = inputSourcesMap.get( inputSource );\r\n\r\n\t\t\tif ( controller ) {\r\n\r\n\t\t\t\tcontroller.dispatchEvent( { type: 'connected', data: inputSource } );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tconst cameraLPos = new Vector3();\r\n\tconst cameraRPos = new Vector3();\r\n\r\n\t/**\r\n\t * Assumes 2 cameras that are parallel and share an X-axis, and that\r\n\t * the cameras' projection and world matrices have already been set.\r\n\t * And that near and far planes are identical for both cameras.\r\n\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\r\n\t */\r\n\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\r\n\r\n\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\r\n\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\r\n\r\n\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\r\n\r\n\t\tconst projL = cameraL.projectionMatrix.elements;\r\n\t\tconst projR = cameraR.projectionMatrix.elements;\r\n\r\n\t\t// VR systems will have identical far and near planes, and\r\n\t\t// most likely identical top and bottom frustum extents.\r\n\t\t// Use the left camera for these values.\r\n\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\r\n\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\r\n\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\r\n\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\r\n\r\n\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\r\n\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\r\n\t\tconst left = near * leftFov;\r\n\t\tconst right = near * rightFov;\r\n\r\n\t\t// Calculate the new camera's position offset from the\r\n\t\t// left camera. xOffset should be roughly half `ipd`.\r\n\t\tconst zOffset = ipd / ( - leftFov + rightFov );\r\n\t\tconst xOffset = zOffset * - leftFov;\r\n\r\n\t\t// TODO: Better way to apply this offset?\r\n\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\r\n\t\tcamera.translateX( xOffset );\r\n\t\tcamera.translateZ( zOffset );\r\n\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\r\n\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\r\n\r\n\t\t// Find the union of the frustum values of the cameras and scale\r\n\t\t// the values so that the near plane's position does not change in world space,\r\n\t\t// although must now be relative to the new union camera.\r\n\t\tconst near2 = near + zOffset;\r\n\t\tconst far2 = far + zOffset;\r\n\t\tconst left2 = left - xOffset;\r\n\t\tconst right2 = right + ( ipd - xOffset );\r\n\t\tconst top2 = topFov * far / far2 * near2;\r\n\t\tconst bottom2 = bottomFov * far / far2 * near2;\r\n\r\n\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\r\n\r\n\t}\r\n\r\n\tfunction updateCamera( camera, parent ) {\r\n\r\n\t\tif ( parent === null ) {\r\n\r\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\r\n\r\n\t\t}\r\n\r\n\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\r\n\r\n\t}\r\n\r\n\tthis.getCamera = function ( camera ) {\r\n\r\n\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\r\n\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\r\n\r\n\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\r\n\r\n\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\r\n\r\n\t\t\tsession.updateRenderState( {\r\n\t\t\t\tdepthNear: cameraVR.near,\r\n\t\t\t\tdepthFar: cameraVR.far\r\n\t\t\t} );\r\n\r\n\t\t\t_currentDepthNear = cameraVR.near;\r\n\t\t\t_currentDepthFar = cameraVR.far;\r\n\r\n\t\t}\r\n\r\n\t\tconst parent = camera.parent;\r\n\t\tconst cameras = cameraVR.cameras;\r\n\r\n\t\tupdateCamera( cameraVR, parent );\r\n\r\n\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\r\n\r\n\t\t\tupdateCamera( cameras[ i ], parent );\r\n\r\n\t\t}\r\n\r\n\t\t// update camera and its children\r\n\r\n\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\r\n\t\tcamera.matrix.copy( cameraVR.matrix );\r\n\t\tcamera.matrix.decompose( camera.position, camera.quaternion, camera.scale );\r\n\r\n\t\tconst children = camera.children;\r\n\r\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tchildren[ i ].updateMatrixWorld( true );\r\n\r\n\t\t}\r\n\r\n\t\t// update projection matrix for proper view frustum culling\r\n\r\n\t\tif ( cameras.length === 2 ) {\r\n\r\n\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// assume single camera setup (AR)\r\n\r\n\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\r\n\r\n\t\t}\r\n\r\n\t\treturn cameraVR;\r\n\r\n\t};\r\n\r\n\t// Animation Loop\r\n\r\n\tlet onAnimationFrameCallback = null;\r\n\r\n\tfunction onAnimationFrame( time, frame ) {\r\n\r\n\t\tpose = frame.getViewerPose( referenceSpace );\r\n\r\n\t\tif ( pose !== null ) {\r\n\r\n\t\t\tconst views = pose.views;\r\n\t\t\tconst baseLayer = session.renderState.baseLayer;\r\n\r\n\t\t\tstate.bindXRFramebuffer( baseLayer.framebuffer );\r\n\r\n\t\t\tlet cameraVRNeedsUpdate = false;\r\n\r\n\t\t\t// check if it's necessary to rebuild cameraVR's camera list\r\n\r\n\t\t\tif ( views.length !== cameraVR.cameras.length ) {\r\n\r\n\t\t\t\tcameraVR.cameras.length = 0;\r\n\t\t\t\tcameraVRNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\r\n\r\n\t\t\t\tconst view = views[ i ];\r\n\t\t\t\tconst viewport = baseLayer.getViewport( view );\r\n\r\n\t\t\t\tconst camera = cameras[ i ];\r\n\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\r\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\r\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\r\n\r\n\t\t\t\tif ( i === 0 ) {\r\n\r\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\r\n\r\n\t\t\t\t\tcameraVR.cameras.push( camera );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tconst inputSources = session.inputSources;\r\n\r\n\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\r\n\r\n\t\t\tconst controller = controllers[ i ];\r\n\t\t\tconst inputSource = inputSources[ i ];\r\n\r\n\t\t\tcontroller.update( inputSource, frame, referenceSpace );\r\n\r\n\t\t}\r\n\r\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\r\n\r\n\t}\r\n\r\n\tconst animation = new WebGLAnimation();\r\n\tanimation.setAnimationLoop( onAnimationFrame );\r\n\r\n\tthis.setAnimationLoop = function ( callback ) {\r\n\r\n\t\tonAnimationFrameCallback = callback;\r\n\r\n\t};\r\n\r\n\tthis.dispose = function () {};\r\n\r\n}\r\n\r\nObject.assign( WebXRManager.prototype, EventDispatcher.prototype );\r\n\r\nfunction WebGLMaterials( properties ) {\r\n\r\n\tfunction refreshFogUniforms( uniforms, fog ) {\r\n\r\n\t\tuniforms.fogColor.value.copy( fog.color );\r\n\r\n\t\tif ( fog.isFog ) {\r\n\r\n\t\t\tuniforms.fogNear.value = fog.near;\r\n\t\t\tuniforms.fogFar.value = fog.far;\r\n\r\n\t\t} else if ( fog.isFogExp2 ) {\r\n\r\n\t\t\tuniforms.fogDensity.value = fog.density;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height ) {\r\n\r\n\t\tif ( material.isMeshBasicMaterial ) {\r\n\r\n\t\t\trefreshUniformsCommon( uniforms, material );\r\n\r\n\t\t} else if ( material.isMeshLambertMaterial ) {\r\n\r\n\t\t\trefreshUniformsCommon( uniforms, material );\r\n\t\t\trefreshUniformsLambert( uniforms, material );\r\n\r\n\t\t} else if ( material.isMeshToonMaterial ) {\r\n\r\n\t\t\trefreshUniformsCommon( uniforms, material );\r\n\t\t\trefreshUniformsToon( uniforms, material );\r\n\r\n\t\t} else if ( material.isMeshPhongMaterial ) {\r\n\r\n\t\t\trefreshUniformsCommon( uniforms, material );\r\n\t\t\trefreshUniformsPhong( uniforms, material );\r\n\r\n\t\t} else if ( material.isMeshStandardMaterial ) {\r\n\r\n\t\t\trefreshUniformsCommon( uniforms, material );\r\n\r\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsPhysical( uniforms, material );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trefreshUniformsStandard( uniforms, material );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( material.isMeshMatcapMaterial ) {\r\n\r\n\t\t\trefreshUniformsCommon( uniforms, material );\r\n\t\t\trefreshUniformsMatcap( uniforms, material );\r\n\r\n\t\t} else if ( material.isMeshDepthMaterial ) {\r\n\r\n\t\t\trefreshUniformsCommon( uniforms, material );\r\n\t\t\trefreshUniformsDepth( uniforms, material );\r\n\r\n\t\t} else if ( material.isMeshDistanceMaterial ) {\r\n\r\n\t\t\trefreshUniformsCommon( uniforms, material );\r\n\t\t\trefreshUniformsDistance( uniforms, material );\r\n\r\n\t\t} else if ( material.isMeshNormalMaterial ) {\r\n\r\n\t\t\trefreshUniformsCommon( uniforms, material );\r\n\t\t\trefreshUniformsNormal( uniforms, material );\r\n\r\n\t\t} else if ( material.isLineBasicMaterial ) {\r\n\r\n\t\t\trefreshUniformsLine( uniforms, material );\r\n\r\n\t\t\tif ( material.isLineDashedMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsDash( uniforms, material );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( material.isPointsMaterial ) {\r\n\r\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\r\n\r\n\t\t} else if ( material.isSpriteMaterial ) {\r\n\r\n\t\t\trefreshUniformsSprites( uniforms, material );\r\n\r\n\t\t} else if ( material.isShadowMaterial ) {\r\n\r\n\t\t\tuniforms.color.value.copy( material.color );\r\n\t\t\tuniforms.opacity.value = material.opacity;\r\n\r\n\t\t} else if ( material.isShaderMaterial ) {\r\n\r\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsCommon( uniforms, material ) {\r\n\r\n\t\tuniforms.opacity.value = material.opacity;\r\n\r\n\t\tif ( material.color ) {\r\n\r\n\t\t\tuniforms.diffuse.value.copy( material.color );\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.emissive ) {\r\n\r\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuniforms.map.value = material.map;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.alphaMap ) {\r\n\r\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.specularMap ) {\r\n\r\n\t\t\tuniforms.specularMap.value = material.specularMap;\r\n\r\n\t\t}\r\n\r\n\t\tconst envMap = properties.get( material ).envMap;\r\n\r\n\t\tif ( envMap ) {\r\n\r\n\t\t\tuniforms.envMap.value = envMap;\r\n\r\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap._needsFlipEnvMap ) ? - 1 : 1;\r\n\r\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\r\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\r\n\r\n\t\t\tconst maxMipLevel = properties.get( envMap ).__maxMipLevel;\r\n\r\n\t\t\tif ( maxMipLevel !== undefined ) {\r\n\r\n\t\t\t\tuniforms.maxMipLevel.value = maxMipLevel;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.lightMap ) {\r\n\r\n\t\t\tuniforms.lightMap.value = material.lightMap;\r\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.aoMap ) {\r\n\r\n\t\t\tuniforms.aoMap.value = material.aoMap;\r\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\t// uv repeat and offset setting priorities\r\n\t\t// 1. color map\r\n\t\t// 2. specular map\r\n\t\t// 3. displacementMap map\r\n\t\t// 4. normal map\r\n\t\t// 5. bump map\r\n\t\t// 6. roughnessMap map\r\n\t\t// 7. metalnessMap map\r\n\t\t// 8. alphaMap map\r\n\t\t// 9. emissiveMap map\r\n\t\t// 10. clearcoat map\r\n\t\t// 11. clearcoat normal map\r\n\t\t// 12. clearcoat roughnessMap map\r\n\r\n\t\tlet uvScaleMap;\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuvScaleMap = material.map;\r\n\r\n\t\t} else if ( material.specularMap ) {\r\n\r\n\t\t\tuvScaleMap = material.specularMap;\r\n\r\n\t\t} else if ( material.displacementMap ) {\r\n\r\n\t\t\tuvScaleMap = material.displacementMap;\r\n\r\n\t\t} else if ( material.normalMap ) {\r\n\r\n\t\t\tuvScaleMap = material.normalMap;\r\n\r\n\t\t} else if ( material.bumpMap ) {\r\n\r\n\t\t\tuvScaleMap = material.bumpMap;\r\n\r\n\t\t} else if ( material.roughnessMap ) {\r\n\r\n\t\t\tuvScaleMap = material.roughnessMap;\r\n\r\n\t\t} else if ( material.metalnessMap ) {\r\n\r\n\t\t\tuvScaleMap = material.metalnessMap;\r\n\r\n\t\t} else if ( material.alphaMap ) {\r\n\r\n\t\t\tuvScaleMap = material.alphaMap;\r\n\r\n\t\t} else if ( material.emissiveMap ) {\r\n\r\n\t\t\tuvScaleMap = material.emissiveMap;\r\n\r\n\t\t} else if ( material.clearcoatMap ) {\r\n\r\n\t\t\tuvScaleMap = material.clearcoatMap;\r\n\r\n\t\t} else if ( material.clearcoatNormalMap ) {\r\n\r\n\t\t\tuvScaleMap = material.clearcoatNormalMap;\r\n\r\n\t\t} else if ( material.clearcoatRoughnessMap ) {\r\n\r\n\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( uvScaleMap !== undefined ) {\r\n\r\n\t\t\t// backwards compatibility\r\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\r\n\r\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\r\n\r\n\t\t\t\tuvScaleMap.updateMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\r\n\r\n\t\t}\r\n\r\n\t\t// uv repeat and offset setting priorities for uv2\r\n\t\t// 1. ao map\r\n\t\t// 2. light map\r\n\r\n\t\tlet uv2ScaleMap;\r\n\r\n\t\tif ( material.aoMap ) {\r\n\r\n\t\t\tuv2ScaleMap = material.aoMap;\r\n\r\n\t\t} else if ( material.lightMap ) {\r\n\r\n\t\t\tuv2ScaleMap = material.lightMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( uv2ScaleMap !== undefined ) {\r\n\r\n\t\t\t// backwards compatibility\r\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\r\n\r\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\r\n\r\n\t\t\t\tuv2ScaleMap.updateMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsLine( uniforms, material ) {\r\n\r\n\t\tuniforms.diffuse.value.copy( material.color );\r\n\t\tuniforms.opacity.value = material.opacity;\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsDash( uniforms, material ) {\r\n\r\n\t\tuniforms.dashSize.value = material.dashSize;\r\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\r\n\t\tuniforms.scale.value = material.scale;\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\r\n\r\n\t\tuniforms.diffuse.value.copy( material.color );\r\n\t\tuniforms.opacity.value = material.opacity;\r\n\t\tuniforms.size.value = material.size * pixelRatio;\r\n\t\tuniforms.scale.value = height * 0.5;\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuniforms.map.value = material.map;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.alphaMap ) {\r\n\r\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\r\n\r\n\t\t}\r\n\r\n\t\t// uv repeat and offset setting priorities\r\n\t\t// 1. color map\r\n\t\t// 2. alpha map\r\n\r\n\t\tlet uvScaleMap;\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuvScaleMap = material.map;\r\n\r\n\t\t} else if ( material.alphaMap ) {\r\n\r\n\t\t\tuvScaleMap = material.alphaMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( uvScaleMap !== undefined ) {\r\n\r\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\r\n\r\n\t\t\t\tuvScaleMap.updateMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsSprites( uniforms, material ) {\r\n\r\n\t\tuniforms.diffuse.value.copy( material.color );\r\n\t\tuniforms.opacity.value = material.opacity;\r\n\t\tuniforms.rotation.value = material.rotation;\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuniforms.map.value = material.map;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.alphaMap ) {\r\n\r\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\r\n\r\n\t\t}\r\n\r\n\t\t// uv repeat and offset setting priorities\r\n\t\t// 1. color map\r\n\t\t// 2. alpha map\r\n\r\n\t\tlet uvScaleMap;\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuvScaleMap = material.map;\r\n\r\n\t\t} else if ( material.alphaMap ) {\r\n\r\n\t\t\tuvScaleMap = material.alphaMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( uvScaleMap !== undefined ) {\r\n\r\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\r\n\r\n\t\t\t\tuvScaleMap.updateMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsLambert( uniforms, material ) {\r\n\r\n\t\tif ( material.emissiveMap ) {\r\n\r\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsPhong( uniforms, material ) {\r\n\r\n\t\tuniforms.specular.value.copy( material.specular );\r\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\r\n\r\n\t\tif ( material.emissiveMap ) {\r\n\r\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.bumpMap ) {\r\n\r\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\r\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\r\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.normalMap ) {\r\n\r\n\t\t\tuniforms.normalMap.value = material.normalMap;\r\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\r\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsToon( uniforms, material ) {\r\n\r\n\t\tif ( material.gradientMap ) {\r\n\r\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.emissiveMap ) {\r\n\r\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.bumpMap ) {\r\n\r\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\r\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\r\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.normalMap ) {\r\n\r\n\t\t\tuniforms.normalMap.value = material.normalMap;\r\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\r\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsStandard( uniforms, material ) {\r\n\r\n\t\tuniforms.roughness.value = material.roughness;\r\n\t\tuniforms.metalness.value = material.metalness;\r\n\r\n\t\tif ( material.roughnessMap ) {\r\n\r\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.metalnessMap ) {\r\n\r\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.emissiveMap ) {\r\n\r\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.bumpMap ) {\r\n\r\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\r\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\r\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.normalMap ) {\r\n\r\n\t\t\tuniforms.normalMap.value = material.normalMap;\r\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\r\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t\tconst envMap = properties.get( material ).envMap;\r\n\r\n\t\tif ( envMap ) {\r\n\r\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\r\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsPhysical( uniforms, material ) {\r\n\r\n\t\trefreshUniformsStandard( uniforms, material );\r\n\r\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\r\n\r\n\t\tuniforms.clearcoat.value = material.clearcoat;\r\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\r\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\r\n\r\n\t\tif ( material.clearcoatMap ) {\r\n\r\n\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.clearcoatRoughnessMap ) {\r\n\r\n\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.clearcoatNormalMap ) {\r\n\r\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\r\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\r\n\r\n\t\t\tif ( material.side === BackSide ) {\r\n\r\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tuniforms.transmission.value = material.transmission;\r\n\r\n\t\tif ( material.transmissionMap ) {\r\n\r\n\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsMatcap( uniforms, material ) {\r\n\r\n\t\tif ( material.matcap ) {\r\n\r\n\t\t\tuniforms.matcap.value = material.matcap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.bumpMap ) {\r\n\r\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\r\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\r\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.normalMap ) {\r\n\r\n\t\t\tuniforms.normalMap.value = material.normalMap;\r\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\r\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsDepth( uniforms, material ) {\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsDistance( uniforms, material ) {\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\r\n\t\tuniforms.nearDistance.value = material.nearDistance;\r\n\t\tuniforms.farDistance.value = material.farDistance;\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsNormal( uniforms, material ) {\r\n\r\n\t\tif ( material.bumpMap ) {\r\n\r\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\r\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\r\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.normalMap ) {\r\n\r\n\t\t\tuniforms.normalMap.value = material.normalMap;\r\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\r\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\trefreshFogUniforms: refreshFogUniforms,\r\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\r\n\t};\r\n\r\n}\r\n\r\nfunction createCanvasElement() {\r\n\r\n\tconst canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\r\n\tcanvas.style.display = 'block';\r\n\treturn canvas;\r\n\r\n}\r\n\r\nfunction WebGLRenderer( parameters ) {\r\n\r\n\tparameters = parameters || {};\r\n\r\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\r\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\r\n\r\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\r\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\r\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\r\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\r\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\r\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\r\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\r\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\r\n\r\n\tlet currentRenderList = null;\r\n\tlet currentRenderState = null;\r\n\r\n\t// render() can be called from within a callback triggered by another render.\r\n\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\r\n\r\n\tconst renderListStack = [];\r\n\tconst renderStateStack = [];\r\n\r\n\t// public properties\r\n\r\n\tthis.domElement = _canvas;\r\n\r\n\t// Debug configuration container\r\n\tthis.debug = {\r\n\r\n\t\t/**\r\n\t\t * Enables error checking and reporting when shader programs are being compiled\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tcheckShaderErrors: true\r\n\t};\r\n\r\n\t// clearing\r\n\r\n\tthis.autoClear = true;\r\n\tthis.autoClearColor = true;\r\n\tthis.autoClearDepth = true;\r\n\tthis.autoClearStencil = true;\r\n\r\n\t// scene graph\r\n\r\n\tthis.sortObjects = true;\r\n\r\n\t// user-defined clipping\r\n\r\n\tthis.clippingPlanes = [];\r\n\tthis.localClippingEnabled = false;\r\n\r\n\t// physically based shading\r\n\r\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\r\n\tthis.outputEncoding = LinearEncoding;\r\n\r\n\t// physical lights\r\n\r\n\tthis.physicallyCorrectLights = false;\r\n\r\n\t// tone mapping\r\n\r\n\tthis.toneMapping = NoToneMapping;\r\n\tthis.toneMappingExposure = 1.0;\r\n\r\n\t// internal properties\r\n\r\n\tconst _this = this;\r\n\r\n\tlet _isContextLost = false;\r\n\r\n\t// internal state cache\r\n\r\n\tlet _currentActiveCubeFace = 0;\r\n\tlet _currentActiveMipmapLevel = 0;\r\n\tlet _currentRenderTarget = null;\r\n\tlet _currentMaterialId = - 1;\r\n\r\n\tlet _currentCamera = null;\r\n\r\n\tconst _currentViewport = new Vector4();\r\n\tconst _currentScissor = new Vector4();\r\n\tlet _currentScissorTest = null;\r\n\r\n\t//\r\n\r\n\tlet _width = _canvas.width;\r\n\tlet _height = _canvas.height;\r\n\r\n\tlet _pixelRatio = 1;\r\n\tlet _opaqueSort = null;\r\n\tlet _transparentSort = null;\r\n\r\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\r\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\r\n\tlet _scissorTest = false;\r\n\r\n\t// frustum\r\n\r\n\tconst _frustum = new Frustum();\r\n\r\n\t// clipping\r\n\r\n\tlet _clippingEnabled = false;\r\n\tlet _localClippingEnabled = false;\r\n\r\n\t// camera matrices cache\r\n\r\n\tconst _projScreenMatrix = new Matrix4();\r\n\r\n\tconst _vector3 = new Vector3();\r\n\r\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\r\n\r\n\tfunction getTargetPixelRatio() {\r\n\r\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\r\n\r\n\t}\r\n\r\n\t// initialize\r\n\r\n\tlet _gl = _context;\r\n\r\n\tfunction getContext( contextNames, contextAttributes ) {\r\n\r\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\r\n\r\n\t\t\tconst contextName = contextNames[ i ];\r\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\r\n\t\t\tif ( context !== null ) return context;\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n\ttry {\r\n\r\n\t\tconst contextAttributes = {\r\n\t\t\talpha: _alpha,\r\n\t\t\tdepth: _depth,\r\n\t\t\tstencil: _stencil,\r\n\t\t\tantialias: _antialias,\r\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\r\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\r\n\t\t\tpowerPreference: _powerPreference,\r\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\r\n\t\t};\r\n\r\n\t\t// event listeners must be registered before WebGL context is created, see #12753\r\n\r\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\r\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\r\n\r\n\t\tif ( _gl === null ) {\r\n\r\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\r\n\r\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\r\n\r\n\t\t\t\tcontextNames.shift();\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_gl = getContext( contextNames, contextAttributes );\r\n\r\n\t\t\tif ( _gl === null ) {\r\n\r\n\t\t\t\tif ( getContext( contextNames ) ) {\r\n\r\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\r\n\r\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\r\n\r\n\t\t\t_gl.getShaderPrecisionFormat = function () {\r\n\r\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\r\n\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t} catch ( error ) {\r\n\r\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\r\n\t\tthrow error;\r\n\r\n\t}\r\n\r\n\tlet extensions, capabilities, state, info;\r\n\tlet properties, textures, cubemaps, attributes, geometries, objects;\r\n\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\r\n\r\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\r\n\r\n\tlet utils, bindingStates;\r\n\r\n\tfunction initGLContext() {\r\n\r\n\t\textensions = new WebGLExtensions( _gl );\r\n\r\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\r\n\r\n\t\textensions.init( capabilities );\r\n\r\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\r\n\r\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\r\n\r\n\t\tinfo = new WebGLInfo( _gl );\r\n\t\tproperties = new WebGLProperties();\r\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\r\n\t\tcubemaps = new WebGLCubeMaps( _this );\r\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\r\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\r\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\r\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\r\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\r\n\t\tclipping = new WebGLClipping( properties );\r\n\t\tprogramCache = new WebGLPrograms( _this, cubemaps, extensions, capabilities, bindingStates, clipping );\r\n\t\tmaterials = new WebGLMaterials( properties );\r\n\t\trenderLists = new WebGLRenderLists( properties );\r\n\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\r\n\t\tbackground = new WebGLBackground( _this, cubemaps, state, objects, _premultipliedAlpha );\r\n\t\tshadowMap = new WebGLShadowMap( _this, objects, capabilities );\r\n\r\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\r\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\r\n\r\n\t\tinfo.programs = programCache.programs;\r\n\r\n\t\t_this.capabilities = capabilities;\r\n\t\t_this.extensions = extensions;\r\n\t\t_this.properties = properties;\r\n\t\t_this.renderLists = renderLists;\r\n\t\t_this.shadowMap = shadowMap;\r\n\t\t_this.state = state;\r\n\t\t_this.info = info;\r\n\r\n\t}\r\n\r\n\tinitGLContext();\r\n\r\n\t// xr\r\n\r\n\tconst xr = new WebXRManager( _this, _gl );\r\n\r\n\tthis.xr = xr;\r\n\r\n\t// API\r\n\r\n\tthis.getContext = function () {\r\n\r\n\t\treturn _gl;\r\n\r\n\t};\r\n\r\n\tthis.getContextAttributes = function () {\r\n\r\n\t\treturn _gl.getContextAttributes();\r\n\r\n\t};\r\n\r\n\tthis.forceContextLoss = function () {\r\n\r\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\r\n\t\tif ( extension ) extension.loseContext();\r\n\r\n\t};\r\n\r\n\tthis.forceContextRestore = function () {\r\n\r\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\r\n\t\tif ( extension ) extension.restoreContext();\r\n\r\n\t};\r\n\r\n\tthis.getPixelRatio = function () {\r\n\r\n\t\treturn _pixelRatio;\r\n\r\n\t};\r\n\r\n\tthis.setPixelRatio = function ( value ) {\r\n\r\n\t\tif ( value === undefined ) return;\r\n\r\n\t\t_pixelRatio = value;\r\n\r\n\t\tthis.setSize( _width, _height, false );\r\n\r\n\t};\r\n\r\n\tthis.getSize = function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\r\n\r\n\t\t\ttarget = new Vector2();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.set( _width, _height );\r\n\r\n\t};\r\n\r\n\tthis.setSize = function ( width, height, updateStyle ) {\r\n\r\n\t\tif ( xr.isPresenting ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t_width = width;\r\n\t\t_height = height;\r\n\r\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\r\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\r\n\r\n\t\tif ( updateStyle !== false ) {\r\n\r\n\t\t\t_canvas.style.width = width + 'px';\r\n\t\t\t_canvas.style.height = height + 'px';\r\n\r\n\t\t}\r\n\r\n\t\tthis.setViewport( 0, 0, width, height );\r\n\r\n\t};\r\n\r\n\tthis.getDrawingBufferSize = function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\r\n\r\n\t\t\ttarget = new Vector2();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\r\n\r\n\t};\r\n\r\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\r\n\r\n\t\t_width = width;\r\n\t\t_height = height;\r\n\r\n\t\t_pixelRatio = pixelRatio;\r\n\r\n\t\t_canvas.width = Math.floor( width * pixelRatio );\r\n\t\t_canvas.height = Math.floor( height * pixelRatio );\r\n\r\n\t\tthis.setViewport( 0, 0, width, height );\r\n\r\n\t};\r\n\r\n\tthis.getCurrentViewport = function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\r\n\r\n\t\t\ttarget = new Vector4();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( _currentViewport );\r\n\r\n\t};\r\n\r\n\tthis.getViewport = function ( target ) {\r\n\r\n\t\treturn target.copy( _viewport );\r\n\r\n\t};\r\n\r\n\tthis.setViewport = function ( x, y, width, height ) {\r\n\r\n\t\tif ( x.isVector4 ) {\r\n\r\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_viewport.set( x, y, width, height );\r\n\r\n\t\t}\r\n\r\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\r\n\r\n\t};\r\n\r\n\tthis.getScissor = function ( target ) {\r\n\r\n\t\treturn target.copy( _scissor );\r\n\r\n\t};\r\n\r\n\tthis.setScissor = function ( x, y, width, height ) {\r\n\r\n\t\tif ( x.isVector4 ) {\r\n\r\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_scissor.set( x, y, width, height );\r\n\r\n\t\t}\r\n\r\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\r\n\r\n\t};\r\n\r\n\tthis.getScissorTest = function () {\r\n\r\n\t\treturn _scissorTest;\r\n\r\n\t};\r\n\r\n\tthis.setScissorTest = function ( boolean ) {\r\n\r\n\t\tstate.setScissorTest( _scissorTest = boolean );\r\n\r\n\t};\r\n\r\n\tthis.setOpaqueSort = function ( method ) {\r\n\r\n\t\t_opaqueSort = method;\r\n\r\n\t};\r\n\r\n\tthis.setTransparentSort = function ( method ) {\r\n\r\n\t\t_transparentSort = method;\r\n\r\n\t};\r\n\r\n\t// Clearing\r\n\r\n\tthis.getClearColor = function ( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'WebGLRenderer: .getClearColor() now requires a Color as an argument' );\r\n\r\n\t\t\ttarget = new Color();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( background.getClearColor() );\r\n\r\n\t};\r\n\r\n\tthis.setClearColor = function () {\r\n\r\n\t\tbackground.setClearColor.apply( background, arguments );\r\n\r\n\t};\r\n\r\n\tthis.getClearAlpha = function () {\r\n\r\n\t\treturn background.getClearAlpha();\r\n\r\n\t};\r\n\r\n\tthis.setClearAlpha = function () {\r\n\r\n\t\tbackground.setClearAlpha.apply( background, arguments );\r\n\r\n\t};\r\n\r\n\tthis.clear = function ( color, depth, stencil ) {\r\n\r\n\t\tlet bits = 0;\r\n\r\n\t\tif ( color === undefined || color ) bits |= 16384;\r\n\t\tif ( depth === undefined || depth ) bits |= 256;\r\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\r\n\r\n\t\t_gl.clear( bits );\r\n\r\n\t};\r\n\r\n\tthis.clearColor = function () {\r\n\r\n\t\tthis.clear( true, false, false );\r\n\r\n\t};\r\n\r\n\tthis.clearDepth = function () {\r\n\r\n\t\tthis.clear( false, true, false );\r\n\r\n\t};\r\n\r\n\tthis.clearStencil = function () {\r\n\r\n\t\tthis.clear( false, false, true );\r\n\r\n\t};\r\n\r\n\t//\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\r\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\r\n\r\n\t\trenderLists.dispose();\r\n\t\trenderStates.dispose();\r\n\t\tproperties.dispose();\r\n\t\tcubemaps.dispose();\r\n\t\tobjects.dispose();\r\n\t\tbindingStates.dispose();\r\n\r\n\t\txr.dispose();\r\n\r\n\t\txr.removeEventListener( 'sessionstart', onXRSessionStart );\r\n\t\txr.removeEventListener( 'sessionend', onXRSessionEnd );\r\n\r\n\t\tanimation.stop();\r\n\r\n\t};\r\n\r\n\t// Events\r\n\r\n\tfunction onContextLost( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\r\n\r\n\t\t_isContextLost = true;\r\n\r\n\t}\r\n\r\n\tfunction onContextRestore( /* event */ ) {\r\n\r\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\r\n\r\n\t\t_isContextLost = false;\r\n\r\n\t\tconst infoAutoReset = info.autoReset;\r\n\t\tconst shadowMapEnabled = shadowMap.enabled;\r\n\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\r\n\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\r\n\t\tconst shadowMapType = shadowMap.type;\r\n\r\n\t\tinitGLContext();\r\n\r\n\t\tinfo.autoReset = infoAutoReset;\r\n\t\tshadowMap.enabled = shadowMapEnabled;\r\n\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\r\n\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\r\n\t\tshadowMap.type = shadowMapType;\r\n\r\n\t}\r\n\r\n\tfunction onMaterialDispose( event ) {\r\n\r\n\t\tconst material = event.target;\r\n\r\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\r\n\r\n\t\tdeallocateMaterial( material );\r\n\r\n\t}\r\n\r\n\t// Buffer deallocation\r\n\r\n\tfunction deallocateMaterial( material ) {\r\n\r\n\t\treleaseMaterialProgramReferences( material );\r\n\r\n\t\tproperties.remove( material );\r\n\r\n\t}\r\n\r\n\r\n\tfunction releaseMaterialProgramReferences( material ) {\r\n\r\n\t\tconst programs = properties.get( material ).programs;\r\n\r\n\t\tif ( programs !== undefined ) {\r\n\r\n\t\t\tprograms.forEach( function ( program ) {\r\n\r\n\t\t\t\tprogramCache.releaseProgram( program );\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Buffer rendering\r\n\r\n\tfunction renderObjectImmediate( object, program ) {\r\n\r\n\t\tobject.render( function ( object ) {\r\n\r\n\t\t\t_this.renderBufferImmediate( object, program );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tthis.renderBufferImmediate = function ( object, program ) {\r\n\r\n\t\tbindingStates.initAttributes();\r\n\r\n\t\tconst buffers = properties.get( object );\r\n\r\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\r\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\r\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\r\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\r\n\r\n\t\tconst programAttributes = program.getAttributes();\r\n\r\n\t\tif ( object.hasPositions ) {\r\n\r\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\r\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\r\n\r\n\t\t\tbindingStates.enableAttribute( programAttributes.position );\r\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.hasNormals ) {\r\n\r\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\r\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\r\n\r\n\t\t\tbindingStates.enableAttribute( programAttributes.normal );\r\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.hasUvs ) {\r\n\r\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\r\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\r\n\r\n\t\t\tbindingStates.enableAttribute( programAttributes.uv );\r\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.hasColors ) {\r\n\r\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\r\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\r\n\r\n\t\t\tbindingStates.enableAttribute( programAttributes.color );\r\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tbindingStates.disableUnusedAttributes();\r\n\r\n\t\t_gl.drawArrays( 4, 0, object.count );\r\n\r\n\t\tobject.count = 0;\r\n\r\n\t};\r\n\r\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\r\n\r\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\r\n\r\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\r\n\r\n\t\tconst program = setProgram( camera, scene, material, object );\r\n\r\n\t\tstate.setMaterial( material, frontFaceCW );\r\n\r\n\t\t//\r\n\r\n\t\tlet index = geometry.index;\r\n\t\tconst position = geometry.attributes.position;\r\n\r\n\t\t//\r\n\r\n\t\tif ( index === null ) {\r\n\r\n\t\t\tif ( position === undefined || position.count === 0 ) return;\r\n\r\n\t\t} else if ( index.count === 0 ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tlet rangeFactor = 1;\r\n\r\n\t\tif ( material.wireframe === true ) {\r\n\r\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\r\n\t\t\trangeFactor = 2;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.morphTargets || material.morphNormals ) {\r\n\r\n\t\t\tmorphtargets.update( object, geometry, material, program );\r\n\r\n\t\t}\r\n\r\n\t\tbindingStates.setup( object, material, program, geometry, index );\r\n\r\n\t\tlet attribute;\r\n\t\tlet renderer = bufferRenderer;\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tattribute = attributes.get( index );\r\n\r\n\t\t\trenderer = indexedBufferRenderer;\r\n\t\t\trenderer.setIndex( attribute );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tconst dataCount = ( index !== null ) ? index.count : position.count;\r\n\r\n\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\r\n\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\r\n\r\n\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\r\n\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\r\n\r\n\t\tconst drawStart = Math.max( rangeStart, groupStart );\r\n\t\tconst drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\r\n\r\n\t\tconst drawCount = Math.max( 0, drawEnd - drawStart + 1 );\r\n\r\n\t\tif ( drawCount === 0 ) return;\r\n\r\n\t\t//\r\n\r\n\t\tif ( object.isMesh ) {\r\n\r\n\t\t\tif ( material.wireframe === true ) {\r\n\r\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\r\n\t\t\t\trenderer.setMode( 1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trenderer.setMode( 4 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( object.isLine ) {\r\n\r\n\t\t\tlet lineWidth = material.linewidth;\r\n\r\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\r\n\r\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\r\n\r\n\t\t\tif ( object.isLineSegments ) {\r\n\r\n\t\t\t\trenderer.setMode( 1 );\r\n\r\n\t\t\t} else if ( object.isLineLoop ) {\r\n\r\n\t\t\t\trenderer.setMode( 2 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trenderer.setMode( 3 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( object.isPoints ) {\r\n\r\n\t\t\trenderer.setMode( 0 );\r\n\r\n\t\t} else if ( object.isSprite ) {\r\n\r\n\t\t\trenderer.setMode( 4 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.isInstancedMesh ) {\r\n\r\n\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\r\n\r\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\r\n\r\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, geometry._maxInstanceCount );\r\n\r\n\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.render( drawStart, drawCount );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t// Compile\r\n\r\n\tthis.compile = function ( scene, camera ) {\r\n\r\n\t\tcurrentRenderState = renderStates.get( scene );\r\n\t\tcurrentRenderState.init();\r\n\r\n\t\tscene.traverseVisible( function ( object ) {\r\n\r\n\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\r\n\r\n\t\t\t\tcurrentRenderState.pushLight( object );\r\n\r\n\t\t\t\tif ( object.castShadow ) {\r\n\r\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\tcurrentRenderState.setupLights();\r\n\r\n\t\tscene.traverse( function ( object ) {\r\n\r\n\t\t\tconst material = object.material;\r\n\r\n\t\t\tif ( material ) {\r\n\r\n\t\t\t\tif ( Array.isArray( material ) ) {\r\n\r\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst material2 = material[ i ];\r\n\r\n\t\t\t\t\t\tgetProgram( material2, scene, object );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tgetProgram( material, scene, object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t// Animation Loop\r\n\r\n\tlet onAnimationFrameCallback = null;\r\n\r\n\tfunction onAnimationFrame( time ) {\r\n\r\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\r\n\r\n\t}\r\n\r\n\tfunction onXRSessionStart() {\r\n\r\n\t\tanimation.stop();\r\n\r\n\t}\r\n\r\n\tfunction onXRSessionEnd() {\r\n\r\n\t\tanimation.start();\r\n\r\n\t}\r\n\r\n\tconst animation = new WebGLAnimation();\r\n\tanimation.setAnimationLoop( onAnimationFrame );\r\n\r\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\r\n\r\n\tthis.setAnimationLoop = function ( callback ) {\r\n\r\n\t\tonAnimationFrameCallback = callback;\r\n\t\txr.setAnimationLoop( callback );\r\n\r\n\t\t( callback === null ) ? animation.stop() : animation.start();\r\n\r\n\t};\r\n\r\n\txr.addEventListener( 'sessionstart', onXRSessionStart );\r\n\txr.addEventListener( 'sessionend', onXRSessionEnd );\r\n\r\n\t// Rendering\r\n\r\n\tthis.render = function ( scene, camera ) {\r\n\r\n\t\tlet renderTarget, forceClear;\r\n\r\n\t\tif ( arguments[ 2 ] !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\r\n\t\t\trenderTarget = arguments[ 2 ];\r\n\r\n\t\t}\r\n\r\n\t\tif ( arguments[ 3 ] !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\r\n\t\t\tforceClear = arguments[ 3 ];\r\n\r\n\t\t}\r\n\r\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( _isContextLost === true ) return;\r\n\r\n\t\t// update scene graph\r\n\r\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\r\n\r\n\t\t// update camera matrices and frustum\r\n\r\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\r\n\r\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\r\n\r\n\t\t\tcamera = xr.getCamera( camera );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\r\n\r\n\t\tcurrentRenderState = renderStates.get( scene, renderStateStack.length );\r\n\t\tcurrentRenderState.init();\r\n\r\n\t\trenderStateStack.push( currentRenderState );\r\n\r\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\r\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\r\n\r\n\t\t_localClippingEnabled = this.localClippingEnabled;\r\n\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\r\n\r\n\t\tcurrentRenderList = renderLists.get( scene, renderListStack.length );\r\n\t\tcurrentRenderList.init();\r\n\r\n\t\trenderListStack.push( currentRenderList );\r\n\r\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\r\n\r\n\t\tcurrentRenderList.finish();\r\n\r\n\t\tif ( _this.sortObjects === true ) {\r\n\r\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\r\n\r\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\r\n\r\n\t\tshadowMap.render( shadowsArray, scene, camera );\r\n\r\n\t\tcurrentRenderState.setupLights();\r\n\t\tcurrentRenderState.setupLightsView( camera );\r\n\r\n\t\tif ( _clippingEnabled === true ) clipping.endShadows();\r\n\r\n\t\t//\r\n\r\n\t\tif ( this.info.autoReset === true ) this.info.reset();\r\n\r\n\t\tif ( renderTarget !== undefined ) {\r\n\r\n\t\t\tthis.setRenderTarget( renderTarget );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\r\n\r\n\t\t// render scene\r\n\r\n\t\tconst opaqueObjects = currentRenderList.opaque;\r\n\t\tconst transparentObjects = currentRenderList.transparent;\r\n\r\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\r\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\r\n\r\n\t\t//\r\n\r\n\t\tif ( _currentRenderTarget !== null ) {\r\n\r\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\r\n\r\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\r\n\r\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\r\n\r\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\r\n\r\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\r\n\r\n\t\tstate.buffers.depth.setTest( true );\r\n\t\tstate.buffers.depth.setMask( true );\r\n\t\tstate.buffers.color.setMask( true );\r\n\r\n\t\tstate.setPolygonOffset( false );\r\n\r\n\t\t// _gl.finish();\r\n\r\n\t\tbindingStates.resetDefaultState();\r\n\t\t_currentMaterialId = - 1;\r\n\t\t_currentCamera = null;\r\n\r\n\t\trenderStateStack.pop();\r\n\r\n\t\tif ( renderStateStack.length > 0 ) {\r\n\r\n\t\t\tcurrentRenderState = renderStateStack[ renderStateStack.length - 1 ];\r\n\r\n\t\t} else {\r\n\r\n\t\t\tcurrentRenderState = null;\r\n\r\n\t\t}\r\n\r\n\t\trenderListStack.pop();\r\n\r\n\t\tif ( renderListStack.length > 0 ) {\r\n\r\n\t\t\tcurrentRenderList = renderListStack[ renderListStack.length - 1 ];\r\n\r\n\t\t} else {\r\n\r\n\t\t\tcurrentRenderList = null;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\r\n\r\n\t\tif ( object.visible === false ) return;\r\n\r\n\t\tconst visible = object.layers.test( camera.layers );\r\n\r\n\t\tif ( visible ) {\r\n\r\n\t\t\tif ( object.isGroup ) {\r\n\r\n\t\t\t\tgroupOrder = object.renderOrder;\r\n\r\n\t\t\t} else if ( object.isLOD ) {\r\n\r\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\r\n\r\n\t\t\t} else if ( object.isLight ) {\r\n\r\n\t\t\t\tcurrentRenderState.pushLight( object );\r\n\r\n\t\t\t\tif ( object.castShadow ) {\r\n\r\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( object.isSprite ) {\r\n\r\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\r\n\r\n\t\t\t\t\tif ( sortObjects ) {\r\n\r\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\r\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst geometry = objects.update( object );\r\n\t\t\t\t\tconst material = object.material;\r\n\r\n\t\t\t\t\tif ( material.visible ) {\r\n\r\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( object.isImmediateRenderObject ) {\r\n\r\n\t\t\t\tif ( sortObjects ) {\r\n\r\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\r\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\r\n\r\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\r\n\r\n\t\t\t\tif ( object.isSkinnedMesh ) {\r\n\r\n\t\t\t\t\t// update skeleton only once in a frame\r\n\r\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\r\n\r\n\t\t\t\t\t\tobject.skeleton.update();\r\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\r\n\r\n\t\t\t\t\tif ( sortObjects ) {\r\n\r\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\r\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst geometry = objects.update( object );\r\n\t\t\t\t\tconst material = object.material;\r\n\r\n\t\t\t\t\tif ( Array.isArray( material ) ) {\r\n\r\n\t\t\t\t\t\tconst groups = geometry.groups;\r\n\r\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\t\tconst group = groups[ i ];\r\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\r\n\r\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\r\n\r\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else if ( material.visible ) {\r\n\r\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst children = object.children;\r\n\r\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction renderObjects( renderList, scene, camera ) {\r\n\r\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\r\n\r\n\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst renderItem = renderList[ i ];\r\n\r\n\t\t\tconst object = renderItem.object;\r\n\t\t\tconst geometry = renderItem.geometry;\r\n\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\r\n\t\t\tconst group = renderItem.group;\r\n\r\n\t\t\tif ( camera.isArrayCamera ) {\r\n\r\n\t\t\t\tconst cameras = camera.cameras;\r\n\r\n\t\t\t\tfor ( let j = 0, jl = cameras.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tconst camera2 = cameras[ j ];\r\n\r\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\r\n\r\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\r\n\r\n\t\t\t\t\t\tcurrentRenderState.setupLightsView( camera2 );\r\n\r\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\r\n\r\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\r\n\r\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\r\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\r\n\r\n\t\tif ( object.isImmediateRenderObject ) {\r\n\r\n\t\t\tconst program = setProgram( camera, scene, material, object );\r\n\r\n\t\t\tstate.setMaterial( material );\r\n\r\n\t\t\tbindingStates.reset();\r\n\r\n\t\t\trenderObjectImmediate( object, program );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\r\n\r\n\t\t}\r\n\r\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\r\n\r\n\t}\r\n\r\n\tfunction getProgram( material, scene, object ) {\r\n\r\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\r\n\r\n\t\tconst materialProperties = properties.get( material );\r\n\r\n\t\tconst lights = currentRenderState.state.lights;\r\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\r\n\r\n\t\tconst lightsStateVersion = lights.state.version;\r\n\r\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\r\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\r\n\r\n\t\tlet programs = materialProperties.programs;\r\n\r\n\t\t// always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\r\n\r\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\r\n\t\tmaterialProperties.fog = scene.fog;\r\n\t\tmaterialProperties.envMap = cubemaps.get( material.envMap || materialProperties.environment );\r\n\r\n\t\tif ( programs === undefined ) {\r\n\r\n\t\t\t// new material\r\n\r\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\r\n\r\n\t\t\tprograms = new Map();\r\n\t\t\tmaterialProperties.programs = programs;\r\n\r\n\t\t}\r\n\r\n\t\tlet program = programs.get( programCacheKey );\r\n\r\n\t\tif ( program !== undefined ) {\r\n\r\n\t\t\t// early out if program and light state is identical\r\n\r\n\t\t\tif ( materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion ) {\r\n\r\n\t\t\t\tupdateCommonMaterialProperties( material, parameters );\r\n\r\n\t\t\t\treturn program;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tparameters.uniforms = programCache.getUniforms( material );\r\n\r\n\t\t\tmaterial.onBeforeCompile( parameters, _this );\r\n\r\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\r\n\t\t\tprograms.set( programCacheKey, program );\r\n\r\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\r\n\r\n\t\t}\r\n\r\n\t\tconst uniforms = materialProperties.uniforms;\r\n\r\n\t\tif ( ( ! material.isShaderMaterial && ! material.isRawShaderMaterial ) || material.clipping === true ) {\r\n\r\n\t\t\tuniforms.clippingPlanes = clipping.uniform;\r\n\r\n\t\t}\r\n\r\n\t\tupdateCommonMaterialProperties( material, parameters );\r\n\r\n\t\t// store the light setup it was created for\r\n\r\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\r\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\r\n\r\n\t\tif ( materialProperties.needsLights ) {\r\n\r\n\t\t\t// wire up the material to this renderer's lighting state\r\n\r\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\r\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\r\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\r\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\r\n\t\t\tuniforms.spotLights.value = lights.state.spot;\r\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\r\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\r\n\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\r\n\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\r\n\t\t\tuniforms.pointLights.value = lights.state.point;\r\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\r\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\r\n\r\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\r\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\r\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\r\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\r\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\r\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\r\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\r\n\r\n\t\t}\r\n\r\n\t\tconst progUniforms = program.getUniforms();\r\n\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\r\n\r\n\t\tmaterialProperties.currentProgram = program;\r\n\t\tmaterialProperties.uniformsList = uniformsList;\r\n\r\n\t\treturn program;\r\n\r\n\t}\r\n\r\n\tfunction updateCommonMaterialProperties( material, parameters ) {\r\n\r\n\t\tconst materialProperties = properties.get( material );\r\n\r\n\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\r\n\t\tmaterialProperties.instancing = parameters.instancing;\r\n\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\r\n\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\r\n\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\r\n\r\n\t}\r\n\r\n\tfunction setProgram( camera, scene, material, object ) {\r\n\r\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\r\n\r\n\t\ttextures.resetTextureUnits();\r\n\r\n\t\tconst fog = scene.fog;\r\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\r\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\r\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\r\n\t\tconst vertexAlphas = material.vertexColors === true && object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4;\r\n\r\n\t\tconst materialProperties = properties.get( material );\r\n\t\tconst lights = currentRenderState.state.lights;\r\n\r\n\t\tif ( _clippingEnabled === true ) {\r\n\r\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\r\n\r\n\t\t\t\tconst useCache =\r\n\t\t\t\t\tcamera === _currentCamera &&\r\n\t\t\t\t\tmaterial.id === _currentMaterialId;\r\n\r\n\t\t\t\t// we might want to call this function with some ClippingGroup\r\n\t\t\t\t// object instead of the material, once it becomes feasible\r\n\t\t\t\t// (#8465, #8379)\r\n\t\t\t\tclipping.setState( material, camera, useCache );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tlet needsProgramChange = false;\r\n\r\n\t\tif ( material.version === materialProperties.__version ) {\r\n\r\n\t\t\tif ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\r\n\r\n\t\t\t\tneedsProgramChange = true;\r\n\r\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\r\n\r\n\t\t\t\tneedsProgramChange = true;\r\n\r\n\t\t\t} else if ( object.isInstancedMesh && materialProperties.instancing === false ) {\r\n\r\n\t\t\t\tneedsProgramChange = true;\r\n\r\n\t\t\t} else if ( ! object.isInstancedMesh && materialProperties.instancing === true ) {\r\n\r\n\t\t\t\tneedsProgramChange = true;\r\n\r\n\t\t\t} else if ( materialProperties.envMap !== envMap ) {\r\n\r\n\t\t\t\tneedsProgramChange = true;\r\n\r\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\r\n\r\n\t\t\t\tneedsProgramChange = true;\r\n\r\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\r\n\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\r\n\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\r\n\r\n\t\t\t\tneedsProgramChange = true;\r\n\r\n\t\t\t} else if ( materialProperties.vertexAlphas !== vertexAlphas ) {\r\n\r\n\t\t\t\tneedsProgramChange = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tneedsProgramChange = true;\r\n\t\t\tmaterialProperties.__version = material.version;\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tlet program = materialProperties.currentProgram;\r\n\r\n\t\tif ( needsProgramChange === true ) {\r\n\r\n\t\t\tprogram = getProgram( material, scene, object );\r\n\r\n\t\t}\r\n\r\n\t\tlet refreshProgram = false;\r\n\t\tlet refreshMaterial = false;\r\n\t\tlet refreshLights = false;\r\n\r\n\t\tconst p_uniforms = program.getUniforms(),\r\n\t\t\tm_uniforms = materialProperties.uniforms;\r\n\r\n\t\tif ( state.useProgram( program.program ) ) {\r\n\r\n\t\t\trefreshProgram = true;\r\n\t\t\trefreshMaterial = true;\r\n\t\t\trefreshLights = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.id !== _currentMaterialId ) {\r\n\r\n\t\t\t_currentMaterialId = material.id;\r\n\r\n\t\t\trefreshMaterial = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\r\n\r\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\r\n\r\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\r\n\r\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\r\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( _currentCamera !== camera ) {\r\n\r\n\t\t\t\t_currentCamera = camera;\r\n\r\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\r\n\t\t\t\t// now, in case this material supports lights - or later, when\r\n\t\t\t\t// the next material that does gets activated:\r\n\r\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\r\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// load material specific uniforms\r\n\t\t\t// (shader material also gets them for the sake of genericity)\r\n\r\n\t\t\tif ( material.isShaderMaterial ||\r\n\t\t\t\tmaterial.isMeshPhongMaterial ||\r\n\t\t\t\tmaterial.isMeshToonMaterial ||\r\n\t\t\t\tmaterial.isMeshStandardMaterial ||\r\n\t\t\t\tmaterial.envMap ) {\r\n\r\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\r\n\r\n\t\t\t\tif ( uCamPos !== undefined ) {\r\n\r\n\t\t\t\t\tuCamPos.setValue( _gl,\r\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( material.isMeshPhongMaterial ||\r\n\t\t\t\tmaterial.isMeshToonMaterial ||\r\n\t\t\t\tmaterial.isMeshLambertMaterial ||\r\n\t\t\t\tmaterial.isMeshBasicMaterial ||\r\n\t\t\t\tmaterial.isMeshStandardMaterial ||\r\n\t\t\t\tmaterial.isShaderMaterial ) {\r\n\r\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( material.isMeshPhongMaterial ||\r\n\t\t\t\tmaterial.isMeshToonMaterial ||\r\n\t\t\t\tmaterial.isMeshLambertMaterial ||\r\n\t\t\t\tmaterial.isMeshBasicMaterial ||\r\n\t\t\t\tmaterial.isMeshStandardMaterial ||\r\n\t\t\t\tmaterial.isShaderMaterial ||\r\n\t\t\t\tmaterial.isShadowMaterial ||\r\n\t\t\t\tmaterial.skinning ) {\r\n\r\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// skinning uniforms must be set even if material didn't change\r\n\t\t// auto-setting of texture unit for bone texture must go before other textures\r\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\r\n\r\n\t\tif ( material.skinning ) {\r\n\r\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\r\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\r\n\r\n\t\t\tconst skeleton = object.skeleton;\r\n\r\n\t\t\tif ( skeleton ) {\r\n\r\n\t\t\t\tconst bones = skeleton.bones;\r\n\r\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\r\n\r\n\t\t\t\t\tif ( skeleton.boneTexture === null ) {\r\n\r\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\r\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\r\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\r\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\r\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\r\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\r\n\r\n\r\n\t\t\t\t\t\tlet size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\r\n\t\t\t\t\t\tsize = MathUtils.ceilPowerOfTwo( size );\r\n\t\t\t\t\t\tsize = Math.max( size, 4 );\r\n\r\n\t\t\t\t\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\r\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\r\n\r\n\t\t\t\t\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\r\n\r\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\r\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\r\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\r\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\r\n\r\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\r\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\r\n\r\n\t\t}\r\n\r\n\t\tif ( refreshMaterial ) {\r\n\r\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\r\n\r\n\t\t\tif ( materialProperties.needsLights ) {\r\n\r\n\t\t\t\t// the current material requires lighting info\r\n\r\n\t\t\t\t// note: all lighting uniforms are always set correctly\r\n\t\t\t\t// they simply reference the renderer's state for their\r\n\t\t\t\t// values\r\n\t\t\t\t//\r\n\t\t\t\t// use the current material's .needsUpdate flags to set\r\n\t\t\t\t// the GL state when required\r\n\r\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// refresh uniforms common to several materials\r\n\r\n\t\t\tif ( fog && material.fog ) {\r\n\r\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height );\r\n\r\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\r\n\r\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\r\n\t\t\tmaterial.uniformsNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.isSpriteMaterial ) {\r\n\r\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\r\n\r\n\t\t}\r\n\r\n\t\t// common matrices\r\n\r\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\r\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\r\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\r\n\r\n\t\treturn program;\r\n\r\n\t}\r\n\r\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\r\n\r\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\r\n\r\n\t\tuniforms.ambientLightColor.needsUpdate = value;\r\n\t\tuniforms.lightProbe.needsUpdate = value;\r\n\r\n\t\tuniforms.directionalLights.needsUpdate = value;\r\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\r\n\t\tuniforms.pointLights.needsUpdate = value;\r\n\t\tuniforms.pointLightShadows.needsUpdate = value;\r\n\t\tuniforms.spotLights.needsUpdate = value;\r\n\t\tuniforms.spotLightShadows.needsUpdate = value;\r\n\t\tuniforms.rectAreaLights.needsUpdate = value;\r\n\t\tuniforms.hemisphereLights.needsUpdate = value;\r\n\r\n\t}\r\n\r\n\tfunction materialNeedsLights( material ) {\r\n\r\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\r\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\r\n\t\t\t( material.isShaderMaterial && material.lights === true );\r\n\r\n\t}\r\n\r\n\tthis.getActiveCubeFace = function () {\r\n\r\n\t\treturn _currentActiveCubeFace;\r\n\r\n\t};\r\n\r\n\tthis.getActiveMipmapLevel = function () {\r\n\r\n\t\treturn _currentActiveMipmapLevel;\r\n\r\n\t};\r\n\r\n\tthis.getRenderTarget = function () {\r\n\r\n\t\treturn _currentRenderTarget;\r\n\r\n\t};\r\n\r\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\r\n\r\n\t\t_currentRenderTarget = renderTarget;\r\n\t\t_currentActiveCubeFace = activeCubeFace;\r\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\r\n\r\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\r\n\r\n\t\t\ttextures.setupRenderTarget( renderTarget );\r\n\r\n\t\t}\r\n\r\n\t\tlet framebuffer = null;\r\n\t\tlet isCube = false;\r\n\t\tlet isRenderTarget3D = false;\r\n\r\n\t\tif ( renderTarget ) {\r\n\r\n\t\t\tconst texture = renderTarget.texture;\r\n\r\n\t\t\tif ( texture.isDataTexture3D || texture.isDataTexture2DArray ) {\r\n\r\n\t\t\t\tisRenderTarget3D = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\r\n\r\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\r\n\r\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\r\n\t\t\t\tisCube = true;\r\n\r\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\r\n\r\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tframebuffer = __webglFramebuffer;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_currentViewport.copy( renderTarget.viewport );\r\n\t\t\t_currentScissor.copy( renderTarget.scissor );\r\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\r\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\r\n\t\t\t_currentScissorTest = _scissorTest;\r\n\r\n\t\t}\r\n\r\n\t\tstate.bindFramebuffer( 36160, framebuffer );\r\n\r\n\t\tstate.viewport( _currentViewport );\r\n\t\tstate.scissor( _currentScissor );\r\n\t\tstate.setScissorTest( _currentScissorTest );\r\n\r\n\t\tif ( isCube ) {\r\n\r\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\r\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\r\n\r\n\t\t} else if ( isRenderTarget3D ) {\r\n\r\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\r\n\t\t\tconst layer = activeCubeFace || 0;\r\n\t\t\t_gl.framebufferTextureLayer( 36160, 36064, textureProperties.__webglTexture, activeMipmapLevel || 0, layer );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\r\n\r\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\r\n\r\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\r\n\r\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\r\n\r\n\t\t}\r\n\r\n\t\tif ( framebuffer ) {\r\n\r\n\t\t\tstate.bindFramebuffer( 36160, framebuffer );\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tconst texture = renderTarget.texture;\r\n\t\t\t\tconst textureFormat = texture.format;\r\n\t\t\t\tconst textureType = texture.type;\r\n\r\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst halfFloatSupportedByExt = ( textureType === HalfFloatType ) && ( extensions.has( 'EXT_color_buffer_half_float' ) || ( capabilities.isWebGL2 && extensions.has( 'EXT_color_buffer_float' ) ) );\r\n\r\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // Edge and Chrome Mac < 52 (#9513)\r\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.has( 'OES_texture_float' ) || extensions.has( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\r\n\t\t\t\t\t! halfFloatSupportedByExt ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\r\n\r\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\r\n\r\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\r\n\r\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} finally {\r\n\r\n\t\t\t\t// restore framebuffer of current render target if necessary\r\n\r\n\t\t\t\tconst framebuffer = ( _currentRenderTarget !== null ) ? properties.get( _currentRenderTarget ).__webglFramebuffer : null;\r\n\t\t\t\tstate.bindFramebuffer( 36160, framebuffer );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.copyFramebufferToTexture = function ( position, texture, level = 0 ) {\r\n\r\n\t\tconst levelScale = Math.pow( 2, - level );\r\n\t\tconst width = Math.floor( texture.image.width * levelScale );\r\n\t\tconst height = Math.floor( texture.image.height * levelScale );\r\n\t\tconst glFormat = utils.convert( texture.format );\r\n\r\n\t\ttextures.setTexture2D( texture, 0 );\r\n\r\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\r\n\r\n\t\tstate.unbindTexture();\r\n\r\n\t};\r\n\r\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level = 0 ) {\r\n\r\n\t\tconst width = srcTexture.image.width;\r\n\t\tconst height = srcTexture.image.height;\r\n\t\tconst glFormat = utils.convert( dstTexture.format );\r\n\t\tconst glType = utils.convert( dstTexture.type );\r\n\r\n\t\ttextures.setTexture2D( dstTexture, 0 );\r\n\r\n\t\t// As another texture upload may have changed pixelStorei\r\n\t\t// parameters, make sure they are correct for the dstTexture\r\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\r\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\r\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\r\n\r\n\t\tif ( srcTexture.isDataTexture ) {\r\n\r\n\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( srcTexture.isCompressedTexture ) {\r\n\r\n\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Generate mipmaps only when copying level 0\r\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\r\n\r\n\t\tstate.unbindTexture();\r\n\r\n\t};\r\n\r\n\tthis.copyTextureToTexture3D = function ( sourceBox, position, srcTexture, dstTexture, level = 0 ) {\r\n\r\n\t\tif ( _this.isWebGL1Renderer ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tconst { width, height, data } = srcTexture.image;\r\n\t\tconst glFormat = utils.convert( dstTexture.format );\r\n\t\tconst glType = utils.convert( dstTexture.type );\r\n\t\tlet glTarget;\r\n\r\n\t\tif ( dstTexture.isDataTexture3D ) {\r\n\r\n\t\t\ttextures.setTexture3D( dstTexture, 0 );\r\n\t\t\tglTarget = 32879;\r\n\r\n\t\t} else if ( dstTexture.isDataTexture2DArray ) {\r\n\r\n\t\t\ttextures.setTexture2DArray( dstTexture, 0 );\r\n\t\t\tglTarget = 35866;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\r\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\r\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\r\n\r\n\t\tconst unpackRowLen = _gl.getParameter( 3314 );\r\n\t\tconst unpackImageHeight = _gl.getParameter( 32878 );\r\n\t\tconst unpackSkipPixels = _gl.getParameter( 3316 );\r\n\t\tconst unpackSkipRows = _gl.getParameter( 3315 );\r\n\t\tconst unpackSkipImages = _gl.getParameter( 32877 );\r\n\r\n\t\t_gl.pixelStorei( 3314, width );\r\n\t\t_gl.pixelStorei( 32878, height );\r\n\t\t_gl.pixelStorei( 3316, sourceBox.min.x );\r\n\t\t_gl.pixelStorei( 3315, sourceBox.min.y );\r\n\t\t_gl.pixelStorei( 32877, sourceBox.min.z );\r\n\r\n\t\t_gl.texSubImage3D(\r\n\t\t\tglTarget,\r\n\t\t\tlevel,\r\n\t\t\tposition.x,\r\n\t\t\tposition.y,\r\n\t\t\tposition.z,\r\n\t\t\tsourceBox.max.x - sourceBox.min.x + 1,\r\n\t\t\tsourceBox.max.y - sourceBox.min.y + 1,\r\n\t\t\tsourceBox.max.z - sourceBox.min.z + 1,\r\n\t\t\tglFormat,\r\n\t\t\tglType,\r\n\t\t\tdata\r\n\t\t);\r\n\r\n\t\t_gl.pixelStorei( 3314, unpackRowLen );\r\n\t\t_gl.pixelStorei( 32878, unpackImageHeight );\r\n\t\t_gl.pixelStorei( 3316, unpackSkipPixels );\r\n\t\t_gl.pixelStorei( 3315, unpackSkipRows );\r\n\t\t_gl.pixelStorei( 32877, unpackSkipImages );\r\n\r\n\t\t// Generate mipmaps only when copying level 0\r\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( glTarget );\r\n\r\n\t\tstate.unbindTexture();\r\n\r\n\t};\r\n\r\n\tthis.initTexture = function ( texture ) {\r\n\r\n\t\ttextures.setTexture2D( texture, 0 );\r\n\r\n\t\tstate.unbindTexture();\r\n\r\n\t};\r\n\r\n\tthis.resetState = function () {\r\n\r\n\t\t_currentActiveCubeFace = 0;\r\n\t\t_currentActiveMipmapLevel = 0;\r\n\t\t_currentRenderTarget = null;\r\n\r\n\t\tstate.reset();\r\n\t\tbindingStates.reset();\r\n\r\n\t};\r\n\r\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\r\n\r\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass WebGL1Renderer extends WebGLRenderer {}\r\n\r\nWebGL1Renderer.prototype.isWebGL1Renderer = true;\r\n\r\nclass FogExp2 {\r\n\r\n\tconstructor( color, density = 0.00025 ) {\r\n\r\n\t\tthis.name = '';\r\n\r\n\t\tthis.color = new Color( color );\r\n\t\tthis.density = density;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new FogExp2( this.color, this.density );\r\n\r\n\t}\r\n\r\n\ttoJSON( /* meta */ ) {\r\n\r\n\t\treturn {\r\n\t\t\ttype: 'FogExp2',\r\n\t\t\tcolor: this.color.getHex(),\r\n\t\t\tdensity: this.density\r\n\t\t};\r\n\r\n\t}\r\n\r\n}\r\n\r\nFogExp2.prototype.isFogExp2 = true;\r\n\r\nclass Fog {\r\n\r\n\tconstructor( color, near = 1, far = 1000 ) {\r\n\r\n\t\tthis.name = '';\r\n\r\n\t\tthis.color = new Color( color );\r\n\r\n\t\tthis.near = near;\r\n\t\tthis.far = far;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new Fog( this.color, this.near, this.far );\r\n\r\n\t}\r\n\r\n\ttoJSON( /* meta */ ) {\r\n\r\n\t\treturn {\r\n\t\t\ttype: 'Fog',\r\n\t\t\tcolor: this.color.getHex(),\r\n\t\t\tnear: this.near,\r\n\t\t\tfar: this.far\r\n\t\t};\r\n\r\n\t}\r\n\r\n}\r\n\r\nFog.prototype.isFog = true;\r\n\r\nclass Scene extends Object3D {\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'Scene';\r\n\r\n\t\tthis.background = null;\r\n\t\tthis.environment = null;\r\n\t\tthis.fog = null;\r\n\r\n\t\tthis.overrideMaterial = null;\r\n\r\n\t\tthis.autoUpdate = true; // checked by the renderer\r\n\r\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\r\n\r\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcopy( source, recursive ) {\r\n\r\n\t\tsuper.copy( source, recursive );\r\n\r\n\t\tif ( source.background !== null ) this.background = source.background.clone();\r\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\r\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\r\n\r\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\r\n\r\n\t\tthis.autoUpdate = source.autoUpdate;\r\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON( meta ) {\r\n\r\n\t\tconst data = super.toJSON( meta );\r\n\r\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\r\n\t\tif ( this.environment !== null ) data.object.environment = this.environment.toJSON( meta );\r\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n}\r\n\r\nScene.prototype.isScene = true;\r\n\r\nfunction InterleavedBuffer( array, stride ) {\r\n\r\n\tthis.array = array;\r\n\tthis.stride = stride;\r\n\tthis.count = array !== undefined ? array.length / stride : 0;\r\n\r\n\tthis.usage = StaticDrawUsage;\r\n\tthis.updateRange = { offset: 0, count: - 1 };\r\n\r\n\tthis.version = 0;\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n}\r\n\r\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\r\n\r\n\tset: function ( value ) {\r\n\r\n\t\tif ( value === true ) this.version ++;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( InterleavedBuffer.prototype, {\r\n\r\n\tisInterleavedBuffer: true,\r\n\r\n\tonUploadCallback: function () {},\r\n\r\n\tsetUsage: function ( value ) {\r\n\r\n\t\tthis.usage = value;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.array = new source.array.constructor( source.array );\r\n\t\tthis.count = source.count;\r\n\t\tthis.stride = source.stride;\r\n\t\tthis.usage = source.usage;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyAt: function ( index1, attribute, index2 ) {\r\n\r\n\t\tindex1 *= this.stride;\r\n\t\tindex2 *= attribute.stride;\r\n\r\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\r\n\r\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tset: function ( value, offset = 0 ) {\r\n\r\n\t\tthis.array.set( value, offset );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function ( data ) {\r\n\r\n\t\tif ( data.arrayBuffers === undefined ) {\r\n\r\n\t\t\tdata.arrayBuffers = {};\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.array.buffer._uuid === undefined ) {\r\n\r\n\t\t\tthis.array.buffer._uuid = MathUtils.generateUUID();\r\n\r\n\t\t}\r\n\r\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\r\n\r\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\r\n\r\n\t\t}\r\n\r\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\r\n\r\n\t\tconst ib = new InterleavedBuffer( array, this.stride );\r\n\t\tib.setUsage( this.usage );\r\n\r\n\t\treturn ib;\r\n\r\n\t},\r\n\r\n\tonUpload: function ( callback ) {\r\n\r\n\t\tthis.onUploadCallback = callback;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( data ) {\r\n\r\n\t\tif ( data.arrayBuffers === undefined ) {\r\n\r\n\t\t\tdata.arrayBuffers = {};\r\n\r\n\t\t}\r\n\r\n\t\t// generate UUID for array buffer if necessary\r\n\r\n\t\tif ( this.array.buffer._uuid === undefined ) {\r\n\r\n\t\t\tthis.array.buffer._uuid = MathUtils.generateUUID();\r\n\r\n\t\t}\r\n\r\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\r\n\r\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.prototype.slice.call( new Uint32Array( this.array.buffer ) );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\treturn {\r\n\t\t\tuuid: this.uuid,\r\n\t\t\tbuffer: this.array.buffer._uuid,\r\n\t\t\ttype: this.array.constructor.name,\r\n\t\t\tstride: this.stride\r\n\t\t};\r\n\r\n\t}\r\n\r\n} );\r\n\r\nconst _vector$6 = new Vector3();\r\n\r\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\r\n\r\n\tthis.name = '';\r\n\r\n\tthis.data = interleavedBuffer;\r\n\tthis.itemSize = itemSize;\r\n\tthis.offset = offset;\r\n\r\n\tthis.normalized = normalized === true;\r\n\r\n}\r\n\r\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\r\n\r\n\tcount: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.data.count;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tarray: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.data.array;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tneedsUpdate: {\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis.data.needsUpdate = value;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( InterleavedBufferAttribute.prototype, {\r\n\r\n\tisInterleavedBufferAttribute: true,\r\n\r\n\tapplyMatrix4: function ( m ) {\r\n\r\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\r\n\r\n\t\t\t_vector$6.x = this.getX( i );\r\n\t\t\t_vector$6.y = this.getY( i );\r\n\t\t\t_vector$6.z = this.getZ( i );\r\n\r\n\t\t\t_vector$6.applyMatrix4( m );\r\n\r\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyNormalMatrix: function ( m ) {\r\n\r\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\r\n\r\n\t\t\t_vector$6.x = this.getX( i );\r\n\t\t\t_vector$6.y = this.getY( i );\r\n\t\t\t_vector$6.z = this.getZ( i );\r\n\r\n\t\t\t_vector$6.applyNormalMatrix( m );\r\n\r\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttransformDirection: function ( m ) {\r\n\r\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\r\n\r\n\t\t\t_vector$6.x = this.getX( i );\r\n\t\t\t_vector$6.y = this.getY( i );\r\n\t\t\t_vector$6.z = this.getZ( i );\r\n\r\n\t\t\t_vector$6.transformDirection( m );\r\n\r\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetX: function ( index, x ) {\r\n\r\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetY: function ( index, y ) {\r\n\r\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetZ: function ( index, z ) {\r\n\r\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetW: function ( index, w ) {\r\n\r\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetX: function ( index ) {\r\n\r\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\r\n\r\n\t},\r\n\r\n\tgetY: function ( index ) {\r\n\r\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\r\n\r\n\t},\r\n\r\n\tgetZ: function ( index ) {\r\n\r\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\r\n\r\n\t},\r\n\r\n\tgetW: function ( index ) {\r\n\r\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\r\n\r\n\t},\r\n\r\n\tsetXY: function ( index, x, y ) {\r\n\r\n\t\tindex = index * this.data.stride + this.offset;\r\n\r\n\t\tthis.data.array[ index + 0 ] = x;\r\n\t\tthis.data.array[ index + 1 ] = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXYZ: function ( index, x, y, z ) {\r\n\r\n\t\tindex = index * this.data.stride + this.offset;\r\n\r\n\t\tthis.data.array[ index + 0 ] = x;\r\n\t\tthis.data.array[ index + 1 ] = y;\r\n\t\tthis.data.array[ index + 2 ] = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXYZW: function ( index, x, y, z, w ) {\r\n\r\n\t\tindex = index * this.data.stride + this.offset;\r\n\r\n\t\tthis.data.array[ index + 0 ] = x;\r\n\t\tthis.data.array[ index + 1 ] = y;\r\n\t\tthis.data.array[ index + 2 ] = z;\r\n\t\tthis.data.array[ index + 3 ] = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function ( data ) {\r\n\r\n\t\tif ( data === undefined ) {\r\n\r\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.' );\r\n\r\n\t\t\tconst array = [];\r\n\r\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\r\n\r\n\t\t\t\tconst index = i * this.data.stride + this.offset;\r\n\r\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\r\n\r\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( data.interleavedBuffers === undefined ) {\r\n\r\n\t\t\t\tdata.interleavedBuffers = {};\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\r\n\r\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( data ) {\r\n\r\n\t\tif ( data === undefined ) {\r\n\r\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.' );\r\n\r\n\t\t\tconst array = [];\r\n\r\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\r\n\r\n\t\t\t\tconst index = i * this.data.stride + this.offset;\r\n\r\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\r\n\r\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// deinterleave data and save it as an ordinary buffer attribute for now\r\n\r\n\t\t\treturn {\r\n\t\t\t\titemSize: this.itemSize,\r\n\t\t\t\ttype: this.array.constructor.name,\r\n\t\t\t\tarray: array,\r\n\t\t\t\tnormalized: this.normalized\r\n\t\t\t};\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// save as true interlaved attribtue\r\n\r\n\t\t\tif ( data.interleavedBuffers === undefined ) {\r\n\r\n\t\t\t\tdata.interleavedBuffers = {};\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\r\n\r\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tisInterleavedBufferAttribute: true,\r\n\t\t\t\titemSize: this.itemSize,\r\n\t\t\t\tdata: this.data.uuid,\r\n\t\t\t\toffset: this.offset,\r\n\t\t\t\tnormalized: this.normalized\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * parameters = {\r\n *  color: <hex>,\r\n *  map: new THREE.Texture( <Image> ),\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *  rotation: <float>,\r\n *  sizeAttenuation: <bool>\r\n * }\r\n */\r\n\r\nclass SpriteMaterial extends Material {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'SpriteMaterial';\r\n\r\n\t\tthis.color = new Color( 0xffffff );\r\n\r\n\t\tthis.map = null;\r\n\r\n\t\tthis.alphaMap = null;\r\n\r\n\t\tthis.rotation = 0;\r\n\r\n\t\tthis.sizeAttenuation = true;\r\n\r\n\t\tthis.transparent = true;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.color.copy( source.color );\r\n\r\n\t\tthis.map = source.map;\r\n\r\n\t\tthis.alphaMap = source.alphaMap;\r\n\r\n\t\tthis.rotation = source.rotation;\r\n\r\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nSpriteMaterial.prototype.isSpriteMaterial = true;\r\n\r\nlet _geometry;\r\n\r\nconst _intersectPoint = /*@__PURE__*/ new Vector3();\r\nconst _worldScale = /*@__PURE__*/ new Vector3();\r\nconst _mvPosition = /*@__PURE__*/ new Vector3();\r\n\r\nconst _alignedPosition = /*@__PURE__*/ new Vector2();\r\nconst _rotatedPosition = /*@__PURE__*/ new Vector2();\r\nconst _viewWorldMatrix = /*@__PURE__*/ new Matrix4();\r\n\r\nconst _vA = /*@__PURE__*/ new Vector3();\r\nconst _vB = /*@__PURE__*/ new Vector3();\r\nconst _vC = /*@__PURE__*/ new Vector3();\r\n\r\nconst _uvA = /*@__PURE__*/ new Vector2();\r\nconst _uvB = /*@__PURE__*/ new Vector2();\r\nconst _uvC = /*@__PURE__*/ new Vector2();\r\n\r\nclass Sprite extends Object3D {\r\n\r\n\tconstructor( material ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'Sprite';\r\n\r\n\t\tif ( _geometry === undefined ) {\r\n\r\n\t\t\t_geometry = new BufferGeometry();\r\n\r\n\t\t\tconst float32Array = new Float32Array( [\r\n\t\t\t\t- 0.5, - 0.5, 0, 0, 0,\r\n\t\t\t\t0.5, - 0.5, 0, 1, 0,\r\n\t\t\t\t0.5, 0.5, 0, 1, 1,\r\n\t\t\t\t- 0.5, 0.5, 0, 0, 1\r\n\t\t\t] );\r\n\r\n\t\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\r\n\r\n\t\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\r\n\t\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\r\n\t\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\r\n\r\n\t\t}\r\n\r\n\t\tthis.geometry = _geometry;\r\n\t\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\r\n\r\n\t\tthis.center = new Vector2( 0.5, 0.5 );\r\n\r\n\t}\r\n\r\n\traycast( raycaster, intersects ) {\r\n\r\n\t\tif ( raycaster.camera === null ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\r\n\r\n\t\t}\r\n\r\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\r\n\r\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\r\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\r\n\r\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\r\n\r\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\r\n\r\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\r\n\r\n\t\t}\r\n\r\n\t\tconst rotation = this.material.rotation;\r\n\t\tlet sin, cos;\r\n\r\n\t\tif ( rotation !== 0 ) {\r\n\r\n\t\t\tcos = Math.cos( rotation );\r\n\t\t\tsin = Math.sin( rotation );\r\n\r\n\t\t}\r\n\r\n\t\tconst center = this.center;\r\n\r\n\t\ttransformVertex( _vA.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\r\n\t\ttransformVertex( _vB.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\r\n\t\ttransformVertex( _vC.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\r\n\r\n\t\t_uvA.set( 0, 0 );\r\n\t\t_uvB.set( 1, 0 );\r\n\t\t_uvC.set( 1, 1 );\r\n\r\n\t\t// check first triangle\r\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA, _vB, _vC, false, _intersectPoint );\r\n\r\n\t\tif ( intersect === null ) {\r\n\r\n\t\t\t// check second triangle\r\n\t\t\ttransformVertex( _vB.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\r\n\t\t\t_uvB.set( 0, 1 );\r\n\r\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA, _vC, _vB, false, _intersectPoint );\r\n\t\t\tif ( intersect === null ) {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\r\n\r\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\r\n\r\n\t\tintersects.push( {\r\n\r\n\t\t\tdistance: distance,\r\n\t\t\tpoint: _intersectPoint.clone(),\r\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() ),\r\n\t\t\tface: null,\r\n\t\t\tobject: this\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\r\n\r\n\t\tthis.material = source.material;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nSprite.prototype.isSprite = true;\r\n\r\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\r\n\r\n\t// compute position in camera space\r\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\r\n\r\n\t// to check if rotation is not zero\r\n\tif ( sin !== undefined ) {\r\n\r\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\r\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\r\n\r\n\t} else {\r\n\r\n\t\t_rotatedPosition.copy( _alignedPosition );\r\n\r\n\t}\r\n\r\n\r\n\tvertexPosition.copy( mvPosition );\r\n\tvertexPosition.x += _rotatedPosition.x;\r\n\tvertexPosition.y += _rotatedPosition.y;\r\n\r\n\t// transform to world space\r\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\r\n\r\n}\r\n\r\nconst _v1$2 = /*@__PURE__*/ new Vector3();\r\nconst _v2$1 = /*@__PURE__*/ new Vector3();\r\n\r\nclass LOD extends Object3D {\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis._currentLevel = 0;\r\n\r\n\t\tthis.type = 'LOD';\r\n\r\n\t\tObject.defineProperties( this, {\r\n\t\t\tlevels: {\r\n\t\t\t\tenumerable: true,\r\n\t\t\t\tvalue: []\r\n\t\t\t},\r\n\t\t\tisLOD: {\r\n\t\t\t\tvalue: true,\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tthis.autoUpdate = true;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source, false );\r\n\r\n\t\tconst levels = source.levels;\r\n\r\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst level = levels[ i ];\r\n\r\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\r\n\r\n\t\t}\r\n\r\n\t\tthis.autoUpdate = source.autoUpdate;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddLevel( object, distance = 0 ) {\r\n\r\n\t\tdistance = Math.abs( distance );\r\n\r\n\t\tconst levels = this.levels;\r\n\r\n\t\tlet l;\r\n\r\n\t\tfor ( l = 0; l < levels.length; l ++ ) {\r\n\r\n\t\t\tif ( distance < levels[ l ].distance ) {\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\r\n\r\n\t\tthis.add( object );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetCurrentLevel() {\r\n\r\n\t\treturn this._currentLevel;\r\n\r\n\t}\r\n\r\n\tgetObjectForDistance( distance ) {\r\n\r\n\t\tconst levels = this.levels;\r\n\r\n\t\tif ( levels.length > 0 ) {\r\n\r\n\t\t\tlet i, l;\r\n\r\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tif ( distance < levels[ i ].distance ) {\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn levels[ i - 1 ].object;\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n\traycast( raycaster, intersects ) {\r\n\r\n\t\tconst levels = this.levels;\r\n\r\n\t\tif ( levels.length > 0 ) {\r\n\r\n\t\t\t_v1$2.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t\t\tconst distance = raycaster.ray.origin.distanceTo( _v1$2 );\r\n\r\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate( camera ) {\r\n\r\n\t\tconst levels = this.levels;\r\n\r\n\t\tif ( levels.length > 1 ) {\r\n\r\n\t\t\t_v1$2.setFromMatrixPosition( camera.matrixWorld );\r\n\t\t\t_v2$1.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t\t\tconst distance = _v1$2.distanceTo( _v2$1 ) / camera.zoom;\r\n\r\n\t\t\tlevels[ 0 ].object.visible = true;\r\n\r\n\t\t\tlet i, l;\r\n\r\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\r\n\r\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\r\n\t\t\t\t\tlevels[ i ].object.visible = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._currentLevel = i - 1;\r\n\r\n\t\t\tfor ( ; i < l; i ++ ) {\r\n\r\n\t\t\t\tlevels[ i ].object.visible = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\ttoJSON( meta ) {\r\n\r\n\t\tconst data = super.toJSON( meta );\r\n\r\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\r\n\r\n\t\tdata.object.levels = [];\r\n\r\n\t\tconst levels = this.levels;\r\n\r\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst level = levels[ i ];\r\n\r\n\t\t\tdata.object.levels.push( {\r\n\t\t\t\tobject: level.object.uuid,\r\n\t\t\t\tdistance: level.distance\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _basePosition = new Vector3();\r\n\r\nconst _skinIndex = new Vector4();\r\nconst _skinWeight = new Vector4();\r\n\r\nconst _vector$5 = new Vector3();\r\nconst _matrix = new Matrix4();\r\n\r\nfunction SkinnedMesh( geometry, material ) {\r\n\r\n\tMesh.call( this, geometry, material );\r\n\r\n\tthis.type = 'SkinnedMesh';\r\n\r\n\tthis.bindMode = 'attached';\r\n\tthis.bindMatrix = new Matrix4();\r\n\tthis.bindMatrixInverse = new Matrix4();\r\n\r\n}\r\n\r\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\r\n\r\n\tconstructor: SkinnedMesh,\r\n\r\n\tisSkinnedMesh: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tMesh.prototype.copy.call( this, source );\r\n\r\n\t\tthis.bindMode = source.bindMode;\r\n\t\tthis.bindMatrix.copy( source.bindMatrix );\r\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\r\n\r\n\t\tthis.skeleton = source.skeleton;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tbind: function ( skeleton, bindMatrix ) {\r\n\r\n\t\tthis.skeleton = skeleton;\r\n\r\n\t\tif ( bindMatrix === undefined ) {\r\n\r\n\t\t\tthis.updateMatrixWorld( true );\r\n\r\n\t\t\tthis.skeleton.calculateInverses();\r\n\r\n\t\t\tbindMatrix = this.matrixWorld;\r\n\r\n\t\t}\r\n\r\n\t\tthis.bindMatrix.copy( bindMatrix );\r\n\t\tthis.bindMatrixInverse.copy( bindMatrix ).invert();\r\n\r\n\t},\r\n\r\n\tpose: function () {\r\n\r\n\t\tthis.skeleton.pose();\r\n\r\n\t},\r\n\r\n\tnormalizeSkinWeights: function () {\r\n\r\n\t\tconst vector = new Vector4();\r\n\r\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\r\n\r\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\r\n\r\n\t\t\tvector.x = skinWeight.getX( i );\r\n\t\t\tvector.y = skinWeight.getY( i );\r\n\t\t\tvector.z = skinWeight.getZ( i );\r\n\t\t\tvector.w = skinWeight.getW( i );\r\n\r\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\r\n\r\n\t\t\tif ( scale !== Infinity ) {\r\n\r\n\t\t\t\tvector.multiplyScalar( scale );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\r\n\r\n\t\t\t}\r\n\r\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdateMatrixWorld: function ( force ) {\r\n\r\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\r\n\r\n\t\tif ( this.bindMode === 'attached' ) {\r\n\r\n\t\t\tthis.bindMatrixInverse.copy( this.matrixWorld ).invert();\r\n\r\n\t\t} else if ( this.bindMode === 'detached' ) {\r\n\r\n\t\t\tthis.bindMatrixInverse.copy( this.bindMatrix ).invert();\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tboneTransform: function ( index, target ) {\r\n\r\n\t\tconst skeleton = this.skeleton;\r\n\t\tconst geometry = this.geometry;\r\n\r\n\t\t_skinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\r\n\t\t_skinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\r\n\r\n\t\t_basePosition.fromBufferAttribute( geometry.attributes.position, index ).applyMatrix4( this.bindMatrix );\r\n\r\n\t\ttarget.set( 0, 0, 0 );\r\n\r\n\t\tfor ( let i = 0; i < 4; i ++ ) {\r\n\r\n\t\t\tconst weight = _skinWeight.getComponent( i );\r\n\r\n\t\t\tif ( weight !== 0 ) {\r\n\r\n\t\t\t\tconst boneIndex = _skinIndex.getComponent( i );\r\n\r\n\t\t\t\t_matrix.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\r\n\r\n\t\t\t\ttarget.addScaledVector( _vector$5.copy( _basePosition ).applyMatrix4( _matrix ), weight );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn target.applyMatrix4( this.bindMatrixInverse );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction Bone() {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Bone';\r\n\r\n}\r\n\r\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Bone,\r\n\r\n\tisBone: true\r\n\r\n} );\r\n\r\nconst _offsetMatrix = /*@__PURE__*/ new Matrix4();\r\nconst _identityMatrix = /*@__PURE__*/ new Matrix4();\r\n\r\nclass Skeleton {\r\n\r\n\tconstructor( bones = [], boneInverses = [] ) {\r\n\r\n\t\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\t\tthis.bones = bones.slice( 0 );\r\n\t\tthis.boneInverses = boneInverses;\r\n\t\tthis.boneMatrices = null;\r\n\r\n\t\tthis.boneTexture = null;\r\n\t\tthis.boneTextureSize = 0;\r\n\r\n\t\tthis.frame = - 1;\r\n\r\n\t\tthis.init();\r\n\r\n\t}\r\n\r\n\tinit() {\r\n\r\n\t\tconst bones = this.bones;\r\n\t\tconst boneInverses = this.boneInverses;\r\n\r\n\t\tthis.boneMatrices = new Float32Array( bones.length * 16 );\r\n\r\n\t\t// calculate inverse bone matrices if necessary\r\n\r\n\t\tif ( boneInverses.length === 0 ) {\r\n\r\n\t\t\tthis.calculateInverses();\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// handle special case\r\n\r\n\t\t\tif ( bones.length !== boneInverses.length ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.' );\r\n\r\n\t\t\t\tthis.boneInverses = [];\r\n\r\n\t\t\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tthis.boneInverses.push( new Matrix4() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcalculateInverses() {\r\n\r\n\t\tthis.boneInverses.length = 0;\r\n\r\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\r\n\r\n\t\t\tconst inverse = new Matrix4();\r\n\r\n\t\t\tif ( this.bones[ i ] ) {\r\n\r\n\t\t\t\tinverse.copy( this.bones[ i ].matrixWorld ).invert();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.boneInverses.push( inverse );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpose() {\r\n\r\n\t\t// recover the bind-time world matrices\r\n\r\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\r\n\r\n\t\t\tconst bone = this.bones[ i ];\r\n\r\n\t\t\tif ( bone ) {\r\n\r\n\t\t\t\tbone.matrixWorld.copy( this.boneInverses[ i ] ).invert();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// compute the local matrices, positions, rotations and scales\r\n\r\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\r\n\r\n\t\t\tconst bone = this.bones[ i ];\r\n\r\n\t\t\tif ( bone ) {\r\n\r\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\r\n\r\n\t\t\t\t\tbone.matrix.copy( bone.parent.matrixWorld ).invert();\r\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tconst bones = this.bones;\r\n\t\tconst boneInverses = this.boneInverses;\r\n\t\tconst boneMatrices = this.boneMatrices;\r\n\t\tconst boneTexture = this.boneTexture;\r\n\r\n\t\t// flatten bone matrices to array\r\n\r\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\r\n\r\n\t\t\t// compute the offset between the current and the original transform\r\n\r\n\t\t\tconst matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\r\n\r\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\r\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( boneTexture !== null ) {\r\n\r\n\t\t\tboneTexture.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new Skeleton( this.bones, this.boneInverses );\r\n\r\n\t}\r\n\r\n\tgetBoneByName( name ) {\r\n\r\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\r\n\r\n\t\t\tconst bone = this.bones[ i ];\r\n\r\n\t\t\tif ( bone.name === name ) {\r\n\r\n\t\t\t\treturn bone;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn undefined;\r\n\r\n\t}\r\n\r\n\tdispose( ) {\r\n\r\n\t\tif ( this.boneTexture !== null ) {\r\n\r\n\t\t\tthis.boneTexture.dispose();\r\n\r\n\t\t\tthis.boneTexture = null;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfromJSON( json, bones ) {\r\n\r\n\t\tthis.uuid = json.uuid;\r\n\r\n\t\tfor ( let i = 0, l = json.bones.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst uuid = json.bones[ i ];\r\n\t\t\tlet bone = bones[ uuid ];\r\n\r\n\t\t\tif ( bone === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.Skeleton: No bone found with UUID:', uuid );\r\n\t\t\t\tbone = new Bone();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.bones.push( bone );\r\n\t\t\tthis.boneInverses.push( new Matrix4().fromArray( json.boneInverses[ i ] ) );\r\n\r\n\t\t}\r\n\r\n\t\tthis.init();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.5,\r\n\t\t\t\ttype: 'Skeleton',\r\n\t\t\t\tgenerator: 'Skeleton.toJSON'\r\n\t\t\t},\r\n\t\t\tbones: [],\r\n\t\t\tboneInverses: []\r\n\t\t};\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\r\n\t\tconst bones = this.bones;\r\n\t\tconst boneInverses = this.boneInverses;\r\n\r\n\t\tfor ( let i = 0, l = bones.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst bone = bones[ i ];\r\n\t\t\tdata.bones.push( bone.uuid );\r\n\r\n\t\t\tconst boneInverse = boneInverses[ i ];\r\n\t\t\tdata.boneInverses.push( boneInverse.toArray() );\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _instanceLocalMatrix = new Matrix4();\r\nconst _instanceWorldMatrix = new Matrix4();\r\n\r\nconst _instanceIntersects = [];\r\n\r\nconst _mesh = new Mesh();\r\n\r\nfunction InstancedMesh( geometry, material, count ) {\r\n\r\n\tMesh.call( this, geometry, material );\r\n\r\n\tthis.instanceMatrix = new BufferAttribute( new Float32Array( count * 16 ), 16 );\r\n\tthis.instanceColor = null;\r\n\r\n\tthis.count = count;\r\n\r\n\tthis.frustumCulled = false;\r\n\r\n}\r\n\r\nInstancedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\r\n\r\n\tconstructor: InstancedMesh,\r\n\r\n\tisInstancedMesh: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tMesh.prototype.copy.call( this, source );\r\n\r\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\r\n\r\n\t\tif ( source.instanceColor !== null ) this.instanceColor = source.instanceColor.clone();\r\n\r\n\t\tthis.count = source.count;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetColorAt: function ( index, color ) {\r\n\r\n\t\tcolor.fromArray( this.instanceColor.array, index * 3 );\r\n\r\n\t},\r\n\r\n\tgetMatrixAt: function ( index, matrix ) {\r\n\r\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\r\n\r\n\t},\r\n\r\n\traycast: function ( raycaster, intersects ) {\r\n\r\n\t\tconst matrixWorld = this.matrixWorld;\r\n\t\tconst raycastTimes = this.count;\r\n\r\n\t\t_mesh.geometry = this.geometry;\r\n\t\t_mesh.material = this.material;\r\n\r\n\t\tif ( _mesh.material === undefined ) return;\r\n\r\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\r\n\r\n\t\t\t// calculate the world matrix for each instance\r\n\r\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\r\n\r\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\r\n\r\n\t\t\t// the mesh represents this single instance\r\n\r\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\r\n\r\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\r\n\r\n\t\t\t// process the result of raycast\r\n\r\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\r\n\t\t\t\tintersect.instanceId = instanceId;\r\n\t\t\t\tintersect.object = this;\r\n\t\t\t\tintersects.push( intersect );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_instanceIntersects.length = 0;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetColorAt: function ( index, color ) {\r\n\r\n\t\tif ( this.instanceColor === null ) {\r\n\r\n\t\t\tthis.instanceColor = new BufferAttribute( new Float32Array( this.count * 3 ), 3 );\r\n\r\n\t\t}\r\n\r\n\t\tcolor.toArray( this.instanceColor.array, index * 3 );\r\n\r\n\t},\r\n\r\n\tsetMatrixAt: function ( index, matrix ) {\r\n\r\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\r\n\r\n\t},\r\n\r\n\tupdateMorphTargets: function () {\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *\r\n *  linewidth: <float>,\r\n *  linecap: \"round\",\r\n *  linejoin: \"round\"\r\n * }\r\n */\r\n\r\nclass LineBasicMaterial extends Material {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'LineBasicMaterial';\r\n\r\n\t\tthis.color = new Color( 0xffffff );\r\n\r\n\t\tthis.linewidth = 1;\r\n\t\tthis.linecap = 'round';\r\n\t\tthis.linejoin = 'round';\r\n\r\n\t\tthis.morphTargets = false;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.color.copy( source.color );\r\n\r\n\t\tthis.linewidth = source.linewidth;\r\n\t\tthis.linecap = source.linecap;\r\n\t\tthis.linejoin = source.linejoin;\r\n\r\n\t\tthis.morphTargets = source.morphTargets;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\r\n\r\nconst _start$1 = new Vector3();\r\nconst _end$1 = new Vector3();\r\nconst _inverseMatrix$1 = new Matrix4();\r\nconst _ray$1 = new Ray();\r\nconst _sphere$1 = new Sphere();\r\n\r\nfunction Line( geometry = new BufferGeometry(), material = new LineBasicMaterial() ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Line';\r\n\r\n\tthis.geometry = geometry;\r\n\tthis.material = material;\r\n\r\n\tthis.updateMorphTargets();\r\n\r\n}\r\n\r\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Line,\r\n\r\n\tisLine: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tObject3D.prototype.copy.call( this, source );\r\n\r\n\t\tthis.material = source.material;\r\n\t\tthis.geometry = source.geometry;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcomputeLineDistances: function () {\r\n\r\n\t\tconst geometry = this.geometry;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\t// we assume non-indexed geometry\r\n\r\n\t\t\tif ( geometry.index === null ) {\r\n\r\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\r\n\t\t\t\tconst lineDistances = [ 0 ];\r\n\r\n\t\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i - 1 );\r\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i );\r\n\r\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\r\n\t\t\t\t\tlineDistances[ i ] += _start$1.distanceTo( _end$1 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( geometry.isGeometry ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\traycast: function ( raycaster, intersects ) {\r\n\r\n\t\tconst geometry = this.geometry;\r\n\t\tconst matrixWorld = this.matrixWorld;\r\n\t\tconst threshold = raycaster.params.Line.threshold;\r\n\t\tconst drawRange = geometry.drawRange;\r\n\r\n\t\t// Checking boundingSphere distance to ray\r\n\r\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\r\n\r\n\t\t_sphere$1.copy( geometry.boundingSphere );\r\n\t\t_sphere$1.applyMatrix4( matrixWorld );\r\n\t\t_sphere$1.radius += threshold;\r\n\r\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$1 ) === false ) return;\r\n\r\n\t\t//\r\n\r\n\t\t_inverseMatrix$1.copy( matrixWorld ).invert();\r\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\r\n\r\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\r\n\t\tconst localThresholdSq = localThreshold * localThreshold;\r\n\r\n\t\tconst vStart = new Vector3();\r\n\t\tconst vEnd = new Vector3();\r\n\t\tconst interSegment = new Vector3();\r\n\t\tconst interRay = new Vector3();\r\n\t\tconst step = this.isLineSegments ? 2 : 1;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\tconst index = geometry.index;\r\n\t\t\tconst attributes = geometry.attributes;\r\n\t\t\tconst positionAttribute = attributes.position;\r\n\r\n\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\r\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\r\n\r\n\t\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\r\n\r\n\t\t\t\t\tconst a = index.getX( i );\r\n\t\t\t\t\tconst b = index.getX( i + 1 );\r\n\r\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, a );\r\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, b );\r\n\r\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\r\n\r\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\r\n\r\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\r\n\r\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\r\n\r\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\r\n\r\n\t\t\t\t\tintersects.push( {\r\n\r\n\t\t\t\t\t\tdistance: distance,\r\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\r\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\r\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\r\n\t\t\t\t\t\tindex: i,\r\n\t\t\t\t\t\tface: null,\r\n\t\t\t\t\t\tfaceIndex: null,\r\n\t\t\t\t\t\tobject: this\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\r\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\r\n\r\n\t\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\r\n\r\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, i );\r\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, i + 1 );\r\n\r\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\r\n\r\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\r\n\r\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\r\n\r\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\r\n\r\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\r\n\r\n\t\t\t\t\tintersects.push( {\r\n\r\n\t\t\t\t\t\tdistance: distance,\r\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\r\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\r\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\r\n\t\t\t\t\t\tindex: i,\r\n\t\t\t\t\t\tface: null,\r\n\t\t\t\t\t\tfaceIndex: null,\r\n\t\t\t\t\t\tobject: this\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( geometry.isGeometry ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdateMorphTargets: function () {\r\n\r\n\t\tconst geometry = this.geometry;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\tconst morphAttributes = geometry.morphAttributes;\r\n\t\t\tconst keys = Object.keys( morphAttributes );\r\n\r\n\t\t\tif ( keys.length > 0 ) {\r\n\r\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\r\n\r\n\t\t\t\tif ( morphAttribute !== undefined ) {\r\n\r\n\t\t\t\t\tthis.morphTargetInfluences = [];\r\n\t\t\t\t\tthis.morphTargetDictionary = {};\r\n\r\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\r\n\r\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\r\n\r\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\r\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst morphTargets = geometry.morphTargets;\r\n\r\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nconst _start = new Vector3();\r\nconst _end = new Vector3();\r\n\r\nfunction LineSegments( geometry, material ) {\r\n\r\n\tLine.call( this, geometry, material );\r\n\r\n\tthis.type = 'LineSegments';\r\n\r\n}\r\n\r\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\r\n\r\n\tconstructor: LineSegments,\r\n\r\n\tisLineSegments: true,\r\n\r\n\tcomputeLineDistances: function () {\r\n\r\n\t\tconst geometry = this.geometry;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\t// we assume non-indexed geometry\r\n\r\n\t\t\tif ( geometry.index === null ) {\r\n\r\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\r\n\t\t\t\tconst lineDistances = [];\r\n\r\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\r\n\r\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i );\r\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i + 1 );\r\n\r\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\r\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start.distanceTo( _end );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( geometry.isGeometry ) {\r\n\r\n\t\t\tconsole.error( 'THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nclass LineLoop extends Line {\r\n\r\n\tconstructor( geometry, material ) {\r\n\r\n\t\tsuper( geometry, material );\r\n\r\n\t\tthis.type = 'LineLoop';\r\n\r\n\t}\r\n\r\n}\r\n\r\nLineLoop.prototype.isLineLoop = true;\r\n\r\n/**\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *  map: new THREE.Texture( <Image> ),\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  size: <float>,\r\n *  sizeAttenuation: <bool>\r\n *\r\n *  morphTargets: <bool>\r\n * }\r\n */\r\n\r\nclass PointsMaterial extends Material {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'PointsMaterial';\r\n\r\n\t\tthis.color = new Color( 0xffffff );\r\n\r\n\t\tthis.map = null;\r\n\r\n\t\tthis.alphaMap = null;\r\n\r\n\t\tthis.size = 1;\r\n\t\tthis.sizeAttenuation = true;\r\n\r\n\t\tthis.morphTargets = false;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.color.copy( source.color );\r\n\r\n\t\tthis.map = source.map;\r\n\r\n\t\tthis.alphaMap = source.alphaMap;\r\n\r\n\t\tthis.size = source.size;\r\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\r\n\r\n\t\tthis.morphTargets = source.morphTargets;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nPointsMaterial.prototype.isPointsMaterial = true;\r\n\r\nconst _inverseMatrix = new Matrix4();\r\nconst _ray = new Ray();\r\nconst _sphere = new Sphere();\r\nconst _position$2 = new Vector3();\r\n\r\nfunction Points( geometry = new BufferGeometry(), material = new PointsMaterial() ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'Points';\r\n\r\n\tthis.geometry = geometry;\r\n\tthis.material = material;\r\n\r\n\tthis.updateMorphTargets();\r\n\r\n}\r\n\r\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: Points,\r\n\r\n\tisPoints: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tObject3D.prototype.copy.call( this, source );\r\n\r\n\t\tthis.material = source.material;\r\n\t\tthis.geometry = source.geometry;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\traycast: function ( raycaster, intersects ) {\r\n\r\n\t\tconst geometry = this.geometry;\r\n\t\tconst matrixWorld = this.matrixWorld;\r\n\t\tconst threshold = raycaster.params.Points.threshold;\r\n\t\tconst drawRange = geometry.drawRange;\r\n\r\n\t\t// Checking boundingSphere distance to ray\r\n\r\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\r\n\r\n\t\t_sphere.copy( geometry.boundingSphere );\r\n\t\t_sphere.applyMatrix4( matrixWorld );\r\n\t\t_sphere.radius += threshold;\r\n\r\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\r\n\r\n\t\t//\r\n\r\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\r\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\r\n\r\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\r\n\t\tconst localThresholdSq = localThreshold * localThreshold;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\tconst index = geometry.index;\r\n\t\t\tconst attributes = geometry.attributes;\r\n\t\t\tconst positionAttribute = attributes.position;\r\n\r\n\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\r\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\r\n\r\n\t\t\t\tfor ( let i = start, il = end; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tconst a = index.getX( i );\r\n\r\n\t\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, a );\r\n\r\n\t\t\t\t\ttestPoint( _position$2, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\r\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\r\n\r\n\t\t\t\tfor ( let i = start, l = end; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, i );\r\n\r\n\t\t\t\t\ttestPoint( _position$2, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.error( 'THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdateMorphTargets: function () {\r\n\r\n\t\tconst geometry = this.geometry;\r\n\r\n\t\tif ( geometry.isBufferGeometry ) {\r\n\r\n\t\t\tconst morphAttributes = geometry.morphAttributes;\r\n\t\t\tconst keys = Object.keys( morphAttributes );\r\n\r\n\t\t\tif ( keys.length > 0 ) {\r\n\r\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\r\n\r\n\t\t\t\tif ( morphAttribute !== undefined ) {\r\n\r\n\t\t\t\t\tthis.morphTargetInfluences = [];\r\n\t\t\t\t\tthis.morphTargetDictionary = {};\r\n\r\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\r\n\r\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\r\n\r\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\r\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst morphTargets = geometry.morphTargets;\r\n\r\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\r\n\r\n\tconst rayPointDistanceSq = _ray.distanceSqToPoint( point );\r\n\r\n\tif ( rayPointDistanceSq < localThresholdSq ) {\r\n\r\n\t\tconst intersectPoint = new Vector3();\r\n\r\n\t\t_ray.closestPointToPoint( point, intersectPoint );\r\n\t\tintersectPoint.applyMatrix4( matrixWorld );\r\n\r\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\r\n\r\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\r\n\r\n\t\tintersects.push( {\r\n\r\n\t\t\tdistance: distance,\r\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\r\n\t\t\tpoint: intersectPoint,\r\n\t\t\tindex: index,\r\n\t\t\tface: null,\r\n\t\t\tobject: object\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass VideoTexture extends Texture {\r\n\r\n\tconstructor( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\r\n\r\n\t\tsuper( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\r\n\r\n\t\tthis.format = format !== undefined ? format : RGBFormat;\r\n\r\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\r\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\r\n\r\n\t\tthis.generateMipmaps = false;\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tfunction updateVideo() {\r\n\r\n\t\t\tscope.needsUpdate = true;\r\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\r\n\r\n\t\t}\r\n\r\n\t\tif ( 'requestVideoFrameCallback' in video ) {\r\n\r\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor( this.image ).copy( this );\r\n\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tconst video = this.image;\r\n\t\tconst hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\r\n\r\n\t\tif ( hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA ) {\r\n\r\n\t\t\tthis.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nVideoTexture.prototype.isVideoTexture = true;\r\n\r\nclass CompressedTexture extends Texture {\r\n\r\n\tconstructor( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\r\n\r\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\r\n\r\n\t\tthis.image = { width: width, height: height };\r\n\t\tthis.mipmaps = mipmaps;\r\n\r\n\t\t// no flipping for cube textures\r\n\t\t// (also flipping doesn't work for compressed textures )\r\n\r\n\t\tthis.flipY = false;\r\n\r\n\t\t// can't generate mipmaps for compressed textures\r\n\t\t// mips must be embedded in DDS files\r\n\r\n\t\tthis.generateMipmaps = false;\r\n\r\n\t}\r\n\r\n}\r\n\r\nCompressedTexture.prototype.isCompressedTexture = true;\r\n\r\nclass CanvasTexture extends Texture {\r\n\r\n\tconstructor( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\r\n\r\n\t\tsuper( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\r\n\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n}\r\n\r\nCanvasTexture.prototype.isCanvasTexture = true;\r\n\r\nclass DepthTexture extends Texture {\r\n\r\n\tconstructor( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\r\n\r\n\t\tformat = format !== undefined ? format : DepthFormat;\r\n\r\n\t\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\r\n\r\n\t\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\r\n\t\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\r\n\r\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\r\n\r\n\t\tthis.image = { width: width, height: height };\r\n\r\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\r\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\r\n\r\n\t\tthis.flipY = false;\r\n\t\tthis.generateMipmaps\t= false;\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\nDepthTexture.prototype.isDepthTexture = true;\r\n\r\nclass CircleGeometry extends BufferGeometry {\r\n\r\n\tconstructor( radius = 1, segments = 8, thetaStart = 0, thetaLength = Math.PI * 2 ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'CircleGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tradius: radius,\r\n\t\t\tsegments: segments,\r\n\t\t\tthetaStart: thetaStart,\r\n\t\t\tthetaLength: thetaLength\r\n\t\t};\r\n\r\n\t\tsegments = Math.max( 3, segments );\r\n\r\n\t\t// buffers\r\n\r\n\t\tconst indices = [];\r\n\t\tconst vertices = [];\r\n\t\tconst normals = [];\r\n\t\tconst uvs = [];\r\n\r\n\t\t// helper variables\r\n\r\n\t\tconst vertex = new Vector3();\r\n\t\tconst uv = new Vector2();\r\n\r\n\t\t// center point\r\n\r\n\t\tvertices.push( 0, 0, 0 );\r\n\t\tnormals.push( 0, 0, 1 );\r\n\t\tuvs.push( 0.5, 0.5 );\r\n\r\n\t\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\r\n\r\n\t\t\tconst segment = thetaStart + s / segments * thetaLength;\r\n\r\n\t\t\t// vertex\r\n\r\n\t\t\tvertex.x = radius * Math.cos( segment );\r\n\t\t\tvertex.y = radius * Math.sin( segment );\r\n\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t// normal\r\n\r\n\t\t\tnormals.push( 0, 0, 1 );\r\n\r\n\t\t\t// uvs\r\n\r\n\t\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\r\n\t\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\r\n\r\n\t\t\tuvs.push( uv.x, uv.y );\r\n\r\n\t\t}\r\n\r\n\t\t// indices\r\n\r\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\r\n\r\n\t\t\tindices.push( i, i + 1, 0 );\r\n\r\n\t\t}\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setIndex( indices );\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass CylinderGeometry extends BufferGeometry {\r\n\r\n\tconstructor( radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.type = 'CylinderGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tradiusTop: radiusTop,\r\n\t\t\tradiusBottom: radiusBottom,\r\n\t\t\theight: height,\r\n\t\t\tradialSegments: radialSegments,\r\n\t\t\theightSegments: heightSegments,\r\n\t\t\topenEnded: openEnded,\r\n\t\t\tthetaStart: thetaStart,\r\n\t\t\tthetaLength: thetaLength\r\n\t\t};\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tradialSegments = Math.floor( radialSegments );\r\n\t\theightSegments = Math.floor( heightSegments );\r\n\r\n\t\t// buffers\r\n\r\n\t\tconst indices = [];\r\n\t\tconst vertices = [];\r\n\t\tconst normals = [];\r\n\t\tconst uvs = [];\r\n\r\n\t\t// helper variables\r\n\r\n\t\tlet index = 0;\r\n\t\tconst indexArray = [];\r\n\t\tconst halfHeight = height / 2;\r\n\t\tlet groupStart = 0;\r\n\r\n\t\t// generate geometry\r\n\r\n\t\tgenerateTorso();\r\n\r\n\t\tif ( openEnded === false ) {\r\n\r\n\t\t\tif ( radiusTop > 0 ) generateCap( true );\r\n\t\t\tif ( radiusBottom > 0 ) generateCap( false );\r\n\r\n\t\t}\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setIndex( indices );\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t\tfunction generateTorso() {\r\n\r\n\t\t\tconst normal = new Vector3();\r\n\t\t\tconst vertex = new Vector3();\r\n\r\n\t\t\tlet groupCount = 0;\r\n\r\n\t\t\t// this will be used to calculate the normal\r\n\t\t\tconst slope = ( radiusBottom - radiusTop ) / height;\r\n\r\n\t\t\t// generate vertices, normals and uvs\r\n\r\n\t\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\r\n\r\n\t\t\t\tconst indexRow = [];\r\n\r\n\t\t\t\tconst v = y / heightSegments;\r\n\r\n\t\t\t\t// calculate the radius of the current row\r\n\r\n\t\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\r\n\r\n\t\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\r\n\r\n\t\t\t\t\tconst u = x / radialSegments;\r\n\r\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\r\n\r\n\t\t\t\t\tconst sinTheta = Math.sin( theta );\r\n\t\t\t\t\tconst cosTheta = Math.cos( theta );\r\n\r\n\t\t\t\t\t// vertex\r\n\r\n\t\t\t\t\tvertex.x = radius * sinTheta;\r\n\t\t\t\t\tvertex.y = - v * height + halfHeight;\r\n\t\t\t\t\tvertex.z = radius * cosTheta;\r\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t\t// normal\r\n\r\n\t\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\r\n\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t\t\t// uv\r\n\r\n\t\t\t\t\tuvs.push( u, 1 - v );\r\n\r\n\t\t\t\t\t// save index of vertex in respective row\r\n\r\n\t\t\t\t\tindexRow.push( index ++ );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// now save vertices of the row in our index array\r\n\r\n\t\t\t\tindexArray.push( indexRow );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// generate indices\r\n\r\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\r\n\r\n\t\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\r\n\r\n\t\t\t\t\t// we use the index array to access the correct indices\r\n\r\n\t\t\t\t\tconst a = indexArray[ y ][ x ];\r\n\t\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\r\n\t\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\r\n\t\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\r\n\r\n\t\t\t\t\t// faces\r\n\r\n\t\t\t\t\tindices.push( a, b, d );\r\n\t\t\t\t\tindices.push( b, c, d );\r\n\r\n\t\t\t\t\t// update group counter\r\n\r\n\t\t\t\t\tgroupCount += 6;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// add a group to the geometry. this will ensure multi material support\r\n\r\n\t\t\tscope.addGroup( groupStart, groupCount, 0 );\r\n\r\n\t\t\t// calculate new start value for groups\r\n\r\n\t\t\tgroupStart += groupCount;\r\n\r\n\t\t}\r\n\r\n\t\tfunction generateCap( top ) {\r\n\r\n\t\t\t// save the index of the first center vertex\r\n\t\t\tconst centerIndexStart = index;\r\n\r\n\t\t\tconst uv = new Vector2();\r\n\t\t\tconst vertex = new Vector3();\r\n\r\n\t\t\tlet groupCount = 0;\r\n\r\n\t\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\r\n\t\t\tconst sign = ( top === true ) ? 1 : - 1;\r\n\r\n\t\t\t// first we generate the center vertex data of the cap.\r\n\t\t\t// because the geometry needs one set of uvs per face,\r\n\t\t\t// we must generate a center vertex per face/segment\r\n\r\n\t\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\r\n\r\n\t\t\t\t// vertex\r\n\r\n\t\t\t\tvertices.push( 0, halfHeight * sign, 0 );\r\n\r\n\t\t\t\t// normal\r\n\r\n\t\t\t\tnormals.push( 0, sign, 0 );\r\n\r\n\t\t\t\t// uv\r\n\r\n\t\t\t\tuvs.push( 0.5, 0.5 );\r\n\r\n\t\t\t\t// increase index\r\n\r\n\t\t\t\tindex ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// save the index of the last center vertex\r\n\t\t\tconst centerIndexEnd = index;\r\n\r\n\t\t\t// now we generate the surrounding vertices, normals and uvs\r\n\r\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\r\n\r\n\t\t\t\tconst u = x / radialSegments;\r\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\r\n\r\n\t\t\t\tconst cosTheta = Math.cos( theta );\r\n\t\t\t\tconst sinTheta = Math.sin( theta );\r\n\r\n\t\t\t\t// vertex\r\n\r\n\t\t\t\tvertex.x = radius * sinTheta;\r\n\t\t\t\tvertex.y = halfHeight * sign;\r\n\t\t\t\tvertex.z = radius * cosTheta;\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t// normal\r\n\r\n\t\t\t\tnormals.push( 0, sign, 0 );\r\n\r\n\t\t\t\t// uv\r\n\r\n\t\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\r\n\t\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\r\n\t\t\t\tuvs.push( uv.x, uv.y );\r\n\r\n\t\t\t\t// increase index\r\n\r\n\t\t\t\tindex ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// generate indices\r\n\r\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\r\n\r\n\t\t\t\tconst c = centerIndexStart + x;\r\n\t\t\t\tconst i = centerIndexEnd + x;\r\n\r\n\t\t\t\tif ( top === true ) {\r\n\r\n\t\t\t\t\t// face top\r\n\r\n\t\t\t\t\tindices.push( i, i + 1, c );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// face bottom\r\n\r\n\t\t\t\t\tindices.push( i + 1, i, c );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgroupCount += 3;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// add a group to the geometry. this will ensure multi material support\r\n\r\n\t\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\r\n\r\n\t\t\t// calculate new start value for groups\r\n\r\n\t\t\tgroupStart += groupCount;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass ConeGeometry extends CylinderGeometry {\r\n\r\n\tconstructor( radius = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\r\n\r\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\r\n\r\n\t\tthis.type = 'ConeGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tradius: radius,\r\n\t\t\theight: height,\r\n\t\t\tradialSegments: radialSegments,\r\n\t\t\theightSegments: heightSegments,\r\n\t\t\topenEnded: openEnded,\r\n\t\t\tthetaStart: thetaStart,\r\n\t\t\tthetaLength: thetaLength\r\n\t\t};\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass PolyhedronGeometry extends BufferGeometry {\r\n\r\n\tconstructor( vertices, indices, radius = 1, detail = 0 ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'PolyhedronGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tvertices: vertices,\r\n\t\t\tindices: indices,\r\n\t\t\tradius: radius,\r\n\t\t\tdetail: detail\r\n\t\t};\r\n\r\n\t\t// default buffer data\r\n\r\n\t\tconst vertexBuffer = [];\r\n\t\tconst uvBuffer = [];\r\n\r\n\t\t// the subdivision creates the vertex buffer data\r\n\r\n\t\tsubdivide( detail );\r\n\r\n\t\t// all vertices should lie on a conceptual sphere with a given radius\r\n\r\n\t\tapplyRadius( radius );\r\n\r\n\t\t// finally, create the uv data\r\n\r\n\t\tgenerateUVs();\r\n\r\n\t\t// build non-indexed geometry\r\n\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\r\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\r\n\r\n\t\tif ( detail === 0 ) {\r\n\r\n\t\t\tthis.computeVertexNormals(); // flat normals\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.normalizeNormals(); // smooth normals\r\n\r\n\t\t}\r\n\r\n\t\t// helper functions\r\n\r\n\t\tfunction subdivide( detail ) {\r\n\r\n\t\t\tconst a = new Vector3();\r\n\t\t\tconst b = new Vector3();\r\n\t\t\tconst c = new Vector3();\r\n\r\n\t\t\t// iterate over all faces and apply a subdivison with the given detail value\r\n\r\n\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\r\n\r\n\t\t\t\t// get the vertices of the face\r\n\r\n\t\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\r\n\t\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\r\n\t\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\r\n\r\n\t\t\t\t// perform subdivision\r\n\r\n\t\t\t\tsubdivideFace( a, b, c, detail );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction subdivideFace( a, b, c, detail ) {\r\n\r\n\t\t\tconst cols = detail + 1;\r\n\r\n\t\t\t// we use this multidimensional array as a data structure for creating the subdivision\r\n\r\n\t\t\tconst v = [];\r\n\r\n\t\t\t// construct all of the vertices for this subdivision\r\n\r\n\t\t\tfor ( let i = 0; i <= cols; i ++ ) {\r\n\r\n\t\t\t\tv[ i ] = [];\r\n\r\n\t\t\t\tconst aj = a.clone().lerp( c, i / cols );\r\n\t\t\t\tconst bj = b.clone().lerp( c, i / cols );\r\n\r\n\t\t\t\tconst rows = cols - i;\r\n\r\n\t\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\r\n\r\n\t\t\t\t\tif ( j === 0 && i === cols ) {\r\n\r\n\t\t\t\t\t\tv[ i ][ j ] = aj;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// construct all of the faces\r\n\r\n\t\t\tfor ( let i = 0; i < cols; i ++ ) {\r\n\r\n\t\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\r\n\r\n\t\t\t\t\tconst k = Math.floor( j / 2 );\r\n\r\n\t\t\t\t\tif ( j % 2 === 0 ) {\r\n\r\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\r\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\r\n\t\t\t\t\t\tpushVertex( v[ i ][ k ] );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\r\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\r\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction applyRadius( radius ) {\r\n\r\n\t\t\tconst vertex = new Vector3();\r\n\r\n\t\t\t// iterate over the entire buffer and apply the radius to each vertex\r\n\r\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\r\n\r\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\r\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\r\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\r\n\r\n\t\t\t\tvertex.normalize().multiplyScalar( radius );\r\n\r\n\t\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\r\n\t\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\r\n\t\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction generateUVs() {\r\n\r\n\t\t\tconst vertex = new Vector3();\r\n\r\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\r\n\r\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\r\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\r\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\r\n\r\n\t\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\r\n\t\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\r\n\t\t\t\tuvBuffer.push( u, 1 - v );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcorrectUVs();\r\n\r\n\t\t\tcorrectSeam();\r\n\r\n\t\t}\r\n\r\n\t\tfunction correctSeam() {\r\n\r\n\t\t\t// handle case when face straddles the seam, see #3269\r\n\r\n\t\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\r\n\r\n\t\t\t\t// uv data of a single face\r\n\r\n\t\t\t\tconst x0 = uvBuffer[ i + 0 ];\r\n\t\t\t\tconst x1 = uvBuffer[ i + 2 ];\r\n\t\t\t\tconst x2 = uvBuffer[ i + 4 ];\r\n\r\n\t\t\t\tconst max = Math.max( x0, x1, x2 );\r\n\t\t\t\tconst min = Math.min( x0, x1, x2 );\r\n\r\n\t\t\t\t// 0.9 is somewhat arbitrary\r\n\r\n\t\t\t\tif ( max > 0.9 && min < 0.1 ) {\r\n\r\n\t\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\r\n\t\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\r\n\t\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction pushVertex( vertex ) {\r\n\r\n\t\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t}\r\n\r\n\t\tfunction getVertexByIndex( index, vertex ) {\r\n\r\n\t\t\tconst stride = index * 3;\r\n\r\n\t\t\tvertex.x = vertices[ stride + 0 ];\r\n\t\t\tvertex.y = vertices[ stride + 1 ];\r\n\t\t\tvertex.z = vertices[ stride + 2 ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction correctUVs() {\r\n\r\n\t\t\tconst a = new Vector3();\r\n\t\t\tconst b = new Vector3();\r\n\t\t\tconst c = new Vector3();\r\n\r\n\t\t\tconst centroid = new Vector3();\r\n\r\n\t\t\tconst uvA = new Vector2();\r\n\t\t\tconst uvB = new Vector2();\r\n\t\t\tconst uvC = new Vector2();\r\n\r\n\t\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\r\n\r\n\t\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\r\n\t\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\r\n\t\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\r\n\r\n\t\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\r\n\t\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\r\n\t\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\r\n\r\n\t\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\r\n\r\n\t\t\t\tconst azi = azimuth( centroid );\r\n\r\n\t\t\t\tcorrectUV( uvA, j + 0, a, azi );\r\n\t\t\t\tcorrectUV( uvB, j + 2, b, azi );\r\n\t\t\t\tcorrectUV( uvC, j + 4, c, azi );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction correctUV( uv, stride, vector, azimuth ) {\r\n\r\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\r\n\r\n\t\t\t\tuvBuffer[ stride ] = uv.x - 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\r\n\r\n\t\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\r\n\r\n\t\tfunction azimuth( vector ) {\r\n\r\n\t\t\treturn Math.atan2( vector.z, - vector.x );\r\n\r\n\t\t}\r\n\r\n\r\n\t\t// Angle above the XZ plane.\r\n\r\n\t\tfunction inclination( vector ) {\r\n\r\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass DodecahedronGeometry extends PolyhedronGeometry {\r\n\r\n\tconstructor( radius = 1, detail = 0 ) {\r\n\r\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\r\n\t\tconst r = 1 / t;\r\n\r\n\t\tconst vertices = [\r\n\r\n\t\t\t// (±1, ±1, ±1)\r\n\t\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\r\n\t\t\t- 1, 1, - 1, - 1, 1, 1,\r\n\t\t\t1, - 1, - 1, 1, - 1, 1,\r\n\t\t\t1, 1, - 1, 1, 1, 1,\r\n\r\n\t\t\t// (0, ±1/φ, ±φ)\r\n\t\t\t0, - r, - t, 0, - r, t,\r\n\t\t\t0, r, - t, 0, r, t,\r\n\r\n\t\t\t// (±1/φ, ±φ, 0)\r\n\t\t\t- r, - t, 0, - r, t, 0,\r\n\t\t\tr, - t, 0, r, t, 0,\r\n\r\n\t\t\t// (±φ, 0, ±1/φ)\r\n\t\t\t- t, 0, - r, t, 0, - r,\r\n\t\t\t- t, 0, r, t, 0, r\r\n\t\t];\r\n\r\n\t\tconst indices = [\r\n\t\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\r\n\t\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\r\n\t\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\r\n\t\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\r\n\t\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\r\n\t\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\r\n\t\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\r\n\t\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\r\n\t\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\r\n\t\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\r\n\t\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\r\n\t\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\r\n\t\t];\r\n\r\n\t\tsuper( vertices, indices, radius, detail );\r\n\r\n\t\tthis.type = 'DodecahedronGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tradius: radius,\r\n\t\t\tdetail: detail\r\n\t\t};\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _v0 = new Vector3();\r\nconst _v1$1 = new Vector3();\r\nconst _normal = new Vector3();\r\nconst _triangle = new Triangle();\r\n\r\nclass EdgesGeometry extends BufferGeometry {\r\n\r\n\tconstructor( geometry, thresholdAngle ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'EdgesGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tthresholdAngle: thresholdAngle\r\n\t\t};\r\n\r\n\t\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\r\n\r\n\t\tif ( geometry.isGeometry === true ) {\r\n\r\n\t\t\tconsole.error( 'THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tconst precisionPoints = 4;\r\n\t\tconst precision = Math.pow( 10, precisionPoints );\r\n\t\tconst thresholdDot = Math.cos( MathUtils.DEG2RAD * thresholdAngle );\r\n\r\n\t\tconst indexAttr = geometry.getIndex();\r\n\t\tconst positionAttr = geometry.getAttribute( 'position' );\r\n\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\r\n\r\n\t\tconst indexArr = [ 0, 0, 0 ];\r\n\t\tconst vertKeys = [ 'a', 'b', 'c' ];\r\n\t\tconst hashes = new Array( 3 );\r\n\r\n\t\tconst edgeData = {};\r\n\t\tconst vertices = [];\r\n\t\tfor ( let i = 0; i < indexCount; i += 3 ) {\r\n\r\n\t\t\tif ( indexAttr ) {\r\n\r\n\t\t\t\tindexArr[ 0 ] = indexAttr.getX( i );\r\n\t\t\t\tindexArr[ 1 ] = indexAttr.getX( i + 1 );\r\n\t\t\t\tindexArr[ 2 ] = indexAttr.getX( i + 2 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tindexArr[ 0 ] = i;\r\n\t\t\t\tindexArr[ 1 ] = i + 1;\r\n\t\t\t\tindexArr[ 2 ] = i + 2;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst { a, b, c } = _triangle;\r\n\t\t\ta.fromBufferAttribute( positionAttr, indexArr[ 0 ] );\r\n\t\t\tb.fromBufferAttribute( positionAttr, indexArr[ 1 ] );\r\n\t\t\tc.fromBufferAttribute( positionAttr, indexArr[ 2 ] );\r\n\t\t\t_triangle.getNormal( _normal );\r\n\r\n\t\t\t// create hashes for the edge from the vertices\r\n\t\t\thashes[ 0 ] = `${ Math.round( a.x * precision ) },${ Math.round( a.y * precision ) },${ Math.round( a.z * precision ) }`;\r\n\t\t\thashes[ 1 ] = `${ Math.round( b.x * precision ) },${ Math.round( b.y * precision ) },${ Math.round( b.z * precision ) }`;\r\n\t\t\thashes[ 2 ] = `${ Math.round( c.x * precision ) },${ Math.round( c.y * precision ) },${ Math.round( c.z * precision ) }`;\r\n\r\n\t\t\t// skip degenerate triangles\r\n\t\t\tif ( hashes[ 0 ] === hashes[ 1 ] || hashes[ 1 ] === hashes[ 2 ] || hashes[ 2 ] === hashes[ 0 ] ) {\r\n\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// iterate over every edge\r\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\t\t// get the first and next vertex making up the edge\r\n\t\t\t\tconst jNext = ( j + 1 ) % 3;\r\n\t\t\t\tconst vecHash0 = hashes[ j ];\r\n\t\t\t\tconst vecHash1 = hashes[ jNext ];\r\n\t\t\t\tconst v0 = _triangle[ vertKeys[ j ] ];\r\n\t\t\t\tconst v1 = _triangle[ vertKeys[ jNext ] ];\r\n\r\n\t\t\t\tconst hash = `${ vecHash0 }_${ vecHash1 }`;\r\n\t\t\t\tconst reverseHash = `${ vecHash1 }_${ vecHash0 }`;\r\n\r\n\t\t\t\tif ( reverseHash in edgeData && edgeData[ reverseHash ] ) {\r\n\r\n\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\r\n\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\r\n\t\t\t\t\tif ( _normal.dot( edgeData[ reverseHash ].normal ) <= thresholdDot ) {\r\n\r\n\t\t\t\t\t\tvertices.push( v0.x, v0.y, v0.z );\r\n\t\t\t\t\t\tvertices.push( v1.x, v1.y, v1.z );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tedgeData[ reverseHash ] = null;\r\n\r\n\t\t\t\t} else if ( ! ( hash in edgeData ) ) {\r\n\r\n\t\t\t\t\t// if we've already got an edge here then skip adding a new one\r\n\t\t\t\t\tedgeData[ hash ] = {\r\n\r\n\t\t\t\t\t\tindex0: indexArr[ j ],\r\n\t\t\t\t\t\tindex1: indexArr[ jNext ],\r\n\t\t\t\t\t\tnormal: _normal.clone(),\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// iterate over all remaining, unmatched edges and add them to the vertex array\r\n\t\tfor ( const key in edgeData ) {\r\n\r\n\t\t\tif ( edgeData[ key ] ) {\r\n\r\n\t\t\t\tconst { index0, index1 } = edgeData[ key ];\r\n\t\t\t\t_v0.fromBufferAttribute( positionAttr, index0 );\r\n\t\t\t\t_v1$1.fromBufferAttribute( positionAttr, index1 );\r\n\r\n\t\t\t\tvertices.push( _v0.x, _v0.y, _v0.z );\r\n\t\t\t\tvertices.push( _v1$1.x, _v1$1.y, _v1$1.z );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Port from https://github.com/mapbox/earcut (v2.2.2)\r\n */\r\n\r\nconst Earcut = {\r\n\r\n\ttriangulate: function ( data, holeIndices, dim ) {\r\n\r\n\t\tdim = dim || 2;\r\n\r\n\t\tconst hasHoles = holeIndices && holeIndices.length;\r\n\t\tconst outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length;\r\n\t\tlet outerNode = linkedList( data, 0, outerLen, dim, true );\r\n\t\tconst triangles = [];\r\n\r\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\r\n\r\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\r\n\r\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\r\n\r\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\r\n\t\tif ( data.length > 80 * dim ) {\r\n\r\n\t\t\tminX = maxX = data[ 0 ];\r\n\t\t\tminY = maxY = data[ 1 ];\r\n\r\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\r\n\r\n\t\t\t\tx = data[ i ];\r\n\t\t\t\ty = data[ i + 1 ];\r\n\t\t\t\tif ( x < minX ) minX = x;\r\n\t\t\t\tif ( y < minY ) minY = y;\r\n\t\t\t\tif ( x > maxX ) maxX = x;\r\n\t\t\t\tif ( y > maxY ) maxY = y;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\r\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\r\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\r\n\r\n\t\t}\r\n\r\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\r\n\r\n\t\treturn triangles;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// create a circular doubly linked list from polygon points in the specified winding order\r\nfunction linkedList( data, start, end, dim, clockwise ) {\r\n\r\n\tlet i, last;\r\n\r\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\r\n\r\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\r\n\r\n\t} else {\r\n\r\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\r\n\r\n\t}\r\n\r\n\tif ( last && equals( last, last.next ) ) {\r\n\r\n\t\tremoveNode( last );\r\n\t\tlast = last.next;\r\n\r\n\t}\r\n\r\n\treturn last;\r\n\r\n}\r\n\r\n// eliminate colinear or duplicate points\r\nfunction filterPoints( start, end ) {\r\n\r\n\tif ( ! start ) return start;\r\n\tif ( ! end ) end = start;\r\n\r\n\tlet p = start,\r\n\t\tagain;\r\n\tdo {\r\n\r\n\t\tagain = false;\r\n\r\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\r\n\r\n\t\t\tremoveNode( p );\r\n\t\t\tp = end = p.prev;\r\n\t\t\tif ( p === p.next ) break;\r\n\t\t\tagain = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tp = p.next;\r\n\r\n\t\t}\r\n\r\n\t} while ( again || p !== end );\r\n\r\n\treturn end;\r\n\r\n}\r\n\r\n// main ear slicing loop which triangulates a polygon (given as a linked list)\r\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\r\n\r\n\tif ( ! ear ) return;\r\n\r\n\t// interlink polygon nodes in z-order\r\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\r\n\r\n\tlet stop = ear,\r\n\t\tprev, next;\r\n\r\n\t// iterate through ears, slicing them one by one\r\n\twhile ( ear.prev !== ear.next ) {\r\n\r\n\t\tprev = ear.prev;\r\n\t\tnext = ear.next;\r\n\r\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\r\n\r\n\t\t\t// cut off the triangle\r\n\t\t\ttriangles.push( prev.i / dim );\r\n\t\t\ttriangles.push( ear.i / dim );\r\n\t\t\ttriangles.push( next.i / dim );\r\n\r\n\t\t\tremoveNode( ear );\r\n\r\n\t\t\t// skipping the next vertex leads to less sliver triangles\r\n\t\t\tear = next.next;\r\n\t\t\tstop = next.next;\r\n\r\n\t\t\tcontinue;\r\n\r\n\t\t}\r\n\r\n\t\tear = next;\r\n\r\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\r\n\t\tif ( ear === stop ) {\r\n\r\n\t\t\t// try filtering points and slicing again\r\n\t\t\tif ( ! pass ) {\r\n\r\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\r\n\r\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\r\n\r\n\t\t\t} else if ( pass === 1 ) {\r\n\r\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\r\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\r\n\r\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\r\n\r\n\t\t\t} else if ( pass === 2 ) {\r\n\r\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n// check whether a polygon node forms a valid ear with adjacent nodes\r\nfunction isEar( ear ) {\r\n\r\n\tconst a = ear.prev,\r\n\t\tb = ear,\r\n\t\tc = ear.next;\r\n\r\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\r\n\r\n\t// now make sure we don't have other points inside the potential ear\r\n\tlet p = ear.next.next;\r\n\r\n\twhile ( p !== ear.prev ) {\r\n\r\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\r\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\r\n\t\tp = p.next;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n}\r\n\r\nfunction isEarHashed( ear, minX, minY, invSize ) {\r\n\r\n\tconst a = ear.prev,\r\n\t\tb = ear,\r\n\t\tc = ear.next;\r\n\r\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\r\n\r\n\t// triangle bbox; min & max are calculated like this for speed\r\n\tconst minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\r\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\r\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\r\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\r\n\r\n\t// z-order range for the current triangle bbox;\r\n\tconst minZ = zOrder( minTX, minTY, minX, minY, invSize ),\r\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\r\n\r\n\tlet p = ear.prevZ,\r\n\t\tn = ear.nextZ;\r\n\r\n\t// look for points inside the triangle in both directions\r\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\r\n\r\n\t\tif ( p !== ear.prev && p !== ear.next &&\r\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\r\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\r\n\t\tp = p.prevZ;\r\n\r\n\t\tif ( n !== ear.prev && n !== ear.next &&\r\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\r\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\r\n\t\tn = n.nextZ;\r\n\r\n\t}\r\n\r\n\t// look for remaining points in decreasing z-order\r\n\twhile ( p && p.z >= minZ ) {\r\n\r\n\t\tif ( p !== ear.prev && p !== ear.next &&\r\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\r\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\r\n\t\tp = p.prevZ;\r\n\r\n\t}\r\n\r\n\t// look for remaining points in increasing z-order\r\n\twhile ( n && n.z <= maxZ ) {\r\n\r\n\t\tif ( n !== ear.prev && n !== ear.next &&\r\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\r\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\r\n\t\tn = n.nextZ;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n}\r\n\r\n// go through all polygon nodes and cure small local self-intersections\r\nfunction cureLocalIntersections( start, triangles, dim ) {\r\n\r\n\tlet p = start;\r\n\tdo {\r\n\r\n\t\tconst a = p.prev,\r\n\t\t\tb = p.next.next;\r\n\r\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\r\n\r\n\t\t\ttriangles.push( a.i / dim );\r\n\t\t\ttriangles.push( p.i / dim );\r\n\t\t\ttriangles.push( b.i / dim );\r\n\r\n\t\t\t// remove two nodes involved\r\n\t\t\tremoveNode( p );\r\n\t\t\tremoveNode( p.next );\r\n\r\n\t\t\tp = start = b;\r\n\r\n\t\t}\r\n\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== start );\r\n\r\n\treturn filterPoints( p );\r\n\r\n}\r\n\r\n// try splitting polygon into two and triangulate them independently\r\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\r\n\r\n\t// look for a valid diagonal that divides the polygon into two\r\n\tlet a = start;\r\n\tdo {\r\n\r\n\t\tlet b = a.next.next;\r\n\t\twhile ( b !== a.prev ) {\r\n\r\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\r\n\r\n\t\t\t\t// split the polygon in two by the diagonal\r\n\t\t\t\tlet c = splitPolygon( a, b );\r\n\r\n\t\t\t\t// filter colinear points around the cuts\r\n\t\t\t\ta = filterPoints( a, a.next );\r\n\t\t\t\tc = filterPoints( c, c.next );\r\n\r\n\t\t\t\t// run earcut on each half\r\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\r\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tb = b.next;\r\n\r\n\t\t}\r\n\r\n\t\ta = a.next;\r\n\r\n\t} while ( a !== start );\r\n\r\n}\r\n\r\n// link every hole into the outer loop, producing a single-ring polygon without holes\r\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\r\n\r\n\tconst queue = [];\r\n\tlet i, len, start, end, list;\r\n\r\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\r\n\r\n\t\tstart = holeIndices[ i ] * dim;\r\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\r\n\t\tlist = linkedList( data, start, end, dim, false );\r\n\t\tif ( list === list.next ) list.steiner = true;\r\n\t\tqueue.push( getLeftmost( list ) );\r\n\r\n\t}\r\n\r\n\tqueue.sort( compareX );\r\n\r\n\t// process holes from left to right\r\n\tfor ( i = 0; i < queue.length; i ++ ) {\r\n\r\n\t\teliminateHole( queue[ i ], outerNode );\r\n\t\touterNode = filterPoints( outerNode, outerNode.next );\r\n\r\n\t}\r\n\r\n\treturn outerNode;\r\n\r\n}\r\n\r\nfunction compareX( a, b ) {\r\n\r\n\treturn a.x - b.x;\r\n\r\n}\r\n\r\n// find a bridge between vertices that connects hole with an outer ring and and link it\r\nfunction eliminateHole( hole, outerNode ) {\r\n\r\n\touterNode = findHoleBridge( hole, outerNode );\r\n\tif ( outerNode ) {\r\n\r\n\t\tconst b = splitPolygon( outerNode, hole );\r\n\r\n\t\t// filter collinear points around the cuts\r\n\t\tfilterPoints( outerNode, outerNode.next );\r\n\t\tfilterPoints( b, b.next );\r\n\r\n\t}\r\n\r\n}\r\n\r\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\r\nfunction findHoleBridge( hole, outerNode ) {\r\n\r\n\tlet p = outerNode;\r\n\tconst hx = hole.x;\r\n\tconst hy = hole.y;\r\n\tlet qx = - Infinity, m;\r\n\r\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\r\n\t// segment's endpoint with lesser x will be potential connection point\r\n\tdo {\r\n\r\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\r\n\r\n\t\t\tconst x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\r\n\t\t\tif ( x <= hx && x > qx ) {\r\n\r\n\t\t\t\tqx = x;\r\n\t\t\t\tif ( x === hx ) {\r\n\r\n\t\t\t\t\tif ( hy === p.y ) return p;\r\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== outerNode );\r\n\r\n\tif ( ! m ) return null;\r\n\r\n\tif ( hx === qx ) return m; // hole touches outer segment; pick leftmost endpoint\r\n\r\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\r\n\t// if there are no points found, we have a valid connection;\r\n\t// otherwise choose the point of the minimum angle with the ray as connection point\r\n\r\n\tconst stop = m,\r\n\t\tmx = m.x,\r\n\t\tmy = m.y;\r\n\tlet tanMin = Infinity, tan;\r\n\r\n\tp = m;\r\n\r\n\tdo {\r\n\r\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\r\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\r\n\r\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\r\n\r\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\r\n\r\n\t\t\t\tm = p;\r\n\t\t\t\ttanMin = tan;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== stop );\r\n\r\n\treturn m;\r\n\r\n}\r\n\r\n// whether sector in vertex m contains sector in vertex p in the same coordinates\r\nfunction sectorContainsSector( m, p ) {\r\n\r\n\treturn area( m.prev, m, p.prev ) < 0 && area( p.next, m, m.next ) < 0;\r\n\r\n}\r\n\r\n// interlink polygon nodes in z-order\r\nfunction indexCurve( start, minX, minY, invSize ) {\r\n\r\n\tlet p = start;\r\n\tdo {\r\n\r\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\r\n\t\tp.prevZ = p.prev;\r\n\t\tp.nextZ = p.next;\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== start );\r\n\r\n\tp.prevZ.nextZ = null;\r\n\tp.prevZ = null;\r\n\r\n\tsortLinked( p );\r\n\r\n}\r\n\r\n// Simon Tatham's linked list merge sort algorithm\r\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\r\nfunction sortLinked( list ) {\r\n\r\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\r\n\t\tinSize = 1;\r\n\r\n\tdo {\r\n\r\n\t\tp = list;\r\n\t\tlist = null;\r\n\t\ttail = null;\r\n\t\tnumMerges = 0;\r\n\r\n\t\twhile ( p ) {\r\n\r\n\t\t\tnumMerges ++;\r\n\t\t\tq = p;\r\n\t\t\tpSize = 0;\r\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\r\n\r\n\t\t\t\tpSize ++;\r\n\t\t\t\tq = q.nextZ;\r\n\t\t\t\tif ( ! q ) break;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tqSize = inSize;\r\n\r\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\r\n\r\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\r\n\r\n\t\t\t\t\te = p;\r\n\t\t\t\t\tp = p.nextZ;\r\n\t\t\t\t\tpSize --;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\te = q;\r\n\t\t\t\t\tq = q.nextZ;\r\n\t\t\t\t\tqSize --;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( tail ) tail.nextZ = e;\r\n\t\t\t\telse list = e;\r\n\r\n\t\t\t\te.prevZ = tail;\r\n\t\t\t\ttail = e;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tp = q;\r\n\r\n\t\t}\r\n\r\n\t\ttail.nextZ = null;\r\n\t\tinSize *= 2;\r\n\r\n\t} while ( numMerges > 1 );\r\n\r\n\treturn list;\r\n\r\n}\r\n\r\n// z-order of a point given coords and inverse of the longer side of data bbox\r\nfunction zOrder( x, y, minX, minY, invSize ) {\r\n\r\n\t// coords are transformed into non-negative 15-bit integer range\r\n\tx = 32767 * ( x - minX ) * invSize;\r\n\ty = 32767 * ( y - minY ) * invSize;\r\n\r\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\r\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\r\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\r\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\r\n\r\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\r\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\r\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\r\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\r\n\r\n\treturn x | ( y << 1 );\r\n\r\n}\r\n\r\n// find the leftmost node of a polygon ring\r\nfunction getLeftmost( start ) {\r\n\r\n\tlet p = start,\r\n\t\tleftmost = start;\r\n\tdo {\r\n\r\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== start );\r\n\r\n\treturn leftmost;\r\n\r\n}\r\n\r\n// check if a point lies within a convex triangle\r\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\r\n\r\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\r\n\t\t\t( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\r\n\t\t\t( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\r\n\r\n}\r\n\r\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\r\nfunction isValidDiagonal( a, b ) {\r\n\r\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // dones't intersect other edges\r\n\t\t( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\r\n\t\t( area( a.prev, a, b.prev ) || area( a, b.prev, b ) ) || // does not create opposite-facing sectors\r\n\t\tequals( a, b ) && area( a.prev, a, a.next ) > 0 && area( b.prev, b, b.next ) > 0 ); // special zero-length case\r\n\r\n}\r\n\r\n// signed area of a triangle\r\nfunction area( p, q, r ) {\r\n\r\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\r\n\r\n}\r\n\r\n// check if two points are equal\r\nfunction equals( p1, p2 ) {\r\n\r\n\treturn p1.x === p2.x && p1.y === p2.y;\r\n\r\n}\r\n\r\n// check if two segments intersect\r\nfunction intersects( p1, q1, p2, q2 ) {\r\n\r\n\tconst o1 = sign( area( p1, q1, p2 ) );\r\n\tconst o2 = sign( area( p1, q1, q2 ) );\r\n\tconst o3 = sign( area( p2, q2, p1 ) );\r\n\tconst o4 = sign( area( p2, q2, q1 ) );\r\n\r\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\r\n\r\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\r\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\r\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\r\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\r\n\r\n\treturn false;\r\n\r\n}\r\n\r\n// for collinear points p, q, r, check if point q lies on segment pr\r\nfunction onSegment( p, q, r ) {\r\n\r\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\r\n\r\n}\r\n\r\nfunction sign( num ) {\r\n\r\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\r\n\r\n}\r\n\r\n// check if a polygon diagonal intersects any polygon segments\r\nfunction intersectsPolygon( a, b ) {\r\n\r\n\tlet p = a;\r\n\tdo {\r\n\r\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\r\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== a );\r\n\r\n\treturn false;\r\n\r\n}\r\n\r\n// check if a polygon diagonal is locally inside the polygon\r\nfunction locallyInside( a, b ) {\r\n\r\n\treturn area( a.prev, a, a.next ) < 0 ?\r\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\r\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\r\n\r\n}\r\n\r\n// check if the middle point of a polygon diagonal is inside the polygon\r\nfunction middleInside( a, b ) {\r\n\r\n\tlet p = a,\r\n\t\tinside = false;\r\n\tconst px = ( a.x + b.x ) / 2,\r\n\t\tpy = ( a.y + b.y ) / 2;\r\n\tdo {\r\n\r\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\r\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\r\n\t\t\tinside = ! inside;\r\n\t\tp = p.next;\r\n\r\n\t} while ( p !== a );\r\n\r\n\treturn inside;\r\n\r\n}\r\n\r\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\r\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\r\nfunction splitPolygon( a, b ) {\r\n\r\n\tconst a2 = new Node( a.i, a.x, a.y ),\r\n\t\tb2 = new Node( b.i, b.x, b.y ),\r\n\t\tan = a.next,\r\n\t\tbp = b.prev;\r\n\r\n\ta.next = b;\r\n\tb.prev = a;\r\n\r\n\ta2.next = an;\r\n\tan.prev = a2;\r\n\r\n\tb2.next = a2;\r\n\ta2.prev = b2;\r\n\r\n\tbp.next = b2;\r\n\tb2.prev = bp;\r\n\r\n\treturn b2;\r\n\r\n}\r\n\r\n// create a node and optionally link it with previous one (in a circular doubly linked list)\r\nfunction insertNode( i, x, y, last ) {\r\n\r\n\tconst p = new Node( i, x, y );\r\n\r\n\tif ( ! last ) {\r\n\r\n\t\tp.prev = p;\r\n\t\tp.next = p;\r\n\r\n\t} else {\r\n\r\n\t\tp.next = last.next;\r\n\t\tp.prev = last;\r\n\t\tlast.next.prev = p;\r\n\t\tlast.next = p;\r\n\r\n\t}\r\n\r\n\treturn p;\r\n\r\n}\r\n\r\nfunction removeNode( p ) {\r\n\r\n\tp.next.prev = p.prev;\r\n\tp.prev.next = p.next;\r\n\r\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\r\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\r\n\r\n}\r\n\r\nfunction Node( i, x, y ) {\r\n\r\n\t// vertex index in coordinates array\r\n\tthis.i = i;\r\n\r\n\t// vertex coordinates\r\n\tthis.x = x;\r\n\tthis.y = y;\r\n\r\n\t// previous and next vertex nodes in a polygon ring\r\n\tthis.prev = null;\r\n\tthis.next = null;\r\n\r\n\t// z-order curve value\r\n\tthis.z = null;\r\n\r\n\t// previous and next nodes in z-order\r\n\tthis.prevZ = null;\r\n\tthis.nextZ = null;\r\n\r\n\t// indicates whether this is a steiner point\r\n\tthis.steiner = false;\r\n\r\n}\r\n\r\nfunction signedArea( data, start, end, dim ) {\r\n\r\n\tlet sum = 0;\r\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\r\n\r\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\r\n\t\tj = i;\r\n\r\n\t}\r\n\r\n\treturn sum;\r\n\r\n}\r\n\r\nconst ShapeUtils = {\r\n\r\n\t// calculate area of the contour polygon\r\n\r\n\tarea: function ( contour ) {\r\n\r\n\t\tconst n = contour.length;\r\n\t\tlet a = 0.0;\r\n\r\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\r\n\r\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\r\n\r\n\t\t}\r\n\r\n\t\treturn a * 0.5;\r\n\r\n\t},\r\n\r\n\tisClockWise: function ( pts ) {\r\n\r\n\t\treturn ShapeUtils.area( pts ) < 0;\r\n\r\n\t},\r\n\r\n\ttriangulateShape: function ( contour, holes ) {\r\n\r\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\r\n\t\tconst holeIndices = []; // array of hole indices\r\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\r\n\r\n\t\tremoveDupEndPts( contour );\r\n\t\taddContour( vertices, contour );\r\n\r\n\t\t//\r\n\r\n\t\tlet holeIndex = contour.length;\r\n\r\n\t\tholes.forEach( removeDupEndPts );\r\n\r\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\r\n\r\n\t\t\tholeIndices.push( holeIndex );\r\n\t\t\tholeIndex += holes[ i ].length;\r\n\t\t\taddContour( vertices, holes[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\r\n\r\n\t\t//\r\n\r\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\r\n\r\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn faces;\r\n\r\n\t}\r\n\r\n};\r\n\r\nfunction removeDupEndPts( points ) {\r\n\r\n\tconst l = points.length;\r\n\r\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\r\n\r\n\t\tpoints.pop();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction addContour( vertices, contour ) {\r\n\r\n\tfor ( let i = 0; i < contour.length; i ++ ) {\r\n\r\n\t\tvertices.push( contour[ i ].x );\r\n\t\tvertices.push( contour[ i ].y );\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Creates extruded geometry from a path shape.\r\n *\r\n * parameters = {\r\n *\r\n *  curveSegments: <int>, // number of points on the curves\r\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\r\n *  depth: <float>, // Depth to extrude the shape\r\n *\r\n *  bevelEnabled: <bool>, // turn on bevel\r\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\r\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\r\n *  bevelOffset: <float>, // how far from shape outline does bevel start\r\n *  bevelSegments: <int>, // number of bevel layers\r\n *\r\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\r\n *\r\n *  UVGenerator: <Object> // object that provides UV generator functions\r\n *\r\n * }\r\n */\r\n\r\nclass ExtrudeGeometry extends BufferGeometry {\r\n\r\n\tconstructor( shapes, options ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'ExtrudeGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tshapes: shapes,\r\n\t\t\toptions: options\r\n\t\t};\r\n\r\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst verticesArray = [];\r\n\t\tconst uvArray = [];\r\n\r\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst shape = shapes[ i ];\r\n\t\t\taddShape( shape );\r\n\r\n\t\t}\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\r\n\r\n\t\tthis.computeVertexNormals();\r\n\r\n\t\t// functions\r\n\r\n\t\tfunction addShape( shape ) {\r\n\r\n\t\t\tconst placeholder = [];\r\n\r\n\t\t\t// options\r\n\r\n\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\r\n\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\r\n\t\t\tlet depth = options.depth !== undefined ? options.depth : 100;\r\n\r\n\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\r\n\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\r\n\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\r\n\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\r\n\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\r\n\r\n\t\t\tconst extrudePath = options.extrudePath;\r\n\r\n\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\r\n\r\n\t\t\t// deprecated options\r\n\r\n\t\t\tif ( options.amount !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\r\n\t\t\t\tdepth = options.amount;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//\r\n\r\n\t\t\tlet extrudePts, extrudeByPath = false;\r\n\t\t\tlet splineTube, binormal, normal, position2;\r\n\r\n\t\t\tif ( extrudePath ) {\r\n\r\n\t\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\r\n\r\n\t\t\t\textrudeByPath = true;\r\n\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\r\n\r\n\t\t\t\t// SETUP TNB variables\r\n\r\n\t\t\t\t// TODO1 - have a .isClosed in spline?\r\n\r\n\t\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\r\n\r\n\t\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\r\n\r\n\t\t\t\tbinormal = new Vector3();\r\n\t\t\t\tnormal = new Vector3();\r\n\t\t\t\tposition2 = new Vector3();\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Safeguards if bevels are not enabled\r\n\r\n\t\t\tif ( ! bevelEnabled ) {\r\n\r\n\t\t\t\tbevelSegments = 0;\r\n\t\t\t\tbevelThickness = 0;\r\n\t\t\t\tbevelSize = 0;\r\n\t\t\t\tbevelOffset = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Variables initialization\r\n\r\n\t\t\tconst shapePoints = shape.extractPoints( curveSegments );\r\n\r\n\t\t\tlet vertices = shapePoints.shape;\r\n\t\t\tconst holes = shapePoints.holes;\r\n\r\n\t\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\r\n\r\n\t\t\tif ( reverse ) {\r\n\r\n\t\t\t\tvertices = vertices.reverse();\r\n\r\n\t\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\r\n\r\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\t\t\tconst ahole = holes[ h ];\r\n\r\n\t\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\r\n\r\n\t\t\t\t\t\tholes[ h ] = ahole.reverse();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\r\n\r\n\t\t\t/* Vertices */\r\n\r\n\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\r\n\r\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\t\tconst ahole = holes[ h ];\r\n\r\n\t\t\t\tvertices = vertices.concat( ahole );\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tfunction scalePt2( pt, vec, size ) {\r\n\r\n\t\t\t\tif ( ! vec ) console.error( 'THREE.ExtrudeGeometry: vec does not exist' );\r\n\r\n\t\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst vlen = vertices.length, flen = faces.length;\r\n\r\n\r\n\t\t\t// Find directions for point movement\r\n\r\n\r\n\t\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\r\n\r\n\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\r\n\t\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\r\n\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\r\n\t\t\t\t//\r\n\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\r\n\t\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\r\n\r\n\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\r\n\r\n\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\r\n\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\r\n\r\n\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\r\n\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\r\n\t\t\t\tconst v_next_x = inNext.x - inPt.x,\r\n\t\t\t\t\tv_next_y = inNext.y - inPt.y;\r\n\r\n\t\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\r\n\r\n\t\t\t\t// check for collinear edges\r\n\t\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\r\n\r\n\t\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\r\n\r\n\t\t\t\t\t// not collinear\r\n\r\n\t\t\t\t\t// length of vectors for normalizing\r\n\r\n\t\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\r\n\t\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\r\n\r\n\t\t\t\t\t// shift adjacent points by unit vectors to the left\r\n\r\n\t\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\r\n\t\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\r\n\r\n\t\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\r\n\t\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\r\n\r\n\t\t\t\t\t// scaling factor for v_prev to intersection point\r\n\r\n\t\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\r\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\r\n\t\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\r\n\r\n\t\t\t\t\t// vector from inPt to intersection point\r\n\r\n\t\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\r\n\t\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\r\n\r\n\t\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\r\n\t\t\t\t\t//  but prevent crazy spikes\r\n\t\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\r\n\t\t\t\t\tif ( v_trans_lensq <= 2 ) {\r\n\r\n\t\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// handle special case of collinear edges\r\n\r\n\t\t\t\t\tlet direction_eq = false; // assumes: opposite\r\n\r\n\t\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\r\n\r\n\t\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\r\n\r\n\t\t\t\t\t\t\tdirection_eq = true;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\r\n\r\n\t\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\r\n\r\n\t\t\t\t\t\t\t\tdirection_eq = true;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\r\n\r\n\t\t\t\t\t\t\t\tdirection_eq = true;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( direction_eq ) {\r\n\r\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\r\n\t\t\t\t\t\tv_trans_x = - v_prev_y;\r\n\t\t\t\t\t\tv_trans_y = v_prev_x;\r\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\r\n\t\t\t\t\t\tv_trans_x = v_prev_x;\r\n\t\t\t\t\t\tv_trans_y = v_prev_y;\r\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tconst contourMovements = [];\r\n\r\n\t\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\r\n\r\n\t\t\t\tif ( j === il ) j = 0;\r\n\t\t\t\tif ( k === il ) k = 0;\r\n\r\n\t\t\t\t//  (j)---(i)---(k)\r\n\t\t\t\t// console.log('i,j,k', i, j , k)\r\n\r\n\t\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst holesMovements = [];\r\n\t\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\r\n\r\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\t\tconst ahole = holes[ h ];\r\n\r\n\t\t\t\toneHoleMovements = [];\r\n\r\n\t\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\r\n\r\n\t\t\t\t\tif ( j === il ) j = 0;\r\n\t\t\t\t\tif ( k === il ) k = 0;\r\n\r\n\t\t\t\t\t//  (j)---(i)---(k)\r\n\t\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tholesMovements.push( oneHoleMovements );\r\n\t\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// Loop bevelSegments, 1 for the front, 1 for the back\r\n\r\n\t\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\r\n\r\n\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\r\n\r\n\t\t\t\tconst t = b / bevelSegments;\r\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\r\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\r\n\r\n\t\t\t\t// contract shape\r\n\r\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\r\n\r\n\t\t\t\t\tv( vert.x, vert.y, - z );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// expand holes\r\n\r\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\t\t\tconst ahole = holes[ h ];\r\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\r\n\r\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\r\n\r\n\t\t\t\t\t\tv( vert.x, vert.y, - z );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst bs = bevelSize + bevelOffset;\r\n\r\n\t\t\t// Back facing vertices\r\n\r\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\r\n\r\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\r\n\r\n\t\t\t\tif ( ! extrudeByPath ) {\r\n\r\n\t\t\t\t\tv( vert.x, vert.y, 0 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\r\n\r\n\t\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\r\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\r\n\r\n\t\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\r\n\r\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Add stepped vertices...\r\n\t\t\t// Including front facing vertices\r\n\r\n\t\t\tfor ( let s = 1; s <= steps; s ++ ) {\r\n\r\n\t\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\r\n\r\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\r\n\r\n\t\t\t\t\tif ( ! extrudeByPath ) {\r\n\r\n\t\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\r\n\r\n\t\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\r\n\t\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\r\n\r\n\t\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\r\n\r\n\t\t\t\t\t\tv( position2.x, position2.y, position2.z );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// Add bevel segments planes\r\n\r\n\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\r\n\t\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\r\n\r\n\t\t\t\tconst t = b / bevelSegments;\r\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\r\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\r\n\r\n\t\t\t\t// contract shape\r\n\r\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\r\n\t\t\t\t\tv( vert.x, vert.y, depth + z );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// expand holes\r\n\r\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\t\t\tconst ahole = holes[ h ];\r\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\r\n\r\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\r\n\r\n\t\t\t\t\t\tif ( ! extrudeByPath ) {\r\n\r\n\t\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t/* Faces */\r\n\r\n\t\t\t// Top and bottom faces\r\n\r\n\t\t\tbuildLidFaces();\r\n\r\n\t\t\t// Sides faces\r\n\r\n\t\t\tbuildSideFaces();\r\n\r\n\r\n\t\t\t/////  Internal functions\r\n\r\n\t\t\tfunction buildLidFaces() {\r\n\r\n\t\t\t\tconst start = verticesArray.length / 3;\r\n\r\n\t\t\t\tif ( bevelEnabled ) {\r\n\r\n\t\t\t\t\tlet layer = 0; // steps + 1\r\n\t\t\t\t\tlet offset = vlen * layer;\r\n\r\n\t\t\t\t\t// Bottom faces\r\n\r\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst face = faces[ i ];\r\n\t\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlayer = steps + bevelSegments * 2;\r\n\t\t\t\t\toffset = vlen * layer;\r\n\r\n\t\t\t\t\t// Top faces\r\n\r\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst face = faces[ i ];\r\n\t\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Bottom faces\r\n\r\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst face = faces[ i ];\r\n\t\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Top faces\r\n\r\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst face = faces[ i ];\r\n\t\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Create faces for the z-sides of the shape\r\n\r\n\t\t\tfunction buildSideFaces() {\r\n\r\n\t\t\t\tconst start = verticesArray.length / 3;\r\n\t\t\t\tlet layeroffset = 0;\r\n\t\t\t\tsidewalls( contour, layeroffset );\r\n\t\t\t\tlayeroffset += contour.length;\r\n\r\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\t\t\tconst ahole = holes[ h ];\r\n\t\t\t\t\tsidewalls( ahole, layeroffset );\r\n\r\n\t\t\t\t\t//, true\r\n\t\t\t\t\tlayeroffset += ahole.length;\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction sidewalls( contour, layeroffset ) {\r\n\r\n\t\t\t\tlet i = contour.length;\r\n\r\n\t\t\t\twhile ( -- i >= 0 ) {\r\n\r\n\t\t\t\t\tconst j = i;\r\n\t\t\t\t\tlet k = i - 1;\r\n\t\t\t\t\tif ( k < 0 ) k = contour.length - 1;\r\n\r\n\t\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\r\n\r\n\t\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\r\n\r\n\t\t\t\t\t\tconst slen1 = vlen * s;\r\n\t\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\r\n\r\n\t\t\t\t\t\tconst a = layeroffset + j + slen1,\r\n\t\t\t\t\t\t\tb = layeroffset + k + slen1,\r\n\t\t\t\t\t\t\tc = layeroffset + k + slen2,\r\n\t\t\t\t\t\t\td = layeroffset + j + slen2;\r\n\r\n\t\t\t\t\t\tf4( a, b, c, d );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction v( x, y, z ) {\r\n\r\n\t\t\t\tplaceholder.push( x );\r\n\t\t\t\tplaceholder.push( y );\r\n\t\t\t\tplaceholder.push( z );\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tfunction f3( a, b, c ) {\r\n\r\n\t\t\t\taddVertex( a );\r\n\t\t\t\taddVertex( b );\r\n\t\t\t\taddVertex( c );\r\n\r\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\r\n\t\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\r\n\r\n\t\t\t\taddUV( uvs[ 0 ] );\r\n\t\t\t\taddUV( uvs[ 1 ] );\r\n\t\t\t\taddUV( uvs[ 2 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction f4( a, b, c, d ) {\r\n\r\n\t\t\t\taddVertex( a );\r\n\t\t\t\taddVertex( b );\r\n\t\t\t\taddVertex( d );\r\n\r\n\t\t\t\taddVertex( b );\r\n\t\t\t\taddVertex( c );\r\n\t\t\t\taddVertex( d );\r\n\r\n\r\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\r\n\t\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\r\n\r\n\t\t\t\taddUV( uvs[ 0 ] );\r\n\t\t\t\taddUV( uvs[ 1 ] );\r\n\t\t\t\taddUV( uvs[ 3 ] );\r\n\r\n\t\t\t\taddUV( uvs[ 1 ] );\r\n\t\t\t\taddUV( uvs[ 2 ] );\r\n\t\t\t\taddUV( uvs[ 3 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction addVertex( index ) {\r\n\r\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\r\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\r\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tfunction addUV( vector2 ) {\r\n\r\n\t\t\t\tuvArray.push( vector2.x );\r\n\t\t\t\tuvArray.push( vector2.y );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\r\n\r\n\t\tconst shapes = this.parameters.shapes;\r\n\t\tconst options = this.parameters.options;\r\n\r\n\t\treturn toJSON$1( shapes, options, data );\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst WorldUVGenerator = {\r\n\r\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\r\n\r\n\t\tconst a_x = vertices[ indexA * 3 ];\r\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\r\n\t\tconst b_x = vertices[ indexB * 3 ];\r\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\r\n\t\tconst c_x = vertices[ indexC * 3 ];\r\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\r\n\r\n\t\treturn [\r\n\t\t\tnew Vector2( a_x, a_y ),\r\n\t\t\tnew Vector2( b_x, b_y ),\r\n\t\t\tnew Vector2( c_x, c_y )\r\n\t\t];\r\n\r\n\t},\r\n\r\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\r\n\r\n\t\tconst a_x = vertices[ indexA * 3 ];\r\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\r\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\r\n\t\tconst b_x = vertices[ indexB * 3 ];\r\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\r\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\r\n\t\tconst c_x = vertices[ indexC * 3 ];\r\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\r\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\r\n\t\tconst d_x = vertices[ indexD * 3 ];\r\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\r\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\r\n\r\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\r\n\r\n\t\t\treturn [\r\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\r\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\r\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\r\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\r\n\t\t\t];\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn [\r\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\r\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\r\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\r\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\r\n\t\t\t];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nfunction toJSON$1( shapes, options, data ) {\r\n\r\n\tdata.shapes = [];\r\n\r\n\tif ( Array.isArray( shapes ) ) {\r\n\r\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst shape = shapes[ i ];\r\n\r\n\t\t\tdata.shapes.push( shape.uuid );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tdata.shapes.push( shapes.uuid );\r\n\r\n\t}\r\n\r\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\r\n\r\n\treturn data;\r\n\r\n}\r\n\r\nclass IcosahedronGeometry extends PolyhedronGeometry {\r\n\r\n\tconstructor( radius = 1, detail = 0 ) {\r\n\r\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\r\n\r\n\t\tconst vertices = [\r\n\t\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\r\n\t\t\t0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\r\n\t\t\tt, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\r\n\t\t];\r\n\r\n\t\tconst indices = [\r\n\t\t\t0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\r\n\t\t\t1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\r\n\t\t\t3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\r\n\t\t\t4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\r\n\t\t];\r\n\r\n\t\tsuper( vertices, indices, radius, detail );\r\n\r\n\t\tthis.type = 'IcosahedronGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tradius: radius,\r\n\t\t\tdetail: detail\r\n\t\t};\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass LatheGeometry extends BufferGeometry {\r\n\r\n\tconstructor( points, segments = 12, phiStart = 0, phiLength = Math.PI * 2 ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'LatheGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tpoints: points,\r\n\t\t\tsegments: segments,\r\n\t\t\tphiStart: phiStart,\r\n\t\t\tphiLength: phiLength\r\n\t\t};\r\n\r\n\t\tsegments = Math.floor( segments );\r\n\r\n\t\t// clamp phiLength so it's in range of [ 0, 2PI ]\r\n\r\n\t\tphiLength = MathUtils.clamp( phiLength, 0, Math.PI * 2 );\r\n\r\n\t\t// buffers\r\n\r\n\t\tconst indices = [];\r\n\t\tconst vertices = [];\r\n\t\tconst uvs = [];\r\n\r\n\t\t// helper variables\r\n\r\n\t\tconst inverseSegments = 1.0 / segments;\r\n\t\tconst vertex = new Vector3();\r\n\t\tconst uv = new Vector2();\r\n\r\n\t\t// generate vertices and uvs\r\n\r\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\r\n\r\n\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\r\n\r\n\t\t\tconst sin = Math.sin( phi );\r\n\t\t\tconst cos = Math.cos( phi );\r\n\r\n\t\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\r\n\r\n\t\t\t\t// vertex\r\n\r\n\t\t\t\tvertex.x = points[ j ].x * sin;\r\n\t\t\t\tvertex.y = points[ j ].y;\r\n\t\t\t\tvertex.z = points[ j ].x * cos;\r\n\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t// uv\r\n\r\n\t\t\t\tuv.x = i / segments;\r\n\t\t\t\tuv.y = j / ( points.length - 1 );\r\n\r\n\t\t\t\tuvs.push( uv.x, uv.y );\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// indices\r\n\r\n\t\tfor ( let i = 0; i < segments; i ++ ) {\r\n\r\n\t\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\r\n\r\n\t\t\t\tconst base = j + i * points.length;\r\n\r\n\t\t\t\tconst a = base;\r\n\t\t\t\tconst b = base + points.length;\r\n\t\t\t\tconst c = base + points.length + 1;\r\n\t\t\t\tconst d = base + 1;\r\n\r\n\t\t\t\t// faces\r\n\r\n\t\t\t\tindices.push( a, b, d );\r\n\t\t\t\tindices.push( b, c, d );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setIndex( indices );\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t\t// generate normals\r\n\r\n\t\tthis.computeVertexNormals();\r\n\r\n\t\t// if the geometry is closed, we need to average the normals along the seam.\r\n\t\t// because the corresponding vertices are identical (but still have different UVs).\r\n\r\n\t\tif ( phiLength === Math.PI * 2 ) {\r\n\r\n\t\t\tconst normals = this.attributes.normal.array;\r\n\t\t\tconst n1 = new Vector3();\r\n\t\t\tconst n2 = new Vector3();\r\n\t\t\tconst n = new Vector3();\r\n\r\n\t\t\t// this is the buffer offset for the last line of vertices\r\n\r\n\t\t\tconst base = segments * points.length * 3;\r\n\r\n\t\t\tfor ( let i = 0, j = 0; i < points.length; i ++, j += 3 ) {\r\n\r\n\t\t\t\t// select the normal of the vertex in the first line\r\n\r\n\t\t\t\tn1.x = normals[ j + 0 ];\r\n\t\t\t\tn1.y = normals[ j + 1 ];\r\n\t\t\t\tn1.z = normals[ j + 2 ];\r\n\r\n\t\t\t\t// select the normal of the vertex in the last line\r\n\r\n\t\t\t\tn2.x = normals[ base + j + 0 ];\r\n\t\t\t\tn2.y = normals[ base + j + 1 ];\r\n\t\t\t\tn2.z = normals[ base + j + 2 ];\r\n\r\n\t\t\t\t// average normals\r\n\r\n\t\t\t\tn.addVectors( n1, n2 ).normalize();\r\n\r\n\t\t\t\t// assign the new values to both normals\r\n\r\n\t\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\r\n\t\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\r\n\t\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass OctahedronGeometry extends PolyhedronGeometry {\r\n\r\n\tconstructor( radius = 1, detail = 0 ) {\r\n\r\n\t\tconst vertices = [\r\n\t\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\r\n\t\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\r\n\t\t];\r\n\r\n\t\tconst indices = [\r\n\t\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\r\n\t\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\r\n\t\t\t1, 3, 4,\t1, 4, 2\r\n\t\t];\r\n\r\n\t\tsuper( vertices, indices, radius, detail );\r\n\r\n\t\tthis.type = 'OctahedronGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tradius: radius,\r\n\t\t\tdetail: detail\r\n\t\t};\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Parametric Surfaces Geometry\r\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\r\n */\r\n\r\nfunction ParametricGeometry( func, slices, stacks ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'ParametricGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tfunc: func,\r\n\t\tslices: slices,\r\n\t\tstacks: stacks\r\n\t};\r\n\r\n\t// buffers\r\n\r\n\tconst indices = [];\r\n\tconst vertices = [];\r\n\tconst normals = [];\r\n\tconst uvs = [];\r\n\r\n\tconst EPS = 0.00001;\r\n\r\n\tconst normal = new Vector3();\r\n\r\n\tconst p0 = new Vector3(), p1 = new Vector3();\r\n\tconst pu = new Vector3(), pv = new Vector3();\r\n\r\n\tif ( func.length < 3 ) {\r\n\r\n\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\r\n\r\n\t}\r\n\r\n\t// generate vertices, normals and uvs\r\n\r\n\tconst sliceCount = slices + 1;\r\n\r\n\tfor ( let i = 0; i <= stacks; i ++ ) {\r\n\r\n\t\tconst v = i / stacks;\r\n\r\n\t\tfor ( let j = 0; j <= slices; j ++ ) {\r\n\r\n\t\t\tconst u = j / slices;\r\n\r\n\t\t\t// vertex\r\n\r\n\t\t\tfunc( u, v, p0 );\r\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\r\n\r\n\t\t\t// normal\r\n\r\n\t\t\t// approximate tangent vectors via finite differences\r\n\r\n\t\t\tif ( u - EPS >= 0 ) {\r\n\r\n\t\t\t\tfunc( u - EPS, v, p1 );\r\n\t\t\t\tpu.subVectors( p0, p1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfunc( u + EPS, v, p1 );\r\n\t\t\t\tpu.subVectors( p1, p0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( v - EPS >= 0 ) {\r\n\r\n\t\t\t\tfunc( u, v - EPS, p1 );\r\n\t\t\t\tpv.subVectors( p0, p1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfunc( u, v + EPS, p1 );\r\n\t\t\t\tpv.subVectors( p1, p0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// cross product of tangent vectors returns surface normal\r\n\r\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\r\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t// uv\r\n\r\n\t\t\tuvs.push( u, v );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// generate indices\r\n\r\n\tfor ( let i = 0; i < stacks; i ++ ) {\r\n\r\n\t\tfor ( let j = 0; j < slices; j ++ ) {\r\n\r\n\t\t\tconst a = i * sliceCount + j;\r\n\t\t\tconst b = i * sliceCount + j + 1;\r\n\t\t\tconst c = ( i + 1 ) * sliceCount + j + 1;\r\n\t\t\tconst d = ( i + 1 ) * sliceCount + j;\r\n\r\n\t\t\t// faces one and two\r\n\r\n\t\t\tindices.push( a, b, d );\r\n\t\t\tindices.push( b, c, d );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n}\r\n\r\nParametricGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nParametricGeometry.prototype.constructor = ParametricGeometry;\r\n\r\nclass RingGeometry extends BufferGeometry {\r\n\r\n\tconstructor( innerRadius = 0.5, outerRadius = 1, thetaSegments = 8, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2 ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'RingGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tinnerRadius: innerRadius,\r\n\t\t\touterRadius: outerRadius,\r\n\t\t\tthetaSegments: thetaSegments,\r\n\t\t\tphiSegments: phiSegments,\r\n\t\t\tthetaStart: thetaStart,\r\n\t\t\tthetaLength: thetaLength\r\n\t\t};\r\n\r\n\t\tthetaSegments = Math.max( 3, thetaSegments );\r\n\t\tphiSegments = Math.max( 1, phiSegments );\r\n\r\n\t\t// buffers\r\n\r\n\t\tconst indices = [];\r\n\t\tconst vertices = [];\r\n\t\tconst normals = [];\r\n\t\tconst uvs = [];\r\n\r\n\t\t// some helper variables\r\n\r\n\t\tlet radius = innerRadius;\r\n\t\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\r\n\t\tconst vertex = new Vector3();\r\n\t\tconst uv = new Vector2();\r\n\r\n\t\t// generate vertices, normals and uvs\r\n\r\n\t\tfor ( let j = 0; j <= phiSegments; j ++ ) {\r\n\r\n\t\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\r\n\r\n\t\t\t\t// values are generate from the inside of the ring to the outside\r\n\r\n\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\r\n\r\n\t\t\t\t// vertex\r\n\r\n\t\t\t\tvertex.x = radius * Math.cos( segment );\r\n\t\t\t\tvertex.y = radius * Math.sin( segment );\r\n\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t// normal\r\n\r\n\t\t\t\tnormals.push( 0, 0, 1 );\r\n\r\n\t\t\t\t// uv\r\n\r\n\t\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\r\n\t\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\r\n\r\n\t\t\t\tuvs.push( uv.x, uv.y );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// increase the radius for next row of vertices\r\n\r\n\t\t\tradius += radiusStep;\r\n\r\n\t\t}\r\n\r\n\t\t// indices\r\n\r\n\t\tfor ( let j = 0; j < phiSegments; j ++ ) {\r\n\r\n\t\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\r\n\r\n\t\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\r\n\r\n\t\t\t\tconst segment = i + thetaSegmentLevel;\r\n\r\n\t\t\t\tconst a = segment;\r\n\t\t\t\tconst b = segment + thetaSegments + 1;\r\n\t\t\t\tconst c = segment + thetaSegments + 2;\r\n\t\t\t\tconst d = segment + 1;\r\n\r\n\t\t\t\t// faces\r\n\r\n\t\t\t\tindices.push( a, b, d );\r\n\t\t\t\tindices.push( b, c, d );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setIndex( indices );\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass ShapeGeometry extends BufferGeometry {\r\n\r\n\tconstructor( shapes, curveSegments = 12 ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.type = 'ShapeGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tshapes: shapes,\r\n\t\t\tcurveSegments: curveSegments\r\n\t\t};\r\n\r\n\t\t// buffers\r\n\r\n\t\tconst indices = [];\r\n\t\tconst vertices = [];\r\n\t\tconst normals = [];\r\n\t\tconst uvs = [];\r\n\r\n\t\t// helper variables\r\n\r\n\t\tlet groupStart = 0;\r\n\t\tlet groupCount = 0;\r\n\r\n\t\t// allow single and array values for \"shapes\" parameter\r\n\r\n\t\tif ( Array.isArray( shapes ) === false ) {\r\n\r\n\t\t\taddShape( shapes );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\r\n\r\n\t\t\t\taddShape( shapes[ i ] );\r\n\r\n\t\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\r\n\r\n\t\t\t\tgroupStart += groupCount;\r\n\t\t\t\tgroupCount = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setIndex( indices );\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\r\n\t\t// helper functions\r\n\r\n\t\tfunction addShape( shape ) {\r\n\r\n\t\t\tconst indexOffset = vertices.length / 3;\r\n\t\t\tconst points = shape.extractPoints( curveSegments );\r\n\r\n\t\t\tlet shapeVertices = points.shape;\r\n\t\t\tconst shapeHoles = points.holes;\r\n\r\n\t\t\t// check direction of vertices\r\n\r\n\t\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\r\n\r\n\t\t\t\tshapeVertices = shapeVertices.reverse();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\r\n\r\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\r\n\r\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\r\n\r\n\t\t\t// join vertices of inner and outer paths to a single array\r\n\r\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\r\n\t\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// vertices, normals, uvs\r\n\r\n\t\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tconst vertex = shapeVertices[ i ];\r\n\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, 0 );\r\n\t\t\t\tnormals.push( 0, 0, 1 );\r\n\t\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// incides\r\n\r\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tconst face = faces[ i ];\r\n\r\n\t\t\t\tconst a = face[ 0 ] + indexOffset;\r\n\t\t\t\tconst b = face[ 1 ] + indexOffset;\r\n\t\t\t\tconst c = face[ 2 ] + indexOffset;\r\n\r\n\t\t\t\tindices.push( a, b, c );\r\n\t\t\t\tgroupCount += 3;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\r\n\r\n\t\tconst shapes = this.parameters.shapes;\r\n\r\n\t\treturn toJSON( shapes, data );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction toJSON( shapes, data ) {\r\n\r\n\tdata.shapes = [];\r\n\r\n\tif ( Array.isArray( shapes ) ) {\r\n\r\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst shape = shapes[ i ];\r\n\r\n\t\t\tdata.shapes.push( shape.uuid );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tdata.shapes.push( shapes.uuid );\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n}\r\n\r\nclass SphereGeometry extends BufferGeometry {\r\n\r\n\tconstructor( radius = 1, widthSegments = 8, heightSegments = 6, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.type = 'SphereGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tradius: radius,\r\n\t\t\twidthSegments: widthSegments,\r\n\t\t\theightSegments: heightSegments,\r\n\t\t\tphiStart: phiStart,\r\n\t\t\tphiLength: phiLength,\r\n\t\t\tthetaStart: thetaStart,\r\n\t\t\tthetaLength: thetaLength\r\n\t\t};\r\n\r\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) );\r\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) );\r\n\r\n\t\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\r\n\r\n\t\tlet index = 0;\r\n\t\tconst grid = [];\r\n\r\n\t\tconst vertex = new Vector3();\r\n\t\tconst normal = new Vector3();\r\n\r\n\t\t// buffers\r\n\r\n\t\tconst indices = [];\r\n\t\tconst vertices = [];\r\n\t\tconst normals = [];\r\n\t\tconst uvs = [];\r\n\r\n\t\t// generate vertices, normals and uvs\r\n\r\n\t\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\r\n\r\n\t\t\tconst verticesRow = [];\r\n\r\n\t\t\tconst v = iy / heightSegments;\r\n\r\n\t\t\t// special case for the poles\r\n\r\n\t\t\tlet uOffset = 0;\r\n\r\n\t\t\tif ( iy == 0 && thetaStart == 0 ) {\r\n\r\n\t\t\t\tuOffset = 0.5 / widthSegments;\r\n\r\n\t\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\r\n\r\n\t\t\t\tuOffset = - 0.5 / widthSegments;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\r\n\r\n\t\t\t\tconst u = ix / widthSegments;\r\n\r\n\t\t\t\t// vertex\r\n\r\n\t\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\r\n\t\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\r\n\t\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\r\n\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t// normal\r\n\r\n\t\t\t\tnormal.copy( vertex ).normalize();\r\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t\t// uv\r\n\r\n\t\t\t\tuvs.push( u + uOffset, 1 - v );\r\n\r\n\t\t\t\tverticesRow.push( index ++ );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgrid.push( verticesRow );\r\n\r\n\t\t}\r\n\r\n\t\t// indices\r\n\r\n\t\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\r\n\r\n\t\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\r\n\r\n\t\t\t\tconst a = grid[ iy ][ ix + 1 ];\r\n\t\t\t\tconst b = grid[ iy ][ ix ];\r\n\t\t\t\tconst c = grid[ iy + 1 ][ ix ];\r\n\t\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\r\n\r\n\t\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\r\n\t\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setIndex( indices );\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass TetrahedronGeometry extends PolyhedronGeometry {\r\n\r\n\tconstructor( radius = 1, detail = 0 ) {\r\n\r\n\t\tconst vertices = [\r\n\t\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\r\n\t\t];\r\n\r\n\t\tconst indices = [\r\n\t\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\r\n\t\t];\r\n\r\n\t\tsuper( vertices, indices, radius, detail );\r\n\r\n\t\tthis.type = 'TetrahedronGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tradius: radius,\r\n\t\t\tdetail: detail\r\n\t\t};\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Text = 3D Text\r\n *\r\n * parameters = {\r\n *  font: <THREE.Font>, // font\r\n *\r\n *  size: <float>, // size of the text\r\n *  height: <float>, // thickness to extrude text\r\n *  curveSegments: <int>, // number of points on the curves\r\n *\r\n *  bevelEnabled: <bool>, // turn on bevel\r\n *  bevelThickness: <float>, // how deep into text bevel goes\r\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\r\n *  bevelOffset: <float> // how far from text outline does bevel start\r\n * }\r\n */\r\n\r\nclass TextGeometry extends ExtrudeGeometry {\r\n\r\n\tconstructor( text, parameters = {} ) {\r\n\r\n\t\tconst font = parameters.font;\r\n\r\n\t\tif ( ! ( font && font.isFont ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\r\n\t\t\treturn new BufferGeometry();\r\n\r\n\t\t}\r\n\r\n\t\tconst shapes = font.generateShapes( text, parameters.size );\r\n\r\n\t\t// translate parameters to ExtrudeGeometry API\r\n\r\n\t\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\r\n\r\n\t\t// defaults\r\n\r\n\t\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\r\n\t\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\r\n\t\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\r\n\r\n\t\tsuper( shapes, parameters );\r\n\r\n\t\tthis.type = 'TextGeometry';\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass TorusGeometry extends BufferGeometry {\r\n\r\n\tconstructor( radius = 1, tube = 0.4, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2 ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.type = 'TorusGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tradius: radius,\r\n\t\t\ttube: tube,\r\n\t\t\tradialSegments: radialSegments,\r\n\t\t\ttubularSegments: tubularSegments,\r\n\t\t\tarc: arc\r\n\t\t};\r\n\r\n\t\tradialSegments = Math.floor( radialSegments );\r\n\t\ttubularSegments = Math.floor( tubularSegments );\r\n\r\n\t\t// buffers\r\n\r\n\t\tconst indices = [];\r\n\t\tconst vertices = [];\r\n\t\tconst normals = [];\r\n\t\tconst uvs = [];\r\n\r\n\t\t// helper variables\r\n\r\n\t\tconst center = new Vector3();\r\n\t\tconst vertex = new Vector3();\r\n\t\tconst normal = new Vector3();\r\n\r\n\t\t// generate vertices, normals and uvs\r\n\r\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\r\n\r\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\r\n\r\n\t\t\t\tconst u = i / tubularSegments * arc;\r\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\r\n\r\n\t\t\t\t// vertex\r\n\r\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\r\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\r\n\t\t\t\tvertex.z = tube * Math.sin( v );\r\n\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t// normal\r\n\r\n\t\t\t\tcenter.x = radius * Math.cos( u );\r\n\t\t\t\tcenter.y = radius * Math.sin( u );\r\n\t\t\t\tnormal.subVectors( vertex, center ).normalize();\r\n\r\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t\t// uv\r\n\r\n\t\t\t\tuvs.push( i / tubularSegments );\r\n\t\t\t\tuvs.push( j / radialSegments );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// generate indices\r\n\r\n\t\tfor ( let j = 1; j <= radialSegments; j ++ ) {\r\n\r\n\t\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\r\n\r\n\t\t\t\t// indices\r\n\r\n\t\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\r\n\t\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\r\n\t\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\r\n\t\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\r\n\r\n\t\t\t\t// faces\r\n\r\n\t\t\t\tindices.push( a, b, d );\r\n\t\t\t\tindices.push( b, c, d );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setIndex( indices );\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass TorusKnotGeometry extends BufferGeometry {\r\n\r\n\tconstructor( radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3 ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.type = 'TorusKnotGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tradius: radius,\r\n\t\t\ttube: tube,\r\n\t\t\ttubularSegments: tubularSegments,\r\n\t\t\tradialSegments: radialSegments,\r\n\t\t\tp: p,\r\n\t\t\tq: q\r\n\t\t};\r\n\r\n\t\ttubularSegments = Math.floor( tubularSegments );\r\n\t\tradialSegments = Math.floor( radialSegments );\r\n\r\n\t\t// buffers\r\n\r\n\t\tconst indices = [];\r\n\t\tconst vertices = [];\r\n\t\tconst normals = [];\r\n\t\tconst uvs = [];\r\n\r\n\t\t// helper variables\r\n\r\n\t\tconst vertex = new Vector3();\r\n\t\tconst normal = new Vector3();\r\n\r\n\t\tconst P1 = new Vector3();\r\n\t\tconst P2 = new Vector3();\r\n\r\n\t\tconst B = new Vector3();\r\n\t\tconst T = new Vector3();\r\n\t\tconst N = new Vector3();\r\n\r\n\t\t// generate vertices, normals and uvs\r\n\r\n\t\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\r\n\r\n\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\r\n\r\n\t\t\tconst u = i / tubularSegments * p * Math.PI * 2;\r\n\r\n\t\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\r\n\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\r\n\r\n\t\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\r\n\t\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\r\n\r\n\t\t\t// calculate orthonormal basis\r\n\r\n\t\t\tT.subVectors( P2, P1 );\r\n\t\t\tN.addVectors( P2, P1 );\r\n\t\t\tB.crossVectors( T, N );\r\n\t\t\tN.crossVectors( B, T );\r\n\r\n\t\t\t// normalize B, N. T can be ignored, we don't use it\r\n\r\n\t\t\tB.normalize();\r\n\t\t\tN.normalize();\r\n\r\n\t\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\r\n\r\n\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\r\n\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\r\n\r\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\r\n\t\t\t\tconst cx = - tube * Math.cos( v );\r\n\t\t\t\tconst cy = tube * Math.sin( v );\r\n\r\n\t\t\t\t// now calculate the final vertex position.\r\n\t\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\r\n\r\n\t\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\r\n\t\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\r\n\t\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\r\n\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\r\n\r\n\t\t\t\tnormal.subVectors( vertex, P1 ).normalize();\r\n\r\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t\t// uv\r\n\r\n\t\t\t\tuvs.push( i / tubularSegments );\r\n\t\t\t\tuvs.push( j / radialSegments );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// generate indices\r\n\r\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\r\n\r\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\r\n\r\n\t\t\t\t// indices\r\n\r\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\r\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\r\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\r\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\r\n\r\n\t\t\t\t// faces\r\n\r\n\t\t\t\tindices.push( a, b, d );\r\n\t\t\t\tindices.push( b, c, d );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setIndex( indices );\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t\t// this function calculates the current position on the torus curve\r\n\r\n\t\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\r\n\r\n\t\t\tconst cu = Math.cos( u );\r\n\t\t\tconst su = Math.sin( u );\r\n\t\t\tconst quOverP = q / p * u;\r\n\t\t\tconst cs = Math.cos( quOverP );\r\n\r\n\t\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\r\n\t\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\r\n\t\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass TubeGeometry extends BufferGeometry {\r\n\r\n\tconstructor( path, tubularSegments = 64, radius = 1, radialSegments = 8, closed = false ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.type = 'TubeGeometry';\r\n\r\n\t\tthis.parameters = {\r\n\t\t\tpath: path,\r\n\t\t\ttubularSegments: tubularSegments,\r\n\t\t\tradius: radius,\r\n\t\t\tradialSegments: radialSegments,\r\n\t\t\tclosed: closed\r\n\t\t};\r\n\r\n\t\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\r\n\r\n\t\t// expose internals\r\n\r\n\t\tthis.tangents = frames.tangents;\r\n\t\tthis.normals = frames.normals;\r\n\t\tthis.binormals = frames.binormals;\r\n\r\n\t\t// helper variables\r\n\r\n\t\tconst vertex = new Vector3();\r\n\t\tconst normal = new Vector3();\r\n\t\tconst uv = new Vector2();\r\n\t\tlet P = new Vector3();\r\n\r\n\t\t// buffer\r\n\r\n\t\tconst vertices = [];\r\n\t\tconst normals = [];\r\n\t\tconst uvs = [];\r\n\t\tconst indices = [];\r\n\r\n\t\t// create buffer data\r\n\r\n\t\tgenerateBufferData();\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setIndex( indices );\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t\t// functions\r\n\r\n\t\tfunction generateBufferData() {\r\n\r\n\t\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\r\n\r\n\t\t\t\tgenerateSegment( i );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// if the geometry is not closed, generate the last row of vertices and normals\r\n\t\t\t// at the regular position on the given path\r\n\t\t\t//\r\n\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\r\n\r\n\t\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\r\n\r\n\t\t\t// uvs are generated in a separate function.\r\n\t\t\t// this makes it easy compute correct values for closed geometries\r\n\r\n\t\t\tgenerateUVs();\r\n\r\n\t\t\t// finally create faces\r\n\r\n\t\t\tgenerateIndices();\r\n\r\n\t\t}\r\n\r\n\t\tfunction generateSegment( i ) {\r\n\r\n\t\t\t// we use getPointAt to sample evenly distributed points from the given path\r\n\r\n\t\t\tP = path.getPointAt( i / tubularSegments, P );\r\n\r\n\t\t\t// retrieve corresponding normal and binormal\r\n\r\n\t\t\tconst N = frames.normals[ i ];\r\n\t\t\tconst B = frames.binormals[ i ];\r\n\r\n\t\t\t// generate normals and vertices for the current segment\r\n\r\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\r\n\r\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\r\n\r\n\t\t\t\tconst sin = Math.sin( v );\r\n\t\t\t\tconst cos = - Math.cos( v );\r\n\r\n\t\t\t\t// normal\r\n\r\n\t\t\t\tnormal.x = ( cos * N.x + sin * B.x );\r\n\t\t\t\tnormal.y = ( cos * N.y + sin * B.y );\r\n\t\t\t\tnormal.z = ( cos * N.z + sin * B.z );\r\n\t\t\t\tnormal.normalize();\r\n\r\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t\t// vertex\r\n\r\n\t\t\t\tvertex.x = P.x + radius * normal.x;\r\n\t\t\t\tvertex.y = P.y + radius * normal.y;\r\n\t\t\t\tvertex.z = P.z + radius * normal.z;\r\n\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction generateIndices() {\r\n\r\n\t\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\r\n\r\n\t\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\r\n\r\n\t\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\r\n\t\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\r\n\t\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\r\n\t\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\r\n\r\n\t\t\t\t\t// faces\r\n\r\n\t\t\t\t\tindices.push( a, b, d );\r\n\t\t\t\t\tindices.push( b, c, d );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction generateUVs() {\r\n\r\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\r\n\r\n\t\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\r\n\r\n\t\t\t\t\tuv.x = i / tubularSegments;\r\n\t\t\t\t\tuv.y = j / radialSegments;\r\n\r\n\t\t\t\t\tuvs.push( uv.x, uv.y );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\ttoJSON() {\r\n\r\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\r\n\r\n\t\tdata.path = this.parameters.path.toJSON();\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass WireframeGeometry extends BufferGeometry {\r\n\r\n\tconstructor( geometry ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.type = 'WireframeGeometry';\r\n\r\n\t\tif ( geometry.isGeometry === true ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t// buffer\r\n\r\n\t\tconst vertices = [];\r\n\r\n\t\t// helper variables\r\n\r\n\t\tconst edge = [ 0, 0 ], edges = {};\r\n\r\n\t\tconst vertex = new Vector3();\r\n\r\n\t\tif ( geometry.index !== null ) {\r\n\r\n\t\t\t// indexed BufferGeometry\r\n\r\n\t\t\tconst position = geometry.attributes.position;\r\n\t\t\tconst indices = geometry.index;\r\n\t\t\tlet groups = geometry.groups;\r\n\r\n\t\t\tif ( groups.length === 0 ) {\r\n\r\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// create a data structure that contains all eges without duplicates\r\n\r\n\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\r\n\r\n\t\t\t\tconst group = groups[ o ];\r\n\r\n\t\t\t\tconst start = group.start;\r\n\t\t\t\tconst count = group.count;\r\n\r\n\t\t\t\tfor ( let i = start, l = ( start + count ); i < l; i += 3 ) {\r\n\r\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\t\t\t\tconst edge1 = indices.getX( i + j );\r\n\t\t\t\t\t\tconst edge2 = indices.getX( i + ( j + 1 ) % 3 );\r\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\r\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\r\n\r\n\t\t\t\t\t\tconst key = edge[ 0 ] + ',' + edge[ 1 ];\r\n\r\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\r\n\r\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// generate vertices\r\n\r\n\t\t\tfor ( const key in edges ) {\r\n\r\n\t\t\t\tconst e = edges[ key ];\r\n\r\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\r\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// non-indexed BufferGeometry\r\n\r\n\t\t\tconst position = geometry.attributes.position;\r\n\r\n\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\r\n\r\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\r\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\r\n\r\n\t\t\t\t\tconst index1 = 3 * i + j;\r\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\r\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\r\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\r\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// build geometry\r\n\r\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar Geometries = /*#__PURE__*/Object.freeze({\r\n\t__proto__: null,\r\n\tBoxGeometry: BoxGeometry,\r\n\tBoxBufferGeometry: BoxGeometry,\r\n\tCircleGeometry: CircleGeometry,\r\n\tCircleBufferGeometry: CircleGeometry,\r\n\tConeGeometry: ConeGeometry,\r\n\tConeBufferGeometry: ConeGeometry,\r\n\tCylinderGeometry: CylinderGeometry,\r\n\tCylinderBufferGeometry: CylinderGeometry,\r\n\tDodecahedronGeometry: DodecahedronGeometry,\r\n\tDodecahedronBufferGeometry: DodecahedronGeometry,\r\n\tEdgesGeometry: EdgesGeometry,\r\n\tExtrudeGeometry: ExtrudeGeometry,\r\n\tExtrudeBufferGeometry: ExtrudeGeometry,\r\n\tIcosahedronGeometry: IcosahedronGeometry,\r\n\tIcosahedronBufferGeometry: IcosahedronGeometry,\r\n\tLatheGeometry: LatheGeometry,\r\n\tLatheBufferGeometry: LatheGeometry,\r\n\tOctahedronGeometry: OctahedronGeometry,\r\n\tOctahedronBufferGeometry: OctahedronGeometry,\r\n\tParametricGeometry: ParametricGeometry,\r\n\tParametricBufferGeometry: ParametricGeometry,\r\n\tPlaneGeometry: PlaneGeometry,\r\n\tPlaneBufferGeometry: PlaneGeometry,\r\n\tPolyhedronGeometry: PolyhedronGeometry,\r\n\tPolyhedronBufferGeometry: PolyhedronGeometry,\r\n\tRingGeometry: RingGeometry,\r\n\tRingBufferGeometry: RingGeometry,\r\n\tShapeGeometry: ShapeGeometry,\r\n\tShapeBufferGeometry: ShapeGeometry,\r\n\tSphereGeometry: SphereGeometry,\r\n\tSphereBufferGeometry: SphereGeometry,\r\n\tTetrahedronGeometry: TetrahedronGeometry,\r\n\tTetrahedronBufferGeometry: TetrahedronGeometry,\r\n\tTextGeometry: TextGeometry,\r\n\tTextBufferGeometry: TextGeometry,\r\n\tTorusGeometry: TorusGeometry,\r\n\tTorusBufferGeometry: TorusGeometry,\r\n\tTorusKnotGeometry: TorusKnotGeometry,\r\n\tTorusKnotBufferGeometry: TorusKnotGeometry,\r\n\tTubeGeometry: TubeGeometry,\r\n\tTubeBufferGeometry: TubeGeometry,\r\n\tWireframeGeometry: WireframeGeometry\r\n});\r\n\r\n/**\r\n * parameters = {\r\n *  color: <THREE.Color>\r\n * }\r\n */\r\n\r\nclass ShadowMaterial extends Material {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'ShadowMaterial';\r\n\r\n\t\tthis.color = new Color( 0x000000 );\r\n\t\tthis.transparent = true;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.color.copy( source.color );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nShadowMaterial.prototype.isShadowMaterial = true;\r\n\r\nclass RawShaderMaterial extends ShaderMaterial {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper( parameters );\r\n\r\n\t\tthis.type = 'RawShaderMaterial';\r\n\r\n\t}\r\n\r\n}\r\n\r\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\r\n\r\n/**\r\n * parameters = {\r\n *  color: <hex>,\r\n *  roughness: <float>,\r\n *  metalness: <float>,\r\n *  opacity: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  emissive: <hex>,\r\n *  emissiveIntensity: <float>\r\n *  emissiveMap: new THREE.Texture( <Image> ),\r\n *\r\n *  bumpMap: new THREE.Texture( <Image> ),\r\n *  bumpScale: <float>,\r\n *\r\n *  normalMap: new THREE.Texture( <Image> ),\r\n *  normalMapType: THREE.TangentSpaceNormalMap,\r\n *  normalScale: <Vector2>,\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  roughnessMap: new THREE.Texture( <Image> ),\r\n *\r\n *  metalnessMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\r\n *  envMapIntensity: <float>\r\n *\r\n *  refractionRatio: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>,\r\n *\r\n *  flatShading: <bool>\r\n * }\r\n */\r\n\r\nfunction MeshStandardMaterial( parameters ) {\r\n\r\n\tMaterial.call( this );\r\n\r\n\tthis.defines = { 'STANDARD': '' };\r\n\r\n\tthis.type = 'MeshStandardMaterial';\r\n\r\n\tthis.color = new Color( 0xffffff ); // diffuse\r\n\tthis.roughness = 1.0;\r\n\tthis.metalness = 0.0;\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.lightMap = null;\r\n\tthis.lightMapIntensity = 1.0;\r\n\r\n\tthis.aoMap = null;\r\n\tthis.aoMapIntensity = 1.0;\r\n\r\n\tthis.emissive = new Color( 0x000000 );\r\n\tthis.emissiveIntensity = 1.0;\r\n\tthis.emissiveMap = null;\r\n\r\n\tthis.bumpMap = null;\r\n\tthis.bumpScale = 1;\r\n\r\n\tthis.normalMap = null;\r\n\tthis.normalMapType = TangentSpaceNormalMap;\r\n\tthis.normalScale = new Vector2( 1, 1 );\r\n\r\n\tthis.displacementMap = null;\r\n\tthis.displacementScale = 1;\r\n\tthis.displacementBias = 0;\r\n\r\n\tthis.roughnessMap = null;\r\n\r\n\tthis.metalnessMap = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.envMap = null;\r\n\tthis.envMapIntensity = 1.0;\r\n\r\n\tthis.refractionRatio = 0.98;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\tthis.wireframeLinecap = 'round';\r\n\tthis.wireframeLinejoin = 'round';\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\tthis.morphNormals = false;\r\n\r\n\tthis.flatShading = false;\r\n\r\n\tthis.vertexTangents = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\r\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\r\n\r\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\r\n\r\nMeshStandardMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.defines = { 'STANDARD': '' };\r\n\r\n\tthis.color.copy( source.color );\r\n\tthis.roughness = source.roughness;\r\n\tthis.metalness = source.metalness;\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.lightMap = source.lightMap;\r\n\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\tthis.aoMap = source.aoMap;\r\n\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\tthis.emissive.copy( source.emissive );\r\n\tthis.emissiveMap = source.emissiveMap;\r\n\tthis.emissiveIntensity = source.emissiveIntensity;\r\n\r\n\tthis.bumpMap = source.bumpMap;\r\n\tthis.bumpScale = source.bumpScale;\r\n\r\n\tthis.normalMap = source.normalMap;\r\n\tthis.normalMapType = source.normalMapType;\r\n\tthis.normalScale.copy( source.normalScale );\r\n\r\n\tthis.displacementMap = source.displacementMap;\r\n\tthis.displacementScale = source.displacementScale;\r\n\tthis.displacementBias = source.displacementBias;\r\n\r\n\tthis.roughnessMap = source.roughnessMap;\r\n\r\n\tthis.metalnessMap = source.metalnessMap;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.envMap = source.envMap;\r\n\tthis.envMapIntensity = source.envMapIntensity;\r\n\r\n\tthis.refractionRatio = source.refractionRatio;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\tthis.flatShading = source.flatShading;\r\n\r\n\tthis.vertexTangents = source.vertexTangents;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * parameters = {\r\n *  clearcoat: <float>,\r\n *  clearcoatMap: new THREE.Texture( <Image> ),\r\n *  clearcoatRoughness: <float>,\r\n *  clearcoatRoughnessMap: new THREE.Texture( <Image> ),\r\n *  clearcoatNormalScale: <Vector2>,\r\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\r\n *\r\n *  reflectivity: <float>,\r\n *  ior: <float>,\r\n *\r\n *  sheen: <Color>,\r\n *\r\n *  transmission: <float>,\r\n *  transmissionMap: new THREE.Texture( <Image> )\r\n * }\r\n */\r\n\r\nfunction MeshPhysicalMaterial( parameters ) {\r\n\r\n\tMeshStandardMaterial.call( this );\r\n\r\n\tthis.defines = {\r\n\r\n\t\t'STANDARD': '',\r\n\t\t'PHYSICAL': ''\r\n\r\n\t};\r\n\r\n\tthis.type = 'MeshPhysicalMaterial';\r\n\r\n\tthis.clearcoat = 0.0;\r\n\tthis.clearcoatMap = null;\r\n\tthis.clearcoatRoughness = 0.0;\r\n\tthis.clearcoatRoughnessMap = null;\r\n\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\r\n\tthis.clearcoatNormalMap = null;\r\n\r\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\r\n\r\n\tObject.defineProperty( this, 'ior', {\r\n\t\tget: function () {\r\n\r\n\t\t\treturn ( 1 + 0.4 * this.reflectivity ) / ( 1 - 0.4 * this.reflectivity );\r\n\r\n\t\t},\r\n\t\tset: function ( ior ) {\r\n\r\n\t\t\tthis.reflectivity = MathUtils.clamp( 2.5 * ( ior - 1 ) / ( ior + 1 ), 0, 1 );\r\n\r\n\t\t}\r\n\t} );\r\n\r\n\tthis.sheen = null; // null will disable sheen bsdf\r\n\r\n\tthis.transmission = 0.0;\r\n\tthis.transmissionMap = null;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n}\r\n\r\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\r\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\r\n\r\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\r\n\r\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\r\n\r\n\tMeshStandardMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.defines = {\r\n\r\n\t\t'STANDARD': '',\r\n\t\t'PHYSICAL': ''\r\n\r\n\t};\r\n\r\n\tthis.clearcoat = source.clearcoat;\r\n\tthis.clearcoatMap = source.clearcoatMap;\r\n\tthis.clearcoatRoughness = source.clearcoatRoughness;\r\n\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\r\n\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\r\n\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\r\n\r\n\tthis.reflectivity = source.reflectivity;\r\n\r\n\tif ( source.sheen ) {\r\n\r\n\t\tthis.sheen = ( this.sheen || new Color() ).copy( source.sheen );\r\n\r\n\t} else {\r\n\r\n\t\tthis.sheen = null;\r\n\r\n\t}\r\n\r\n\tthis.transmission = source.transmission;\r\n\tthis.transmissionMap = source.transmissionMap;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * parameters = {\r\n *  color: <hex>,\r\n *  specular: <hex>,\r\n *  shininess: <float>,\r\n *  opacity: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  emissive: <hex>,\r\n *  emissiveIntensity: <float>\r\n *  emissiveMap: new THREE.Texture( <Image> ),\r\n *\r\n *  bumpMap: new THREE.Texture( <Image> ),\r\n *  bumpScale: <float>,\r\n *\r\n *  normalMap: new THREE.Texture( <Image> ),\r\n *  normalMapType: THREE.TangentSpaceNormalMap,\r\n *  normalScale: <Vector2>,\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  specularMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\r\n *  combine: THREE.MultiplyOperation,\r\n *  reflectivity: <float>,\r\n *  refractionRatio: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>,\r\n *\r\n *  flatShading: <bool>\r\n * }\r\n */\r\n\r\nclass MeshPhongMaterial extends Material {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'MeshPhongMaterial';\r\n\r\n\t\tthis.color = new Color( 0xffffff ); // diffuse\r\n\t\tthis.specular = new Color( 0x111111 );\r\n\t\tthis.shininess = 30;\r\n\r\n\t\tthis.map = null;\r\n\r\n\t\tthis.lightMap = null;\r\n\t\tthis.lightMapIntensity = 1.0;\r\n\r\n\t\tthis.aoMap = null;\r\n\t\tthis.aoMapIntensity = 1.0;\r\n\r\n\t\tthis.emissive = new Color( 0x000000 );\r\n\t\tthis.emissiveIntensity = 1.0;\r\n\t\tthis.emissiveMap = null;\r\n\r\n\t\tthis.bumpMap = null;\r\n\t\tthis.bumpScale = 1;\r\n\r\n\t\tthis.normalMap = null;\r\n\t\tthis.normalMapType = TangentSpaceNormalMap;\r\n\t\tthis.normalScale = new Vector2( 1, 1 );\r\n\r\n\t\tthis.displacementMap = null;\r\n\t\tthis.displacementScale = 1;\r\n\t\tthis.displacementBias = 0;\r\n\r\n\t\tthis.specularMap = null;\r\n\r\n\t\tthis.alphaMap = null;\r\n\r\n\t\tthis.envMap = null;\r\n\t\tthis.combine = MultiplyOperation;\r\n\t\tthis.reflectivity = 1;\r\n\t\tthis.refractionRatio = 0.98;\r\n\r\n\t\tthis.wireframe = false;\r\n\t\tthis.wireframeLinewidth = 1;\r\n\t\tthis.wireframeLinecap = 'round';\r\n\t\tthis.wireframeLinejoin = 'round';\r\n\r\n\t\tthis.skinning = false;\r\n\t\tthis.morphTargets = false;\r\n\t\tthis.morphNormals = false;\r\n\r\n\t\tthis.flatShading = false;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.color.copy( source.color );\r\n\t\tthis.specular.copy( source.specular );\r\n\t\tthis.shininess = source.shininess;\r\n\r\n\t\tthis.map = source.map;\r\n\r\n\t\tthis.lightMap = source.lightMap;\r\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\t\tthis.aoMap = source.aoMap;\r\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\t\tthis.emissive.copy( source.emissive );\r\n\t\tthis.emissiveMap = source.emissiveMap;\r\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\r\n\r\n\t\tthis.bumpMap = source.bumpMap;\r\n\t\tthis.bumpScale = source.bumpScale;\r\n\r\n\t\tthis.normalMap = source.normalMap;\r\n\t\tthis.normalMapType = source.normalMapType;\r\n\t\tthis.normalScale.copy( source.normalScale );\r\n\r\n\t\tthis.displacementMap = source.displacementMap;\r\n\t\tthis.displacementScale = source.displacementScale;\r\n\t\tthis.displacementBias = source.displacementBias;\r\n\r\n\t\tthis.specularMap = source.specularMap;\r\n\r\n\t\tthis.alphaMap = source.alphaMap;\r\n\r\n\t\tthis.envMap = source.envMap;\r\n\t\tthis.combine = source.combine;\r\n\t\tthis.reflectivity = source.reflectivity;\r\n\t\tthis.refractionRatio = source.refractionRatio;\r\n\r\n\t\tthis.wireframe = source.wireframe;\r\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\t\tthis.skinning = source.skinning;\r\n\t\tthis.morphTargets = source.morphTargets;\r\n\t\tthis.morphNormals = source.morphNormals;\r\n\r\n\t\tthis.flatShading = source.flatShading;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\r\n\r\n/**\r\n * parameters = {\r\n *  color: <hex>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *  gradientMap: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  emissive: <hex>,\r\n *  emissiveIntensity: <float>\r\n *  emissiveMap: new THREE.Texture( <Image> ),\r\n *\r\n *  bumpMap: new THREE.Texture( <Image> ),\r\n *  bumpScale: <float>,\r\n *\r\n *  normalMap: new THREE.Texture( <Image> ),\r\n *  normalMapType: THREE.TangentSpaceNormalMap,\r\n *  normalScale: <Vector2>,\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nclass MeshToonMaterial extends Material {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.defines = { 'TOON': '' };\r\n\r\n\t\tthis.type = 'MeshToonMaterial';\r\n\r\n\t\tthis.color = new Color( 0xffffff );\r\n\r\n\t\tthis.map = null;\r\n\t\tthis.gradientMap = null;\r\n\r\n\t\tthis.lightMap = null;\r\n\t\tthis.lightMapIntensity = 1.0;\r\n\r\n\t\tthis.aoMap = null;\r\n\t\tthis.aoMapIntensity = 1.0;\r\n\r\n\t\tthis.emissive = new Color( 0x000000 );\r\n\t\tthis.emissiveIntensity = 1.0;\r\n\t\tthis.emissiveMap = null;\r\n\r\n\t\tthis.bumpMap = null;\r\n\t\tthis.bumpScale = 1;\r\n\r\n\t\tthis.normalMap = null;\r\n\t\tthis.normalMapType = TangentSpaceNormalMap;\r\n\t\tthis.normalScale = new Vector2( 1, 1 );\r\n\r\n\t\tthis.displacementMap = null;\r\n\t\tthis.displacementScale = 1;\r\n\t\tthis.displacementBias = 0;\r\n\r\n\t\tthis.alphaMap = null;\r\n\r\n\t\tthis.wireframe = false;\r\n\t\tthis.wireframeLinewidth = 1;\r\n\t\tthis.wireframeLinecap = 'round';\r\n\t\tthis.wireframeLinejoin = 'round';\r\n\r\n\t\tthis.skinning = false;\r\n\t\tthis.morphTargets = false;\r\n\t\tthis.morphNormals = false;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.color.copy( source.color );\r\n\r\n\t\tthis.map = source.map;\r\n\t\tthis.gradientMap = source.gradientMap;\r\n\r\n\t\tthis.lightMap = source.lightMap;\r\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\t\tthis.aoMap = source.aoMap;\r\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\t\tthis.emissive.copy( source.emissive );\r\n\t\tthis.emissiveMap = source.emissiveMap;\r\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\r\n\r\n\t\tthis.bumpMap = source.bumpMap;\r\n\t\tthis.bumpScale = source.bumpScale;\r\n\r\n\t\tthis.normalMap = source.normalMap;\r\n\t\tthis.normalMapType = source.normalMapType;\r\n\t\tthis.normalScale.copy( source.normalScale );\r\n\r\n\t\tthis.displacementMap = source.displacementMap;\r\n\t\tthis.displacementScale = source.displacementScale;\r\n\t\tthis.displacementBias = source.displacementBias;\r\n\r\n\t\tthis.alphaMap = source.alphaMap;\r\n\r\n\t\tthis.wireframe = source.wireframe;\r\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\t\tthis.skinning = source.skinning;\r\n\t\tthis.morphTargets = source.morphTargets;\r\n\t\tthis.morphNormals = source.morphNormals;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\r\n\r\n/**\r\n * parameters = {\r\n *  opacity: <float>,\r\n *\r\n *  bumpMap: new THREE.Texture( <Image> ),\r\n *  bumpScale: <float>,\r\n *\r\n *  normalMap: new THREE.Texture( <Image> ),\r\n *  normalMapType: THREE.TangentSpaceNormalMap,\r\n *  normalScale: <Vector2>,\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>,\r\n *\r\n *  flatShading: <bool>\r\n * }\r\n */\r\n\r\nclass MeshNormalMaterial extends Material {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'MeshNormalMaterial';\r\n\r\n\t\tthis.bumpMap = null;\r\n\t\tthis.bumpScale = 1;\r\n\r\n\t\tthis.normalMap = null;\r\n\t\tthis.normalMapType = TangentSpaceNormalMap;\r\n\t\tthis.normalScale = new Vector2( 1, 1 );\r\n\r\n\t\tthis.displacementMap = null;\r\n\t\tthis.displacementScale = 1;\r\n\t\tthis.displacementBias = 0;\r\n\r\n\t\tthis.wireframe = false;\r\n\t\tthis.wireframeLinewidth = 1;\r\n\r\n\t\tthis.fog = false;\r\n\r\n\t\tthis.skinning = false;\r\n\t\tthis.morphTargets = false;\r\n\t\tthis.morphNormals = false;\r\n\r\n\t\tthis.flatShading = false;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.bumpMap = source.bumpMap;\r\n\t\tthis.bumpScale = source.bumpScale;\r\n\r\n\t\tthis.normalMap = source.normalMap;\r\n\t\tthis.normalMapType = source.normalMapType;\r\n\t\tthis.normalScale.copy( source.normalScale );\r\n\r\n\t\tthis.displacementMap = source.displacementMap;\r\n\t\tthis.displacementScale = source.displacementScale;\r\n\t\tthis.displacementBias = source.displacementBias;\r\n\r\n\t\tthis.wireframe = source.wireframe;\r\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\r\n\t\tthis.skinning = source.skinning;\r\n\t\tthis.morphTargets = source.morphTargets;\r\n\t\tthis.morphNormals = source.morphNormals;\r\n\r\n\t\tthis.flatShading = source.flatShading;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\r\n\r\n/**\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  emissive: <hex>,\r\n *  emissiveIntensity: <float>\r\n *  emissiveMap: new THREE.Texture( <Image> ),\r\n *\r\n *  specularMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\r\n *  combine: THREE.Multiply,\r\n *  reflectivity: <float>,\r\n *  refractionRatio: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nclass MeshLambertMaterial extends Material {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'MeshLambertMaterial';\r\n\r\n\t\tthis.color = new Color( 0xffffff ); // diffuse\r\n\r\n\t\tthis.map = null;\r\n\r\n\t\tthis.lightMap = null;\r\n\t\tthis.lightMapIntensity = 1.0;\r\n\r\n\t\tthis.aoMap = null;\r\n\t\tthis.aoMapIntensity = 1.0;\r\n\r\n\t\tthis.emissive = new Color( 0x000000 );\r\n\t\tthis.emissiveIntensity = 1.0;\r\n\t\tthis.emissiveMap = null;\r\n\r\n\t\tthis.specularMap = null;\r\n\r\n\t\tthis.alphaMap = null;\r\n\r\n\t\tthis.envMap = null;\r\n\t\tthis.combine = MultiplyOperation;\r\n\t\tthis.reflectivity = 1;\r\n\t\tthis.refractionRatio = 0.98;\r\n\r\n\t\tthis.wireframe = false;\r\n\t\tthis.wireframeLinewidth = 1;\r\n\t\tthis.wireframeLinecap = 'round';\r\n\t\tthis.wireframeLinejoin = 'round';\r\n\r\n\t\tthis.skinning = false;\r\n\t\tthis.morphTargets = false;\r\n\t\tthis.morphNormals = false;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.color.copy( source.color );\r\n\r\n\t\tthis.map = source.map;\r\n\r\n\t\tthis.lightMap = source.lightMap;\r\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\t\tthis.aoMap = source.aoMap;\r\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\t\tthis.emissive.copy( source.emissive );\r\n\t\tthis.emissiveMap = source.emissiveMap;\r\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\r\n\r\n\t\tthis.specularMap = source.specularMap;\r\n\r\n\t\tthis.alphaMap = source.alphaMap;\r\n\r\n\t\tthis.envMap = source.envMap;\r\n\t\tthis.combine = source.combine;\r\n\t\tthis.reflectivity = source.reflectivity;\r\n\t\tthis.refractionRatio = source.refractionRatio;\r\n\r\n\t\tthis.wireframe = source.wireframe;\r\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\t\tthis.skinning = source.skinning;\r\n\t\tthis.morphTargets = source.morphTargets;\r\n\t\tthis.morphNormals = source.morphNormals;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\r\n\r\n/**\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *\r\n *  matcap: new THREE.Texture( <Image> ),\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  bumpMap: new THREE.Texture( <Image> ),\r\n *  bumpScale: <float>,\r\n *\r\n *  normalMap: new THREE.Texture( <Image> ),\r\n *  normalMapType: THREE.TangentSpaceNormalMap,\r\n *  normalScale: <Vector2>,\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n *\r\n *  flatShading: <bool>\r\n * }\r\n */\r\n\r\nclass MeshMatcapMaterial extends Material {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.defines = { 'MATCAP': '' };\r\n\r\n\t\tthis.type = 'MeshMatcapMaterial';\r\n\r\n\t\tthis.color = new Color( 0xffffff ); // diffuse\r\n\r\n\t\tthis.matcap = null;\r\n\r\n\t\tthis.map = null;\r\n\r\n\t\tthis.bumpMap = null;\r\n\t\tthis.bumpScale = 1;\r\n\r\n\t\tthis.normalMap = null;\r\n\t\tthis.normalMapType = TangentSpaceNormalMap;\r\n\t\tthis.normalScale = new Vector2( 1, 1 );\r\n\r\n\t\tthis.displacementMap = null;\r\n\t\tthis.displacementScale = 1;\r\n\t\tthis.displacementBias = 0;\r\n\r\n\t\tthis.alphaMap = null;\r\n\r\n\t\tthis.skinning = false;\r\n\t\tthis.morphTargets = false;\r\n\t\tthis.morphNormals = false;\r\n\r\n\t\tthis.flatShading = false;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.defines = { 'MATCAP': '' };\r\n\r\n\t\tthis.color.copy( source.color );\r\n\r\n\t\tthis.matcap = source.matcap;\r\n\r\n\t\tthis.map = source.map;\r\n\r\n\t\tthis.bumpMap = source.bumpMap;\r\n\t\tthis.bumpScale = source.bumpScale;\r\n\r\n\t\tthis.normalMap = source.normalMap;\r\n\t\tthis.normalMapType = source.normalMapType;\r\n\t\tthis.normalScale.copy( source.normalScale );\r\n\r\n\t\tthis.displacementMap = source.displacementMap;\r\n\t\tthis.displacementScale = source.displacementScale;\r\n\t\tthis.displacementBias = source.displacementBias;\r\n\r\n\t\tthis.alphaMap = source.alphaMap;\r\n\r\n\t\tthis.skinning = source.skinning;\r\n\t\tthis.morphTargets = source.morphTargets;\r\n\t\tthis.morphNormals = source.morphNormals;\r\n\r\n\t\tthis.flatShading = source.flatShading;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\r\n\r\n/**\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *\r\n *  linewidth: <float>,\r\n *\r\n *  scale: <float>,\r\n *  dashSize: <float>,\r\n *  gapSize: <float>\r\n * }\r\n */\r\n\r\nclass LineDashedMaterial extends LineBasicMaterial {\r\n\r\n\tconstructor( parameters ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'LineDashedMaterial';\r\n\r\n\t\tthis.scale = 1;\r\n\t\tthis.dashSize = 3;\r\n\t\tthis.gapSize = 1;\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.scale = source.scale;\r\n\t\tthis.dashSize = source.dashSize;\r\n\t\tthis.gapSize = source.gapSize;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\r\n\r\nvar Materials = /*#__PURE__*/Object.freeze({\r\n\t__proto__: null,\r\n\tShadowMaterial: ShadowMaterial,\r\n\tSpriteMaterial: SpriteMaterial,\r\n\tRawShaderMaterial: RawShaderMaterial,\r\n\tShaderMaterial: ShaderMaterial,\r\n\tPointsMaterial: PointsMaterial,\r\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\r\n\tMeshStandardMaterial: MeshStandardMaterial,\r\n\tMeshPhongMaterial: MeshPhongMaterial,\r\n\tMeshToonMaterial: MeshToonMaterial,\r\n\tMeshNormalMaterial: MeshNormalMaterial,\r\n\tMeshLambertMaterial: MeshLambertMaterial,\r\n\tMeshDepthMaterial: MeshDepthMaterial,\r\n\tMeshDistanceMaterial: MeshDistanceMaterial,\r\n\tMeshBasicMaterial: MeshBasicMaterial,\r\n\tMeshMatcapMaterial: MeshMatcapMaterial,\r\n\tLineDashedMaterial: LineDashedMaterial,\r\n\tLineBasicMaterial: LineBasicMaterial,\r\n\tMaterial: Material\r\n});\r\n\r\nconst AnimationUtils = {\r\n\r\n\t// same as Array.prototype.slice, but also works on typed arrays\r\n\tarraySlice: function ( array, from, to ) {\r\n\r\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\r\n\r\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\r\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\r\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn array.slice( from, to );\r\n\r\n\t},\r\n\r\n\t// converts an array to a specific type\r\n\tconvertArray: function ( array, type, forceClone ) {\r\n\r\n\t\tif ( ! array || // let 'undefined' and 'null' pass\r\n\t\t\t! forceClone && array.constructor === type ) return array;\r\n\r\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\r\n\r\n\t\t\treturn new type( array ); // create typed array\r\n\r\n\t\t}\r\n\r\n\t\treturn Array.prototype.slice.call( array ); // create Array\r\n\r\n\t},\r\n\r\n\tisTypedArray: function ( object ) {\r\n\r\n\t\treturn ArrayBuffer.isView( object ) &&\r\n\t\t\t! ( object instanceof DataView );\r\n\r\n\t},\r\n\r\n\t// returns an array by which times and values can be sorted\r\n\tgetKeyframeOrder: function ( times ) {\r\n\r\n\t\tfunction compareTime( i, j ) {\r\n\r\n\t\t\treturn times[ i ] - times[ j ];\r\n\r\n\t\t}\r\n\r\n\t\tconst n = times.length;\r\n\t\tconst result = new Array( n );\r\n\t\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\r\n\r\n\t\tresult.sort( compareTime );\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\r\n\tsortedArray: function ( values, stride, order ) {\r\n\r\n\t\tconst nValues = values.length;\r\n\t\tconst result = new values.constructor( nValues );\r\n\r\n\t\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\r\n\r\n\t\t\tconst srcOffset = order[ i ] * stride;\r\n\r\n\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\r\n\r\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t// function for parsing AOS keyframe formats\r\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\r\n\r\n\t\tlet i = 1, key = jsonKeys[ 0 ];\r\n\r\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\r\n\r\n\t\t\tkey = jsonKeys[ i ++ ];\r\n\r\n\t\t}\r\n\r\n\t\tif ( key === undefined ) return; // no data\r\n\r\n\t\tlet value = key[ valuePropertyName ];\r\n\t\tif ( value === undefined ) return; // no data\r\n\r\n\t\tif ( Array.isArray( value ) ) {\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\tvalue = key[ valuePropertyName ];\r\n\r\n\t\t\t\tif ( value !== undefined ) {\r\n\r\n\t\t\t\t\ttimes.push( key.time );\r\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkey = jsonKeys[ i ++ ];\r\n\r\n\t\t\t} while ( key !== undefined );\r\n\r\n\t\t} else if ( value.toArray !== undefined ) {\r\n\r\n\t\t\t// ...assume THREE.Math-ish\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\tvalue = key[ valuePropertyName ];\r\n\r\n\t\t\t\tif ( value !== undefined ) {\r\n\r\n\t\t\t\t\ttimes.push( key.time );\r\n\t\t\t\t\tvalue.toArray( values, values.length );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkey = jsonKeys[ i ++ ];\r\n\r\n\t\t\t} while ( key !== undefined );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// otherwise push as-is\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\tvalue = key[ valuePropertyName ];\r\n\r\n\t\t\t\tif ( value !== undefined ) {\r\n\r\n\t\t\t\t\ttimes.push( key.time );\r\n\t\t\t\t\tvalues.push( value );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkey = jsonKeys[ i ++ ];\r\n\r\n\t\t\t} while ( key !== undefined );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps = 30 ) {\r\n\r\n\t\tconst clip = sourceClip.clone();\r\n\r\n\t\tclip.name = name;\r\n\r\n\t\tconst tracks = [];\r\n\r\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\r\n\r\n\t\t\tconst track = clip.tracks[ i ];\r\n\t\t\tconst valueSize = track.getValueSize();\r\n\r\n\t\t\tconst times = [];\r\n\t\t\tconst values = [];\r\n\r\n\t\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\r\n\r\n\t\t\t\tconst frame = track.times[ j ] * fps;\r\n\r\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\r\n\r\n\t\t\t\ttimes.push( track.times[ j ] );\r\n\r\n\t\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\r\n\r\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( times.length === 0 ) continue;\r\n\r\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\r\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\r\n\r\n\t\t\ttracks.push( track );\r\n\r\n\t\t}\r\n\r\n\t\tclip.tracks = tracks;\r\n\r\n\t\t// find minimum .times value across all tracks in the trimmed clip\r\n\r\n\t\tlet minStartTime = Infinity;\r\n\r\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\r\n\r\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\r\n\r\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// shift all tracks such that clip begins at t=0\r\n\r\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\r\n\r\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\r\n\r\n\t\t}\r\n\r\n\t\tclip.resetDuration();\r\n\r\n\t\treturn clip;\r\n\r\n\t},\r\n\r\n\tmakeClipAdditive: function ( targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30 ) {\r\n\r\n\t\tif ( fps <= 0 ) fps = 30;\r\n\r\n\t\tconst numTracks = referenceClip.tracks.length;\r\n\t\tconst referenceTime = referenceFrame / fps;\r\n\r\n\t\t// Make each track's values relative to the values at the reference frame\r\n\t\tfor ( let i = 0; i < numTracks; ++ i ) {\r\n\r\n\t\t\tconst referenceTrack = referenceClip.tracks[ i ];\r\n\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\r\n\r\n\t\t\t// Skip this track if it's non-numeric\r\n\t\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\r\n\r\n\t\t\t// Find the track in the target clip whose name and type matches the reference track\r\n\t\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\r\n\r\n\t\t\t\treturn track.name === referenceTrack.name\r\n\t\t\t\t\t&& track.ValueTypeName === referenceTrackType;\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tif ( targetTrack === undefined ) continue;\r\n\r\n\t\t\tlet referenceOffset = 0;\r\n\t\t\tconst referenceValueSize = referenceTrack.getValueSize();\r\n\r\n\t\t\tif ( referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\r\n\r\n\t\t\t\treferenceOffset = referenceValueSize / 3;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlet targetOffset = 0;\r\n\t\t\tconst targetValueSize = targetTrack.getValueSize();\r\n\r\n\t\t\tif ( targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\r\n\r\n\t\t\t\ttargetOffset = targetValueSize / 3;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst lastIndex = referenceTrack.times.length - 1;\r\n\t\t\tlet referenceValue;\r\n\r\n\t\t\t// Find the value to subtract out of the track\r\n\t\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\r\n\r\n\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\r\n\t\t\t\tconst startIndex = referenceOffset;\r\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\r\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\r\n\r\n\t\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\r\n\r\n\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\r\n\t\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\r\n\t\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\r\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Interpolate to the reference value\r\n\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\r\n\t\t\t\tconst startIndex = referenceOffset;\r\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\r\n\t\t\t\tinterpolant.evaluate( referenceTime );\r\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( interpolant.resultBuffer, startIndex, endIndex );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Conjugate the quaternion\r\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\r\n\r\n\t\t\t\tconst referenceQuat = new Quaternion().fromArray( referenceValue ).normalize().conjugate();\r\n\t\t\t\treferenceQuat.toArray( referenceValue );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Subtract the reference value from all of the track values\r\n\r\n\t\t\tconst numTimes = targetTrack.times.length;\r\n\t\t\tfor ( let j = 0; j < numTimes; ++ j ) {\r\n\r\n\t\t\t\tconst valueStart = j * targetValueSize + targetOffset;\r\n\r\n\t\t\t\tif ( referenceTrackType === 'quaternion' ) {\r\n\r\n\t\t\t\t\t// Multiply the conjugate for quaternion track types\r\n\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(\r\n\t\t\t\t\t\ttargetTrack.values,\r\n\t\t\t\t\t\tvalueStart,\r\n\t\t\t\t\t\treferenceValue,\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\ttargetTrack.values,\r\n\t\t\t\t\t\tvalueStart\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2;\r\n\r\n\t\t\t\t\t// Subtract each value for all other numeric track types\r\n\t\t\t\t\tfor ( let k = 0; k < valueEnd; ++ k ) {\r\n\r\n\t\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\r\n\r\n\t\treturn targetClip;\r\n\r\n\t}\r\n\r\n};\r\n\r\n/**\r\n * Abstract base class of interpolants over parametric samples.\r\n *\r\n * The parameter domain is one dimensional, typically the time or a path\r\n * along a curve defined by the data.\r\n *\r\n * The sample values can have any dimensionality and derived classes may\r\n * apply special interpretations to the data.\r\n *\r\n * This class provides the interval seek in a Template Method, deferring\r\n * the actual interpolation to derived classes.\r\n *\r\n * Time complexity is O(1) for linear access crossing at most two points\r\n * and O(log N) for random access, where N is the number of positions.\r\n *\r\n * References:\r\n *\r\n * \t\thttp://www.oodesign.com/template-method-pattern.html\r\n *\r\n */\r\n\r\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tthis.parameterPositions = parameterPositions;\r\n\tthis._cachedIndex = 0;\r\n\r\n\tthis.resultBuffer = resultBuffer !== undefined ?\r\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\r\n\tthis.sampleValues = sampleValues;\r\n\tthis.valueSize = sampleSize;\r\n\r\n}\r\n\r\nObject.assign( Interpolant.prototype, {\r\n\r\n\tevaluate: function ( t ) {\r\n\r\n\t\tconst pp = this.parameterPositions;\r\n\t\tlet i1 = this._cachedIndex,\r\n\t\t\tt1 = pp[ i1 ],\r\n\t\t\tt0 = pp[ i1 - 1 ];\r\n\r\n\t\tvalidate_interval: {\r\n\r\n\t\t\tseek: {\r\n\r\n\t\t\t\tlet right;\r\n\r\n\t\t\t\tlinear_scan: {\r\n\r\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\r\n\t\t\t\t\t//- slower code:\r\n\t\t\t\t\t//-\r\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\r\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\r\n\r\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\r\n\r\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\r\n\r\n\t\t\t\t\t\t\t\t// after end\r\n\r\n\t\t\t\t\t\t\t\ti1 = pp.length;\r\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\r\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\r\n\r\n\t\t\t\t\t\t\tt0 = t1;\r\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\r\n\r\n\t\t\t\t\t\t\tif ( t < t1 ) {\r\n\r\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\r\n\t\t\t\t\t\t\t\tbreak seek;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// prepare binary search on the right side of the index\r\n\t\t\t\t\t\tright = pp.length;\r\n\t\t\t\t\t\tbreak linear_scan;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//- slower code:\r\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\r\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\r\n\r\n\t\t\t\t\t\t// looping?\r\n\r\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\r\n\r\n\t\t\t\t\t\tif ( t < t1global ) {\r\n\r\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\r\n\t\t\t\t\t\t\tt0 = t1global;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// linear reverse scan\r\n\r\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\r\n\r\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\t// before start\r\n\r\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\r\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\r\n\r\n\t\t\t\t\t\t\tt1 = t0;\r\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\r\n\r\n\t\t\t\t\t\t\tif ( t >= t0 ) {\r\n\r\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\r\n\t\t\t\t\t\t\t\tbreak seek;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// prepare binary search on the left side of the index\r\n\t\t\t\t\t\tright = i1;\r\n\t\t\t\t\t\ti1 = 0;\r\n\t\t\t\t\t\tbreak linear_scan;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// the interval is valid\r\n\r\n\t\t\t\t\tbreak validate_interval;\r\n\r\n\t\t\t\t} // linear scan\r\n\r\n\t\t\t\t// binary search\r\n\r\n\t\t\t\twhile ( i1 < right ) {\r\n\r\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\r\n\r\n\t\t\t\t\tif ( t < pp[ mid ] ) {\r\n\r\n\t\t\t\t\t\tright = mid;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ti1 = mid + 1;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tt1 = pp[ i1 ];\r\n\t\t\t\tt0 = pp[ i1 - 1 ];\r\n\r\n\t\t\t\t// check boundary cases, again\r\n\r\n\t\t\t\tif ( t0 === undefined ) {\r\n\r\n\t\t\t\t\tthis._cachedIndex = 0;\r\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( t1 === undefined ) {\r\n\r\n\t\t\t\t\ti1 = pp.length;\r\n\t\t\t\t\tthis._cachedIndex = i1;\r\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} // seek\r\n\r\n\t\t\tthis._cachedIndex = i1;\r\n\r\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\r\n\r\n\t\t} // validate_interval\r\n\r\n\t\treturn this.interpolate_( i1, t0, t, t1 );\r\n\r\n\t},\r\n\r\n\tsettings: null, // optional, subclass-specific settings structure\r\n\t// Note: The indirection allows central control of many interpolants.\r\n\r\n\t// --- Protected interface\r\n\r\n\tDefaultSettings_: {},\r\n\r\n\tgetSettings_: function () {\r\n\r\n\t\treturn this.settings || this.DefaultSettings_;\r\n\r\n\t},\r\n\r\n\tcopySampleValue_: function ( index ) {\r\n\r\n\t\t// copies a sample value to the result buffer\r\n\r\n\t\tconst result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tstride = this.valueSize,\r\n\t\t\toffset = index * stride;\r\n\r\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tresult[ i ] = values[ offset + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t// Template methods for derived classes:\r\n\r\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\r\n\r\n\t\tthrow new Error( 'call to abstract method' );\r\n\t\t// implementations shall return this.resultBuffer\r\n\r\n\t},\r\n\r\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\r\n\r\n\t\t// empty\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// DECLARE ALIAS AFTER assign prototype\r\nObject.assign( Interpolant.prototype, {\r\n\r\n\t//( 0, t, t0 ), returns this.resultBuffer\r\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\r\n\r\n\t//( N-1, tN-1, t ), returns this.resultBuffer\r\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\r\n\r\n} );\r\n\r\n/**\r\n * Fast and simple cubic spline interpolant.\r\n *\r\n * It was derived from a Hermitian construction setting the first derivative\r\n * at each sample position to the linear slope between neighboring positions\r\n * over their parameter interval.\r\n */\r\n\r\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n\tthis._weightPrev = - 0;\r\n\tthis._offsetPrev = - 0;\r\n\tthis._weightNext = - 0;\r\n\tthis._offsetNext = - 0;\r\n\r\n}\r\n\r\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\r\n\r\n\tconstructor: CubicInterpolant,\r\n\r\n\tDefaultSettings_: {\r\n\r\n\t\tendingStart: ZeroCurvatureEnding,\r\n\t\tendingEnd: ZeroCurvatureEnding\r\n\r\n\t},\r\n\r\n\tintervalChanged_: function ( i1, t0, t1 ) {\r\n\r\n\t\tconst pp = this.parameterPositions;\r\n\t\tlet iPrev = i1 - 2,\r\n\t\t\tiNext = i1 + 1,\r\n\r\n\t\t\ttPrev = pp[ iPrev ],\r\n\t\t\ttNext = pp[ iNext ];\r\n\r\n\t\tif ( tPrev === undefined ) {\r\n\r\n\t\t\tswitch ( this.getSettings_().endingStart ) {\r\n\r\n\t\t\t\tcase ZeroSlopeEnding:\r\n\r\n\t\t\t\t\t// f'(t0) = 0\r\n\t\t\t\t\tiPrev = i1;\r\n\t\t\t\t\ttPrev = 2 * t0 - t1;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase WrapAroundEnding:\r\n\r\n\t\t\t\t\t// use the other end of the curve\r\n\t\t\t\t\tiPrev = pp.length - 2;\r\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault: // ZeroCurvatureEnding\r\n\r\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\r\n\t\t\t\t\tiPrev = i1;\r\n\t\t\t\t\ttPrev = t1;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( tNext === undefined ) {\r\n\r\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\r\n\r\n\t\t\t\tcase ZeroSlopeEnding:\r\n\r\n\t\t\t\t\t// f'(tN) = 0\r\n\t\t\t\t\tiNext = i1;\r\n\t\t\t\t\ttNext = 2 * t1 - t0;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase WrapAroundEnding:\r\n\r\n\t\t\t\t\t// use the other end of the curve\r\n\t\t\t\t\tiNext = 1;\r\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault: // ZeroCurvatureEnding\r\n\r\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\r\n\t\t\t\t\tiNext = i1 - 1;\r\n\t\t\t\t\ttNext = t0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\r\n\t\t\tstride = this.valueSize;\r\n\r\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\r\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\r\n\t\tthis._offsetPrev = iPrev * stride;\r\n\t\tthis._offsetNext = iNext * stride;\r\n\r\n\t},\r\n\r\n\tinterpolate_: function ( i1, t0, t, t1 ) {\r\n\r\n\t\tconst result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tstride = this.valueSize,\r\n\r\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\r\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\r\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\r\n\r\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\r\n\t\t\tpp = p * p,\r\n\t\t\tppp = pp * p;\r\n\r\n\t\t// evaluate polynomials\r\n\r\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\r\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\r\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\r\n\t\tconst sN = wN * ppp - wN * pp;\r\n\r\n\t\t// combine data linearly\r\n\r\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tresult[ i ] =\r\n\t\t\t\t\tsP * values[ oP + i ] +\r\n\t\t\t\t\ts0 * values[ o0 + i ] +\r\n\t\t\t\t\ts1 * values[ o1 + i ] +\r\n\t\t\t\t\tsN * values[ oN + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n}\r\n\r\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\r\n\r\n\tconstructor: LinearInterpolant,\r\n\r\n\tinterpolate_: function ( i1, t0, t, t1 ) {\r\n\r\n\t\tconst result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tstride = this.valueSize,\r\n\r\n\t\t\toffset1 = i1 * stride,\r\n\t\t\toffset0 = offset1 - stride,\r\n\r\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\r\n\t\t\tweight0 = 1 - weight1;\r\n\r\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tresult[ i ] =\r\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\r\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * Interpolant that evaluates to the sample value at the position preceeding\r\n * the parameter.\r\n */\r\n\r\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n}\r\n\r\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\r\n\r\n\tconstructor: DiscreteInterpolant,\r\n\r\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\r\n\r\n\t\treturn this.copySampleValue_( i1 - 1 );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nclass KeyframeTrack {\r\n\r\n\tconstructor( name, times, values, interpolation ) {\r\n\r\n\t\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\r\n\t\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\r\n\r\n\t\tthis.name = name;\r\n\r\n\t\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\r\n\t\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\r\n\r\n\t\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\r\n\r\n\t}\r\n\r\n\t// Serialization (in static context, because of constructor invocation\r\n\t// and automatic invocation of .toJSON):\r\n\r\n\tstatic toJSON( track ) {\r\n\r\n\t\tconst trackType = track.constructor;\r\n\r\n\t\tlet json;\r\n\r\n\t\t// derived classes can define a static toJSON method\r\n\t\tif ( trackType.toJSON !== this.toJSON ) {\r\n\r\n\t\t\tjson = trackType.toJSON( track );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// by default, we assume the data can be serialized as-is\r\n\t\t\tjson = {\r\n\r\n\t\t\t\t'name': track.name,\r\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\r\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\r\n\r\n\t\t\t};\r\n\r\n\t\t\tconst interpolation = track.getInterpolation();\r\n\r\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\r\n\r\n\t\t\t\tjson.interpolation = interpolation;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tjson.type = track.ValueTypeName; // mandatory\r\n\r\n\t\treturn json;\r\n\r\n\t}\r\n\r\n\tInterpolantFactoryMethodDiscrete( result ) {\r\n\r\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\r\n\r\n\t}\r\n\r\n\tInterpolantFactoryMethodLinear( result ) {\r\n\r\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\r\n\r\n\t}\r\n\r\n\tInterpolantFactoryMethodSmooth( result ) {\r\n\r\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\r\n\r\n\t}\r\n\r\n\tsetInterpolation( interpolation ) {\r\n\r\n\t\tlet factoryMethod;\r\n\r\n\t\tswitch ( interpolation ) {\r\n\r\n\t\t\tcase InterpolateDiscrete:\r\n\r\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase InterpolateLinear:\r\n\r\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase InterpolateSmooth:\r\n\r\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( factoryMethod === undefined ) {\r\n\r\n\t\t\tconst message = 'unsupported interpolation for ' +\r\n\t\t\t\tthis.ValueTypeName + ' keyframe track named ' + this.name;\r\n\r\n\t\t\tif ( this.createInterpolant === undefined ) {\r\n\r\n\t\t\t\t// fall back to default, unless the default itself is messed up\r\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\r\n\r\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tthis.createInterpolant = factoryMethod;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetInterpolation() {\r\n\r\n\t\tswitch ( this.createInterpolant ) {\r\n\r\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\r\n\r\n\t\t\t\treturn InterpolateDiscrete;\r\n\r\n\t\t\tcase this.InterpolantFactoryMethodLinear:\r\n\r\n\t\t\t\treturn InterpolateLinear;\r\n\r\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\r\n\r\n\t\t\t\treturn InterpolateSmooth;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tgetValueSize() {\r\n\r\n\t\treturn this.values.length / this.times.length;\r\n\r\n\t}\r\n\r\n\t// move all keyframes either forwards or backwards in time\r\n\tshift( timeOffset ) {\r\n\r\n\t\tif ( timeOffset !== 0.0 ) {\r\n\r\n\t\t\tconst times = this.times;\r\n\r\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\ttimes[ i ] += timeOffset;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\r\n\tscale( timeScale ) {\r\n\r\n\t\tif ( timeScale !== 1.0 ) {\r\n\r\n\t\t\tconst times = this.times;\r\n\r\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\ttimes[ i ] *= timeScale;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\r\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\r\n\ttrim( startTime, endTime ) {\r\n\r\n\t\tconst times = this.times,\r\n\t\t\tnKeys = times.length;\r\n\r\n\t\tlet from = 0,\r\n\t\t\tto = nKeys - 1;\r\n\r\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\r\n\r\n\t\t\t++ from;\r\n\r\n\t\t}\r\n\r\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\r\n\r\n\t\t\t-- to;\r\n\r\n\t\t}\r\n\r\n\t\t++ to; // inclusive -> exclusive bound\r\n\r\n\t\tif ( from !== 0 || to !== nKeys ) {\r\n\r\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\r\n\t\t\tif ( from >= to ) {\r\n\r\n\t\t\t\tto = Math.max( to, 1 );\r\n\t\t\t\tfrom = to - 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst stride = this.getValueSize();\r\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\r\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\r\n\tvalidate() {\r\n\r\n\t\tlet valid = true;\r\n\r\n\t\tconst valueSize = this.getValueSize();\r\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\r\n\r\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\r\n\t\t\tvalid = false;\r\n\r\n\t\t}\r\n\r\n\t\tconst times = this.times,\r\n\t\t\tvalues = this.values,\r\n\r\n\t\t\tnKeys = times.length;\r\n\r\n\t\tif ( nKeys === 0 ) {\r\n\r\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\r\n\t\t\tvalid = false;\r\n\r\n\t\t}\r\n\r\n\t\tlet prevTime = null;\r\n\r\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\r\n\r\n\t\t\tconst currTime = times[ i ];\r\n\r\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\r\n\t\t\t\tvalid = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\r\n\t\t\t\tvalid = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tprevTime = currTime;\r\n\r\n\t\t}\r\n\r\n\t\tif ( values !== undefined ) {\r\n\r\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\r\n\r\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\t\tconst value = values[ i ];\r\n\r\n\t\t\t\t\tif ( isNaN( value ) ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\r\n\t\t\t\t\t\tvalid = false;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn valid;\r\n\r\n\t}\r\n\r\n\t// removes equivalent sequential keys as common in morph target sequences\r\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\r\n\toptimize() {\r\n\r\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\r\n\t\tconst times = AnimationUtils.arraySlice( this.times ),\r\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\r\n\t\t\tstride = this.getValueSize(),\r\n\r\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\r\n\r\n\t\t\tlastIndex = times.length - 1;\r\n\r\n\t\tlet writeIndex = 1;\r\n\r\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\r\n\r\n\t\t\tlet keep = false;\r\n\r\n\t\t\tconst time = times[ i ];\r\n\t\t\tconst timeNext = times[ i + 1 ];\r\n\r\n\t\t\t// remove adjacent keyframes scheduled at the same time\r\n\r\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== times[ 0 ] ) ) {\r\n\r\n\t\t\t\tif ( ! smoothInterpolation ) {\r\n\r\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\r\n\r\n\t\t\t\t\tconst offset = i * stride,\r\n\t\t\t\t\t\toffsetP = offset - stride,\r\n\t\t\t\t\t\toffsetN = offset + stride;\r\n\r\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\r\n\r\n\t\t\t\t\t\tconst value = values[ offset + j ];\r\n\r\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\r\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\r\n\r\n\t\t\t\t\t\t\tkeep = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tkeep = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// in-place compaction\r\n\r\n\t\t\tif ( keep ) {\r\n\r\n\t\t\t\tif ( i !== writeIndex ) {\r\n\r\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\r\n\r\n\t\t\t\t\tconst readOffset = i * stride,\r\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\r\n\r\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\r\n\r\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t++ writeIndex;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// flush last keyframe (compaction looks ahead)\r\n\r\n\t\tif ( lastIndex > 0 ) {\r\n\r\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\r\n\r\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\r\n\r\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\t++ writeIndex;\r\n\r\n\t\t}\r\n\r\n\t\tif ( writeIndex !== times.length ) {\r\n\r\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\r\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.times = times;\r\n\t\t\tthis.values = values;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\tconst times = AnimationUtils.arraySlice( this.times, 0 );\r\n\t\tconst values = AnimationUtils.arraySlice( this.values, 0 );\r\n\r\n\t\tconst TypedKeyframeTrack = this.constructor;\r\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\r\n\r\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\r\n\t\ttrack.createInterpolant = this.createInterpolant;\r\n\r\n\t\treturn track;\r\n\r\n\t}\r\n\r\n}\r\n\r\nKeyframeTrack.prototype.TimeBufferType = Float32Array;\r\nKeyframeTrack.prototype.ValueBufferType = Float32Array;\r\nKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\r\n\r\n/**\r\n * A Track of Boolean keyframe values.\r\n */\r\nclass BooleanKeyframeTrack extends KeyframeTrack {}\r\n\r\nBooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\r\nBooleanKeyframeTrack.prototype.ValueBufferType = Array;\r\nBooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\r\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\r\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\r\n\r\n/**\r\n * A Track of keyframe values that represent color.\r\n */\r\nclass ColorKeyframeTrack extends KeyframeTrack {}\r\n\r\nColorKeyframeTrack.prototype.ValueTypeName = 'color';\r\n\r\n/**\r\n * A Track of numeric keyframe values.\r\n */\r\nclass NumberKeyframeTrack extends KeyframeTrack {}\r\n\r\nNumberKeyframeTrack.prototype.ValueTypeName = 'number';\r\n\r\n/**\r\n * Spherical linear unit quaternion interpolant.\r\n */\r\n\r\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n}\r\n\r\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\r\n\r\n\tconstructor: QuaternionLinearInterpolant,\r\n\r\n\tinterpolate_: function ( i1, t0, t, t1 ) {\r\n\r\n\t\tconst result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tstride = this.valueSize,\r\n\r\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\r\n\r\n\t\tlet offset = i1 * stride;\r\n\r\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\r\n\r\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * A Track of quaternion keyframe values.\r\n */\r\nclass QuaternionKeyframeTrack extends KeyframeTrack {\r\n\r\n\tInterpolantFactoryMethodLinear( result ) {\r\n\r\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\r\n\r\n\t}\r\n\r\n}\r\n\r\nQuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion';\r\n// ValueBufferType is inherited\r\nQuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\r\nQuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\r\n\r\n/**\r\n * A Track that interpolates Strings\r\n */\r\nclass StringKeyframeTrack extends KeyframeTrack {}\r\n\r\nStringKeyframeTrack.prototype.ValueTypeName = 'string';\r\nStringKeyframeTrack.prototype.ValueBufferType = Array;\r\nStringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\r\nStringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\r\nStringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\r\n\r\n/**\r\n * A Track of vectored keyframe values.\r\n */\r\nclass VectorKeyframeTrack extends KeyframeTrack {}\r\n\r\nVectorKeyframeTrack.prototype.ValueTypeName = 'vector';\r\n\r\nclass AnimationClip {\r\n\r\n\tconstructor( name, duration = - 1, tracks, blendMode = NormalAnimationBlendMode ) {\r\n\r\n\t\tthis.name = name;\r\n\t\tthis.tracks = tracks;\r\n\t\tthis.duration = duration;\r\n\t\tthis.blendMode = blendMode;\r\n\r\n\t\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\t\t// this means it should figure out its duration by scanning the tracks\r\n\t\tif ( this.duration < 0 ) {\r\n\r\n\t\t\tthis.resetDuration();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\tstatic parse( json ) {\r\n\r\n\t\tconst tracks = [],\r\n\t\t\tjsonTracks = json.tracks,\r\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\r\n\r\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\r\n\r\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\r\n\r\n\t\t}\r\n\r\n\t\tconst clip = new this( json.name, json.duration, tracks, json.blendMode );\r\n\t\tclip.uuid = json.uuid;\r\n\r\n\t\treturn clip;\r\n\r\n\t}\r\n\r\n\tstatic toJSON( clip ) {\r\n\r\n\t\tconst tracks = [],\r\n\t\t\tclipTracks = clip.tracks;\r\n\r\n\t\tconst json = {\r\n\r\n\t\t\t'name': clip.name,\r\n\t\t\t'duration': clip.duration,\r\n\t\t\t'tracks': tracks,\r\n\t\t\t'uuid': clip.uuid,\r\n\t\t\t'blendMode': clip.blendMode\r\n\r\n\t\t};\r\n\r\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\r\n\r\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn json;\r\n\r\n\t}\r\n\r\n\tstatic CreateFromMorphTargetSequence( name, morphTargetSequence, fps, noLoop ) {\r\n\r\n\t\tconst numMorphTargets = morphTargetSequence.length;\r\n\t\tconst tracks = [];\r\n\r\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\r\n\r\n\t\t\tlet times = [];\r\n\t\t\tlet values = [];\r\n\r\n\t\t\ttimes.push(\r\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\r\n\t\t\t\ti,\r\n\t\t\t\t( i + 1 ) % numMorphTargets );\r\n\r\n\t\t\tvalues.push( 0, 1, 0 );\r\n\r\n\t\t\tconst order = AnimationUtils.getKeyframeOrder( times );\r\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\r\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\r\n\r\n\t\t\t// if there is a key at the first frame, duplicate it as the\r\n\t\t\t// last frame as well for perfect loop.\r\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\r\n\r\n\t\t\t\ttimes.push( numMorphTargets );\r\n\t\t\t\tvalues.push( values[ 0 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttracks.push(\r\n\t\t\t\tnew NumberKeyframeTrack(\r\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\r\n\t\t\t\t\ttimes, values\r\n\t\t\t\t).scale( 1.0 / fps ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn new this( name, - 1, tracks );\r\n\r\n\t}\r\n\r\n\tstatic findByName( objectOrClipArray, name ) {\r\n\r\n\t\tlet clipArray = objectOrClipArray;\r\n\r\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\r\n\r\n\t\t\tconst o = objectOrClipArray;\r\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\r\n\r\n\t\t\tif ( clipArray[ i ].name === name ) {\r\n\r\n\t\t\t\treturn clipArray[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n\tstatic CreateClipsFromMorphTargetSequences( morphTargets, fps, noLoop ) {\r\n\r\n\t\tconst animationToMorphTargets = {};\r\n\r\n\t\t// tested with https://regex101.com/ on trick sequences\r\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\r\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\r\n\r\n\t\t// sort morph target names into animation groups based\r\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\r\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\r\n\r\n\t\t\tconst morphTarget = morphTargets[ i ];\r\n\t\t\tconst parts = morphTarget.name.match( pattern );\r\n\r\n\t\t\tif ( parts && parts.length > 1 ) {\r\n\r\n\t\t\t\tconst name = parts[ 1 ];\r\n\r\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\r\n\r\n\t\t\t\tif ( ! animationMorphTargets ) {\r\n\r\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tanimationMorphTargets.push( morphTarget );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst clips = [];\r\n\r\n\t\tfor ( const name in animationToMorphTargets ) {\r\n\r\n\t\t\tclips.push( this.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn clips;\r\n\r\n\t}\r\n\r\n\t// parse the animation.hierarchy format\r\n\tstatic parseAnimation( animation, bones ) {\r\n\r\n\t\tif ( ! animation ) {\r\n\r\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\r\n\r\n\t\t\t// only return track if there are actually keys.\r\n\t\t\tif ( animationKeys.length !== 0 ) {\r\n\r\n\t\t\t\tconst times = [];\r\n\t\t\t\tconst values = [];\r\n\r\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\r\n\r\n\t\t\t\t// empty keys are filtered out, so check again\r\n\t\t\t\tif ( times.length !== 0 ) {\r\n\r\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tconst tracks = [];\r\n\r\n\t\tconst clipName = animation.name || 'default';\r\n\t\tconst fps = animation.fps || 30;\r\n\t\tconst blendMode = animation.blendMode;\r\n\r\n\t\t// automatic length determination in AnimationClip.\r\n\t\tlet duration = animation.length || - 1;\r\n\r\n\t\tconst hierarchyTracks = animation.hierarchy || [];\r\n\r\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\r\n\r\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\r\n\r\n\t\t\t// skip empty tracks\r\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\r\n\r\n\t\t\t// process morph targets\r\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\r\n\r\n\t\t\t\t// figure out all morph targets used in this track\r\n\t\t\t\tconst morphTargetNames = {};\r\n\r\n\t\t\t\tlet k;\r\n\r\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\r\n\r\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\r\n\r\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\r\n\r\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// create a track for each morph target with all zero\r\n\t\t\t\t// morphTargetInfluences except for the keys in which\r\n\t\t\t\t// the morphTarget is named.\r\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\r\n\r\n\t\t\t\t\tconst times = [];\r\n\t\t\t\t\tconst values = [];\r\n\r\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\r\n\r\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\r\n\r\n\t\t\t\t\t\ttimes.push( animationKey.time );\r\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// ...assume skeletal animation\r\n\r\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\r\n\r\n\t\t\t\taddNonemptyTrack(\r\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\r\n\t\t\t\t\tanimationKeys, 'pos', tracks );\r\n\r\n\t\t\t\taddNonemptyTrack(\r\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\r\n\t\t\t\t\tanimationKeys, 'rot', tracks );\r\n\r\n\t\t\t\taddNonemptyTrack(\r\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\r\n\t\t\t\t\tanimationKeys, 'scl', tracks );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( tracks.length === 0 ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tconst clip = new this( clipName, duration, tracks, blendMode );\r\n\r\n\t\treturn clip;\r\n\r\n\t}\r\n\r\n\tresetDuration() {\r\n\r\n\t\tconst tracks = this.tracks;\r\n\t\tlet duration = 0;\r\n\r\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\r\n\r\n\t\t\tconst track = this.tracks[ i ];\r\n\r\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\r\n\r\n\t\t}\r\n\r\n\t\tthis.duration = duration;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttrim() {\r\n\r\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\r\n\r\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tvalidate() {\r\n\r\n\t\tlet valid = true;\r\n\r\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\r\n\r\n\t\t\tvalid = valid && this.tracks[ i ].validate();\r\n\r\n\t\t}\r\n\r\n\t\treturn valid;\r\n\r\n\t}\r\n\r\n\toptimize() {\r\n\r\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\r\n\r\n\t\t\tthis.tracks[ i ].optimize();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\tconst tracks = [];\r\n\r\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\r\n\r\n\t\t\ttracks.push( this.tracks[ i ].clone() );\r\n\r\n\t\t}\r\n\r\n\t\treturn new this.constructor( this.name, this.duration, tracks, this.blendMode );\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\treturn this.constructor.toJSON( this );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction getTrackTypeForValueTypeName( typeName ) {\r\n\r\n\tswitch ( typeName.toLowerCase() ) {\r\n\r\n\t\tcase 'scalar':\r\n\t\tcase 'double':\r\n\t\tcase 'float':\r\n\t\tcase 'number':\r\n\t\tcase 'integer':\r\n\r\n\t\t\treturn NumberKeyframeTrack;\r\n\r\n\t\tcase 'vector':\r\n\t\tcase 'vector2':\r\n\t\tcase 'vector3':\r\n\t\tcase 'vector4':\r\n\r\n\t\t\treturn VectorKeyframeTrack;\r\n\r\n\t\tcase 'color':\r\n\r\n\t\t\treturn ColorKeyframeTrack;\r\n\r\n\t\tcase 'quaternion':\r\n\r\n\t\t\treturn QuaternionKeyframeTrack;\r\n\r\n\t\tcase 'bool':\r\n\t\tcase 'boolean':\r\n\r\n\t\t\treturn BooleanKeyframeTrack;\r\n\r\n\t\tcase 'string':\r\n\r\n\t\t\treturn StringKeyframeTrack;\r\n\r\n\t}\r\n\r\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\r\n\r\n}\r\n\r\nfunction parseKeyframeTrack( json ) {\r\n\r\n\tif ( json.type === undefined ) {\r\n\r\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\r\n\r\n\t}\r\n\r\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\r\n\r\n\tif ( json.times === undefined ) {\r\n\r\n\t\tconst times = [], values = [];\r\n\r\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\r\n\r\n\t\tjson.times = times;\r\n\t\tjson.values = values;\r\n\r\n\t}\r\n\r\n\t// derived classes can define a static parse method\r\n\tif ( trackType.parse !== undefined ) {\r\n\r\n\t\treturn trackType.parse( json );\r\n\r\n\t} else {\r\n\r\n\t\t// by default, we assume a constructor compatible with the base\r\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst Cache = {\r\n\r\n\tenabled: false,\r\n\r\n\tfiles: {},\r\n\r\n\tadd: function ( key, file ) {\r\n\r\n\t\tif ( this.enabled === false ) return;\r\n\r\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\r\n\r\n\t\tthis.files[ key ] = file;\r\n\r\n\t},\r\n\r\n\tget: function ( key ) {\r\n\r\n\t\tif ( this.enabled === false ) return;\r\n\r\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\r\n\r\n\t\treturn this.files[ key ];\r\n\r\n\t},\r\n\r\n\tremove: function ( key ) {\r\n\r\n\t\tdelete this.files[ key ];\r\n\r\n\t},\r\n\r\n\tclear: function () {\r\n\r\n\t\tthis.files = {};\r\n\r\n\t}\r\n\r\n};\r\n\r\nfunction LoadingManager( onLoad, onProgress, onError ) {\r\n\r\n\tconst scope = this;\r\n\r\n\tlet isLoading = false;\r\n\tlet itemsLoaded = 0;\r\n\tlet itemsTotal = 0;\r\n\tlet urlModifier = undefined;\r\n\tconst handlers = [];\r\n\r\n\t// Refer to #5689 for the reason why we don't set .onStart\r\n\t// in the constructor\r\n\r\n\tthis.onStart = undefined;\r\n\tthis.onLoad = onLoad;\r\n\tthis.onProgress = onProgress;\r\n\tthis.onError = onError;\r\n\r\n\tthis.itemStart = function ( url ) {\r\n\r\n\t\titemsTotal ++;\r\n\r\n\t\tif ( isLoading === false ) {\r\n\r\n\t\t\tif ( scope.onStart !== undefined ) {\r\n\r\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tisLoading = true;\r\n\r\n\t};\r\n\r\n\tthis.itemEnd = function ( url ) {\r\n\r\n\t\titemsLoaded ++;\r\n\r\n\t\tif ( scope.onProgress !== undefined ) {\r\n\r\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\r\n\r\n\t\t}\r\n\r\n\t\tif ( itemsLoaded === itemsTotal ) {\r\n\r\n\t\t\tisLoading = false;\r\n\r\n\t\t\tif ( scope.onLoad !== undefined ) {\r\n\r\n\t\t\t\tscope.onLoad();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.itemError = function ( url ) {\r\n\r\n\t\tif ( scope.onError !== undefined ) {\r\n\r\n\t\t\tscope.onError( url );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.resolveURL = function ( url ) {\r\n\r\n\t\tif ( urlModifier ) {\r\n\r\n\t\t\treturn urlModifier( url );\r\n\r\n\t\t}\r\n\r\n\t\treturn url;\r\n\r\n\t};\r\n\r\n\tthis.setURLModifier = function ( transform ) {\r\n\r\n\t\turlModifier = transform;\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tthis.addHandler = function ( regex, loader ) {\r\n\r\n\t\thandlers.push( regex, loader );\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tthis.removeHandler = function ( regex ) {\r\n\r\n\t\tconst index = handlers.indexOf( regex );\r\n\r\n\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\thandlers.splice( index, 2 );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tthis.getHandler = function ( file ) {\r\n\r\n\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\r\n\r\n\t\t\tconst regex = handlers[ i ];\r\n\t\t\tconst loader = handlers[ i + 1 ];\r\n\r\n\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\r\n\r\n\t\t\tif ( regex.test( file ) ) {\r\n\r\n\t\t\t\treturn loader;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t};\r\n\r\n}\r\n\r\nconst DefaultLoadingManager = new LoadingManager();\r\n\r\nfunction Loader( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\r\n\r\n\tthis.crossOrigin = 'anonymous';\r\n\tthis.withCredentials = false;\r\n\tthis.path = '';\r\n\tthis.resourcePath = '';\r\n\tthis.requestHeader = {};\r\n\r\n}\r\n\r\nObject.assign( Loader.prototype, {\r\n\r\n\tload: function ( /* url, onLoad, onProgress, onError */ ) {},\r\n\r\n\tloadAsync: function ( url, onProgress ) {\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\treturn new Promise( function ( resolve, reject ) {\r\n\r\n\t\t\tscope.load( url, resolve, onProgress, reject );\r\n\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\tparse: function ( /* data */ ) {},\r\n\r\n\tsetCrossOrigin: function ( crossOrigin ) {\r\n\r\n\t\tthis.crossOrigin = crossOrigin;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetWithCredentials: function ( value ) {\r\n\r\n\t\tthis.withCredentials = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetPath: function ( path ) {\r\n\r\n\t\tthis.path = path;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetResourcePath: function ( resourcePath ) {\r\n\r\n\t\tthis.resourcePath = resourcePath;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRequestHeader: function ( requestHeader ) {\r\n\r\n\t\tthis.requestHeader = requestHeader;\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nconst loading = {};\r\n\r\nfunction FileLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nFileLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: FileLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( url === undefined ) url = '';\r\n\r\n\t\tif ( this.path !== undefined ) url = this.path + url;\r\n\r\n\t\turl = this.manager.resolveURL( url );\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst cached = Cache.get( url );\r\n\r\n\t\tif ( cached !== undefined ) {\r\n\r\n\t\t\tscope.manager.itemStart( url );\r\n\r\n\t\t\tsetTimeout( function () {\r\n\r\n\t\t\t\tif ( onLoad ) onLoad( cached );\r\n\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}, 0 );\r\n\r\n\t\t\treturn cached;\r\n\r\n\t\t}\r\n\r\n\t\t// Check if request is duplicate\r\n\r\n\t\tif ( loading[ url ] !== undefined ) {\r\n\r\n\t\t\tloading[ url ].push( {\r\n\r\n\t\t\t\tonLoad: onLoad,\r\n\t\t\t\tonProgress: onProgress,\r\n\t\t\t\tonError: onError\r\n\r\n\t\t\t} );\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t// Check for data: URI\r\n\t\tconst dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\r\n\t\tconst dataUriRegexResult = url.match( dataUriRegex );\r\n\t\tlet request;\r\n\r\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\r\n\t\tif ( dataUriRegexResult ) {\r\n\r\n\t\t\tconst mimeType = dataUriRegexResult[ 1 ];\r\n\t\t\tconst isBase64 = !! dataUriRegexResult[ 2 ];\r\n\r\n\t\t\tlet data = dataUriRegexResult[ 3 ];\r\n\t\t\tdata = decodeURIComponent( data );\r\n\r\n\t\t\tif ( isBase64 ) data = atob( data );\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tlet response;\r\n\t\t\t\tconst responseType = ( this.responseType || '' ).toLowerCase();\r\n\r\n\t\t\t\tswitch ( responseType ) {\r\n\r\n\t\t\t\t\tcase 'arraybuffer':\r\n\t\t\t\t\tcase 'blob':\r\n\r\n\t\t\t\t\t\tconst view = new Uint8Array( data.length );\r\n\r\n\t\t\t\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\r\n\r\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\r\n\r\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tresponse = view.buffer;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'document':\r\n\r\n\t\t\t\t\t\tconst parser = new DOMParser();\r\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'json':\r\n\r\n\t\t\t\t\t\tresponse = JSON.parse( data );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault: // 'text' or other\r\n\r\n\t\t\t\t\t\tresponse = data;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\r\n\t\t\t\tsetTimeout( function () {\r\n\r\n\t\t\t\t\tif ( onLoad ) onLoad( response );\r\n\r\n\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t}, 0 );\r\n\r\n\t\t\t} catch ( error ) {\r\n\r\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\r\n\t\t\t\tsetTimeout( function () {\r\n\r\n\t\t\t\t\tif ( onError ) onError( error );\r\n\r\n\t\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t}, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Initialise array for duplicate requests\r\n\r\n\t\t\tloading[ url ] = [];\r\n\r\n\t\t\tloading[ url ].push( {\r\n\r\n\t\t\t\tonLoad: onLoad,\r\n\t\t\t\tonProgress: onProgress,\r\n\t\t\t\tonError: onError\r\n\r\n\t\t\t} );\r\n\r\n\t\t\trequest = new XMLHttpRequest();\r\n\r\n\t\t\trequest.open( 'GET', url, true );\r\n\r\n\t\t\trequest.addEventListener( 'load', function ( event ) {\r\n\r\n\t\t\t\tconst response = this.response;\r\n\r\n\t\t\t\tconst callbacks = loading[ url ];\r\n\r\n\t\t\t\tdelete loading[ url ];\r\n\r\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\r\n\r\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\r\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\r\n\r\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\r\n\r\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\r\n\t\t\t\t\t// error response bodies as proper responses to requests.\r\n\t\t\t\t\tCache.add( url, response );\r\n\r\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst callback = callbacks[ i ];\r\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tconst callback = callbacks[ i ];\r\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, false );\r\n\r\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\r\n\r\n\t\t\t\tconst callbacks = loading[ url ];\r\n\r\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tconst callback = callbacks[ i ];\r\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, false );\r\n\r\n\t\t\trequest.addEventListener( 'error', function ( event ) {\r\n\r\n\t\t\t\tconst callbacks = loading[ url ];\r\n\r\n\t\t\t\tdelete loading[ url ];\r\n\r\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tconst callback = callbacks[ i ];\r\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}, false );\r\n\r\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\r\n\r\n\t\t\t\tconst callbacks = loading[ url ];\r\n\r\n\t\t\t\tdelete loading[ url ];\r\n\r\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tconst callback = callbacks[ i ];\r\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}, false );\r\n\r\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\r\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\r\n\r\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\r\n\r\n\t\t\tfor ( const header in this.requestHeader ) {\r\n\r\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\trequest.send( null );\r\n\r\n\t\t}\r\n\r\n\t\tscope.manager.itemStart( url );\r\n\r\n\t\treturn request;\r\n\r\n\t},\r\n\r\n\tsetResponseType: function ( value ) {\r\n\r\n\t\tthis.responseType = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetMimeType: function ( value ) {\r\n\r\n\t\tthis.mimeType = value;\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nclass AnimationLoader extends Loader {\r\n\r\n\tconstructor( manager ) {\r\n\r\n\t\tsuper( manager );\r\n\r\n\t}\r\n\r\n\tload( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst loader = new FileLoader( this.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\r\n\r\n\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t}\r\n\r\n\tparse( json ) {\r\n\r\n\t\tconst animations = [];\r\n\r\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\r\n\r\n\t\t\tconst clip = AnimationClip.parse( json[ i ] );\r\n\r\n\t\t\tanimations.push( clip );\r\n\r\n\t\t}\r\n\r\n\t\treturn animations;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Abstract Base class to block based textures loader (dds, pvr, ...)\r\n *\r\n * Sub classes have to implement the parse() method which will be used in load().\r\n */\r\n\r\nfunction CompressedTextureLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nCompressedTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: CompressedTextureLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst images = [];\r\n\r\n\t\tconst texture = new CompressedTexture();\r\n\r\n\t\tconst loader = new FileLoader( this.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\tloader.setWithCredentials( scope.withCredentials );\r\n\r\n\t\tlet loaded = 0;\r\n\r\n\t\tfunction loadTexture( i ) {\r\n\r\n\t\t\tloader.load( url[ i ], function ( buffer ) {\r\n\r\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\r\n\r\n\t\t\t\timages[ i ] = {\r\n\t\t\t\t\twidth: texDatas.width,\r\n\t\t\t\t\theight: texDatas.height,\r\n\t\t\t\t\tformat: texDatas.format,\r\n\t\t\t\t\tmipmaps: texDatas.mipmaps\r\n\t\t\t\t};\r\n\r\n\t\t\t\tloaded += 1;\r\n\r\n\t\t\t\tif ( loaded === 6 ) {\r\n\r\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 ) texture.minFilter = LinearFilter;\r\n\r\n\t\t\t\t\ttexture.image = images;\r\n\t\t\t\t\ttexture.format = texDatas.format;\r\n\t\t\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\tif ( Array.isArray( url ) ) {\r\n\r\n\t\t\tfor ( let i = 0, il = url.length; i < il; ++ i ) {\r\n\r\n\t\t\t\tloadTexture( i );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// compressed cubemap texture stored in a single DDS file\r\n\r\n\t\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\r\n\r\n\t\t\t\tif ( texDatas.isCubemap ) {\r\n\r\n\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\r\n\r\n\t\t\t\t\tfor ( let f = 0; f < faces; f ++ ) {\r\n\r\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\r\n\r\n\t\t\t\t\t\tfor ( let i = 0; i < texDatas.mipmapCount; i ++ ) {\r\n\r\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\r\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\r\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\r\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttexture.image = images;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttexture.image.width = texDatas.width;\r\n\t\t\t\t\ttexture.image.height = texDatas.height;\r\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\r\n\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture.format = texDatas.format;\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nclass ImageLoader extends Loader {\r\n\r\n\tconstructor( manager ) {\r\n\r\n\t\tsuper( manager );\r\n\r\n\t}\r\n\r\n\tload( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( this.path !== undefined ) url = this.path + url;\r\n\r\n\t\turl = this.manager.resolveURL( url );\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst cached = Cache.get( url );\r\n\r\n\t\tif ( cached !== undefined ) {\r\n\r\n\t\t\tscope.manager.itemStart( url );\r\n\r\n\t\t\tsetTimeout( function () {\r\n\r\n\t\t\t\tif ( onLoad ) onLoad( cached );\r\n\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}, 0 );\r\n\r\n\t\t\treturn cached;\r\n\r\n\t\t}\r\n\r\n\t\tconst image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\r\n\r\n\t\tfunction onImageLoad() {\r\n\r\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\r\n\t\t\timage.removeEventListener( 'error', onImageError, false );\r\n\r\n\t\t\tCache.add( url, this );\r\n\r\n\t\t\tif ( onLoad ) onLoad( this );\r\n\r\n\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t}\r\n\r\n\t\tfunction onImageError( event ) {\r\n\r\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\r\n\t\t\timage.removeEventListener( 'error', onImageError, false );\r\n\r\n\t\t\tif ( onError ) onError( event );\r\n\r\n\t\t\tscope.manager.itemError( url );\r\n\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t}\r\n\r\n\t\timage.addEventListener( 'load', onImageLoad, false );\r\n\t\timage.addEventListener( 'error', onImageError, false );\r\n\r\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\r\n\r\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\r\n\r\n\t\t}\r\n\r\n\t\tscope.manager.itemStart( url );\r\n\r\n\t\timage.src = url;\r\n\r\n\t\treturn image;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass CubeTextureLoader extends Loader {\r\n\r\n\tconstructor( manager ) {\r\n\r\n\t\tsuper( manager );\r\n\r\n\t}\r\n\r\n\tload( urls, onLoad, onProgress, onError ) {\r\n\r\n\t\tconst texture = new CubeTexture();\r\n\r\n\t\tconst loader = new ImageLoader( this.manager );\r\n\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\t\tloader.setPath( this.path );\r\n\r\n\t\tlet loaded = 0;\r\n\r\n\t\tfunction loadTexture( i ) {\r\n\r\n\t\t\tloader.load( urls[ i ], function ( image ) {\r\n\r\n\t\t\t\ttexture.images[ i ] = image;\r\n\r\n\t\t\t\tloaded ++;\r\n\r\n\t\t\t\tif ( loaded === 6 ) {\r\n\r\n\t\t\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, undefined, onError );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\r\n\r\n\t\t\tloadTexture( i );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\r\n *\r\n * Sub classes have to implement the parse() method which will be used in load().\r\n */\r\n\r\nfunction DataTextureLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nDataTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: DataTextureLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst texture = new DataTexture();\r\n\r\n\t\tconst loader = new FileLoader( this.manager );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setWithCredentials( scope.withCredentials );\r\n\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\tconst texData = scope.parse( buffer );\r\n\r\n\t\t\tif ( ! texData ) return;\r\n\r\n\t\t\tif ( texData.image !== undefined ) {\r\n\r\n\t\t\t\ttexture.image = texData.image;\r\n\r\n\t\t\t} else if ( texData.data !== undefined ) {\r\n\r\n\t\t\t\ttexture.image.width = texData.width;\r\n\t\t\t\ttexture.image.height = texData.height;\r\n\t\t\t\ttexture.image.data = texData.data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\r\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\r\n\r\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\r\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\r\n\r\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\r\n\r\n\t\t\tif ( texData.encoding !== undefined ) {\r\n\r\n\t\t\t\ttexture.encoding = texData.encoding;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( texData.flipY !== undefined ) {\r\n\r\n\t\t\t\ttexture.flipY = texData.flipY;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( texData.format !== undefined ) {\r\n\r\n\t\t\t\ttexture.format = texData.format;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( texData.type !== undefined ) {\r\n\r\n\t\t\t\ttexture.type = texData.type;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( texData.mipmaps !== undefined ) {\r\n\r\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\r\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( texData.mipmapCount === 1 ) {\r\n\r\n\t\t\t\ttexture.minFilter = LinearFilter;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( texData.generateMipmaps !== undefined ) {\r\n\r\n\t\t\t\ttexture.generateMipmaps = texData.generateMipmaps;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\tif ( onLoad ) onLoad( texture, texData );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction TextureLoader( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n}\r\n\r\nTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: TextureLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tconst texture = new Texture();\r\n\r\n\t\tconst loader = new ImageLoader( this.manager );\r\n\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\t\tloader.setPath( this.path );\r\n\r\n\t\tloader.load( url, function ( image ) {\r\n\r\n\t\t\ttexture.image = image;\r\n\r\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\r\n\t\t\tconst isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\r\n\r\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\r\n\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\tif ( onLoad !== undefined ) {\r\n\r\n\t\t\t\tonLoad( texture );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * Extensible curve object.\r\n *\r\n * Some common of curve methods:\r\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\r\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\r\n * .getPoints(), .getSpacedPoints()\r\n * .getLength()\r\n * .updateArcLengths()\r\n *\r\n * This following curves inherit from THREE.Curve:\r\n *\r\n * -- 2D curves --\r\n * THREE.ArcCurve\r\n * THREE.CubicBezierCurve\r\n * THREE.EllipseCurve\r\n * THREE.LineCurve\r\n * THREE.QuadraticBezierCurve\r\n * THREE.SplineCurve\r\n *\r\n * -- 3D curves --\r\n * THREE.CatmullRomCurve3\r\n * THREE.CubicBezierCurve3\r\n * THREE.LineCurve3\r\n * THREE.QuadraticBezierCurve3\r\n *\r\n * A series of curves can be represented as a THREE.CurvePath.\r\n *\r\n **/\r\n\r\nfunction Curve() {\r\n\r\n\tthis.type = 'Curve';\r\n\r\n\tthis.arcLengthDivisions = 200;\r\n\r\n}\r\n\r\nObject.assign( Curve.prototype, {\r\n\r\n\t// Virtual base class method to overwrite and implement in subclasses\r\n\t//\t- t [0 .. 1]\r\n\r\n\tgetPoint: function ( /* t, optionalTarget */ ) {\r\n\r\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\r\n\t\treturn null;\r\n\r\n\t},\r\n\r\n\t// Get point at relative position in curve according to arc length\r\n\t// - u [0 .. 1]\r\n\r\n\tgetPointAt: function ( u, optionalTarget ) {\r\n\r\n\t\tconst t = this.getUtoTmapping( u );\r\n\t\treturn this.getPoint( t, optionalTarget );\r\n\r\n\t},\r\n\r\n\t// Get sequence of points using getPoint( t )\r\n\r\n\tgetPoints: function ( divisions = 5 ) {\r\n\r\n\t\tconst points = [];\r\n\r\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\r\n\r\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn points;\r\n\r\n\t},\r\n\r\n\t// Get sequence of points using getPointAt( u )\r\n\r\n\tgetSpacedPoints: function ( divisions = 5 ) {\r\n\r\n\t\tconst points = [];\r\n\r\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\r\n\r\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn points;\r\n\r\n\t},\r\n\r\n\t// Get total curve arc length\r\n\r\n\tgetLength: function () {\r\n\r\n\t\tconst lengths = this.getLengths();\r\n\t\treturn lengths[ lengths.length - 1 ];\r\n\r\n\t},\r\n\r\n\t// Get list of cumulative segment lengths\r\n\r\n\tgetLengths: function ( divisions ) {\r\n\r\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\r\n\r\n\t\tif ( this.cacheArcLengths &&\r\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\r\n\t\t\t! this.needsUpdate ) {\r\n\r\n\t\t\treturn this.cacheArcLengths;\r\n\r\n\t\t}\r\n\r\n\t\tthis.needsUpdate = false;\r\n\r\n\t\tconst cache = [];\r\n\t\tlet current, last = this.getPoint( 0 );\r\n\t\tlet sum = 0;\r\n\r\n\t\tcache.push( 0 );\r\n\r\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\r\n\r\n\t\t\tcurrent = this.getPoint( p / divisions );\r\n\t\t\tsum += current.distanceTo( last );\r\n\t\t\tcache.push( sum );\r\n\t\t\tlast = current;\r\n\r\n\t\t}\r\n\r\n\t\tthis.cacheArcLengths = cache;\r\n\r\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\r\n\r\n\t},\r\n\r\n\tupdateArcLengths: function () {\r\n\r\n\t\tthis.needsUpdate = true;\r\n\t\tthis.getLengths();\r\n\r\n\t},\r\n\r\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\r\n\r\n\tgetUtoTmapping: function ( u, distance ) {\r\n\r\n\t\tconst arcLengths = this.getLengths();\r\n\r\n\t\tlet i = 0;\r\n\t\tconst il = arcLengths.length;\r\n\r\n\t\tlet targetArcLength; // The targeted u distance value to get\r\n\r\n\t\tif ( distance ) {\r\n\r\n\t\t\ttargetArcLength = distance;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\r\n\r\n\t\t}\r\n\r\n\t\t// binary search for the index with largest value smaller than target u distance\r\n\r\n\t\tlet low = 0, high = il - 1, comparison;\r\n\r\n\t\twhile ( low <= high ) {\r\n\r\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\r\n\r\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\r\n\r\n\t\t\tif ( comparison < 0 ) {\r\n\r\n\t\t\t\tlow = i + 1;\r\n\r\n\t\t\t} else if ( comparison > 0 ) {\r\n\r\n\t\t\t\thigh = i - 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\thigh = i;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\t// DONE\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\ti = high;\r\n\r\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\r\n\r\n\t\t\treturn i / ( il - 1 );\r\n\r\n\t\t}\r\n\r\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\r\n\r\n\t\tconst lengthBefore = arcLengths[ i ];\r\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\r\n\r\n\t\tconst segmentLength = lengthAfter - lengthBefore;\r\n\r\n\t\t// determine where we are between the 'before' and 'after' points\r\n\r\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\r\n\r\n\t\t// add that fractional amount to t\r\n\r\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\r\n\r\n\t\treturn t;\r\n\r\n\t},\r\n\r\n\t// Returns a unit vector tangent at t\r\n\t// In case any sub curve does not implement its tangent derivation,\r\n\t// 2 points a small delta apart will be used to find its gradient\r\n\t// which seems to give a reasonable approximation\r\n\r\n\tgetTangent: function ( t, optionalTarget ) {\r\n\r\n\t\tconst delta = 0.0001;\r\n\t\tlet t1 = t - delta;\r\n\t\tlet t2 = t + delta;\r\n\r\n\t\t// Capping in case of danger\r\n\r\n\t\tif ( t1 < 0 ) t1 = 0;\r\n\t\tif ( t2 > 1 ) t2 = 1;\r\n\r\n\t\tconst pt1 = this.getPoint( t1 );\r\n\t\tconst pt2 = this.getPoint( t2 );\r\n\r\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\r\n\r\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\r\n\r\n\t\treturn tangent;\r\n\r\n\t},\r\n\r\n\tgetTangentAt: function ( u, optionalTarget ) {\r\n\r\n\t\tconst t = this.getUtoTmapping( u );\r\n\t\treturn this.getTangent( t, optionalTarget );\r\n\r\n\t},\r\n\r\n\tcomputeFrenetFrames: function ( segments, closed ) {\r\n\r\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\r\n\r\n\t\tconst normal = new Vector3();\r\n\r\n\t\tconst tangents = [];\r\n\t\tconst normals = [];\r\n\t\tconst binormals = [];\r\n\r\n\t\tconst vec = new Vector3();\r\n\t\tconst mat = new Matrix4();\r\n\r\n\t\t// compute the tangent vectors for each segment on the curve\r\n\r\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\r\n\r\n\t\t\tconst u = i / segments;\r\n\r\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\r\n\t\t\ttangents[ i ].normalize();\r\n\r\n\t\t}\r\n\r\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\r\n\t\t// and in the direction of the minimum tangent xyz component\r\n\r\n\t\tnormals[ 0 ] = new Vector3();\r\n\t\tbinormals[ 0 ] = new Vector3();\r\n\t\tlet min = Number.MAX_VALUE;\r\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\r\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\r\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\r\n\r\n\t\tif ( tx <= min ) {\r\n\r\n\t\t\tmin = tx;\r\n\t\t\tnormal.set( 1, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( ty <= min ) {\r\n\r\n\t\t\tmin = ty;\r\n\t\t\tnormal.set( 0, 1, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( tz <= min ) {\r\n\r\n\t\t\tnormal.set( 0, 0, 1 );\r\n\r\n\t\t}\r\n\r\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\r\n\r\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\r\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\r\n\r\n\r\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\r\n\r\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\r\n\r\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\r\n\r\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\r\n\r\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\r\n\r\n\t\t\tif ( vec.length() > Number.EPSILON ) {\r\n\r\n\t\t\t\tvec.normalize();\r\n\r\n\t\t\t\tconst theta = Math.acos( MathUtils.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\r\n\r\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\r\n\r\n\t\tif ( closed === true ) {\r\n\r\n\t\t\tlet theta = Math.acos( MathUtils.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\r\n\t\t\ttheta /= segments;\r\n\r\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\r\n\r\n\t\t\t\ttheta = - theta;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\r\n\r\n\t\t\t\t// twist a little...\r\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\r\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttangents: tangents,\r\n\t\t\tnormals: normals,\r\n\t\t\tbinormals: binormals\r\n\t\t};\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tconst data = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.5,\r\n\t\t\t\ttype: 'Curve',\r\n\t\t\t\tgenerator: 'Curve.toJSON'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\r\n\t\tdata.type = this.type;\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tfromJSON: function ( json ) {\r\n\r\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nclass EllipseCurve extends Curve {\r\n\r\n\tconstructor( aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = Math.PI * 2, aClockwise = false, aRotation = 0 ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'EllipseCurve';\r\n\r\n\t\tthis.aX = aX;\r\n\t\tthis.aY = aY;\r\n\r\n\t\tthis.xRadius = xRadius;\r\n\t\tthis.yRadius = yRadius;\r\n\r\n\t\tthis.aStartAngle = aStartAngle;\r\n\t\tthis.aEndAngle = aEndAngle;\r\n\r\n\t\tthis.aClockwise = aClockwise;\r\n\r\n\t\tthis.aRotation = aRotation;\r\n\r\n\t}\r\n\r\n\tgetPoint( t, optionalTarget ) {\r\n\r\n\t\tconst point = optionalTarget || new Vector2();\r\n\r\n\t\tconst twoPi = Math.PI * 2;\r\n\t\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\r\n\t\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\r\n\r\n\t\t// ensures that deltaAngle is 0 .. 2 PI\r\n\t\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\r\n\t\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\r\n\r\n\t\tif ( deltaAngle < Number.EPSILON ) {\r\n\r\n\t\t\tif ( samePoints ) {\r\n\r\n\t\t\t\tdeltaAngle = 0;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tdeltaAngle = twoPi;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.aClockwise === true && ! samePoints ) {\r\n\r\n\t\t\tif ( deltaAngle === twoPi ) {\r\n\r\n\t\t\t\tdeltaAngle = - twoPi;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tdeltaAngle = deltaAngle - twoPi;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst angle = this.aStartAngle + t * deltaAngle;\r\n\t\tlet x = this.aX + this.xRadius * Math.cos( angle );\r\n\t\tlet y = this.aY + this.yRadius * Math.sin( angle );\r\n\r\n\t\tif ( this.aRotation !== 0 ) {\r\n\r\n\t\t\tconst cos = Math.cos( this.aRotation );\r\n\t\t\tconst sin = Math.sin( this.aRotation );\r\n\r\n\t\t\tconst tx = x - this.aX;\r\n\t\t\tconst ty = y - this.aY;\r\n\r\n\t\t\t// Rotate the point about the center of the ellipse.\r\n\t\t\tx = tx * cos - ty * sin + this.aX;\r\n\t\t\ty = tx * sin + ty * cos + this.aY;\r\n\r\n\t\t}\r\n\r\n\t\treturn point.set( x, y );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.aX = source.aX;\r\n\t\tthis.aY = source.aY;\r\n\r\n\t\tthis.xRadius = source.xRadius;\r\n\t\tthis.yRadius = source.yRadius;\r\n\r\n\t\tthis.aStartAngle = source.aStartAngle;\r\n\t\tthis.aEndAngle = source.aEndAngle;\r\n\r\n\t\tthis.aClockwise = source.aClockwise;\r\n\r\n\t\tthis.aRotation = source.aRotation;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = super.toJSON();\r\n\r\n\t\tdata.aX = this.aX;\r\n\t\tdata.aY = this.aY;\r\n\r\n\t\tdata.xRadius = this.xRadius;\r\n\t\tdata.yRadius = this.yRadius;\r\n\r\n\t\tdata.aStartAngle = this.aStartAngle;\r\n\t\tdata.aEndAngle = this.aEndAngle;\r\n\r\n\t\tdata.aClockwise = this.aClockwise;\r\n\r\n\t\tdata.aRotation = this.aRotation;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n\tfromJSON( json ) {\r\n\r\n\t\tsuper.fromJSON( json );\r\n\r\n\t\tthis.aX = json.aX;\r\n\t\tthis.aY = json.aY;\r\n\r\n\t\tthis.xRadius = json.xRadius;\r\n\t\tthis.yRadius = json.yRadius;\r\n\r\n\t\tthis.aStartAngle = json.aStartAngle;\r\n\t\tthis.aEndAngle = json.aEndAngle;\r\n\r\n\t\tthis.aClockwise = json.aClockwise;\r\n\r\n\t\tthis.aRotation = json.aRotation;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nEllipseCurve.prototype.isEllipseCurve = true;\r\n\r\nclass ArcCurve extends EllipseCurve {\r\n\r\n\tconstructor( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\r\n\r\n\t\tsuper( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\r\n\r\n\t\tthis.type = 'ArcCurve';\r\n\r\n\t}\r\n\r\n}\r\n\r\nArcCurve.prototype.isArcCurve = true;\r\n\r\n/**\r\n * Centripetal CatmullRom Curve - which is useful for avoiding\r\n * cusps and self-intersections in non-uniform catmull rom curves.\r\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\r\n *\r\n * curve.type accepts centripetal(default), chordal and catmullrom\r\n * curve.tension is used for catmullrom which defaults to 0.5\r\n */\r\n\r\n\r\n/*\r\nBased on an optimized c++ solution in\r\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\r\n - http://ideone.com/NoEbVM\r\n\r\nThis CubicPoly class could be used for reusing some variables and calculations,\r\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\r\nwhich can be placed in CurveUtils.\r\n*/\r\n\r\nfunction CubicPoly() {\r\n\r\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\r\n\r\n\t/*\r\n\t * Compute coefficients for a cubic polynomial\r\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\r\n\t * such that\r\n\t *   p(0) = x0, p(1) = x1\r\n\t *  and\r\n\t *   p'(0) = t0, p'(1) = t1.\r\n\t */\r\n\tfunction init( x0, x1, t0, t1 ) {\r\n\r\n\t\tc0 = x0;\r\n\t\tc1 = t0;\r\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\r\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\r\n\r\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\r\n\r\n\t\t},\r\n\r\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\r\n\r\n\t\t\t// compute tangents when parameterized in [t1,t2]\r\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\r\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\r\n\r\n\t\t\t// rescale tangents for parametrization in [0,1]\r\n\t\t\tt1 *= dt1;\r\n\t\t\tt2 *= dt1;\r\n\r\n\t\t\tinit( x1, x2, t1, t2 );\r\n\r\n\t\t},\r\n\r\n\t\tcalc: function ( t ) {\r\n\r\n\t\t\tconst t2 = t * t;\r\n\t\t\tconst t3 = t2 * t;\r\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}\r\n\r\n//\r\n\r\nconst tmp = new Vector3();\r\nconst px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\r\n\r\nclass CatmullRomCurve3 extends Curve {\r\n\r\n\tconstructor( points = [], closed = false, curveType = 'centripetal', tension = 0.5 ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'CatmullRomCurve3';\r\n\r\n\t\tthis.points = points;\r\n\t\tthis.closed = closed;\r\n\t\tthis.curveType = curveType;\r\n\t\tthis.tension = tension;\r\n\r\n\t}\r\n\r\n\tgetPoint( t, optionalTarget = new Vector3() ) {\r\n\r\n\t\tconst point = optionalTarget;\r\n\r\n\t\tconst points = this.points;\r\n\t\tconst l = points.length;\r\n\r\n\t\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\r\n\t\tlet intPoint = Math.floor( p );\r\n\t\tlet weight = p - intPoint;\r\n\r\n\t\tif ( this.closed ) {\r\n\r\n\t\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\r\n\r\n\t\t} else if ( weight === 0 && intPoint === l - 1 ) {\r\n\r\n\t\t\tintPoint = l - 2;\r\n\t\t\tweight = 1;\r\n\r\n\t\t}\r\n\r\n\t\tlet p0, p3; // 4 points (p1 & p2 defined below)\r\n\r\n\t\tif ( this.closed || intPoint > 0 ) {\r\n\r\n\t\t\tp0 = points[ ( intPoint - 1 ) % l ];\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// extrapolate first point\r\n\t\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\r\n\t\t\tp0 = tmp;\r\n\r\n\t\t}\r\n\r\n\t\tconst p1 = points[ intPoint % l ];\r\n\t\tconst p2 = points[ ( intPoint + 1 ) % l ];\r\n\r\n\t\tif ( this.closed || intPoint + 2 < l ) {\r\n\r\n\t\t\tp3 = points[ ( intPoint + 2 ) % l ];\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// extrapolate last point\r\n\t\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\r\n\t\t\tp3 = tmp;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\r\n\r\n\t\t\t// init Centripetal / Chordal Catmull-Rom\r\n\t\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\r\n\t\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\r\n\t\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\r\n\t\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\r\n\r\n\t\t\t// safety check for repeated points\r\n\t\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\r\n\t\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\r\n\t\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\r\n\r\n\t\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\r\n\t\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\r\n\t\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\r\n\r\n\t\t} else if ( this.curveType === 'catmullrom' ) {\r\n\r\n\t\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\r\n\t\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\r\n\t\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\r\n\r\n\t\t}\r\n\r\n\t\tpoint.set(\r\n\t\t\tpx.calc( weight ),\r\n\t\t\tpy.calc( weight ),\r\n\t\t\tpz.calc( weight )\r\n\t\t);\r\n\r\n\t\treturn point;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.points = [];\r\n\r\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst point = source.points[ i ];\r\n\r\n\t\t\tthis.points.push( point.clone() );\r\n\r\n\t\t}\r\n\r\n\t\tthis.closed = source.closed;\r\n\t\tthis.curveType = source.curveType;\r\n\t\tthis.tension = source.tension;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = super.toJSON();\r\n\r\n\t\tdata.points = [];\r\n\r\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst point = this.points[ i ];\r\n\t\t\tdata.points.push( point.toArray() );\r\n\r\n\t\t}\r\n\r\n\t\tdata.closed = this.closed;\r\n\t\tdata.curveType = this.curveType;\r\n\t\tdata.tension = this.tension;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n\tfromJSON( json ) {\r\n\r\n\t\tsuper.fromJSON( json );\r\n\r\n\t\tthis.points = [];\r\n\r\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst point = json.points[ i ];\r\n\t\t\tthis.points.push( new Vector3().fromArray( point ) );\r\n\r\n\t\t}\r\n\r\n\t\tthis.closed = json.closed;\r\n\t\tthis.curveType = json.curveType;\r\n\t\tthis.tension = json.tension;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\r\n\r\n/**\r\n * Bezier Curves formulas obtained from\r\n * http://en.wikipedia.org/wiki/Bézier_curve\r\n */\r\n\r\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\r\n\r\n\tconst v0 = ( p2 - p0 ) * 0.5;\r\n\tconst v1 = ( p3 - p1 ) * 0.5;\r\n\tconst t2 = t * t;\r\n\tconst t3 = t * t2;\r\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\r\n\r\n}\r\n\r\n//\r\n\r\nfunction QuadraticBezierP0( t, p ) {\r\n\r\n\tconst k = 1 - t;\r\n\treturn k * k * p;\r\n\r\n}\r\n\r\nfunction QuadraticBezierP1( t, p ) {\r\n\r\n\treturn 2 * ( 1 - t ) * t * p;\r\n\r\n}\r\n\r\nfunction QuadraticBezierP2( t, p ) {\r\n\r\n\treturn t * t * p;\r\n\r\n}\r\n\r\nfunction QuadraticBezier( t, p0, p1, p2 ) {\r\n\r\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\r\n\t\tQuadraticBezierP2( t, p2 );\r\n\r\n}\r\n\r\n//\r\n\r\nfunction CubicBezierP0( t, p ) {\r\n\r\n\tconst k = 1 - t;\r\n\treturn k * k * k * p;\r\n\r\n}\r\n\r\nfunction CubicBezierP1( t, p ) {\r\n\r\n\tconst k = 1 - t;\r\n\treturn 3 * k * k * t * p;\r\n\r\n}\r\n\r\nfunction CubicBezierP2( t, p ) {\r\n\r\n\treturn 3 * ( 1 - t ) * t * t * p;\r\n\r\n}\r\n\r\nfunction CubicBezierP3( t, p ) {\r\n\r\n\treturn t * t * t * p;\r\n\r\n}\r\n\r\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\r\n\r\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\r\n\t\tCubicBezierP3( t, p3 );\r\n\r\n}\r\n\r\nclass CubicBezierCurve extends Curve {\r\n\r\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2() ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'CubicBezierCurve';\r\n\r\n\t\tthis.v0 = v0;\r\n\t\tthis.v1 = v1;\r\n\t\tthis.v2 = v2;\r\n\t\tthis.v3 = v3;\r\n\r\n\t}\r\n\r\n\tgetPoint( t, optionalTarget = new Vector2() ) {\r\n\r\n\t\tconst point = optionalTarget;\r\n\r\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\r\n\r\n\t\tpoint.set(\r\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\r\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\r\n\t\t);\r\n\r\n\t\treturn point;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.v0.copy( source.v0 );\r\n\t\tthis.v1.copy( source.v1 );\r\n\t\tthis.v2.copy( source.v2 );\r\n\t\tthis.v3.copy( source.v3 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = super.toJSON();\r\n\r\n\t\tdata.v0 = this.v0.toArray();\r\n\t\tdata.v1 = this.v1.toArray();\r\n\t\tdata.v2 = this.v2.toArray();\r\n\t\tdata.v3 = this.v3.toArray();\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n\tfromJSON( json ) {\r\n\r\n\t\tsuper.fromJSON( json );\r\n\r\n\t\tthis.v0.fromArray( json.v0 );\r\n\t\tthis.v1.fromArray( json.v1 );\r\n\t\tthis.v2.fromArray( json.v2 );\r\n\t\tthis.v3.fromArray( json.v3 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\r\n\r\nclass CubicBezierCurve3 extends Curve {\r\n\r\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3() ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'CubicBezierCurve3';\r\n\r\n\t\tthis.v0 = v0;\r\n\t\tthis.v1 = v1;\r\n\t\tthis.v2 = v2;\r\n\t\tthis.v3 = v3;\r\n\r\n\t}\r\n\r\n\tgetPoint( t, optionalTarget = new Vector3() ) {\r\n\r\n\t\tconst point = optionalTarget;\r\n\r\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\r\n\r\n\t\tpoint.set(\r\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\r\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\r\n\t\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\r\n\t\t);\r\n\r\n\t\treturn point;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.v0.copy( source.v0 );\r\n\t\tthis.v1.copy( source.v1 );\r\n\t\tthis.v2.copy( source.v2 );\r\n\t\tthis.v3.copy( source.v3 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = super.toJSON();\r\n\r\n\t\tdata.v0 = this.v0.toArray();\r\n\t\tdata.v1 = this.v1.toArray();\r\n\t\tdata.v2 = this.v2.toArray();\r\n\t\tdata.v3 = this.v3.toArray();\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n\tfromJSON( json ) {\r\n\r\n\t\tsuper.fromJSON( json );\r\n\r\n\t\tthis.v0.fromArray( json.v0 );\r\n\t\tthis.v1.fromArray( json.v1 );\r\n\t\tthis.v2.fromArray( json.v2 );\r\n\t\tthis.v3.fromArray( json.v3 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\r\n\r\nclass LineCurve extends Curve {\r\n\r\n\tconstructor( v1 = new Vector2(), v2 = new Vector2() ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'LineCurve';\r\n\r\n\t\tthis.v1 = v1;\r\n\t\tthis.v2 = v2;\r\n\r\n\t}\r\n\r\n\tgetPoint( t, optionalTarget = new Vector2() ) {\r\n\r\n\t\tconst point = optionalTarget;\r\n\r\n\t\tif ( t === 1 ) {\r\n\r\n\t\t\tpoint.copy( this.v2 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\r\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\r\n\r\n\t\t}\r\n\r\n\t\treturn point;\r\n\r\n\t}\r\n\r\n\t// Line curve is linear, so we can overwrite default getPointAt\r\n\tgetPointAt( u, optionalTarget ) {\r\n\r\n\t\treturn this.getPoint( u, optionalTarget );\r\n\r\n\t}\r\n\r\n\tgetTangent( t, optionalTarget ) {\r\n\r\n\t\tconst tangent = optionalTarget || new Vector2();\r\n\r\n\t\ttangent.copy( this.v2 ).sub( this.v1 ).normalize();\r\n\r\n\t\treturn tangent;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.v1.copy( source.v1 );\r\n\t\tthis.v2.copy( source.v2 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = super.toJSON();\r\n\r\n\t\tdata.v1 = this.v1.toArray();\r\n\t\tdata.v2 = this.v2.toArray();\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n\tfromJSON( json ) {\r\n\r\n\t\tsuper.fromJSON( json );\r\n\r\n\t\tthis.v1.fromArray( json.v1 );\r\n\t\tthis.v2.fromArray( json.v2 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nLineCurve.prototype.isLineCurve = true;\r\n\r\nclass LineCurve3 extends Curve {\r\n\r\n\tconstructor( v1 = new Vector3(), v2 = new Vector3() ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'LineCurve3';\r\n\t\tthis.isLineCurve3 = true;\r\n\r\n\t\tthis.v1 = v1;\r\n\t\tthis.v2 = v2;\r\n\r\n\t}\r\n\tgetPoint( t, optionalTarget = new Vector3() ) {\r\n\r\n\t\tconst point = optionalTarget;\r\n\r\n\t\tif ( t === 1 ) {\r\n\r\n\t\t\tpoint.copy( this.v2 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\r\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\r\n\r\n\t\t}\r\n\r\n\t\treturn point;\r\n\r\n\t}\r\n\t// Line curve is linear, so we can overwrite default getPointAt\r\n\tgetPointAt( u, optionalTarget ) {\r\n\r\n\t\treturn this.getPoint( u, optionalTarget );\r\n\r\n\t}\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.v1.copy( source.v1 );\r\n\t\tthis.v2.copy( source.v2 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\ttoJSON() {\r\n\r\n\t\tconst data = super.toJSON();\r\n\r\n\t\tdata.v1 = this.v1.toArray();\r\n\t\tdata.v2 = this.v2.toArray();\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\tfromJSON( json ) {\r\n\r\n\t\tsuper.fromJSON( json );\r\n\r\n\t\tthis.v1.fromArray( json.v1 );\r\n\t\tthis.v2.fromArray( json.v2 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass QuadraticBezierCurve extends Curve {\r\n\r\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2() ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'QuadraticBezierCurve';\r\n\r\n\t\tthis.v0 = v0;\r\n\t\tthis.v1 = v1;\r\n\t\tthis.v2 = v2;\r\n\r\n\t}\r\n\r\n\tgetPoint( t, optionalTarget = new Vector2() ) {\r\n\r\n\t\tconst point = optionalTarget;\r\n\r\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\r\n\r\n\t\tpoint.set(\r\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\r\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\r\n\t\t);\r\n\r\n\t\treturn point;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.v0.copy( source.v0 );\r\n\t\tthis.v1.copy( source.v1 );\r\n\t\tthis.v2.copy( source.v2 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = super.toJSON();\r\n\r\n\t\tdata.v0 = this.v0.toArray();\r\n\t\tdata.v1 = this.v1.toArray();\r\n\t\tdata.v2 = this.v2.toArray();\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n\tfromJSON( json ) {\r\n\r\n\t\tsuper.fromJSON( json );\r\n\r\n\t\tthis.v0.fromArray( json.v0 );\r\n\t\tthis.v1.fromArray( json.v1 );\r\n\t\tthis.v2.fromArray( json.v2 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\r\n\r\nclass QuadraticBezierCurve3 extends Curve {\r\n\r\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3() ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'QuadraticBezierCurve3';\r\n\r\n\t\tthis.v0 = v0;\r\n\t\tthis.v1 = v1;\r\n\t\tthis.v2 = v2;\r\n\r\n\t}\r\n\r\n\tgetPoint( t, optionalTarget = new Vector3() ) {\r\n\r\n\t\tconst point = optionalTarget;\r\n\r\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\r\n\r\n\t\tpoint.set(\r\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\r\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\r\n\t\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\r\n\t\t);\r\n\r\n\t\treturn point;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.v0.copy( source.v0 );\r\n\t\tthis.v1.copy( source.v1 );\r\n\t\tthis.v2.copy( source.v2 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = super.toJSON();\r\n\r\n\t\tdata.v0 = this.v0.toArray();\r\n\t\tdata.v1 = this.v1.toArray();\r\n\t\tdata.v2 = this.v2.toArray();\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n\tfromJSON( json ) {\r\n\r\n\t\tsuper.fromJSON( json );\r\n\r\n\t\tthis.v0.fromArray( json.v0 );\r\n\t\tthis.v1.fromArray( json.v1 );\r\n\t\tthis.v2.fromArray( json.v2 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\r\n\r\nclass SplineCurve extends Curve {\r\n\r\n\tconstructor( points = [] ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'SplineCurve';\r\n\r\n\t\tthis.points = points;\r\n\r\n\t}\r\n\r\n\tgetPoint( t, optionalTarget = new Vector2() ) {\r\n\r\n\t\tconst point = optionalTarget;\r\n\r\n\t\tconst points = this.points;\r\n\t\tconst p = ( points.length - 1 ) * t;\r\n\r\n\t\tconst intPoint = Math.floor( p );\r\n\t\tconst weight = p - intPoint;\r\n\r\n\t\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\r\n\t\tconst p1 = points[ intPoint ];\r\n\t\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\r\n\t\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\r\n\r\n\t\tpoint.set(\r\n\t\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\r\n\t\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\r\n\t\t);\r\n\r\n\t\treturn point;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.points = [];\r\n\r\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst point = source.points[ i ];\r\n\r\n\t\t\tthis.points.push( point.clone() );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = super.toJSON();\r\n\r\n\t\tdata.points = [];\r\n\r\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst point = this.points[ i ];\r\n\t\t\tdata.points.push( point.toArray() );\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n\tfromJSON( json ) {\r\n\r\n\t\tsuper.fromJSON( json );\r\n\r\n\t\tthis.points = [];\r\n\r\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst point = json.points[ i ];\r\n\t\t\tthis.points.push( new Vector2().fromArray( point ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nSplineCurve.prototype.isSplineCurve = true;\r\n\r\nvar Curves = /*#__PURE__*/Object.freeze({\r\n\t__proto__: null,\r\n\tArcCurve: ArcCurve,\r\n\tCatmullRomCurve3: CatmullRomCurve3,\r\n\tCubicBezierCurve: CubicBezierCurve,\r\n\tCubicBezierCurve3: CubicBezierCurve3,\r\n\tEllipseCurve: EllipseCurve,\r\n\tLineCurve: LineCurve,\r\n\tLineCurve3: LineCurve3,\r\n\tQuadraticBezierCurve: QuadraticBezierCurve,\r\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\r\n\tSplineCurve: SplineCurve\r\n});\r\n\r\n/**************************************************************\r\n *\tCurved Path - a curve path is simply a array of connected\r\n *  curves, but retains the api of a curve\r\n **************************************************************/\r\n\r\nclass CurvePath extends Curve {\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'CurvePath';\r\n\r\n\t\tthis.curves = [];\r\n\t\tthis.autoClose = false; // Automatically closes the path\r\n\r\n\t}\r\n\r\n\tadd( curve ) {\r\n\r\n\t\tthis.curves.push( curve );\r\n\r\n\t}\r\n\r\n\tclosePath() {\r\n\r\n\t\t// Add a line curve if start and end of lines are not connected\r\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\r\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\r\n\r\n\t\tif ( ! startPoint.equals( endPoint ) ) {\r\n\r\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// To get accurate point with reference to\r\n\t// entire path distance at time t,\r\n\t// following has to be done:\r\n\r\n\t// 1. Length of each sub path have to be known\r\n\t// 2. Locate and identify type of curve\r\n\t// 3. Get t for the curve\r\n\t// 4. Return curve.getPointAt(t')\r\n\r\n\tgetPoint( t ) {\r\n\r\n\t\tconst d = t * this.getLength();\r\n\t\tconst curveLengths = this.getCurveLengths();\r\n\t\tlet i = 0;\r\n\r\n\t\t// To think about boundaries points.\r\n\r\n\t\twhile ( i < curveLengths.length ) {\r\n\r\n\t\t\tif ( curveLengths[ i ] >= d ) {\r\n\r\n\t\t\t\tconst diff = curveLengths[ i ] - d;\r\n\t\t\t\tconst curve = this.curves[ i ];\r\n\r\n\t\t\t\tconst segmentLength = curve.getLength();\r\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\r\n\r\n\t\t\t\treturn curve.getPointAt( u );\r\n\r\n\t\t\t}\r\n\r\n\t\t\ti ++;\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t\t// loop where sum != 0, sum > d , sum+1 <d\r\n\r\n\t}\r\n\r\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\r\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\r\n\t// getPoint() depends on getLength\r\n\r\n\tgetLength() {\r\n\r\n\t\tconst lens = this.getCurveLengths();\r\n\t\treturn lens[ lens.length - 1 ];\r\n\r\n\t}\r\n\r\n\t// cacheLengths must be recalculated.\r\n\tupdateArcLengths() {\r\n\r\n\t\tthis.needsUpdate = true;\r\n\t\tthis.cacheLengths = null;\r\n\t\tthis.getCurveLengths();\r\n\r\n\t}\r\n\r\n\t// Compute lengths and cache them\r\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\r\n\r\n\tgetCurveLengths() {\r\n\r\n\t\t// We use cache values if curves and cache array are same length\r\n\r\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\r\n\r\n\t\t\treturn this.cacheLengths;\r\n\r\n\t\t}\r\n\r\n\t\t// Get length of sub-curve\r\n\t\t// Push sums into cached array\r\n\r\n\t\tconst lengths = [];\r\n\t\tlet sums = 0;\r\n\r\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\r\n\r\n\t\t\tsums += this.curves[ i ].getLength();\r\n\t\t\tlengths.push( sums );\r\n\r\n\t\t}\r\n\r\n\t\tthis.cacheLengths = lengths;\r\n\r\n\t\treturn lengths;\r\n\r\n\t}\r\n\r\n\tgetSpacedPoints( divisions = 40 ) {\r\n\r\n\t\tconst points = [];\r\n\r\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\r\n\r\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.autoClose ) {\r\n\r\n\t\t\tpoints.push( points[ 0 ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn points;\r\n\r\n\t}\r\n\r\n\tgetPoints( divisions = 12 ) {\r\n\r\n\t\tconst points = [];\r\n\t\tlet last;\r\n\r\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\r\n\r\n\t\t\tconst curve = curves[ i ];\r\n\t\t\tconst resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\r\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\r\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\r\n\t\t\t\t\t\t: divisions;\r\n\r\n\t\t\tconst pts = curve.getPoints( resolution );\r\n\r\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\r\n\r\n\t\t\t\tconst point = pts[ j ];\r\n\r\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\r\n\r\n\t\t\t\tpoints.push( point );\r\n\t\t\t\tlast = point;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\r\n\r\n\t\t\tpoints.push( points[ 0 ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn points;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.curves = [];\r\n\r\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst curve = source.curves[ i ];\r\n\r\n\t\t\tthis.curves.push( curve.clone() );\r\n\r\n\t\t}\r\n\r\n\t\tthis.autoClose = source.autoClose;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = super.toJSON();\r\n\r\n\t\tdata.autoClose = this.autoClose;\r\n\t\tdata.curves = [];\r\n\r\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst curve = this.curves[ i ];\r\n\t\t\tdata.curves.push( curve.toJSON() );\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n\tfromJSON( json ) {\r\n\r\n\t\tsuper.fromJSON( json );\r\n\r\n\t\tthis.autoClose = json.autoClose;\r\n\t\tthis.curves = [];\r\n\r\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst curve = json.curves[ i ];\r\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Path extends CurvePath {\r\n\r\n\tconstructor( points ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.type = 'Path';\r\n\r\n\t\tthis.currentPoint = new Vector2();\r\n\r\n\t\tif ( points ) {\r\n\r\n\t\t\tthis.setFromPoints( points );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tsetFromPoints( points ) {\r\n\r\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\r\n\r\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmoveTo( x, y ) {\r\n\r\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tlineTo( x, y ) {\r\n\r\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tthis.currentPoint.set( x, y );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\r\n\r\n\t\tconst curve = new QuadraticBezierCurve(\r\n\t\t\tthis.currentPoint.clone(),\r\n\t\t\tnew Vector2( aCPx, aCPy ),\r\n\t\t\tnew Vector2( aX, aY )\r\n\t\t);\r\n\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tthis.currentPoint.set( aX, aY );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\r\n\r\n\t\tconst curve = new CubicBezierCurve(\r\n\t\t\tthis.currentPoint.clone(),\r\n\t\t\tnew Vector2( aCP1x, aCP1y ),\r\n\t\t\tnew Vector2( aCP2x, aCP2y ),\r\n\t\t\tnew Vector2( aX, aY )\r\n\t\t);\r\n\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tthis.currentPoint.set( aX, aY );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsplineThru( pts /*Array of Vector*/ ) {\r\n\r\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\r\n\r\n\t\tconst curve = new SplineCurve( npts );\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\r\n\r\n\t\tconst x0 = this.currentPoint.x;\r\n\t\tconst y0 = this.currentPoint.y;\r\n\r\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\r\n\t\t\taStartAngle, aEndAngle, aClockwise );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tabsarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\r\n\r\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\r\n\r\n\t\tconst x0 = this.currentPoint.x;\r\n\t\tconst y0 = this.currentPoint.y;\r\n\r\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tabsellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\r\n\r\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\r\n\r\n\t\tif ( this.curves.length > 0 ) {\r\n\r\n\t\t\t// if a previous curve is present, attempt to join\r\n\t\t\tconst firstPoint = curve.getPoint( 0 );\r\n\r\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\r\n\r\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tconst lastPoint = curve.getPoint( 1 );\r\n\t\tthis.currentPoint.copy( lastPoint );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.currentPoint.copy( source.currentPoint );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = super.toJSON();\r\n\r\n\t\tdata.currentPoint = this.currentPoint.toArray();\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n\tfromJSON( json ) {\r\n\r\n\t\tsuper.fromJSON( json );\r\n\r\n\t\tthis.currentPoint.fromArray( json.currentPoint );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Shape extends Path {\r\n\r\n\tconstructor( points ) {\r\n\r\n\t\tsuper( points );\r\n\r\n\t\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\t\tthis.type = 'Shape';\r\n\r\n\t\tthis.holes = [];\r\n\r\n\t}\r\n\r\n\tgetPointsHoles( divisions ) {\r\n\r\n\t\tconst holesPts = [];\r\n\r\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\r\n\r\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\r\n\r\n\t\t}\r\n\r\n\t\treturn holesPts;\r\n\r\n\t}\r\n\r\n\t// get points of shape and holes (keypoints based on segments parameter)\r\n\r\n\textractPoints( divisions ) {\r\n\r\n\t\treturn {\r\n\r\n\t\t\tshape: this.getPoints( divisions ),\r\n\t\t\tholes: this.getPointsHoles( divisions )\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.holes = [];\r\n\r\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst hole = source.holes[ i ];\r\n\r\n\t\t\tthis.holes.push( hole.clone() );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst data = super.toJSON();\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.holes = [];\r\n\r\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst hole = this.holes[ i ];\r\n\t\t\tdata.holes.push( hole.toJSON() );\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n\tfromJSON( json ) {\r\n\r\n\t\tsuper.fromJSON( json );\r\n\r\n\t\tthis.uuid = json.uuid;\r\n\t\tthis.holes = [];\r\n\r\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\r\n\r\n\t\t\tconst hole = json.holes[ i ];\r\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Light extends Object3D {\r\n\r\n\tconstructor( color, intensity = 1 ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'Light';\r\n\r\n\t\tthis.color = new Color( color );\r\n\t\tthis.intensity = intensity;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.color.copy( source.color );\r\n\t\tthis.intensity = source.intensity;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON( meta ) {\r\n\r\n\t\tconst data = super.toJSON( meta );\r\n\r\n\t\tdata.object.color = this.color.getHex();\r\n\t\tdata.object.intensity = this.intensity;\r\n\r\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\r\n\r\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\r\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\r\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\r\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\r\n\r\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n}\r\n\r\nLight.prototype.isLight = true;\r\n\r\nclass HemisphereLight extends Light {\r\n\r\n\tconstructor( skyColor, groundColor, intensity ) {\r\n\r\n\t\tsuper( skyColor, intensity );\r\n\r\n\t\tthis.type = 'HemisphereLight';\r\n\r\n\t\tthis.position.copy( Object3D.DefaultUp );\r\n\t\tthis.updateMatrix();\r\n\r\n\t\tthis.groundColor = new Color( groundColor );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tLight.prototype.copy.call( this, source );\r\n\r\n\t\tthis.groundColor.copy( source.groundColor );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nHemisphereLight.prototype.isHemisphereLight = true;\r\n\r\nconst _projScreenMatrix$1 = /*@__PURE__*/ new Matrix4();\r\nconst _lightPositionWorld$1 = /*@__PURE__*/ new Vector3();\r\nconst _lookTarget$1 = /*@__PURE__*/ new Vector3();\r\n\r\nclass LightShadow {\r\n\r\n\tconstructor( camera ) {\r\n\r\n\t\tthis.camera = camera;\r\n\r\n\t\tthis.bias = 0;\r\n\t\tthis.normalBias = 0;\r\n\t\tthis.radius = 1;\r\n\r\n\t\tthis.mapSize = new Vector2( 512, 512 );\r\n\r\n\t\tthis.map = null;\r\n\t\tthis.mapPass = null;\r\n\t\tthis.matrix = new Matrix4();\r\n\r\n\t\tthis.autoUpdate = true;\r\n\t\tthis.needsUpdate = false;\r\n\r\n\t\tthis._frustum = new Frustum();\r\n\t\tthis._frameExtents = new Vector2( 1, 1 );\r\n\r\n\t\tthis._viewportCount = 1;\r\n\r\n\t\tthis._viewports = [\r\n\r\n\t\t\tnew Vector4( 0, 0, 1, 1 )\r\n\r\n\t\t];\r\n\r\n\t}\r\n\r\n\tgetViewportCount() {\r\n\r\n\t\treturn this._viewportCount;\r\n\r\n\t}\r\n\r\n\tgetFrustum() {\r\n\r\n\t\treturn this._frustum;\r\n\r\n\t}\r\n\r\n\tupdateMatrices( light ) {\r\n\r\n\t\tconst shadowCamera = this.camera;\r\n\t\tconst shadowMatrix = this.matrix;\r\n\r\n\t\t_lightPositionWorld$1.setFromMatrixPosition( light.matrixWorld );\r\n\t\tshadowCamera.position.copy( _lightPositionWorld$1 );\r\n\r\n\t\t_lookTarget$1.setFromMatrixPosition( light.target.matrixWorld );\r\n\t\tshadowCamera.lookAt( _lookTarget$1 );\r\n\t\tshadowCamera.updateMatrixWorld();\r\n\r\n\t\t_projScreenMatrix$1.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\r\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix$1 );\r\n\r\n\t\tshadowMatrix.set(\r\n\t\t\t0.5, 0.0, 0.0, 0.5,\r\n\t\t\t0.0, 0.5, 0.0, 0.5,\r\n\t\t\t0.0, 0.0, 0.5, 0.5,\r\n\t\t\t0.0, 0.0, 0.0, 1.0\r\n\t\t);\r\n\r\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\r\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\r\n\r\n\t}\r\n\r\n\tgetViewport( viewportIndex ) {\r\n\r\n\t\treturn this._viewports[ viewportIndex ];\r\n\r\n\t}\r\n\r\n\tgetFrameExtents() {\r\n\r\n\t\treturn this._frameExtents;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tthis.camera = source.camera.clone();\r\n\r\n\t\tthis.bias = source.bias;\r\n\t\tthis.radius = source.radius;\r\n\r\n\t\tthis.mapSize.copy( source.mapSize );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n\ttoJSON() {\r\n\r\n\t\tconst object = {};\r\n\r\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\r\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\r\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\r\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\r\n\r\n\t\tobject.camera = this.camera.toJSON( false ).object;\r\n\t\tdelete object.camera.matrix;\r\n\r\n\t\treturn object;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass SpotLightShadow extends LightShadow {\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper( new PerspectiveCamera( 50, 1, 0.5, 500 ) );\r\n\r\n\t\tthis.focus = 1;\r\n\r\n\t}\r\n\r\n\tupdateMatrices( light ) {\r\n\r\n\t\tconst camera = this.camera;\r\n\r\n\t\tconst fov = MathUtils.RAD2DEG * 2 * light.angle * this.focus;\r\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\r\n\t\tconst far = light.distance || camera.far;\r\n\r\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\r\n\r\n\t\t\tcamera.fov = fov;\r\n\t\t\tcamera.aspect = aspect;\r\n\t\t\tcamera.far = far;\r\n\t\t\tcamera.updateProjectionMatrix();\r\n\r\n\t\t}\r\n\r\n\t\tsuper.updateMatrices( light );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.focus = source.focus;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nSpotLightShadow.prototype.isSpotLightShadow = true;\r\n\r\nclass SpotLight extends Light {\r\n\r\n\tconstructor( color, intensity, distance = 0, angle = Math.PI / 3, penumbra = 0, decay = 1 ) {\r\n\r\n\t\tsuper( color, intensity );\r\n\r\n\t\tthis.type = 'SpotLight';\r\n\r\n\t\tthis.position.copy( Object3D.DefaultUp );\r\n\t\tthis.updateMatrix();\r\n\r\n\t\tthis.target = new Object3D();\r\n\r\n\t\tthis.distance = distance;\r\n\t\tthis.angle = angle;\r\n\t\tthis.penumbra = penumbra;\r\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\r\n\r\n\t\tthis.shadow = new SpotLightShadow();\r\n\r\n\t}\r\n\r\n\tget power() {\r\n\r\n\t\t// intensity = power per solid angle.\r\n\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\r\n\t\treturn this.intensity * Math.PI;\r\n\r\n\t}\r\n\r\n\tset power( power ) {\r\n\r\n\t\t// intensity = power per solid angle.\r\n\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\r\n\t\tthis.intensity = power / Math.PI;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.distance = source.distance;\r\n\t\tthis.angle = source.angle;\r\n\t\tthis.penumbra = source.penumbra;\r\n\t\tthis.decay = source.decay;\r\n\r\n\t\tthis.target = source.target.clone();\r\n\r\n\t\tthis.shadow = source.shadow.clone();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nSpotLight.prototype.isSpotLight = true;\r\n\r\nconst _projScreenMatrix = /*@__PURE__*/ new Matrix4();\r\nconst _lightPositionWorld = /*@__PURE__*/ new Vector3();\r\nconst _lookTarget = /*@__PURE__*/ new Vector3();\r\n\r\nclass PointLightShadow extends LightShadow {\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\r\n\r\n\t\tthis._frameExtents = new Vector2( 4, 2 );\r\n\r\n\t\tthis._viewportCount = 6;\r\n\r\n\t\tthis._viewports = [\r\n\t\t\t// These viewports map a cube-map onto a 2D texture with the\r\n\t\t\t// following orientation:\r\n\t\t\t//\r\n\t\t\t//  xzXZ\r\n\t\t\t//   y Y\r\n\t\t\t//\r\n\t\t\t// X - Positive x direction\r\n\t\t\t// x - Negative x direction\r\n\t\t\t// Y - Positive y direction\r\n\t\t\t// y - Negative y direction\r\n\t\t\t// Z - Positive z direction\r\n\t\t\t// z - Negative z direction\r\n\r\n\t\t\t// positive X\r\n\t\t\tnew Vector4( 2, 1, 1, 1 ),\r\n\t\t\t// negative X\r\n\t\t\tnew Vector4( 0, 1, 1, 1 ),\r\n\t\t\t// positive Z\r\n\t\t\tnew Vector4( 3, 1, 1, 1 ),\r\n\t\t\t// negative Z\r\n\t\t\tnew Vector4( 1, 1, 1, 1 ),\r\n\t\t\t// positive Y\r\n\t\t\tnew Vector4( 3, 0, 1, 1 ),\r\n\t\t\t// negative Y\r\n\t\t\tnew Vector4( 1, 0, 1, 1 )\r\n\t\t];\r\n\r\n\t\tthis._cubeDirections = [\r\n\t\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\r\n\t\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\r\n\t\t];\r\n\r\n\t\tthis._cubeUps = [\r\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\r\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\r\n\t\t];\r\n\r\n\t}\r\n\r\n\tupdateMatrices( light, viewportIndex = 0 ) {\r\n\r\n\t\tconst camera = this.camera;\r\n\t\tconst shadowMatrix = this.matrix;\r\n\r\n\t\tconst far = light.distance || camera.far;\r\n\r\n\t\tif ( far !== camera.far ) {\r\n\r\n\t\t\tcamera.far = far;\r\n\t\t\tcamera.updateProjectionMatrix();\r\n\r\n\t\t}\r\n\r\n\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\r\n\t\tcamera.position.copy( _lightPositionWorld );\r\n\r\n\t\t_lookTarget.copy( camera.position );\r\n\t\t_lookTarget.add( this._cubeDirections[ viewportIndex ] );\r\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\r\n\t\tcamera.lookAt( _lookTarget );\r\n\t\tcamera.updateMatrixWorld();\r\n\r\n\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\r\n\r\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\r\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix );\r\n\r\n\t}\r\n\r\n}\r\n\r\nPointLightShadow.prototype.isPointLightShadow = true;\r\n\r\nclass PointLight extends Light {\r\n\r\n\tconstructor( color, intensity, distance = 0, decay = 1 ) {\r\n\r\n\t\tsuper( color, intensity );\r\n\r\n\t\tthis.type = 'PointLight';\r\n\r\n\t\tthis.distance = distance;\r\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\r\n\r\n\t\tthis.shadow = new PointLightShadow();\r\n\r\n\t}\r\n\r\n\tget power() {\r\n\r\n\t\t// intensity = power per solid angle.\r\n\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\r\n\t\treturn this.intensity * 4 * Math.PI;\r\n\r\n\t}\r\n\r\n\tset power( power ) {\r\n\r\n\t\t// intensity = power per solid angle.\r\n\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\r\n\t\tthis.intensity = power / ( 4 * Math.PI );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.distance = source.distance;\r\n\t\tthis.decay = source.decay;\r\n\r\n\t\tthis.shadow = source.shadow.clone();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nPointLight.prototype.isPointLight = true;\r\n\r\nclass OrthographicCamera extends Camera {\r\n\r\n\tconstructor( left = - 1, right = 1, top = 1, bottom = - 1, near = 0.1, far = 2000 ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'OrthographicCamera';\r\n\r\n\t\tthis.zoom = 1;\r\n\t\tthis.view = null;\r\n\r\n\t\tthis.left = left;\r\n\t\tthis.right = right;\r\n\t\tthis.top = top;\r\n\t\tthis.bottom = bottom;\r\n\r\n\t\tthis.near = near;\r\n\t\tthis.far = far;\r\n\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t}\r\n\r\n\tcopy( source, recursive ) {\r\n\r\n\t\tsuper.copy( source, recursive );\r\n\r\n\t\tthis.left = source.left;\r\n\t\tthis.right = source.right;\r\n\t\tthis.top = source.top;\r\n\t\tthis.bottom = source.bottom;\r\n\t\tthis.near = source.near;\r\n\t\tthis.far = source.far;\r\n\r\n\t\tthis.zoom = source.zoom;\r\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\r\n\r\n\t\tif ( this.view === null ) {\r\n\r\n\t\t\tthis.view = {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tfullWidth: 1,\r\n\t\t\t\tfullHeight: 1,\r\n\t\t\t\toffsetX: 0,\r\n\t\t\t\toffsetY: 0,\r\n\t\t\t\twidth: 1,\r\n\t\t\t\theight: 1\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tthis.view.enabled = true;\r\n\t\tthis.view.fullWidth = fullWidth;\r\n\t\tthis.view.fullHeight = fullHeight;\r\n\t\tthis.view.offsetX = x;\r\n\t\tthis.view.offsetY = y;\r\n\t\tthis.view.width = width;\r\n\t\tthis.view.height = height;\r\n\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t}\r\n\r\n\tclearViewOffset() {\r\n\r\n\t\tif ( this.view !== null ) {\r\n\r\n\t\t\tthis.view.enabled = false;\r\n\r\n\t\t}\r\n\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t}\r\n\r\n\tupdateProjectionMatrix() {\r\n\r\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\r\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\r\n\t\tconst cx = ( this.right + this.left ) / 2;\r\n\t\tconst cy = ( this.top + this.bottom ) / 2;\r\n\r\n\t\tlet left = cx - dx;\r\n\t\tlet right = cx + dx;\r\n\t\tlet top = cy + dy;\r\n\t\tlet bottom = cy - dy;\r\n\r\n\t\tif ( this.view !== null && this.view.enabled ) {\r\n\r\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\r\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\r\n\r\n\t\t\tleft += scaleW * this.view.offsetX;\r\n\t\t\tright = left + scaleW * this.view.width;\r\n\t\t\ttop -= scaleH * this.view.offsetY;\r\n\t\t\tbottom = top - scaleH * this.view.height;\r\n\r\n\t\t}\r\n\r\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\r\n\r\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\r\n\r\n\t}\r\n\r\n\ttoJSON( meta ) {\r\n\r\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\r\n\r\n\t\tdata.object.zoom = this.zoom;\r\n\t\tdata.object.left = this.left;\r\n\t\tdata.object.right = this.right;\r\n\t\tdata.object.top = this.top;\r\n\t\tdata.object.bottom = this.bottom;\r\n\t\tdata.object.near = this.near;\r\n\t\tdata.object.far = this.far;\r\n\r\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n}\r\n\r\nOrthographicCamera.prototype.isOrthographicCamera = true;\r\n\r\nclass DirectionalLightShadow extends LightShadow {\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper( new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\r\n\r\n\t}\r\n\r\n}\r\n\r\nDirectionalLightShadow.prototype.isDirectionalLightShadow = true;\r\n\r\nclass DirectionalLight extends Light {\r\n\r\n\tconstructor( color, intensity ) {\r\n\r\n\t\tsuper( color, intensity );\r\n\r\n\t\tthis.type = 'DirectionalLight';\r\n\r\n\t\tthis.position.copy( Object3D.DefaultUp );\r\n\t\tthis.updateMatrix();\r\n\r\n\t\tthis.target = new Object3D();\r\n\r\n\t\tthis.shadow = new DirectionalLightShadow();\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.target = source.target.clone();\r\n\t\tthis.shadow = source.shadow.clone();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nDirectionalLight.prototype.isDirectionalLight = true;\r\n\r\nclass AmbientLight extends Light {\r\n\r\n\tconstructor( color, intensity ) {\r\n\r\n\t\tsuper( color, intensity );\r\n\r\n\t\tthis.type = 'AmbientLight';\r\n\r\n\t}\r\n\r\n}\r\n\r\nAmbientLight.prototype.isAmbientLight = true;\r\n\r\nclass RectAreaLight extends Light {\r\n\r\n\tconstructor( color, intensity, width = 10, height = 10 ) {\r\n\r\n\t\tsuper( color, intensity );\r\n\r\n\t\tthis.type = 'RectAreaLight';\r\n\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.width = source.width;\r\n\t\tthis.height = source.height;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON( meta ) {\r\n\r\n\t\tconst data = super.toJSON( meta );\r\n\r\n\t\tdata.object.width = this.width;\r\n\t\tdata.object.height = this.height;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n}\r\n\r\nRectAreaLight.prototype.isRectAreaLight = true;\r\n\r\n/**\r\n * Primary reference:\r\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\r\n *\r\n * Secondary reference:\r\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\r\n */\r\n\r\n// 3-band SH defined by 9 coefficients\r\n\r\nclass SphericalHarmonics3 {\r\n\r\n\tconstructor() {\r\n\r\n\t\tthis.coefficients = [];\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.coefficients.push( new Vector3() );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tset( coefficients ) {\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tzero() {\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t// get the radiance in the direction of the normal\r\n\t// target is a Vector3\r\n\tgetAt( normal, target ) {\r\n\r\n\t\t// normal is assumed to be unit length\r\n\r\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\r\n\r\n\t\tconst coeff = this.coefficients;\r\n\r\n\t\t// band 0\r\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\r\n\r\n\t\t// band 1\r\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\r\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\r\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\r\n\r\n\t\t// band 2\r\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\r\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\r\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\r\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\r\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\r\n\r\n\t\treturn target;\r\n\r\n\t}\r\n\r\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\r\n\t// target is a Vector3\r\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\r\n\tgetIrradianceAt( normal, target ) {\r\n\r\n\t\t// normal is assumed to be unit length\r\n\r\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\r\n\r\n\t\tconst coeff = this.coefficients;\r\n\r\n\t\t// band 0\r\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\r\n\r\n\t\t// band 1\r\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\r\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\r\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\r\n\r\n\t\t// band 2\r\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\r\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\r\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\r\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\r\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\r\n\r\n\t\treturn target;\r\n\r\n\t}\r\n\r\n\tadd( sh ) {\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\taddScaledSH( sh, s ) {\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tscale( s ) {\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tlerp( sh, alpha ) {\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tequals( sh ) {\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t}\r\n\r\n\tcopy( sh ) {\r\n\r\n\t\treturn this.set( sh.coefficients );\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n\tfromArray( array, offset = 0 ) {\r\n\r\n\t\tconst coefficients = this.coefficients;\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoArray( array = [], offset = 0 ) {\r\n\r\n\t\tconst coefficients = this.coefficients;\r\n\r\n\t\tfor ( let i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n\t// evaluate the basis functions\r\n\t// shBasis is an Array[ 9 ]\r\n\tstatic getBasisAt( normal, shBasis ) {\r\n\r\n\t\t// normal is assumed to be unit length\r\n\r\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\r\n\r\n\t\t// band 0\r\n\t\tshBasis[ 0 ] = 0.282095;\r\n\r\n\t\t// band 1\r\n\t\tshBasis[ 1 ] = 0.488603 * y;\r\n\t\tshBasis[ 2 ] = 0.488603 * z;\r\n\t\tshBasis[ 3 ] = 0.488603 * x;\r\n\r\n\t\t// band 2\r\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\r\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\r\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\r\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\r\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\r\n\r\n\t}\r\n\r\n}\r\n\r\nSphericalHarmonics3.prototype.isSphericalHarmonics3 = true;\r\n\r\nclass LightProbe extends Light {\r\n\r\n\tconstructor( sh = new SphericalHarmonics3(), intensity = 1 ) {\r\n\r\n\t\tsuper( undefined, intensity );\r\n\r\n\t\tthis.sh = sh;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source );\r\n\r\n\t\tthis.sh.copy( source.sh );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tfromJSON( json ) {\r\n\r\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\r\n\t\tthis.sh.fromArray( json.sh );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoJSON( meta ) {\r\n\r\n\t\tconst data = super.toJSON( meta );\r\n\r\n\t\tdata.object.sh = this.sh.toArray();\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n}\r\n\r\nLightProbe.prototype.isLightProbe = true;\r\n\r\nclass MaterialLoader extends Loader {\r\n\r\n\tconstructor( manager ) {\r\n\r\n\t\tsuper( manager );\r\n\t\tthis.textures = {};\r\n\r\n\t}\r\n\r\n\tload( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst loader = new FileLoader( scope.manager );\r\n\t\tloader.setPath( scope.path );\r\n\t\tloader.setRequestHeader( scope.requestHeader );\r\n\t\tloader.setWithCredentials( scope.withCredentials );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\r\n\r\n\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t}\r\n\r\n\tparse( json ) {\r\n\r\n\t\tconst textures = this.textures;\r\n\r\n\t\tfunction getTexture( name ) {\r\n\r\n\t\t\tif ( textures[ name ] === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn textures[ name ];\r\n\r\n\t\t}\r\n\r\n\t\tconst material = new Materials[ json.type ]();\r\n\r\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\r\n\t\tif ( json.name !== undefined ) material.name = json.name;\r\n\t\tif ( json.color !== undefined && material.color !== undefined ) material.color.setHex( json.color );\r\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\r\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\r\n\t\tif ( json.sheen !== undefined ) material.sheen = new Color().setHex( json.sheen );\r\n\t\tif ( json.emissive !== undefined && material.emissive !== undefined ) material.emissive.setHex( json.emissive );\r\n\t\tif ( json.specular !== undefined && material.specular !== undefined ) material.specular.setHex( json.specular );\r\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\r\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\r\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\r\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\r\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\r\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\r\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\r\n\t\tif ( json.side !== undefined ) material.side = json.side;\r\n\t\tif ( json.shadowSide !== undefined ) material.shadowSide = json.shadowSide;\r\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\r\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\r\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\r\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\r\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\r\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\r\n\r\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\r\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\r\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\r\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\r\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\r\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\r\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\r\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\r\n\r\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\r\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\r\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\r\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\r\n\r\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\r\n\r\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\r\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\r\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\r\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\r\n\r\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\r\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\r\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\r\n\r\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\r\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\r\n\t\tif ( json.morphNormals !== undefined ) material.morphNormals = json.morphNormals;\r\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\r\n\r\n\t\tif ( json.alphaToCoverage !== undefined ) material.alphaToCoverage = json.alphaToCoverage;\r\n\t\tif ( json.premultipliedAlpha !== undefined ) material.premultipliedAlpha = json.premultipliedAlpha;\r\n\r\n\t\tif ( json.vertexTangents !== undefined ) material.vertexTangents = json.vertexTangents;\r\n\r\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\r\n\r\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\r\n\r\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\r\n\r\n\t\tif ( json.vertexColors !== undefined ) {\r\n\r\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\r\n\r\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Shader Material\r\n\r\n\t\tif ( json.uniforms !== undefined ) {\r\n\r\n\t\t\tfor ( const name in json.uniforms ) {\r\n\r\n\t\t\t\tconst uniform = json.uniforms[ name ];\r\n\r\n\t\t\t\tmaterial.uniforms[ name ] = {};\r\n\r\n\t\t\t\tswitch ( uniform.type ) {\r\n\r\n\t\t\t\t\tcase 't':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'c':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'v2':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'v3':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'v4':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'm3':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'm4':\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\r\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\r\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\r\n\r\n\t\tif ( json.extensions !== undefined ) {\r\n\r\n\t\t\tfor ( const key in json.extensions ) {\r\n\r\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Deprecated\r\n\r\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\r\n\r\n\t\t// for PointsMaterial\r\n\r\n\t\tif ( json.size !== undefined ) material.size = json.size;\r\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\r\n\r\n\t\t// maps\r\n\r\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\r\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\r\n\r\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\r\n\r\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\r\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\r\n\r\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\r\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\r\n\t\tif ( json.normalScale !== undefined ) {\r\n\r\n\t\t\tlet normalScale = json.normalScale;\r\n\r\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\r\n\r\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\r\n\r\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\r\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\r\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\r\n\r\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\r\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\r\n\r\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\r\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\r\n\r\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\r\n\r\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\r\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\r\n\r\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\r\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\r\n\r\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\r\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\r\n\r\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\r\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\r\n\r\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\r\n\r\n\t\tif ( json.clearcoatMap !== undefined ) material.clearcoatMap = getTexture( json.clearcoatMap );\r\n\t\tif ( json.clearcoatRoughnessMap !== undefined ) material.clearcoatRoughnessMap = getTexture( json.clearcoatRoughnessMap );\r\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\r\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\r\n\r\n\t\tif ( json.transmission !== undefined ) material.transmission = json.transmission;\r\n\t\tif ( json.transmissionMap !== undefined ) material.transmissionMap = getTexture( json.transmissionMap );\r\n\r\n\t\treturn material;\r\n\r\n\t}\r\n\r\n\tsetTextures( value ) {\r\n\r\n\t\tthis.textures = value;\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst LoaderUtils = {\r\n\r\n\tdecodeText: function ( array ) {\r\n\r\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\r\n\r\n\t\t\treturn new TextDecoder().decode( array );\r\n\r\n\t\t}\r\n\r\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\r\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\r\n\r\n\t\tlet s = '';\r\n\r\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\r\n\r\n\t\t\t// Implicitly assumes little-endian.\r\n\t\t\ts += String.fromCharCode( array[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\ttry {\r\n\r\n\t\t\t// merges multi-byte utf-8 characters.\r\n\r\n\t\t\treturn decodeURIComponent( escape( s ) );\r\n\r\n\t\t} catch ( e ) { // see #16358\r\n\r\n\t\t\treturn s;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\textractUrlBase: function ( url ) {\r\n\r\n\t\tconst index = url.lastIndexOf( '/' );\r\n\r\n\t\tif ( index === - 1 ) return './';\r\n\r\n\t\treturn url.substr( 0, index + 1 );\r\n\r\n\t}\r\n\r\n};\r\n\r\nfunction InstancedBufferGeometry() {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tthis.type = 'InstancedBufferGeometry';\r\n\tthis.instanceCount = Infinity;\r\n\r\n}\r\n\r\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\r\n\r\n\tconstructor: InstancedBufferGeometry,\r\n\r\n\tisInstancedBufferGeometry: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tBufferGeometry.prototype.copy.call( this, source );\r\n\r\n\t\tthis.instanceCount = source.instanceCount;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\r\n\r\n\t\tdata.instanceCount = this.instanceCount;\r\n\r\n\t\tdata.isInstancedBufferGeometry = true;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\r\n\r\n\tif ( typeof ( normalized ) === 'number' ) {\r\n\r\n\t\tmeshPerAttribute = normalized;\r\n\r\n\t\tnormalized = false;\r\n\r\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\r\n\r\n\t}\r\n\r\n\tBufferAttribute.call( this, array, itemSize, normalized );\r\n\r\n\tthis.meshPerAttribute = meshPerAttribute || 1;\r\n\r\n}\r\n\r\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\r\n\r\n\tconstructor: InstancedBufferAttribute,\r\n\r\n\tisInstancedBufferAttribute: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tBufferAttribute.prototype.copy.call( this, source );\r\n\r\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ()\t{\r\n\r\n\t\tconst data = BufferAttribute.prototype.toJSON.call( this );\r\n\r\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\r\n\r\n\t\tdata.isInstancedBufferAttribute = true;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nclass BufferGeometryLoader extends Loader {\r\n\r\n\tconstructor( manager ) {\r\n\r\n\t\tsuper( manager );\r\n\r\n\t}\r\n\r\n\tload( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst loader = new FileLoader( scope.manager );\r\n\t\tloader.setPath( scope.path );\r\n\t\tloader.setRequestHeader( scope.requestHeader );\r\n\t\tloader.setWithCredentials( scope.withCredentials );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\r\n\r\n\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t}\r\n\r\n\tparse( json ) {\r\n\r\n\t\tconst interleavedBufferMap = {};\r\n\t\tconst arrayBufferMap = {};\r\n\r\n\t\tfunction getInterleavedBuffer( json, uuid ) {\r\n\r\n\t\t\tif ( interleavedBufferMap[ uuid ] !== undefined ) return interleavedBufferMap[ uuid ];\r\n\r\n\t\t\tconst interleavedBuffers = json.interleavedBuffers;\r\n\t\t\tconst interleavedBuffer = interleavedBuffers[ uuid ];\r\n\r\n\t\t\tconst buffer = getArrayBuffer( json, interleavedBuffer.buffer );\r\n\r\n\t\t\tconst array = getTypedArray( interleavedBuffer.type, buffer );\r\n\t\t\tconst ib = new InterleavedBuffer( array, interleavedBuffer.stride );\r\n\t\t\tib.uuid = interleavedBuffer.uuid;\r\n\r\n\t\t\tinterleavedBufferMap[ uuid ] = ib;\r\n\r\n\t\t\treturn ib;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getArrayBuffer( json, uuid ) {\r\n\r\n\t\t\tif ( arrayBufferMap[ uuid ] !== undefined ) return arrayBufferMap[ uuid ];\r\n\r\n\t\t\tconst arrayBuffers = json.arrayBuffers;\r\n\t\t\tconst arrayBuffer = arrayBuffers[ uuid ];\r\n\r\n\t\t\tconst ab = new Uint32Array( arrayBuffer ).buffer;\r\n\r\n\t\t\tarrayBufferMap[ uuid ] = ab;\r\n\r\n\t\t\treturn ab;\r\n\r\n\t\t}\r\n\r\n\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\r\n\r\n\t\tconst index = json.data.index;\r\n\r\n\t\tif ( index !== undefined ) {\r\n\r\n\t\t\tconst typedArray = getTypedArray( index.type, index.array );\r\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\r\n\r\n\t\t}\r\n\r\n\t\tconst attributes = json.data.attributes;\r\n\r\n\t\tfor ( const key in attributes ) {\r\n\r\n\t\t\tconst attribute = attributes[ key ];\r\n\t\t\tlet bufferAttribute;\r\n\r\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\r\n\r\n\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\r\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\r\n\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\r\n\t\t\t\tbufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\r\n\t\t\tif ( attribute.usage !== undefined ) bufferAttribute.setUsage( attribute.usage );\r\n\r\n\t\t\tif ( attribute.updateRange !== undefined ) {\r\n\r\n\t\t\t\tbufferAttribute.updateRange.offset = attribute.updateRange.offset;\r\n\t\t\t\tbufferAttribute.updateRange.count = attribute.updateRange.count;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\r\n\r\n\t\t}\r\n\r\n\t\tconst morphAttributes = json.data.morphAttributes;\r\n\r\n\t\tif ( morphAttributes ) {\r\n\r\n\t\t\tfor ( const key in morphAttributes ) {\r\n\r\n\t\t\t\tconst attributeArray = morphAttributes[ key ];\r\n\r\n\t\t\t\tconst array = [];\r\n\r\n\t\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tconst attribute = attributeArray[ i ];\r\n\t\t\t\t\tlet bufferAttribute;\r\n\r\n\t\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\r\n\r\n\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\r\n\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\r\n\t\t\t\t\t\tbufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\r\n\t\t\t\t\tarray.push( bufferAttribute );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\r\n\r\n\t\tif ( morphTargetsRelative ) {\r\n\r\n\t\t\tgeometry.morphTargetsRelative = true;\r\n\r\n\t\t}\r\n\r\n\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\r\n\r\n\t\tif ( groups !== undefined ) {\r\n\r\n\t\t\tfor ( let i = 0, n = groups.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tconst group = groups[ i ];\r\n\r\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst boundingSphere = json.data.boundingSphere;\r\n\r\n\t\tif ( boundingSphere !== undefined ) {\r\n\r\n\t\t\tconst center = new Vector3();\r\n\r\n\t\t\tif ( boundingSphere.center !== undefined ) {\r\n\r\n\t\t\t\tcenter.fromArray( boundingSphere.center );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.name ) geometry.name = json.name;\r\n\t\tif ( json.userData ) geometry.userData = json.userData;\r\n\r\n\t\treturn geometry;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass ObjectLoader extends Loader {\r\n\r\n\tconstructor( manager ) {\r\n\r\n\t\tsuper( manager );\r\n\r\n\t}\r\n\r\n\tload( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\r\n\t\tthis.resourcePath = this.resourcePath || path;\r\n\r\n\t\tconst loader = new FileLoader( this.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tlet json = null;\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tjson = JSON.parse( text );\r\n\r\n\t\t\t} catch ( error ) {\r\n\r\n\t\t\t\tif ( onError !== undefined ) onError( error );\r\n\r\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst metadata = json.metadata;\r\n\r\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscope.parse( json, onLoad );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t}\r\n\r\n\tparse( json, onLoad ) {\r\n\r\n\t\tconst animations = this.parseAnimations( json.animations );\r\n\t\tconst shapes = this.parseShapes( json.shapes );\r\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\r\n\r\n\t\tconst images = this.parseImages( json.images, function () {\r\n\r\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\r\n\r\n\t\t} );\r\n\r\n\t\tconst textures = this.parseTextures( json.textures, images );\r\n\t\tconst materials = this.parseMaterials( json.materials, textures );\r\n\r\n\t\tconst object = this.parseObject( json.object, geometries, materials, animations );\r\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\r\n\r\n\t\tthis.bindSkeletons( object, skeletons );\r\n\r\n\t\t//\r\n\r\n\t\tif ( onLoad !== undefined ) {\r\n\r\n\t\t\tlet hasImages = false;\r\n\r\n\t\t\tfor ( const uuid in images ) {\r\n\r\n\t\t\t\tif ( images[ uuid ] instanceof HTMLImageElement ) {\r\n\r\n\t\t\t\t\thasImages = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasImages === false ) onLoad( object );\r\n\r\n\t\t}\r\n\r\n\t\treturn object;\r\n\r\n\t}\r\n\r\n\tparseShapes( json ) {\r\n\r\n\t\tconst shapes = {};\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tconst shape = new Shape().fromJSON( json[ i ] );\r\n\r\n\t\t\t\tshapes[ shape.uuid ] = shape;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn shapes;\r\n\r\n\t}\r\n\r\n\tparseSkeletons( json, object ) {\r\n\r\n\t\tconst skeletons = {};\r\n\t\tconst bones = {};\r\n\r\n\t\t// generate bone lookup table\r\n\r\n\t\tobject.traverse( function ( child ) {\r\n\r\n\t\t\tif ( child.isBone ) bones[ child.uuid ] = child;\r\n\r\n\t\t} );\r\n\r\n\t\t// create skeletons\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tconst skeleton = new Skeleton().fromJSON( json[ i ], bones );\r\n\r\n\t\t\t\tskeletons[ skeleton.uuid ] = skeleton;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn skeletons;\r\n\r\n\t}\r\n\r\n\tparseGeometries( json, shapes ) {\r\n\r\n\t\tconst geometries = {};\r\n\t\tlet geometryShapes;\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\r\n\r\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tlet geometry;\r\n\t\t\t\tconst data = json[ i ];\r\n\r\n\t\t\t\tswitch ( data.type ) {\r\n\r\n\t\t\t\t\tcase 'PlaneGeometry':\r\n\t\t\t\t\tcase 'PlaneBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.width,\r\n\t\t\t\t\t\t\tdata.height,\r\n\t\t\t\t\t\t\tdata.widthSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'BoxGeometry':\r\n\t\t\t\t\tcase 'BoxBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.width,\r\n\t\t\t\t\t\t\tdata.height,\r\n\t\t\t\t\t\t\tdata.depth,\r\n\t\t\t\t\t\t\tdata.widthSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments,\r\n\t\t\t\t\t\t\tdata.depthSegments\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'CircleGeometry':\r\n\t\t\t\t\tcase 'CircleBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.segments,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'CylinderGeometry':\r\n\t\t\t\t\tcase 'CylinderBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radiusTop,\r\n\t\t\t\t\t\t\tdata.radiusBottom,\r\n\t\t\t\t\t\t\tdata.height,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments,\r\n\t\t\t\t\t\t\tdata.openEnded,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ConeGeometry':\r\n\t\t\t\t\tcase 'ConeBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.height,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments,\r\n\t\t\t\t\t\t\tdata.openEnded,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'SphereGeometry':\r\n\t\t\t\t\tcase 'SphereBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.widthSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments,\r\n\t\t\t\t\t\t\tdata.phiStart,\r\n\t\t\t\t\t\t\tdata.phiLength,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'DodecahedronGeometry':\r\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\r\n\t\t\t\t\tcase 'IcosahedronGeometry':\r\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\r\n\t\t\t\t\tcase 'OctahedronGeometry':\r\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\r\n\t\t\t\t\tcase 'TetrahedronGeometry':\r\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.detail\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'RingGeometry':\r\n\t\t\t\t\tcase 'RingBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.innerRadius,\r\n\t\t\t\t\t\t\tdata.outerRadius,\r\n\t\t\t\t\t\t\tdata.thetaSegments,\r\n\t\t\t\t\t\t\tdata.phiSegments,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'TorusGeometry':\r\n\t\t\t\t\tcase 'TorusBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.tube,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.tubularSegments,\r\n\t\t\t\t\t\t\tdata.arc\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'TorusKnotGeometry':\r\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.tube,\r\n\t\t\t\t\t\t\tdata.tubularSegments,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.p,\r\n\t\t\t\t\t\t\tdata.q\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'TubeGeometry':\r\n\t\t\t\t\tcase 'TubeBufferGeometry':\r\n\r\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\r\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\r\n\t\t\t\t\t\t\tdata.tubularSegments,\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.closed\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'LatheGeometry':\r\n\t\t\t\t\tcase 'LatheBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.points,\r\n\t\t\t\t\t\t\tdata.segments,\r\n\t\t\t\t\t\t\tdata.phiStart,\r\n\t\t\t\t\t\t\tdata.phiLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'PolyhedronGeometry':\r\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tdata.vertices,\r\n\t\t\t\t\t\t\tdata.indices,\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.details\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ShapeGeometry':\r\n\t\t\t\t\tcase 'ShapeBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometryShapes = [];\r\n\r\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\r\n\r\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tgeometryShapes,\r\n\t\t\t\t\t\t\tdata.curveSegments\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\tcase 'ExtrudeGeometry':\r\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometryShapes = [];\r\n\r\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\r\n\r\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst extrudePath = data.options.extrudePath;\r\n\r\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\r\n\r\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\r\n\t\t\t\t\t\t\tgeometryShapes,\r\n\t\t\t\t\t\t\tdata.options\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'BufferGeometry':\r\n\t\t\t\t\tcase 'InstancedBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'Geometry':\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.' );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.uuid = data.uuid;\r\n\r\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\r\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\r\n\r\n\t\t\t\tgeometries[ data.uuid ] = geometry;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn geometries;\r\n\r\n\t}\r\n\r\n\tparseMaterials( json, textures ) {\r\n\r\n\t\tconst cache = {}; // MultiMaterial\r\n\t\tconst materials = {};\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tconst loader = new MaterialLoader();\r\n\t\t\tloader.setTextures( textures );\r\n\r\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tconst data = json[ i ];\r\n\r\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\r\n\r\n\t\t\t\t\t// Deprecated\r\n\r\n\t\t\t\t\tconst array = [];\r\n\r\n\t\t\t\t\tfor ( let j = 0; j < data.materials.length; j ++ ) {\r\n\r\n\t\t\t\t\t\tconst material = data.materials[ j ];\r\n\r\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\r\n\r\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmaterials[ data.uuid ] = array;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\r\n\r\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn materials;\r\n\r\n\t}\r\n\r\n\tparseAnimations( json ) {\r\n\r\n\t\tconst animations = {};\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tfor ( let i = 0; i < json.length; i ++ ) {\r\n\r\n\t\t\t\tconst data = json[ i ];\r\n\r\n\t\t\t\tconst clip = AnimationClip.parse( data );\r\n\r\n\t\t\t\tanimations[ clip.uuid ] = clip;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn animations;\r\n\r\n\t}\r\n\r\n\tparseImages( json, onLoad ) {\r\n\r\n\t\tconst scope = this;\r\n\t\tconst images = {};\r\n\r\n\t\tlet loader;\r\n\r\n\t\tfunction loadImage( url ) {\r\n\r\n\t\t\tscope.manager.itemStart( url );\r\n\r\n\t\t\treturn loader.load( url, function () {\r\n\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}, undefined, function () {\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tfunction deserializeImage( image ) {\r\n\r\n\t\t\tif ( typeof image === 'string' ) {\r\n\r\n\t\t\t\tconst url = image;\r\n\r\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\r\n\r\n\t\t\t\treturn loadImage( path );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( image.data ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\r\n\t\t\t\t\t\twidth: image.width,\r\n\t\t\t\t\t\theight: image.height\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( json !== undefined && json.length > 0 ) {\r\n\r\n\t\t\tconst manager = new LoadingManager( onLoad );\r\n\r\n\t\t\tloader = new ImageLoader( manager );\r\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\r\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tconst image = json[ i ];\r\n\t\t\t\tconst url = image.url;\r\n\r\n\t\t\t\tif ( Array.isArray( url ) ) {\r\n\r\n\t\t\t\t\t// load array of images e.g CubeTexture\r\n\r\n\t\t\t\t\timages[ image.uuid ] = [];\r\n\r\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tconst currentUrl = url[ j ];\r\n\r\n\t\t\t\t\t\tconst deserializedImage = deserializeImage( currentUrl );\r\n\r\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\r\n\r\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\r\n\r\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( deserializedImage );\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\r\n\r\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// load single image\r\n\r\n\t\t\t\t\tconst deserializedImage = deserializeImage( image.url );\r\n\r\n\t\t\t\t\tif ( deserializedImage !== null ) {\r\n\r\n\t\t\t\t\t\timages[ image.uuid ] = deserializedImage;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn images;\r\n\r\n\t}\r\n\r\n\tparseTextures( json, images ) {\r\n\r\n\t\tfunction parseConstant( value, type ) {\r\n\r\n\t\t\tif ( typeof value === 'number' ) return value;\r\n\r\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\r\n\r\n\t\t\treturn type[ value ];\r\n\r\n\t\t}\r\n\r\n\t\tconst textures = {};\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tconst data = json[ i ];\r\n\r\n\t\t\t\tif ( data.image === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( images[ data.image ] === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet texture;\r\n\t\t\t\tconst image = images[ data.image ];\r\n\r\n\t\t\t\tif ( Array.isArray( image ) ) {\r\n\r\n\t\t\t\t\ttexture = new CubeTexture( image );\r\n\r\n\t\t\t\t\tif ( image.length === 6 ) texture.needsUpdate = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( image && image.data ) {\r\n\r\n\t\t\t\t\t\ttexture = new DataTexture( image.data, image.width, image.height );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ttexture = new Texture( image );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( image ) texture.needsUpdate = true; // textures can have undefined image data\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture.uuid = data.uuid;\r\n\r\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\r\n\r\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\r\n\r\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\r\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\r\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\r\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\r\n\r\n\t\t\t\tif ( data.wrap !== undefined ) {\r\n\r\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\r\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\r\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\r\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\r\n\r\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\r\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\r\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\r\n\r\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\r\n\r\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\r\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\r\n\r\n\t\t\t\ttextures[ data.uuid ] = texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn textures;\r\n\r\n\t}\r\n\r\n\tparseObject( data, geometries, materials, animations ) {\r\n\r\n\t\tlet object;\r\n\r\n\t\tfunction getGeometry( name ) {\r\n\r\n\t\t\tif ( geometries[ name ] === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn geometries[ name ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction getMaterial( name ) {\r\n\r\n\t\t\tif ( name === undefined ) return undefined;\r\n\r\n\t\t\tif ( Array.isArray( name ) ) {\r\n\r\n\t\t\t\tconst array = [];\r\n\r\n\t\t\t\tfor ( let i = 0, l = name.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\tconst uuid = name[ i ];\r\n\r\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\r\n\r\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tarray.push( materials[ uuid ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn array;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( materials[ name ] === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn materials[ name ];\r\n\r\n\t\t}\r\n\r\n\t\tlet geometry, material;\r\n\r\n\t\tswitch ( data.type ) {\r\n\r\n\t\t\tcase 'Scene':\r\n\r\n\t\t\t\tobject = new Scene();\r\n\r\n\t\t\t\tif ( data.background !== undefined ) {\r\n\r\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\r\n\r\n\t\t\t\t\t\tobject.background = new Color( data.background );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( data.fog !== undefined ) {\r\n\r\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\r\n\r\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\r\n\r\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\r\n\r\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PerspectiveCamera':\r\n\r\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\r\n\r\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\r\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\r\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\r\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\r\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'OrthographicCamera':\r\n\r\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\r\n\r\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\r\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'AmbientLight':\r\n\r\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'DirectionalLight':\r\n\r\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PointLight':\r\n\r\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'RectAreaLight':\r\n\r\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'SpotLight':\r\n\r\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'HemisphereLight':\r\n\r\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'LightProbe':\r\n\r\n\t\t\t\tobject = new LightProbe().fromJSON( data );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'SkinnedMesh':\r\n\r\n\t\t\t\tgeometry = getGeometry( data.geometry );\r\n\t\t\t \tmaterial = getMaterial( data.material );\r\n\r\n\t\t\t\tobject = new SkinnedMesh( geometry, material );\r\n\r\n\t\t\t\tif ( data.bindMode !== undefined ) object.bindMode = data.bindMode;\r\n\t\t\t\tif ( data.bindMatrix !== undefined ) object.bindMatrix.fromArray( data.bindMatrix );\r\n\t\t\t\tif ( data.skeleton !== undefined ) object.skeleton = data.skeleton;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'Mesh':\r\n\r\n\t\t\t\tgeometry = getGeometry( data.geometry );\r\n\t\t\t\tmaterial = getMaterial( data.material );\r\n\r\n\t\t\t\tobject = new Mesh( geometry, material );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'InstancedMesh':\r\n\r\n\t\t\t\tgeometry = getGeometry( data.geometry );\r\n\t\t\t\tmaterial = getMaterial( data.material );\r\n\t\t\t\tconst count = data.count;\r\n\t\t\t\tconst instanceMatrix = data.instanceMatrix;\r\n\t\t\t\tconst instanceColor = data.instanceColor;\r\n\r\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\r\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\r\n\t\t\t\tif ( instanceColor !== undefined ) object.instanceColor = new BufferAttribute( new Float32Array( instanceColor.array ), instanceColor.itemSize );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'LOD':\r\n\r\n\t\t\t\tobject = new LOD();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'Line':\r\n\r\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ) );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'LineLoop':\r\n\r\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'LineSegments':\r\n\r\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PointCloud':\r\n\t\t\tcase 'Points':\r\n\r\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'Sprite':\r\n\r\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'Group':\r\n\r\n\t\t\t\tobject = new Group();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'Bone':\r\n\r\n\t\t\t\tobject = new Bone();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tobject = new Object3D();\r\n\r\n\t\t}\r\n\r\n\t\tobject.uuid = data.uuid;\r\n\r\n\t\tif ( data.name !== undefined ) object.name = data.name;\r\n\r\n\t\tif ( data.matrix !== undefined ) {\r\n\r\n\t\t\tobject.matrix.fromArray( data.matrix );\r\n\r\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\r\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\r\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\r\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\r\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\r\n\r\n\t\t}\r\n\r\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\r\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\r\n\r\n\t\tif ( data.shadow ) {\r\n\r\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\r\n\t\t\tif ( data.shadow.normalBias !== undefined ) object.shadow.normalBias = data.shadow.normalBias;\r\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\r\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\r\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\r\n\r\n\t\t}\r\n\r\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\r\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\r\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\r\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\r\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\r\n\r\n\t\tif ( data.children !== undefined ) {\r\n\r\n\t\t\tconst children = data.children;\r\n\r\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\r\n\r\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials, animations ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( data.animations !== undefined ) {\r\n\r\n\t\t\tconst objectAnimations = data.animations;\r\n\r\n\t\t\tfor ( let i = 0; i < objectAnimations.length; i ++ ) {\r\n\r\n\t\t\t\tconst uuid = objectAnimations[ i ];\r\n\r\n\t\t\t\tobject.animations.push( animations[ uuid ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( data.type === 'LOD' ) {\r\n\r\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\r\n\r\n\t\t\tconst levels = data.levels;\r\n\r\n\t\t\tfor ( let l = 0; l < levels.length; l ++ ) {\r\n\r\n\t\t\t\tconst level = levels[ l ];\r\n\t\t\t\tconst child = object.getObjectByProperty( 'uuid', level.object );\r\n\r\n\t\t\t\tif ( child !== undefined ) {\r\n\r\n\t\t\t\t\tobject.addLevel( child, level.distance );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn object;\r\n\r\n\t}\r\n\r\n\tbindSkeletons( object, skeletons ) {\r\n\r\n\t\tif ( Object.keys( skeletons ).length === 0 ) return;\r\n\r\n\t\tobject.traverse( function ( child ) {\r\n\r\n\t\t\tif ( child.isSkinnedMesh === true && child.skeleton !== undefined ) {\r\n\r\n\t\t\t\tconst skeleton = skeletons[ child.skeleton ];\r\n\r\n\t\t\t\tif ( skeleton === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tchild.bind( skeleton, child.bindMatrix );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\t/* DEPRECATED */\r\n\r\n\tsetTexturePath( value ) {\r\n\r\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\r\n\t\treturn this.setResourcePath( value );\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst TEXTURE_MAPPING = {\r\n\tUVMapping: UVMapping,\r\n\tCubeReflectionMapping: CubeReflectionMapping,\r\n\tCubeRefractionMapping: CubeRefractionMapping,\r\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\r\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\r\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\r\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\r\n};\r\n\r\nconst TEXTURE_WRAPPING = {\r\n\tRepeatWrapping: RepeatWrapping,\r\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\r\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\r\n};\r\n\r\nconst TEXTURE_FILTER = {\r\n\tNearestFilter: NearestFilter,\r\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\r\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\r\n\tLinearFilter: LinearFilter,\r\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\r\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\r\n};\r\n\r\nfunction ImageBitmapLoader( manager ) {\r\n\r\n\tif ( typeof createImageBitmap === 'undefined' ) {\r\n\r\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\r\n\r\n\t}\r\n\r\n\tif ( typeof fetch === 'undefined' ) {\r\n\r\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\r\n\r\n\t}\r\n\r\n\tLoader.call( this, manager );\r\n\r\n\tthis.options = { premultiplyAlpha: 'none' };\r\n\r\n}\r\n\r\nImageBitmapLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: ImageBitmapLoader,\r\n\r\n\tisImageBitmapLoader: true,\r\n\r\n\tsetOptions: function setOptions( options ) {\r\n\r\n\t\tthis.options = options;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( url === undefined ) url = '';\r\n\r\n\t\tif ( this.path !== undefined ) url = this.path + url;\r\n\r\n\t\turl = this.manager.resolveURL( url );\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst cached = Cache.get( url );\r\n\r\n\t\tif ( cached !== undefined ) {\r\n\r\n\t\t\tscope.manager.itemStart( url );\r\n\r\n\t\t\tsetTimeout( function () {\r\n\r\n\t\t\t\tif ( onLoad ) onLoad( cached );\r\n\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}, 0 );\r\n\r\n\t\t\treturn cached;\r\n\r\n\t\t}\r\n\r\n\t\tconst fetchOptions = {};\r\n\t\tfetchOptions.credentials = ( this.crossOrigin === 'anonymous' ) ? 'same-origin' : 'include';\r\n\t\tfetchOptions.headers = this.requestHeader;\r\n\r\n\t\tfetch( url, fetchOptions ).then( function ( res ) {\r\n\r\n\t\t\treturn res.blob();\r\n\r\n\t\t} ).then( function ( blob ) {\r\n\r\n\t\t\treturn createImageBitmap( blob, Object.assign( scope.options, { colorSpaceConversion: 'none' } ) );\r\n\r\n\t\t} ).then( function ( imageBitmap ) {\r\n\r\n\t\t\tCache.add( url, imageBitmap );\r\n\r\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\r\n\r\n\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t} ).catch( function ( e ) {\r\n\r\n\t\t\tif ( onError ) onError( e );\r\n\r\n\t\t\tscope.manager.itemError( url );\r\n\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t} );\r\n\r\n\t\tscope.manager.itemStart( url );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nclass ShapePath {\r\n\r\n\tconstructor() {\r\n\r\n\t\tthis.type = 'ShapePath';\r\n\r\n\t\tthis.color = new Color();\r\n\r\n\t\tthis.subPaths = [];\r\n\t\tthis.currentPath = null;\r\n\r\n\t}\r\n\r\n\tmoveTo( x, y ) {\r\n\r\n\t\tthis.currentPath = new Path();\r\n\t\tthis.subPaths.push( this.currentPath );\r\n\t\tthis.currentPath.moveTo( x, y );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tlineTo( x, y ) {\r\n\r\n\t\tthis.currentPath.lineTo( x, y );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\r\n\r\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\r\n\r\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsplineThru( pts ) {\r\n\r\n\t\tthis.currentPath.splineThru( pts );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttoShapes( isCCW, noHoles ) {\r\n\r\n\t\tfunction toShapesNoHoles( inSubpaths ) {\r\n\r\n\t\t\tconst shapes = [];\r\n\r\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\r\n\r\n\t\t\t\tconst tmpShape = new Shape();\r\n\t\t\t\ttmpShape.curves = tmpPath.curves;\r\n\r\n\t\t\t\tshapes.push( tmpShape );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn shapes;\r\n\r\n\t\t}\r\n\r\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\r\n\r\n\t\t\tconst polyLen = inPolygon.length;\r\n\r\n\t\t\t// inPt on polygon contour => immediate success    or\r\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\r\n\t\t\t//  with the horizontal line through inPt, left of inPt\r\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\r\n\t\t\tlet inside = false;\r\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\r\n\r\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\r\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\r\n\r\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\r\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\r\n\r\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\r\n\r\n\t\t\t\t\t// not parallel\r\n\t\t\t\t\tif ( edgeDy < 0 ) {\r\n\r\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\r\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\r\n\r\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\r\n\r\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\r\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\r\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\r\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\r\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// parallel or collinear\r\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\r\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\r\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\r\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\r\n\t\t\t\t\t// continue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn\tinside;\r\n\r\n\t\t}\r\n\r\n\t\tconst isClockWise = ShapeUtils.isClockWise;\r\n\r\n\t\tconst subPaths = this.subPaths;\r\n\t\tif ( subPaths.length === 0 ) return [];\r\n\r\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\r\n\r\n\r\n\t\tlet solid, tmpPath, tmpShape;\r\n\t\tconst shapes = [];\r\n\r\n\t\tif ( subPaths.length === 1 ) {\r\n\r\n\t\t\ttmpPath = subPaths[ 0 ];\r\n\t\t\ttmpShape = new Shape();\r\n\t\t\ttmpShape.curves = tmpPath.curves;\r\n\t\t\tshapes.push( tmpShape );\r\n\t\t\treturn shapes;\r\n\r\n\t\t}\r\n\r\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\r\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\r\n\r\n\t\t// console.log(\"Holes first\", holesFirst);\r\n\r\n\t\tconst betterShapeHoles = [];\r\n\t\tconst newShapes = [];\r\n\t\tlet newShapeHoles = [];\r\n\t\tlet mainIdx = 0;\r\n\t\tlet tmpPoints;\r\n\r\n\t\tnewShapes[ mainIdx ] = undefined;\r\n\t\tnewShapeHoles[ mainIdx ] = [];\r\n\r\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\r\n\r\n\t\t\ttmpPath = subPaths[ i ];\r\n\t\t\ttmpPoints = tmpPath.getPoints();\r\n\t\t\tsolid = isClockWise( tmpPoints );\r\n\t\t\tsolid = isCCW ? ! solid : solid;\r\n\r\n\t\t\tif ( solid ) {\r\n\r\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\r\n\r\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\r\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\r\n\r\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\r\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\r\n\r\n\t\t\t\t//console.log('cw', i);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\r\n\r\n\t\t\t\t//console.log('ccw', i);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// only Holes? -> probably all Shapes with wrong orientation\r\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\r\n\r\n\r\n\t\tif ( newShapes.length > 1 ) {\r\n\r\n\t\t\tlet ambiguous = false;\r\n\t\t\tconst toChange = [];\r\n\r\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\r\n\r\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\r\n\r\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\r\n\r\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\r\n\r\n\t\t\t\t\tconst ho = sho[ hIdx ];\r\n\t\t\t\t\tlet hole_unassigned = true;\r\n\r\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\r\n\r\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\r\n\r\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\r\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\r\n\r\n\t\t\t\t\t\t\t\thole_unassigned = false;\r\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tambiguous = true;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( hole_unassigned ) {\r\n\r\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\r\n\r\n\t\t\tif ( toChange.length > 0 ) {\r\n\r\n\t\t\t\t// console.log(\"to change: \", toChange);\r\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tlet tmpHoles;\r\n\r\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\r\n\r\n\t\t\ttmpShape = newShapes[ i ].s;\r\n\t\t\tshapes.push( tmpShape );\r\n\t\t\ttmpHoles = newShapeHoles[ i ];\r\n\r\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//console.log(\"shape\", shapes);\r\n\r\n\t\treturn shapes;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Font {\r\n\r\n\tconstructor( data ) {\r\n\r\n\t\tthis.type = 'Font';\r\n\r\n\t\tthis.data = data;\r\n\r\n\t}\r\n\r\n\tgenerateShapes( text, size = 100 ) {\r\n\r\n\t\tconst shapes = [];\r\n\t\tconst paths = createPaths( text, size, this.data );\r\n\r\n\t\tfor ( let p = 0, pl = paths.length; p < pl; p ++ ) {\r\n\r\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\r\n\r\n\t\t}\r\n\r\n\t\treturn shapes;\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction createPaths( text, size, data ) {\r\n\r\n\tconst chars = Array.from( text );\r\n\tconst scale = size / data.resolution;\r\n\tconst line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\r\n\r\n\tconst paths = [];\r\n\r\n\tlet offsetX = 0, offsetY = 0;\r\n\r\n\tfor ( let i = 0; i < chars.length; i ++ ) {\r\n\r\n\t\tconst char = chars[ i ];\r\n\r\n\t\tif ( char === '\\n' ) {\r\n\r\n\t\t\toffsetX = 0;\r\n\t\t\toffsetY -= line_height;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst ret = createPath( char, scale, offsetX, offsetY, data );\r\n\t\t\toffsetX += ret.offsetX;\r\n\t\t\tpaths.push( ret.path );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn paths;\r\n\r\n}\r\n\r\nfunction createPath( char, scale, offsetX, offsetY, data ) {\r\n\r\n\tconst glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\r\n\r\n\tif ( ! glyph ) {\r\n\r\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\r\n\tconst path = new ShapePath();\r\n\r\n\tlet x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\r\n\r\n\tif ( glyph.o ) {\r\n\r\n\t\tconst outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\r\n\r\n\t\tfor ( let i = 0, l = outline.length; i < l; ) {\r\n\r\n\t\t\tconst action = outline[ i ++ ];\r\n\r\n\t\t\tswitch ( action ) {\r\n\r\n\t\t\t\tcase 'm': // moveTo\r\n\r\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\r\n\r\n\t\t\t\t\tpath.moveTo( x, y );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'l': // lineTo\r\n\r\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\r\n\r\n\t\t\t\t\tpath.lineTo( x, y );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'q': // quadraticCurveTo\r\n\r\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\r\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\r\n\r\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'b': // bezierCurveTo\r\n\r\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\r\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\r\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\r\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\r\n\r\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn { offsetX: glyph.ha * scale, path: path };\r\n\r\n}\r\n\r\nFont.prototype.isFont = true;\r\n\r\nclass FontLoader extends Loader {\r\n\r\n\tconstructor( manager ) {\r\n\r\n\t\tsuper( manager );\r\n\r\n\t}\r\n\r\n\tload( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst loader = new FileLoader( this.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\tloader.setWithCredentials( scope.withCredentials );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tlet json;\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tjson = JSON.parse( text );\r\n\r\n\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\r\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst font = scope.parse( json );\r\n\r\n\t\t\tif ( onLoad ) onLoad( font );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t}\r\n\r\n\tparse( json ) {\r\n\r\n\t\treturn new Font( json );\r\n\r\n\t}\r\n\r\n}\r\n\r\nlet _context;\r\n\r\nconst AudioContext = {\r\n\r\n\tgetContext: function () {\r\n\r\n\t\tif ( _context === undefined ) {\r\n\r\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\r\n\r\n\t\t}\r\n\r\n\t\treturn _context;\r\n\r\n\t},\r\n\r\n\tsetContext: function ( value ) {\r\n\r\n\t\t_context = value;\r\n\r\n\t}\r\n\r\n};\r\n\r\nclass AudioLoader extends Loader {\r\n\r\n\tconstructor( manager ) {\r\n\r\n\t\tsuper( manager );\r\n\r\n\t}\r\n\r\n\tload( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst loader = new FileLoader( this.manager );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\r\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\r\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\r\n\r\n\t\t\t\tconst context = AudioContext.getContext();\r\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\r\n\r\n\t\t\t\t\tonLoad( audioBuffer );\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass HemisphereLightProbe extends LightProbe {\r\n\r\n\tconstructor( skyColor, groundColor, intensity = 1 ) {\r\n\r\n\t\tsuper( undefined, intensity );\r\n\r\n\t\tconst color1 = new Color().set( skyColor );\r\n\t\tconst color2 = new Color().set( groundColor );\r\n\r\n\t\tconst sky = new Vector3( color1.r, color1.g, color1.b );\r\n\t\tconst ground = new Vector3( color2.r, color2.g, color2.b );\r\n\r\n\t\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\r\n\t\tconst c0 = Math.sqrt( Math.PI );\r\n\t\tconst c1 = c0 * Math.sqrt( 0.75 );\r\n\r\n\t\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\r\n\t\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\r\n\r\n\t}\r\n\r\n}\r\n\r\nHemisphereLightProbe.prototype.isHemisphereLightProbe = true;\r\n\r\nclass AmbientLightProbe extends LightProbe {\r\n\r\n\tconstructor( color, intensity = 1 ) {\r\n\r\n\t\tsuper( undefined, intensity );\r\n\r\n\t\tconst color1 = new Color().set( color );\r\n\r\n\t\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\r\n\t\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\r\n\r\n\t}\r\n\r\n}\r\n\r\nAmbientLightProbe.prototype.isAmbientLightProbe = true;\r\n\r\nconst _eyeRight = new Matrix4();\r\nconst _eyeLeft = new Matrix4();\r\n\r\nclass StereoCamera {\r\n\r\n\tconstructor() {\r\n\r\n\t\tthis.type = 'StereoCamera';\r\n\r\n\t\tthis.aspect = 1;\r\n\r\n\t\tthis.eyeSep = 0.064;\r\n\r\n\t\tthis.cameraL = new PerspectiveCamera();\r\n\t\tthis.cameraL.layers.enable( 1 );\r\n\t\tthis.cameraL.matrixAutoUpdate = false;\r\n\r\n\t\tthis.cameraR = new PerspectiveCamera();\r\n\t\tthis.cameraR.layers.enable( 2 );\r\n\t\tthis.cameraR.matrixAutoUpdate = false;\r\n\r\n\t\tthis._cache = {\r\n\t\t\tfocus: null,\r\n\t\t\tfov: null,\r\n\t\t\taspect: null,\r\n\t\t\tnear: null,\r\n\t\t\tfar: null,\r\n\t\t\tzoom: null,\r\n\t\t\teyeSep: null\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tupdate( camera ) {\r\n\r\n\t\tconst cache = this._cache;\r\n\r\n\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\r\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\r\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\r\n\r\n\t\tif ( needsUpdate ) {\r\n\r\n\t\t\tcache.focus = camera.focus;\r\n\t\t\tcache.fov = camera.fov;\r\n\t\t\tcache.aspect = camera.aspect * this.aspect;\r\n\t\t\tcache.near = camera.near;\r\n\t\t\tcache.far = camera.far;\r\n\t\t\tcache.zoom = camera.zoom;\r\n\t\t\tcache.eyeSep = this.eyeSep;\r\n\r\n\t\t\t// Off-axis stereoscopic effect based on\r\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\r\n\r\n\t\t\tconst projectionMatrix = camera.projectionMatrix.clone();\r\n\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\r\n\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\r\n\t\t\tconst ymax = ( cache.near * Math.tan( MathUtils.DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\r\n\t\t\tlet xmin, xmax;\r\n\r\n\t\t\t// translate xOffset\r\n\r\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\r\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\r\n\r\n\t\t\t// for left eye\r\n\r\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\r\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\r\n\r\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\r\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\r\n\r\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\r\n\r\n\t\t\t// for right eye\r\n\r\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\r\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\r\n\r\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\r\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\r\n\r\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\r\n\r\n\t\t}\r\n\r\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\r\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Clock {\r\n\r\n\tconstructor( autoStart ) {\r\n\r\n\t\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\r\n\r\n\t\tthis.startTime = 0;\r\n\t\tthis.oldTime = 0;\r\n\t\tthis.elapsedTime = 0;\r\n\r\n\t\tthis.running = false;\r\n\r\n\t}\r\n\r\n\tstart() {\r\n\r\n\t\tthis.startTime = now();\r\n\r\n\t\tthis.oldTime = this.startTime;\r\n\t\tthis.elapsedTime = 0;\r\n\t\tthis.running = true;\r\n\r\n\t}\r\n\r\n\tstop() {\r\n\r\n\t\tthis.getElapsedTime();\r\n\t\tthis.running = false;\r\n\t\tthis.autoStart = false;\r\n\r\n\t}\r\n\r\n\tgetElapsedTime() {\r\n\r\n\t\tthis.getDelta();\r\n\t\treturn this.elapsedTime;\r\n\r\n\t}\r\n\r\n\tgetDelta() {\r\n\r\n\t\tlet diff = 0;\r\n\r\n\t\tif ( this.autoStart && ! this.running ) {\r\n\r\n\t\t\tthis.start();\r\n\t\t\treturn 0;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.running ) {\r\n\r\n\t\t\tconst newTime = now();\r\n\r\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\r\n\t\t\tthis.oldTime = newTime;\r\n\r\n\t\t\tthis.elapsedTime += diff;\r\n\r\n\t\t}\r\n\r\n\t\treturn diff;\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction now() {\r\n\r\n\treturn ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\r\n\r\n}\r\n\r\nconst _position$1 = /*@__PURE__*/ new Vector3();\r\nconst _quaternion$1 = /*@__PURE__*/ new Quaternion();\r\nconst _scale$1 = /*@__PURE__*/ new Vector3();\r\nconst _orientation$1 = /*@__PURE__*/ new Vector3();\r\n\r\nclass AudioListener extends Object3D {\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'AudioListener';\r\n\r\n\t\tthis.context = AudioContext.getContext();\r\n\r\n\t\tthis.gain = this.context.createGain();\r\n\t\tthis.gain.connect( this.context.destination );\r\n\r\n\t\tthis.filter = null;\r\n\r\n\t\tthis.timeDelta = 0;\r\n\r\n\t\t// private\r\n\r\n\t\tthis._clock = new Clock();\r\n\r\n\t}\r\n\r\n\tgetInput() {\r\n\r\n\t\treturn this.gain;\r\n\r\n\t}\r\n\r\n\tremoveFilter() {\r\n\r\n\t\tif ( this.filter !== null ) {\r\n\r\n\t\t\tthis.gain.disconnect( this.filter );\r\n\t\t\tthis.filter.disconnect( this.context.destination );\r\n\t\t\tthis.gain.connect( this.context.destination );\r\n\t\t\tthis.filter = null;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetFilter() {\r\n\r\n\t\treturn this.filter;\r\n\r\n\t}\r\n\r\n\tsetFilter( value ) {\r\n\r\n\t\tif ( this.filter !== null ) {\r\n\r\n\t\t\tthis.gain.disconnect( this.filter );\r\n\t\t\tthis.filter.disconnect( this.context.destination );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.gain.disconnect( this.context.destination );\r\n\r\n\t\t}\r\n\r\n\t\tthis.filter = value;\r\n\t\tthis.gain.connect( this.filter );\r\n\t\tthis.filter.connect( this.context.destination );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetMasterVolume() {\r\n\r\n\t\treturn this.gain.gain.value;\r\n\r\n\t}\r\n\r\n\tsetMasterVolume( value ) {\r\n\r\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tupdateMatrixWorld( force ) {\r\n\r\n\t\tsuper.updateMatrixWorld( force );\r\n\r\n\t\tconst listener = this.context.listener;\r\n\t\tconst up = this.up;\r\n\r\n\t\tthis.timeDelta = this._clock.getDelta();\r\n\r\n\t\tthis.matrixWorld.decompose( _position$1, _quaternion$1, _scale$1 );\r\n\r\n\t\t_orientation$1.set( 0, 0, - 1 ).applyQuaternion( _quaternion$1 );\r\n\r\n\t\tif ( listener.positionX ) {\r\n\r\n\t\t\t// code path for Chrome (see #14393)\r\n\r\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\r\n\r\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$1.x, endTime );\r\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$1.y, endTime );\r\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$1.z, endTime );\r\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation$1.x, endTime );\r\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation$1.y, endTime );\r\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation$1.z, endTime );\r\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\r\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\r\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tlistener.setPosition( _position$1.x, _position$1.y, _position$1.z );\r\n\t\t\tlistener.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z, up.x, up.y, up.z );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Audio extends Object3D {\r\n\r\n\tconstructor( listener ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'Audio';\r\n\r\n\t\tthis.listener = listener;\r\n\t\tthis.context = listener.context;\r\n\r\n\t\tthis.gain = this.context.createGain();\r\n\t\tthis.gain.connect( listener.getInput() );\r\n\r\n\t\tthis.autoplay = false;\r\n\r\n\t\tthis.buffer = null;\r\n\t\tthis.detune = 0;\r\n\t\tthis.loop = false;\r\n\t\tthis.loopStart = 0;\r\n\t\tthis.loopEnd = 0;\r\n\t\tthis.offset = 0;\r\n\t\tthis.duration = undefined;\r\n\t\tthis.playbackRate = 1;\r\n\t\tthis.isPlaying = false;\r\n\t\tthis.hasPlaybackControl = true;\r\n\t\tthis.source = null;\r\n\t\tthis.sourceType = 'empty';\r\n\r\n\t\tthis._startedAt = 0;\r\n\t\tthis._progress = 0;\r\n\t\tthis._connected = false;\r\n\r\n\t\tthis.filters = [];\r\n\r\n\t}\r\n\r\n\tgetOutput() {\r\n\r\n\t\treturn this.gain;\r\n\r\n\t}\r\n\r\n\tsetNodeSource( audioNode ) {\r\n\r\n\t\tthis.hasPlaybackControl = false;\r\n\t\tthis.sourceType = 'audioNode';\r\n\t\tthis.source = audioNode;\r\n\t\tthis.connect();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetMediaElementSource( mediaElement ) {\r\n\r\n\t\tthis.hasPlaybackControl = false;\r\n\t\tthis.sourceType = 'mediaNode';\r\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\r\n\t\tthis.connect();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetMediaStreamSource( mediaStream ) {\r\n\r\n\t\tthis.hasPlaybackControl = false;\r\n\t\tthis.sourceType = 'mediaStreamNode';\r\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\r\n\t\tthis.connect();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetBuffer( audioBuffer ) {\r\n\r\n\t\tthis.buffer = audioBuffer;\r\n\t\tthis.sourceType = 'buffer';\r\n\r\n\t\tif ( this.autoplay ) this.play();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tplay( delay = 0 ) {\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis._startedAt = this.context.currentTime + delay;\r\n\r\n\t\tconst source = this.context.createBufferSource();\r\n\t\tsource.buffer = this.buffer;\r\n\t\tsource.loop = this.loop;\r\n\t\tsource.loopStart = this.loopStart;\r\n\t\tsource.loopEnd = this.loopEnd;\r\n\t\tsource.onended = this.onEnded.bind( this );\r\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\r\n\r\n\t\tthis.isPlaying = true;\r\n\r\n\t\tthis.source = source;\r\n\r\n\t\tthis.setDetune( this.detune );\r\n\t\tthis.setPlaybackRate( this.playbackRate );\r\n\r\n\t\treturn this.connect();\r\n\r\n\t}\r\n\r\n\tpause() {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\t// update current progress\r\n\r\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\r\n\r\n\t\t\tif ( this.loop === true ) {\r\n\r\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\r\n\r\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.source.stop();\r\n\t\t\tthis.source.onended = null;\r\n\r\n\t\t\tthis.isPlaying = false;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tstop() {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis._progress = 0;\r\n\r\n\t\tthis.source.stop();\r\n\t\tthis.source.onended = null;\r\n\t\tthis.isPlaying = false;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tconnect() {\r\n\r\n\t\tif ( this.filters.length > 0 ) {\r\n\r\n\t\t\tthis.source.connect( this.filters[ 0 ] );\r\n\r\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.source.connect( this.getOutput() );\r\n\r\n\t\t}\r\n\r\n\t\tthis._connected = true;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tdisconnect() {\r\n\r\n\t\tif ( this.filters.length > 0 ) {\r\n\r\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\r\n\r\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.source.disconnect( this.getOutput() );\r\n\r\n\t\t}\r\n\r\n\t\tthis._connected = false;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetFilters() {\r\n\r\n\t\treturn this.filters;\r\n\r\n\t}\r\n\r\n\tsetFilters( value ) {\r\n\r\n\t\tif ( ! value ) value = [];\r\n\r\n\t\tif ( this._connected === true ) {\r\n\r\n\t\t\tthis.disconnect();\r\n\t\t\tthis.filters = value.slice();\r\n\t\t\tthis.connect();\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.filters = value.slice();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetDetune( value ) {\r\n\r\n\t\tthis.detune = value;\r\n\r\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetDetune() {\r\n\r\n\t\treturn this.detune;\r\n\r\n\t}\r\n\r\n\tgetFilter() {\r\n\r\n\t\treturn this.getFilters()[ 0 ];\r\n\r\n\t}\r\n\r\n\tsetFilter( filter ) {\r\n\r\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\r\n\r\n\t}\r\n\r\n\tsetPlaybackRate( value ) {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis.playbackRate = value;\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetPlaybackRate() {\r\n\r\n\t\treturn this.playbackRate;\r\n\r\n\t}\r\n\r\n\tonEnded() {\r\n\r\n\t\tthis.isPlaying = false;\r\n\r\n\t}\r\n\r\n\tgetLoop() {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.loop;\r\n\r\n\t}\r\n\r\n\tsetLoop( value ) {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis.loop = value;\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tthis.source.loop = this.loop;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetLoopStart( value ) {\r\n\r\n\t\tthis.loopStart = value;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetLoopEnd( value ) {\r\n\r\n\t\tthis.loopEnd = value;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetVolume() {\r\n\r\n\t\treturn this.gain.gain.value;\r\n\r\n\t}\r\n\r\n\tsetVolume( value ) {\r\n\r\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _position = /*@__PURE__*/ new Vector3();\r\nconst _quaternion = /*@__PURE__*/ new Quaternion();\r\nconst _scale = /*@__PURE__*/ new Vector3();\r\nconst _orientation = /*@__PURE__*/ new Vector3();\r\n\r\nclass PositionalAudio extends Audio {\r\n\r\n\tconstructor( listener ) {\r\n\r\n\t\tsuper( listener );\r\n\r\n\t\tthis.panner = this.context.createPanner();\r\n\t\tthis.panner.panningModel = 'HRTF';\r\n\t\tthis.panner.connect( this.gain );\r\n\r\n\t}\r\n\r\n\tgetOutput() {\r\n\r\n\t\treturn this.panner;\r\n\r\n\t}\r\n\r\n\tgetRefDistance() {\r\n\r\n\t\treturn this.panner.refDistance;\r\n\r\n\t}\r\n\r\n\tsetRefDistance( value ) {\r\n\r\n\t\tthis.panner.refDistance = value;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetRolloffFactor() {\r\n\r\n\t\treturn this.panner.rolloffFactor;\r\n\r\n\t}\r\n\r\n\tsetRolloffFactor( value ) {\r\n\r\n\t\tthis.panner.rolloffFactor = value;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetDistanceModel() {\r\n\r\n\t\treturn this.panner.distanceModel;\r\n\r\n\t}\r\n\r\n\tsetDistanceModel( value ) {\r\n\r\n\t\tthis.panner.distanceModel = value;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetMaxDistance() {\r\n\r\n\t\treturn this.panner.maxDistance;\r\n\r\n\t}\r\n\r\n\tsetMaxDistance( value ) {\r\n\r\n\t\tthis.panner.maxDistance = value;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetDirectionalCone( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\r\n\r\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\r\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\r\n\t\tthis.panner.coneOuterGain = coneOuterGain;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tupdateMatrixWorld( force ) {\r\n\r\n\t\tsuper.updateMatrixWorld( force );\r\n\r\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\r\n\r\n\t\tthis.matrixWorld.decompose( _position, _quaternion, _scale );\r\n\r\n\t\t_orientation.set( 0, 0, 1 ).applyQuaternion( _quaternion );\r\n\r\n\t\tconst panner = this.panner;\r\n\r\n\t\tif ( panner.positionX ) {\r\n\r\n\t\t\t// code path for Chrome and Firefox (see #14393)\r\n\r\n\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\r\n\r\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position.x, endTime );\r\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position.y, endTime );\r\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position.z, endTime );\r\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation.x, endTime );\r\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation.y, endTime );\r\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation.z, endTime );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tpanner.setPosition( _position.x, _position.y, _position.z );\r\n\t\t\tpanner.setOrientation( _orientation.x, _orientation.y, _orientation.z );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass AudioAnalyser {\r\n\r\n\tconstructor( audio, fftSize = 2048 ) {\r\n\r\n\t\tthis.analyser = audio.context.createAnalyser();\r\n\t\tthis.analyser.fftSize = fftSize;\r\n\r\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\r\n\r\n\t\taudio.getOutput().connect( this.analyser );\r\n\r\n\t}\r\n\r\n\r\n\tgetFrequencyData() {\r\n\r\n\t\tthis.analyser.getByteFrequencyData( this.data );\r\n\r\n\t\treturn this.data;\r\n\r\n\t}\r\n\r\n\tgetAverageFrequency() {\r\n\r\n\t\tlet value = 0;\r\n\t\tconst data = this.getFrequencyData();\r\n\r\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\r\n\r\n\t\t\tvalue += data[ i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn value / data.length;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass PropertyMixer {\r\n\r\n\tconstructor( binding, typeName, valueSize ) {\r\n\r\n\t\tthis.binding = binding;\r\n\t\tthis.valueSize = valueSize;\r\n\r\n\t\tlet mixFunction,\r\n\t\t\tmixFunctionAdditive,\r\n\t\t\tsetIdentity;\r\n\r\n\t\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\r\n\t\t//\r\n\t\t// interpolators can use .buffer as their .result\r\n\t\t// the data then goes to 'incoming'\r\n\t\t//\r\n\t\t// 'accu0' and 'accu1' are used frame-interleaved for\r\n\t\t// the cumulative result and are compared to detect\r\n\t\t// changes\r\n\t\t//\r\n\t\t// 'orig' stores the original state of the property\r\n\t\t//\r\n\t\t// 'add' is used for additive cumulative results\r\n\t\t//\r\n\t\t// 'work' is optional and is only present for quaternion types. It is used\r\n\t\t// to store intermediate quaternion multiplication results\r\n\r\n\t\tswitch ( typeName ) {\r\n\r\n\t\t\tcase 'quaternion':\r\n\t\t\t\tmixFunction = this._slerp;\r\n\t\t\t\tmixFunctionAdditive = this._slerpAdditive;\r\n\t\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\r\n\r\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\r\n\t\t\t\tthis._workIndex = 5;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'string':\r\n\t\t\tcase 'bool':\r\n\t\t\t\tmixFunction = this._select;\r\n\r\n\t\t\t\t// Use the regular mix function and for additive on these types,\r\n\t\t\t\t// additive is not relevant for non-numeric types\r\n\t\t\t\tmixFunctionAdditive = this._select;\r\n\r\n\t\t\t\tsetIdentity = this._setAdditiveIdentityOther;\r\n\r\n\t\t\t\tthis.buffer = new Array( valueSize * 5 );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tmixFunction = this._lerp;\r\n\t\t\t\tmixFunctionAdditive = this._lerpAdditive;\r\n\t\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\r\n\r\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\r\n\r\n\t\t}\r\n\r\n\t\tthis._mixBufferRegion = mixFunction;\r\n\t\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\r\n\t\tthis._setIdentity = setIdentity;\r\n\t\tthis._origIndex = 3;\r\n\t\tthis._addIndex = 4;\r\n\r\n\t\tthis.cumulativeWeight = 0;\r\n\t\tthis.cumulativeWeightAdditive = 0;\r\n\r\n\t\tthis.useCount = 0;\r\n\t\tthis.referenceCount = 0;\r\n\r\n\t}\r\n\r\n\t// accumulate data in the 'incoming' region into 'accu<i>'\r\n\taccumulate( accuIndex, weight ) {\r\n\r\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\r\n\t\t// the weight and shouldn't have made the call in the first place\r\n\r\n\t\tconst buffer = this.buffer,\r\n\t\t\tstride = this.valueSize,\r\n\t\t\toffset = accuIndex * stride + stride;\r\n\r\n\t\tlet currentWeight = this.cumulativeWeight;\r\n\r\n\t\tif ( currentWeight === 0 ) {\r\n\r\n\t\t\t// accuN := incoming * weight\r\n\r\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcurrentWeight = weight;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// accuN := accuN + incoming * weight\r\n\r\n\t\t\tcurrentWeight += weight;\r\n\t\t\tconst mix = weight / currentWeight;\r\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\r\n\r\n\t\t}\r\n\r\n\t\tthis.cumulativeWeight = currentWeight;\r\n\r\n\t}\r\n\r\n\t// accumulate data in the 'incoming' region into 'add'\r\n\taccumulateAdditive( weight ) {\r\n\r\n\t\tconst buffer = this.buffer,\r\n\t\t\tstride = this.valueSize,\r\n\t\t\toffset = stride * this._addIndex;\r\n\r\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\r\n\r\n\t\t\t// add = identity\r\n\r\n\t\t\tthis._setIdentity();\r\n\r\n\t\t}\r\n\r\n\t\t// add := add + incoming * weight\r\n\r\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\r\n\t\tthis.cumulativeWeightAdditive += weight;\r\n\r\n\t}\r\n\r\n\t// apply the state of 'accu<i>' to the binding when accus differ\r\n\tapply( accuIndex ) {\r\n\r\n\t\tconst stride = this.valueSize,\r\n\t\t\tbuffer = this.buffer,\r\n\t\t\toffset = accuIndex * stride + stride,\r\n\r\n\t\t\tweight = this.cumulativeWeight,\r\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\r\n\r\n\t\t\tbinding = this.binding;\r\n\r\n\t\tthis.cumulativeWeight = 0;\r\n\t\tthis.cumulativeWeightAdditive = 0;\r\n\r\n\t\tif ( weight < 1 ) {\r\n\r\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\r\n\r\n\t\t\tconst originalValueOffset = stride * this._origIndex;\r\n\r\n\t\t\tthis._mixBufferRegion(\r\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\r\n\r\n\t\t}\r\n\r\n\t\tif ( weightAdditive > 0 ) {\r\n\r\n\t\t\t// accuN := accuN + additive accuN\r\n\r\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\r\n\r\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\r\n\r\n\t\t\t\t// value has changed -> update scene graph\r\n\r\n\t\t\t\tbinding.setValue( buffer, offset );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// remember the state of the bound property and copy it to both accus\r\n\tsaveOriginalState() {\r\n\r\n\t\tconst binding = this.binding;\r\n\r\n\t\tconst buffer = this.buffer,\r\n\t\t\tstride = this.valueSize,\r\n\r\n\t\t\toriginalValueOffset = stride * this._origIndex;\r\n\r\n\t\tbinding.getValue( buffer, originalValueOffset );\r\n\r\n\t\t// accu[0..1] := orig -- initially detect changes against the original\r\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\r\n\r\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\r\n\r\n\t\t}\r\n\r\n\t\t// Add to identity for additive\r\n\t\tthis._setIdentity();\r\n\r\n\t\tthis.cumulativeWeight = 0;\r\n\t\tthis.cumulativeWeightAdditive = 0;\r\n\r\n\t}\r\n\r\n\t// apply the state previously taken via 'saveOriginalState' to the binding\r\n\trestoreOriginalState() {\r\n\r\n\t\tconst originalValueOffset = this.valueSize * 3;\r\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\r\n\r\n\t}\r\n\r\n\t_setAdditiveIdentityNumeric() {\r\n\r\n\t\tconst startIndex = this._addIndex * this.valueSize;\r\n\t\tconst endIndex = startIndex + this.valueSize;\r\n\r\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\r\n\r\n\t\t\tthis.buffer[ i ] = 0;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_setAdditiveIdentityQuaternion() {\r\n\r\n\t\tthis._setAdditiveIdentityNumeric();\r\n\t\tthis.buffer[ this._addIndex * this.valueSize + 3 ] = 1;\r\n\r\n\t}\r\n\r\n\t_setAdditiveIdentityOther() {\r\n\r\n\t\tconst startIndex = this._origIndex * this.valueSize;\r\n\t\tconst targetIndex = this._addIndex * this.valueSize;\r\n\r\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\r\n\r\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t// mix functions\r\n\r\n\t_select( buffer, dstOffset, srcOffset, t, stride ) {\r\n\r\n\t\tif ( t >= 0.5 ) {\r\n\r\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_slerp( buffer, dstOffset, srcOffset, t ) {\r\n\r\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\r\n\r\n\t}\r\n\r\n\t_slerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\r\n\r\n\t\tconst workOffset = this._workIndex * stride;\r\n\r\n\t\t// Store result in intermediate buffer offset\r\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\r\n\r\n\t\t// Slerp to the intermediate result\r\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\r\n\r\n\t}\r\n\r\n\t_lerp( buffer, dstOffset, srcOffset, t, stride ) {\r\n\r\n\t\tconst s = 1 - t;\r\n\r\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tconst j = dstOffset + i;\r\n\r\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_lerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\r\n\r\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tconst j = dstOffset + i;\r\n\r\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Characters [].:/ are reserved for track binding syntax.\r\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\r\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\r\n\r\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\r\n// only latin characters, and the unicode \\p{L} is not yet supported. So\r\n// instead, we exclude reserved characters and match everything else.\r\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\r\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\r\n\r\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\r\n// be matched to parse the rest of the track name.\r\nconst _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\r\n\r\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\r\nconst _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\r\n\r\n// Object on target node, and accessor. May not contain reserved\r\n// characters. Accessor may contain any character except closing bracket.\r\nconst _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\r\n\r\n// Property and accessor. May not contain reserved characters. Accessor may\r\n// contain any non-bracket characters.\r\nconst _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\r\n\r\nconst _trackRe = new RegExp( ''\r\n\t+ '^'\r\n\t+ _directoryRe\r\n\t+ _nodeRe\r\n\t+ _objectRe\r\n\t+ _propertyRe\r\n\t+ '$'\r\n);\r\n\r\nconst _supportedObjectNames = [ 'material', 'materials', 'bones' ];\r\n\r\nfunction Composite( targetGroup, path, optionalParsedPath ) {\r\n\r\n\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\r\n\r\n\tthis._targetGroup = targetGroup;\r\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\r\n\r\n}\r\n\r\nObject.assign( Composite.prototype, {\r\n\r\n\tgetValue: function ( array, offset ) {\r\n\r\n\t\tthis.bind(); // bind all binding\r\n\r\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\r\n\t\t\tbinding = this._bindings[ firstValidIndex ];\r\n\r\n\t\t// and only call .getValue on the first\r\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\r\n\r\n\t},\r\n\r\n\tsetValue: function ( array, offset ) {\r\n\r\n\t\tconst bindings = this._bindings;\r\n\r\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].setValue( array, offset );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tbind: function () {\r\n\r\n\t\tconst bindings = this._bindings;\r\n\r\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].bind();\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tunbind: function () {\r\n\r\n\t\tconst bindings = this._bindings;\r\n\r\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].unbind();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\nfunction PropertyBinding( rootNode, path, parsedPath ) {\r\n\r\n\tthis.path = path;\r\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\r\n\r\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\r\n\r\n\tthis.rootNode = rootNode;\r\n\r\n}\r\n\r\nObject.assign( PropertyBinding, {\r\n\r\n\tComposite: Composite,\r\n\r\n\tcreate: function ( root, path, parsedPath ) {\r\n\r\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\r\n\r\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Replaces spaces with underscores and removes unsupported characters from\r\n\t * node names, to ensure compatibility with parseTrackName().\r\n\t *\r\n\t * @param {string} name Node name to be sanitized.\r\n\t * @return {string}\r\n\t */\r\n\tsanitizeNodeName: function ( name ) {\r\n\r\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\r\n\r\n\t},\r\n\r\n\tparseTrackName: function ( trackName ) {\r\n\r\n\t\tconst matches = _trackRe.exec( trackName );\r\n\r\n\t\tif ( ! matches ) {\r\n\r\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\r\n\r\n\t\t}\r\n\r\n\t\tconst results = {\r\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\r\n\t\t\tnodeName: matches[ 2 ],\r\n\t\t\tobjectName: matches[ 3 ],\r\n\t\t\tobjectIndex: matches[ 4 ],\r\n\t\t\tpropertyName: matches[ 5 ], // required\r\n\t\t\tpropertyIndex: matches[ 6 ]\r\n\t\t};\r\n\r\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\r\n\r\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\r\n\r\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\r\n\r\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\r\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\r\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\r\n\t\t\t// include '.' characters).\r\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\r\n\r\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\r\n\t\t\t\tresults.objectName = objectName;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\r\n\r\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\r\n\r\n\t\t}\r\n\r\n\t\treturn results;\r\n\r\n\t},\r\n\r\n\tfindNode: function ( root, nodeName ) {\r\n\r\n\t\tif ( ! nodeName || nodeName === '' || nodeName === '.' || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\r\n\r\n\t\t\treturn root;\r\n\r\n\t\t}\r\n\r\n\t\t// search into skeleton bones.\r\n\t\tif ( root.skeleton ) {\r\n\r\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\r\n\r\n\t\t\tif ( bone !== undefined ) {\r\n\r\n\t\t\t\treturn bone;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// search into node subtree.\r\n\t\tif ( root.children ) {\r\n\r\n\t\t\tconst searchNodeSubtree = function ( children ) {\r\n\r\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\r\n\r\n\t\t\t\t\tconst childNode = children[ i ];\r\n\r\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\r\n\r\n\t\t\t\t\t\treturn childNode;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\r\n\r\n\t\t\t\t\tif ( result ) return result;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t};\r\n\r\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\r\n\r\n\t\t\tif ( subTreeNode ) {\r\n\r\n\t\t\t\treturn subTreeNode;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( PropertyBinding.prototype, { // prototype, continued\r\n\r\n\t// these are used to \"bind\" a nonexistent property\r\n\t_getValue_unavailable: function () {},\r\n\t_setValue_unavailable: function () {},\r\n\r\n\tBindingType: {\r\n\t\tDirect: 0,\r\n\t\tEntireArray: 1,\r\n\t\tArrayElement: 2,\r\n\t\tHasFromToArray: 3\r\n\t},\r\n\r\n\tVersioning: {\r\n\t\tNone: 0,\r\n\t\tNeedsUpdate: 1,\r\n\t\tMatrixWorldNeedsUpdate: 2\r\n\t},\r\n\r\n\tGetterByBindingType: [\r\n\r\n\t\tfunction getValue_direct( buffer, offset ) {\r\n\r\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\r\n\r\n\t\t},\r\n\r\n\t\tfunction getValue_array( buffer, offset ) {\r\n\r\n\t\t\tconst source = this.resolvedProperty;\r\n\r\n\t\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tfunction getValue_arrayElement( buffer, offset ) {\r\n\r\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\r\n\r\n\t\t},\r\n\r\n\t\tfunction getValue_toArray( buffer, offset ) {\r\n\r\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\r\n\r\n\t\t}\r\n\r\n\t],\r\n\r\n\tSetterByBindingTypeAndVersioning: [\r\n\r\n\t\t[\r\n\t\t\t// Direct\r\n\r\n\t\t\tfunction setValue_direct( buffer, offset ) {\r\n\r\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\r\n\t\t\t\tthis.targetObject.needsUpdate = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\r\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t], [\r\n\r\n\t\t\t// EntireArray\r\n\r\n\t\t\tfunction setValue_array( buffer, offset ) {\r\n\r\n\t\t\t\tconst dest = this.resolvedProperty;\r\n\r\n\t\t\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tconst dest = this.resolvedProperty;\r\n\r\n\t\t\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.targetObject.needsUpdate = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tconst dest = this.resolvedProperty;\r\n\r\n\t\t\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t], [\r\n\r\n\t\t\t// ArrayElement\r\n\r\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\r\n\t\t\t\tthis.targetObject.needsUpdate = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\r\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t], [\r\n\r\n\t\t\t// HasToFromArray\r\n\r\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\r\n\t\t\t\tthis.targetObject.needsUpdate = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\r\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t]\r\n\r\n\t],\r\n\r\n\tgetValue: function getValue_unbound( targetArray, offset ) {\r\n\r\n\t\tthis.bind();\r\n\t\tthis.getValue( targetArray, offset );\r\n\r\n\t\t// Note: This class uses a State pattern on a per-method basis:\r\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\r\n\t\t// prototype version of these methods with one that represents\r\n\t\t// the bound state. When the property is not found, the methods\r\n\t\t// become no-ops.\r\n\r\n\t},\r\n\r\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\r\n\r\n\t\tthis.bind();\r\n\t\tthis.setValue( sourceArray, offset );\r\n\r\n\t},\r\n\r\n\t// create getter / setter pair for a property in the scene graph\r\n\tbind: function () {\r\n\r\n\t\tlet targetObject = this.node;\r\n\t\tconst parsedPath = this.parsedPath;\r\n\r\n\t\tconst objectName = parsedPath.objectName;\r\n\t\tconst propertyName = parsedPath.propertyName;\r\n\t\tlet propertyIndex = parsedPath.propertyIndex;\r\n\r\n\t\tif ( ! targetObject ) {\r\n\r\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\r\n\r\n\t\t\tthis.node = targetObject;\r\n\r\n\t\t}\r\n\r\n\t\t// set fail state so we can just 'return' on error\r\n\t\tthis.getValue = this._getValue_unavailable;\r\n\t\tthis.setValue = this._setValue_unavailable;\r\n\r\n\t\t// ensure there is a value node\r\n\t\tif ( ! targetObject ) {\r\n\r\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( objectName ) {\r\n\r\n\t\t\tlet objectIndex = parsedPath.objectIndex;\r\n\r\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\r\n\t\t\tswitch ( objectName ) {\r\n\r\n\t\t\t\tcase 'materials':\r\n\r\n\t\t\t\t\tif ( ! targetObject.material ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttargetObject = targetObject.material.materials;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'bones':\r\n\r\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\r\n\t\t\t\t\t// and convert the integer string to a true integer.\r\n\r\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\r\n\r\n\t\t\t\t\t// support resolving morphTarget names into indices.\r\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\r\n\r\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\r\n\r\n\t\t\t\t\t\t\tobjectIndex = i;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif ( objectIndex !== undefined ) {\r\n\r\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// resolve property\r\n\t\tconst nodeProperty = targetObject[ propertyName ];\r\n\r\n\t\tif ( nodeProperty === undefined ) {\r\n\r\n\t\t\tconst nodeName = parsedPath.nodeName;\r\n\r\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\r\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t// determine versioning scheme\r\n\t\tlet versioning = this.Versioning.None;\r\n\r\n\t\tthis.targetObject = targetObject;\r\n\r\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\r\n\r\n\t\t\tversioning = this.Versioning.NeedsUpdate;\r\n\r\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\r\n\r\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\r\n\r\n\t\t}\r\n\r\n\t\t// determine how the property gets bound\r\n\t\tlet bindingType = this.BindingType.Direct;\r\n\r\n\t\tif ( propertyIndex !== undefined ) {\r\n\r\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\r\n\r\n\t\t\tif ( propertyName === 'morphTargetInfluences' ) {\r\n\r\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\r\n\r\n\t\t\t\t// support resolving morphTarget names into indices.\r\n\t\t\t\tif ( ! targetObject.geometry ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\r\n\r\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\r\n\r\n\t\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbindingType = this.BindingType.ArrayElement;\r\n\r\n\t\t\tthis.resolvedProperty = nodeProperty;\r\n\t\t\tthis.propertyIndex = propertyIndex;\r\n\r\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\r\n\r\n\t\t\t// must use copy for Object3D.Euler/Quaternion\r\n\r\n\t\t\tbindingType = this.BindingType.HasFromToArray;\r\n\r\n\t\t\tthis.resolvedProperty = nodeProperty;\r\n\r\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\r\n\r\n\t\t\tbindingType = this.BindingType.EntireArray;\r\n\r\n\t\t\tthis.resolvedProperty = nodeProperty;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.propertyName = propertyName;\r\n\r\n\t\t}\r\n\r\n\t\t// select getter / setter\r\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\r\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\r\n\r\n\t},\r\n\r\n\tunbind: function () {\r\n\r\n\t\tthis.node = null;\r\n\r\n\t\t// back to the prototype version of getValue / setValue\r\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\r\n\t\tthis.getValue = this._getValue_unbound;\r\n\t\tthis.setValue = this._setValue_unbound;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// DECLARE ALIAS AFTER assign prototype\r\nObject.assign( PropertyBinding.prototype, {\r\n\r\n\t// initial state of these methods that calls 'bind'\r\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\r\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\r\n\r\n} );\r\n\r\n/**\r\n *\r\n * A group of objects that receives a shared animation state.\r\n *\r\n * Usage:\r\n *\r\n *  - Add objects you would otherwise pass as 'root' to the\r\n *    constructor or the .clipAction method of AnimationMixer.\r\n *\r\n *  - Instead pass this object as 'root'.\r\n *\r\n *  - You can also add and remove objects later when the mixer\r\n *    is running.\r\n *\r\n * Note:\r\n *\r\n *    Objects of this class appear as one object to the mixer,\r\n *    so cache control of the individual objects must be done\r\n *    on the group.\r\n *\r\n * Limitation:\r\n *\r\n *  - The animated properties must be compatible among the\r\n *    all objects in the group.\r\n *\r\n *  - A single property can either be controlled through a\r\n *    target group or directly, but not both.\r\n */\r\n\r\nclass AnimationObjectGroup {\r\n\r\n\tconstructor() {\r\n\r\n\t\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\t\t// cached objects followed by the active ones\r\n\t\tthis._objects = Array.prototype.slice.call( arguments );\r\n\r\n\t\tthis.nCachedObjects_ = 0; // threshold\r\n\t\t// note: read by PropertyBinding.Composite\r\n\r\n\t\tconst indices = {};\r\n\t\tthis._indicesByUUID = indices; // for bookkeeping\r\n\r\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\r\n\r\n\t\t\tindices[ arguments[ i ].uuid ] = i;\r\n\r\n\t\t}\r\n\r\n\t\tthis._paths = []; // inside: string\r\n\t\tthis._parsedPaths = []; // inside: { we don't care, here }\r\n\t\tthis._bindings = []; // inside: Array< PropertyBinding >\r\n\t\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tthis.stats = {\r\n\r\n\t\t\tobjects: {\r\n\t\t\t\tget total() {\r\n\r\n\t\t\t\t\treturn scope._objects.length;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tget inUse() {\r\n\r\n\t\t\t\t\treturn this.total - scope.nCachedObjects_;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tget bindingsPerObject() {\r\n\r\n\t\t\t\treturn scope._bindings.length;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tadd() {\r\n\r\n\t\tconst objects = this._objects,\r\n\t\t\tindicesByUUID = this._indicesByUUID,\r\n\t\t\tpaths = this._paths,\r\n\t\t\tparsedPaths = this._parsedPaths,\r\n\t\t\tbindings = this._bindings,\r\n\t\t\tnBindings = bindings.length;\r\n\r\n\t\tlet knownObject = undefined,\r\n\t\t\tnObjects = objects.length,\r\n\t\t\tnCachedObjects = this.nCachedObjects_;\r\n\r\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\r\n\r\n\t\t\tconst object = arguments[ i ],\r\n\t\t\t\tuuid = object.uuid;\r\n\t\t\tlet index = indicesByUUID[ uuid ];\r\n\r\n\t\t\tif ( index === undefined ) {\r\n\r\n\t\t\t\t// unknown object -> add it to the ACTIVE region\r\n\r\n\t\t\t\tindex = nObjects ++;\r\n\t\t\t\tindicesByUUID[ uuid ] = index;\r\n\t\t\t\tobjects.push( object );\r\n\r\n\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( index < nCachedObjects ) {\r\n\r\n\t\t\t\tknownObject = objects[ index ];\r\n\r\n\t\t\t\t// move existing object to the ACTIVE region\r\n\r\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\r\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\r\n\r\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\r\n\t\t\t\tobjects[ index ] = lastCachedObject;\r\n\r\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\r\n\t\t\t\tobjects[ firstActiveIndex ] = object;\r\n\r\n\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\r\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\r\n\r\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\r\n\r\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\r\n\r\n\t\t\t\t\tif ( binding === undefined ) {\r\n\r\n\t\t\t\t\t\t// since we do not bother to create new bindings\r\n\t\t\t\t\t\t// for objects that are cached, the binding may\r\n\t\t\t\t\t\t// or may not exist\r\n\r\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\r\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\r\n\r\n\t\t\t} // else the object is already where we want it to be\r\n\r\n\t\t} // for arguments\r\n\r\n\t\tthis.nCachedObjects_ = nCachedObjects;\r\n\r\n\t}\r\n\r\n\tremove() {\r\n\r\n\t\tconst objects = this._objects,\r\n\t\t\tindicesByUUID = this._indicesByUUID,\r\n\t\t\tbindings = this._bindings,\r\n\t\t\tnBindings = bindings.length;\r\n\r\n\t\tlet nCachedObjects = this.nCachedObjects_;\r\n\r\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\r\n\r\n\t\t\tconst object = arguments[ i ],\r\n\t\t\t\tuuid = object.uuid,\r\n\t\t\t\tindex = indicesByUUID[ uuid ];\r\n\r\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\r\n\r\n\t\t\t\t// move existing object into the CACHED region\r\n\r\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\r\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\r\n\r\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\r\n\t\t\t\tobjects[ index ] = firstActiveObject;\r\n\r\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\r\n\t\t\t\tobjects[ lastCachedIndex ] = object;\r\n\r\n\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\r\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\r\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\r\n\r\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\r\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} // for arguments\r\n\r\n\t\tthis.nCachedObjects_ = nCachedObjects;\r\n\r\n\t}\r\n\r\n\t// remove & forget\r\n\tuncache() {\r\n\r\n\t\tconst objects = this._objects,\r\n\t\t\tindicesByUUID = this._indicesByUUID,\r\n\t\t\tbindings = this._bindings,\r\n\t\t\tnBindings = bindings.length;\r\n\r\n\t\tlet nCachedObjects = this.nCachedObjects_,\r\n\t\t\tnObjects = objects.length;\r\n\r\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\r\n\r\n\t\t\tconst object = arguments[ i ],\r\n\t\t\t\tuuid = object.uuid,\r\n\t\t\t\tindex = indicesByUUID[ uuid ];\r\n\r\n\t\t\tif ( index !== undefined ) {\r\n\r\n\t\t\t\tdelete indicesByUUID[ uuid ];\r\n\r\n\t\t\t\tif ( index < nCachedObjects ) {\r\n\r\n\t\t\t\t\t// object is cached, shrink the CACHED region\r\n\r\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\r\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\r\n\t\t\t\t\t\tlastIndex = -- nObjects,\r\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\r\n\r\n\t\t\t\t\t// last cached object takes this object's place\r\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\r\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\r\n\r\n\t\t\t\t\t// last object goes to the activated slot and pop\r\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\r\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\r\n\t\t\t\t\tobjects.pop();\r\n\r\n\t\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\r\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\r\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\r\n\r\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\r\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\r\n\t\t\t\t\t\tbindingsForPath.pop();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// object is active, just swap with the last and pop\r\n\r\n\t\t\t\t\tconst lastIndex = -- nObjects,\r\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\r\n\r\n\t\t\t\t\tif ( lastIndex > 0 ) {\r\n\r\n\t\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tobjects[ index ] = lastObject;\r\n\t\t\t\t\tobjects.pop();\r\n\r\n\t\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\r\n\r\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\r\n\t\t\t\t\t\tbindingsForPath.pop();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // cached or active\r\n\r\n\t\t\t} // if object is known\r\n\r\n\t\t} // for arguments\r\n\r\n\t\tthis.nCachedObjects_ = nCachedObjects;\r\n\r\n\t}\r\n\r\n\t// Internal interface used by befriended PropertyBinding.Composite:\r\n\r\n\tsubscribe_( path, parsedPath ) {\r\n\r\n\t\t// returns an array of bindings for the given path that is changed\r\n\t\t// according to the contained objects in the group\r\n\r\n\t\tconst indicesByPath = this._bindingsIndicesByPath;\r\n\t\tlet index = indicesByPath[ path ];\r\n\t\tconst bindings = this._bindings;\r\n\r\n\t\tif ( index !== undefined ) return bindings[ index ];\r\n\r\n\t\tconst paths = this._paths,\r\n\t\t\tparsedPaths = this._parsedPaths,\r\n\t\t\tobjects = this._objects,\r\n\t\t\tnObjects = objects.length,\r\n\t\t\tnCachedObjects = this.nCachedObjects_,\r\n\t\t\tbindingsForPath = new Array( nObjects );\r\n\r\n\t\tindex = bindings.length;\r\n\r\n\t\tindicesByPath[ path ] = index;\r\n\r\n\t\tpaths.push( path );\r\n\t\tparsedPaths.push( parsedPath );\r\n\t\tbindings.push( bindingsForPath );\r\n\r\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\r\n\r\n\t\t\tconst object = objects[ i ];\r\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\r\n\r\n\t\t}\r\n\r\n\t\treturn bindingsForPath;\r\n\r\n\t}\r\n\r\n\tunsubscribe_( path ) {\r\n\r\n\t\t// tells the group to forget about a property path and no longer\r\n\t\t// update the array previously obtained with 'subscribe_'\r\n\r\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\r\n\t\t\tindex = indicesByPath[ path ];\r\n\r\n\t\tif ( index !== undefined ) {\r\n\r\n\t\t\tconst paths = this._paths,\r\n\t\t\t\tparsedPaths = this._parsedPaths,\r\n\t\t\t\tbindings = this._bindings,\r\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\r\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\r\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\r\n\r\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\r\n\r\n\t\t\tbindings[ index ] = lastBindings;\r\n\t\t\tbindings.pop();\r\n\r\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\r\n\t\t\tparsedPaths.pop();\r\n\r\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\r\n\t\t\tpaths.pop();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nAnimationObjectGroup.prototype.isAnimationObjectGroup = true;\r\n\r\nclass AnimationAction {\r\n\r\n\tconstructor( mixer, clip, localRoot = null, blendMode = clip.blendMode ) {\r\n\r\n\t\tthis._mixer = mixer;\r\n\t\tthis._clip = clip;\r\n\t\tthis._localRoot = localRoot;\r\n\t\tthis.blendMode = blendMode;\r\n\r\n\t\tconst tracks = clip.tracks,\r\n\t\t\tnTracks = tracks.length,\r\n\t\t\tinterpolants = new Array( nTracks );\r\n\r\n\t\tconst interpolantSettings = {\r\n\t\t\tendingStart: ZeroCurvatureEnding,\r\n\t\t\tendingEnd: ZeroCurvatureEnding\r\n\t\t};\r\n\r\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\r\n\r\n\t\t\tconst interpolant = tracks[ i ].createInterpolant( null );\r\n\t\t\tinterpolants[ i ] = interpolant;\r\n\t\t\tinterpolant.settings = interpolantSettings;\r\n\r\n\t\t}\r\n\r\n\t\tthis._interpolantSettings = interpolantSettings;\r\n\r\n\t\tthis._interpolants = interpolants; // bound by the mixer\r\n\r\n\t\t// inside: PropertyMixer (managed by the mixer)\r\n\t\tthis._propertyBindings = new Array( nTracks );\r\n\r\n\t\tthis._cacheIndex = null; // for the memory manager\r\n\t\tthis._byClipCacheIndex = null; // for the memory manager\r\n\r\n\t\tthis._timeScaleInterpolant = null;\r\n\t\tthis._weightInterpolant = null;\r\n\r\n\t\tthis.loop = LoopRepeat;\r\n\t\tthis._loopCount = - 1;\r\n\r\n\t\t// global mixer time when the action is to be started\r\n\t\t// it's set back to 'null' upon start of the action\r\n\t\tthis._startTime = null;\r\n\r\n\t\t// scaled local time of the action\r\n\t\t// gets clamped or wrapped to 0..clip.duration according to loop\r\n\t\tthis.time = 0;\r\n\r\n\t\tthis.timeScale = 1;\r\n\t\tthis._effectiveTimeScale = 1;\r\n\r\n\t\tthis.weight = 1;\r\n\t\tthis._effectiveWeight = 1;\r\n\r\n\t\tthis.repetitions = Infinity; // no. of repetitions when looping\r\n\r\n\t\tthis.paused = false; // true -> zero effective time scale\r\n\t\tthis.enabled = true; // false -> zero effective weight\r\n\r\n\t\tthis.clampWhenFinished = false;// keep feeding the last frame?\r\n\r\n\t\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\r\n\t\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\r\n\r\n\t}\r\n\r\n\t// State & Scheduling\r\n\r\n\tplay() {\r\n\r\n\t\tthis._mixer._activateAction( this );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tstop() {\r\n\r\n\t\tthis._mixer._deactivateAction( this );\r\n\r\n\t\treturn this.reset();\r\n\r\n\t}\r\n\r\n\treset() {\r\n\r\n\t\tthis.paused = false;\r\n\t\tthis.enabled = true;\r\n\r\n\t\tthis.time = 0; // restart clip\r\n\t\tthis._loopCount = - 1;// forget previous loops\r\n\t\tthis._startTime = null;// forget scheduling\r\n\r\n\t\treturn this.stopFading().stopWarping();\r\n\r\n\t}\r\n\r\n\tisRunning() {\r\n\r\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\r\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\r\n\r\n\t}\r\n\r\n\t// return true when play has been called\r\n\tisScheduled() {\r\n\r\n\t\treturn this._mixer._isActiveAction( this );\r\n\r\n\t}\r\n\r\n\tstartAt( time ) {\r\n\r\n\t\tthis._startTime = time;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetLoop( mode, repetitions ) {\r\n\r\n\t\tthis.loop = mode;\r\n\t\tthis.repetitions = repetitions;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t// Weight\r\n\r\n\t// set the weight stopping any scheduled fading\r\n\t// although .enabled = false yields an effective weight of zero, this\r\n\t// method does *not* change .enabled, because it would be confusing\r\n\tsetEffectiveWeight( weight ) {\r\n\r\n\t\tthis.weight = weight;\r\n\r\n\t\t// note: same logic as when updated at runtime\r\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\r\n\r\n\t\treturn this.stopFading();\r\n\r\n\t}\r\n\r\n\t// return the weight considering fading and .enabled\r\n\tgetEffectiveWeight() {\r\n\r\n\t\treturn this._effectiveWeight;\r\n\r\n\t}\r\n\r\n\tfadeIn( duration ) {\r\n\r\n\t\treturn this._scheduleFading( duration, 0, 1 );\r\n\r\n\t}\r\n\r\n\tfadeOut( duration ) {\r\n\r\n\t\treturn this._scheduleFading( duration, 1, 0 );\r\n\r\n\t}\r\n\r\n\tcrossFadeFrom( fadeOutAction, duration, warp ) {\r\n\r\n\t\tfadeOutAction.fadeOut( duration );\r\n\t\tthis.fadeIn( duration );\r\n\r\n\t\tif ( warp ) {\r\n\r\n\t\t\tconst fadeInDuration = this._clip.duration,\r\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\r\n\r\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\r\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\r\n\r\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\r\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcrossFadeTo( fadeInAction, duration, warp ) {\r\n\r\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\r\n\r\n\t}\r\n\r\n\tstopFading() {\r\n\r\n\t\tconst weightInterpolant = this._weightInterpolant;\r\n\r\n\t\tif ( weightInterpolant !== null ) {\r\n\r\n\t\t\tthis._weightInterpolant = null;\r\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t// Time Scale Control\r\n\r\n\t// set the time scale stopping any scheduled warping\r\n\t// although .paused = true yields an effective time scale of zero, this\r\n\t// method does *not* change .paused, because it would be confusing\r\n\tsetEffectiveTimeScale( timeScale ) {\r\n\r\n\t\tthis.timeScale = timeScale;\r\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\r\n\r\n\t\treturn this.stopWarping();\r\n\r\n\t}\r\n\r\n\t// return the time scale considering warping and .paused\r\n\tgetEffectiveTimeScale() {\r\n\r\n\t\treturn this._effectiveTimeScale;\r\n\r\n\t}\r\n\r\n\tsetDuration( duration ) {\r\n\r\n\t\tthis.timeScale = this._clip.duration / duration;\r\n\r\n\t\treturn this.stopWarping();\r\n\r\n\t}\r\n\r\n\tsyncWith( action ) {\r\n\r\n\t\tthis.time = action.time;\r\n\t\tthis.timeScale = action.timeScale;\r\n\r\n\t\treturn this.stopWarping();\r\n\r\n\t}\r\n\r\n\thalt( duration ) {\r\n\r\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\r\n\r\n\t}\r\n\r\n\twarp( startTimeScale, endTimeScale, duration ) {\r\n\r\n\t\tconst mixer = this._mixer,\r\n\t\t\tnow = mixer.time,\r\n\t\t\ttimeScale = this.timeScale;\r\n\r\n\t\tlet interpolant = this._timeScaleInterpolant;\r\n\r\n\t\tif ( interpolant === null ) {\r\n\r\n\t\t\tinterpolant = mixer._lendControlInterpolant();\r\n\t\t\tthis._timeScaleInterpolant = interpolant;\r\n\r\n\t\t}\r\n\r\n\t\tconst times = interpolant.parameterPositions,\r\n\t\t\tvalues = interpolant.sampleValues;\r\n\r\n\t\ttimes[ 0 ] = now;\r\n\t\ttimes[ 1 ] = now + duration;\r\n\r\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\r\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tstopWarping() {\r\n\r\n\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\r\n\r\n\t\tif ( timeScaleInterpolant !== null ) {\r\n\r\n\t\t\tthis._timeScaleInterpolant = null;\r\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t// Object Accessors\r\n\r\n\tgetMixer() {\r\n\r\n\t\treturn this._mixer;\r\n\r\n\t}\r\n\r\n\tgetClip() {\r\n\r\n\t\treturn this._clip;\r\n\r\n\t}\r\n\r\n\tgetRoot() {\r\n\r\n\t\treturn this._localRoot || this._mixer._root;\r\n\r\n\t}\r\n\r\n\t// Interna\r\n\r\n\t_update( time, deltaTime, timeDirection, accuIndex ) {\r\n\r\n\t\t// called by the mixer\r\n\r\n\t\tif ( ! this.enabled ) {\r\n\r\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\r\n\r\n\t\t\tthis._updateWeight( time );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tconst startTime = this._startTime;\r\n\r\n\t\tif ( startTime !== null ) {\r\n\r\n\t\t\t// check for scheduled start of action\r\n\r\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\r\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\r\n\r\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// start\r\n\r\n\t\t\tthis._startTime = null; // unschedule\r\n\t\t\tdeltaTime = timeDirection * timeRunning;\r\n\r\n\t\t}\r\n\r\n\t\t// apply time scale and advance time\r\n\r\n\t\tdeltaTime *= this._updateTimeScale( time );\r\n\t\tconst clipTime = this._updateTime( deltaTime );\r\n\r\n\t\t// note: _updateTime may disable the action resulting in\r\n\t\t// an effective weight of 0\r\n\r\n\t\tconst weight = this._updateWeight( time );\r\n\r\n\t\tif ( weight > 0 ) {\r\n\r\n\t\t\tconst interpolants = this._interpolants;\r\n\t\t\tconst propertyMixers = this._propertyBindings;\r\n\r\n\t\t\tswitch ( this.blendMode ) {\r\n\r\n\t\t\t\tcase AdditiveAnimationBlendMode:\r\n\r\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\r\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase NormalAnimationBlendMode:\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\r\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_updateWeight( time ) {\r\n\r\n\t\tlet weight = 0;\r\n\r\n\t\tif ( this.enabled ) {\r\n\r\n\t\t\tweight = this.weight;\r\n\t\t\tconst interpolant = this._weightInterpolant;\r\n\r\n\t\t\tif ( interpolant !== null ) {\r\n\r\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\r\n\r\n\t\t\t\tweight *= interpolantValue;\r\n\r\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\r\n\r\n\t\t\t\t\tthis.stopFading();\r\n\r\n\t\t\t\t\tif ( interpolantValue === 0 ) {\r\n\r\n\t\t\t\t\t\t// faded out, disable\r\n\t\t\t\t\t\tthis.enabled = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis._effectiveWeight = weight;\r\n\t\treturn weight;\r\n\r\n\t}\r\n\r\n\t_updateTimeScale( time ) {\r\n\r\n\t\tlet timeScale = 0;\r\n\r\n\t\tif ( ! this.paused ) {\r\n\r\n\t\t\ttimeScale = this.timeScale;\r\n\r\n\t\t\tconst interpolant = this._timeScaleInterpolant;\r\n\r\n\t\t\tif ( interpolant !== null ) {\r\n\r\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\r\n\r\n\t\t\t\ttimeScale *= interpolantValue;\r\n\r\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\r\n\r\n\t\t\t\t\tthis.stopWarping();\r\n\r\n\t\t\t\t\tif ( timeScale === 0 ) {\r\n\r\n\t\t\t\t\t\t// motion has halted, pause\r\n\t\t\t\t\t\tthis.paused = true;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// warp done - apply final time scale\r\n\t\t\t\t\t\tthis.timeScale = timeScale;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis._effectiveTimeScale = timeScale;\r\n\t\treturn timeScale;\r\n\r\n\t}\r\n\r\n\t_updateTime( deltaTime ) {\r\n\r\n\t\tconst duration = this._clip.duration;\r\n\t\tconst loop = this.loop;\r\n\r\n\t\tlet time = this.time + deltaTime;\r\n\t\tlet loopCount = this._loopCount;\r\n\r\n\t\tconst pingPong = ( loop === LoopPingPong );\r\n\r\n\t\tif ( deltaTime === 0 ) {\r\n\r\n\t\t\tif ( loopCount === - 1 ) return time;\r\n\r\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\r\n\r\n\t\t}\r\n\r\n\t\tif ( loop === LoopOnce ) {\r\n\r\n\t\t\tif ( loopCount === - 1 ) {\r\n\r\n\t\t\t\t// just started\r\n\r\n\t\t\t\tthis._loopCount = 0;\r\n\t\t\t\tthis._setEndings( true, true, false );\r\n\r\n\t\t\t}\r\n\r\n\t\t\thandle_stop: {\r\n\r\n\t\t\t\tif ( time >= duration ) {\r\n\r\n\t\t\t\t\ttime = duration;\r\n\r\n\t\t\t\t} else if ( time < 0 ) {\r\n\r\n\t\t\t\t\ttime = 0;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.time = time;\r\n\r\n\t\t\t\t\tbreak handle_stop;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\r\n\t\t\t\telse this.enabled = false;\r\n\r\n\t\t\t\tthis.time = time;\r\n\r\n\t\t\t\tthis._mixer.dispatchEvent( {\r\n\t\t\t\t\ttype: 'finished', action: this,\r\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else { // repetitive Repeat or PingPong\r\n\r\n\t\t\tif ( loopCount === - 1 ) {\r\n\r\n\t\t\t\t// just started\r\n\r\n\t\t\t\tif ( deltaTime >= 0 ) {\r\n\r\n\t\t\t\t\tloopCount = 0;\r\n\r\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// when looping in reverse direction, the initial\r\n\t\t\t\t\t// transition through zero counts as a repetition,\r\n\t\t\t\t\t// so leave loopCount at -1\r\n\r\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( time >= duration || time < 0 ) {\r\n\r\n\t\t\t\t// wrap around\r\n\r\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\r\n\t\t\t\ttime -= duration * loopDelta;\r\n\r\n\t\t\t\tloopCount += Math.abs( loopDelta );\r\n\r\n\t\t\t\tconst pending = this.repetitions - loopCount;\r\n\r\n\t\t\t\tif ( pending <= 0 ) {\r\n\r\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\r\n\r\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\r\n\t\t\t\t\telse this.enabled = false;\r\n\r\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\r\n\r\n\t\t\t\t\tthis.time = time;\r\n\r\n\t\t\t\t\tthis._mixer.dispatchEvent( {\r\n\t\t\t\t\t\ttype: 'finished', action: this,\r\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// keep running\r\n\r\n\t\t\t\t\tif ( pending === 1 ) {\r\n\r\n\t\t\t\t\t\t// entering the last round\r\n\r\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\r\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._loopCount = loopCount;\r\n\r\n\t\t\t\t\tthis.time = time;\r\n\r\n\t\t\t\t\tthis._mixer.dispatchEvent( {\r\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.time = time;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\r\n\r\n\t\t\t\t// invert time for the \"pong round\"\r\n\r\n\t\t\t\treturn duration - time;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn time;\r\n\r\n\t}\r\n\r\n\t_setEndings( atStart, atEnd, pingPong ) {\r\n\r\n\t\tconst settings = this._interpolantSettings;\r\n\r\n\t\tif ( pingPong ) {\r\n\r\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\r\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\r\n\r\n\t\t\tif ( atStart ) {\r\n\r\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( atEnd ) {\r\n\r\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_scheduleFading( duration, weightNow, weightThen ) {\r\n\r\n\t\tconst mixer = this._mixer, now = mixer.time;\r\n\t\tlet interpolant = this._weightInterpolant;\r\n\r\n\t\tif ( interpolant === null ) {\r\n\r\n\t\t\tinterpolant = mixer._lendControlInterpolant();\r\n\t\t\tthis._weightInterpolant = interpolant;\r\n\r\n\t\t}\r\n\r\n\t\tconst times = interpolant.parameterPositions,\r\n\t\t\tvalues = interpolant.sampleValues;\r\n\r\n\t\ttimes[ 0 ] = now;\r\n\t\tvalues[ 0 ] = weightNow;\r\n\t\ttimes[ 1 ] = now + duration;\r\n\t\tvalues[ 1 ] = weightThen;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass AnimationMixer extends EventDispatcher {\r\n\r\n\tconstructor( root ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis._root = root;\r\n\t\tthis._initMemoryManager();\r\n\t\tthis._accuIndex = 0;\r\n\t\tthis.time = 0;\r\n\t\tthis.timeScale = 1.0;\r\n\r\n\t}\r\n\r\n\t_bindAction( action, prototypeAction ) {\r\n\r\n\t\tconst root = action._localRoot || this._root,\r\n\t\t\ttracks = action._clip.tracks,\r\n\t\t\tnTracks = tracks.length,\r\n\t\t\tbindings = action._propertyBindings,\r\n\t\t\tinterpolants = action._interpolants,\r\n\t\t\trootUuid = root.uuid,\r\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\r\n\r\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\r\n\r\n\t\tif ( bindingsByName === undefined ) {\r\n\r\n\t\t\tbindingsByName = {};\r\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\r\n\r\n\t\t\tconst track = tracks[ i ],\r\n\t\t\t\ttrackName = track.name;\r\n\r\n\t\t\tlet binding = bindingsByName[ trackName ];\r\n\r\n\t\t\tif ( binding !== undefined ) {\r\n\r\n\t\t\t\tbindings[ i ] = binding;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbinding = bindings[ i ];\r\n\r\n\t\t\t\tif ( binding !== undefined ) {\r\n\r\n\t\t\t\t\t// existing binding, make sure the cache knows\r\n\r\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\r\n\r\n\t\t\t\t\t\t++ binding.referenceCount;\r\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst path = prototypeAction && prototypeAction.\r\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\r\n\r\n\t\t\t\tbinding = new PropertyMixer(\r\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\r\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\r\n\r\n\t\t\t\t++ binding.referenceCount;\r\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\r\n\r\n\t\t\t\tbindings[ i ] = binding;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_activateAction( action ) {\r\n\r\n\t\tif ( ! this._isActiveAction( action ) ) {\r\n\r\n\t\t\tif ( action._cacheIndex === null ) {\r\n\r\n\t\t\t\t// this action has been forgotten by the cache, but the user\r\n\t\t\t\t// appears to be still using it -> rebind\r\n\r\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\r\n\t\t\t\t\tclipUuid = action._clip.uuid,\r\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\r\n\r\n\t\t\t\tthis._bindAction( action,\r\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\r\n\r\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst bindings = action._propertyBindings;\r\n\r\n\t\t\t// increment reference counts / sort out state\r\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tconst binding = bindings[ i ];\r\n\r\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\r\n\r\n\t\t\t\t\tthis._lendBinding( binding );\r\n\t\t\t\t\tbinding.saveOriginalState();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._lendAction( action );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_deactivateAction( action ) {\r\n\r\n\t\tif ( this._isActiveAction( action ) ) {\r\n\r\n\t\t\tconst bindings = action._propertyBindings;\r\n\r\n\t\t\t// decrement reference counts / sort out state\r\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tconst binding = bindings[ i ];\r\n\r\n\t\t\t\tif ( -- binding.useCount === 0 ) {\r\n\r\n\t\t\t\t\tbinding.restoreOriginalState();\r\n\t\t\t\t\tthis._takeBackBinding( binding );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._takeBackAction( action );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Memory manager\r\n\r\n\t_initMemoryManager() {\r\n\r\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\r\n\t\tthis._nActiveActions = 0;\r\n\r\n\t\tthis._actionsByClip = {};\r\n\t\t// inside:\r\n\t\t// {\r\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\r\n\t\t// \tactionByRoot: AnimationAction - lookup\r\n\t\t// }\r\n\r\n\r\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\r\n\t\tthis._nActiveBindings = 0;\r\n\r\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\r\n\r\n\r\n\t\tthis._controlInterpolants = []; // same game as above\r\n\t\tthis._nActiveControlInterpolants = 0;\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tthis.stats = {\r\n\r\n\t\t\tactions: {\r\n\t\t\t\tget total() {\r\n\r\n\t\t\t\t\treturn scope._actions.length;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tget inUse() {\r\n\r\n\t\t\t\t\treturn scope._nActiveActions;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbindings: {\r\n\t\t\t\tget total() {\r\n\r\n\t\t\t\t\treturn scope._bindings.length;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tget inUse() {\r\n\r\n\t\t\t\t\treturn scope._nActiveBindings;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcontrolInterpolants: {\r\n\t\t\t\tget total() {\r\n\r\n\t\t\t\t\treturn scope._controlInterpolants.length;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tget inUse() {\r\n\r\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t// Memory management for AnimationAction objects\r\n\r\n\t_isActiveAction( action ) {\r\n\r\n\t\tconst index = action._cacheIndex;\r\n\t\treturn index !== null && index < this._nActiveActions;\r\n\r\n\t}\r\n\r\n\t_addInactiveAction( action, clipUuid, rootUuid ) {\r\n\r\n\t\tconst actions = this._actions,\r\n\t\t\tactionsByClip = this._actionsByClip;\r\n\r\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\r\n\r\n\t\tif ( actionsForClip === undefined ) {\r\n\r\n\t\t\tactionsForClip = {\r\n\r\n\t\t\t\tknownActions: [ action ],\r\n\t\t\t\tactionByRoot: {}\r\n\r\n\t\t\t};\r\n\r\n\t\t\taction._byClipCacheIndex = 0;\r\n\r\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst knownActions = actionsForClip.knownActions;\r\n\r\n\t\t\taction._byClipCacheIndex = knownActions.length;\r\n\t\t\tknownActions.push( action );\r\n\r\n\t\t}\r\n\r\n\t\taction._cacheIndex = actions.length;\r\n\t\tactions.push( action );\r\n\r\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\r\n\r\n\t}\r\n\r\n\t_removeInactiveAction( action ) {\r\n\r\n\t\tconst actions = this._actions,\r\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\r\n\t\t\tcacheIndex = action._cacheIndex;\r\n\r\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\r\n\t\tactions[ cacheIndex ] = lastInactiveAction;\r\n\t\tactions.pop();\r\n\r\n\t\taction._cacheIndex = null;\r\n\r\n\r\n\t\tconst clipUuid = action._clip.uuid,\r\n\t\t\tactionsByClip = this._actionsByClip,\r\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\r\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\r\n\r\n\t\t\tlastKnownAction =\r\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\r\n\r\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\r\n\r\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\r\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\r\n\t\tknownActionsForClip.pop();\r\n\r\n\t\taction._byClipCacheIndex = null;\r\n\r\n\r\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\r\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\r\n\r\n\t\tdelete actionByRoot[ rootUuid ];\r\n\r\n\t\tif ( knownActionsForClip.length === 0 ) {\r\n\r\n\t\t\tdelete actionsByClip[ clipUuid ];\r\n\r\n\t\t}\r\n\r\n\t\tthis._removeInactiveBindingsForAction( action );\r\n\r\n\t}\r\n\r\n\t_removeInactiveBindingsForAction( action ) {\r\n\r\n\t\tconst bindings = action._propertyBindings;\r\n\r\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\tconst binding = bindings[ i ];\r\n\r\n\t\t\tif ( -- binding.referenceCount === 0 ) {\r\n\r\n\t\t\t\tthis._removeInactiveBinding( binding );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_lendAction( action ) {\r\n\r\n\t\t// [ active actions |  inactive actions  ]\r\n\t\t// [  active actions >| inactive actions ]\r\n\t\t//                 s        a\r\n\t\t//                  <-swap->\r\n\t\t//                 a        s\r\n\r\n\t\tconst actions = this._actions,\r\n\t\t\tprevIndex = action._cacheIndex,\r\n\r\n\t\t\tlastActiveIndex = this._nActiveActions ++,\r\n\r\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\r\n\r\n\t\taction._cacheIndex = lastActiveIndex;\r\n\t\tactions[ lastActiveIndex ] = action;\r\n\r\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\r\n\t\tactions[ prevIndex ] = firstInactiveAction;\r\n\r\n\t}\r\n\r\n\t_takeBackAction( action ) {\r\n\r\n\t\t// [  active actions  | inactive actions ]\r\n\t\t// [ active actions |< inactive actions  ]\r\n\t\t//        a        s\r\n\t\t//         <-swap->\r\n\t\t//        s        a\r\n\r\n\t\tconst actions = this._actions,\r\n\t\t\tprevIndex = action._cacheIndex,\r\n\r\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\r\n\r\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\r\n\r\n\t\taction._cacheIndex = firstInactiveIndex;\r\n\t\tactions[ firstInactiveIndex ] = action;\r\n\r\n\t\tlastActiveAction._cacheIndex = prevIndex;\r\n\t\tactions[ prevIndex ] = lastActiveAction;\r\n\r\n\t}\r\n\r\n\t// Memory management for PropertyMixer objects\r\n\r\n\t_addInactiveBinding( binding, rootUuid, trackName ) {\r\n\r\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\r\n\t\t\tbindings = this._bindings;\r\n\r\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\r\n\r\n\t\tif ( bindingByName === undefined ) {\r\n\r\n\t\t\tbindingByName = {};\r\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\r\n\r\n\t\t}\r\n\r\n\t\tbindingByName[ trackName ] = binding;\r\n\r\n\t\tbinding._cacheIndex = bindings.length;\r\n\t\tbindings.push( binding );\r\n\r\n\t}\r\n\r\n\t_removeInactiveBinding( binding ) {\r\n\r\n\t\tconst bindings = this._bindings,\r\n\t\t\tpropBinding = binding.binding,\r\n\t\t\trootUuid = propBinding.rootNode.uuid,\r\n\t\t\ttrackName = propBinding.path,\r\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\r\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\r\n\r\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\r\n\t\t\tcacheIndex = binding._cacheIndex;\r\n\r\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\r\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\r\n\t\tbindings.pop();\r\n\r\n\t\tdelete bindingByName[ trackName ];\r\n\r\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\r\n\r\n\t\t\tdelete bindingsByRoot[ rootUuid ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_lendBinding( binding ) {\r\n\r\n\t\tconst bindings = this._bindings,\r\n\t\t\tprevIndex = binding._cacheIndex,\r\n\r\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\r\n\r\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\r\n\r\n\t\tbinding._cacheIndex = lastActiveIndex;\r\n\t\tbindings[ lastActiveIndex ] = binding;\r\n\r\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\r\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\r\n\r\n\t}\r\n\r\n\t_takeBackBinding( binding ) {\r\n\r\n\t\tconst bindings = this._bindings,\r\n\t\t\tprevIndex = binding._cacheIndex,\r\n\r\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\r\n\r\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\r\n\r\n\t\tbinding._cacheIndex = firstInactiveIndex;\r\n\t\tbindings[ firstInactiveIndex ] = binding;\r\n\r\n\t\tlastActiveBinding._cacheIndex = prevIndex;\r\n\t\tbindings[ prevIndex ] = lastActiveBinding;\r\n\r\n\t}\r\n\r\n\r\n\t// Memory management of Interpolants for weight and time scale\r\n\r\n\t_lendControlInterpolant() {\r\n\r\n\t\tconst interpolants = this._controlInterpolants,\r\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\r\n\r\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\r\n\r\n\t\tif ( interpolant === undefined ) {\r\n\r\n\t\t\tinterpolant = new LinearInterpolant(\r\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\r\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\r\n\r\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\r\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\r\n\r\n\t\t}\r\n\r\n\t\treturn interpolant;\r\n\r\n\t}\r\n\r\n\t_takeBackControlInterpolant( interpolant ) {\r\n\r\n\t\tconst interpolants = this._controlInterpolants,\r\n\t\t\tprevIndex = interpolant.__cacheIndex,\r\n\r\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\r\n\r\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\r\n\r\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\r\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\r\n\r\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\r\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\r\n\r\n\t}\r\n\r\n\t// return an action for a clip optionally using a custom root target\r\n\t// object (this method allocates a lot of dynamic memory in case a\r\n\t// previously unknown clip/root combination is specified)\r\n\tclipAction( clip, optionalRoot, blendMode ) {\r\n\r\n\t\tconst root = optionalRoot || this._root,\r\n\t\t\trootUuid = root.uuid;\r\n\r\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\r\n\r\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\r\n\r\n\t\tconst actionsForClip = this._actionsByClip[ clipUuid ];\r\n\t\tlet prototypeAction = null;\r\n\r\n\t\tif ( blendMode === undefined ) {\r\n\r\n\t\t\tif ( clipObject !== null ) {\r\n\r\n\t\t\t\tblendMode = clipObject.blendMode;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tblendMode = NormalAnimationBlendMode;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( actionsForClip !== undefined ) {\r\n\r\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\r\n\r\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\r\n\r\n\t\t\t\treturn existingAction;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// we know the clip, so we don't have to parse all\r\n\t\t\t// the bindings again but can just copy\r\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\r\n\r\n\t\t\t// also, take the clip from the prototype action\r\n\t\t\tif ( clipObject === null )\r\n\t\t\t\tclipObject = prototypeAction._clip;\r\n\r\n\t\t}\r\n\r\n\t\t// clip must be known when specified via string\r\n\t\tif ( clipObject === null ) return null;\r\n\r\n\t\t// allocate all resources required to run it\r\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\r\n\r\n\t\tthis._bindAction( newAction, prototypeAction );\r\n\r\n\t\t// and make the action known to the memory manager\r\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\r\n\r\n\t\treturn newAction;\r\n\r\n\t}\r\n\r\n\t// get an existing action\r\n\texistingAction( clip, optionalRoot ) {\r\n\r\n\t\tconst root = optionalRoot || this._root,\r\n\t\t\trootUuid = root.uuid,\r\n\r\n\t\t\tclipObject = typeof clip === 'string' ?\r\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\r\n\r\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\r\n\r\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\r\n\r\n\t\tif ( actionsForClip !== undefined ) {\r\n\r\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n\t// deactivates all previously scheduled actions\r\n\tstopAllAction() {\r\n\r\n\t\tconst actions = this._actions,\r\n\t\t\tnActions = this._nActiveActions;\r\n\r\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\r\n\r\n\t\t\tactions[ i ].stop();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t// advance the time and update apply the animation\r\n\tupdate( deltaTime ) {\r\n\r\n\t\tdeltaTime *= this.timeScale;\r\n\r\n\t\tconst actions = this._actions,\r\n\t\t\tnActions = this._nActiveActions,\r\n\r\n\t\t\ttime = this.time += deltaTime,\r\n\t\t\ttimeDirection = Math.sign( deltaTime ),\r\n\r\n\t\t\taccuIndex = this._accuIndex ^= 1;\r\n\r\n\t\t// run active actions\r\n\r\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\r\n\r\n\t\t\tconst action = actions[ i ];\r\n\r\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\r\n\r\n\t\t}\r\n\r\n\t\t// update scene graph\r\n\r\n\t\tconst bindings = this._bindings,\r\n\t\t\tnBindings = this._nActiveBindings;\r\n\r\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].apply( accuIndex );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t// Allows you to seek to a specific time in an animation.\r\n\tsetTime( timeInSeconds ) {\r\n\r\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\r\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\r\n\r\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\r\n\r\n\t\t}\r\n\r\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\r\n\r\n\t}\r\n\r\n\t// return this mixer's root target object\r\n\tgetRoot() {\r\n\r\n\t\treturn this._root;\r\n\r\n\t}\r\n\r\n\t// free all resources specific to a particular clip\r\n\tuncacheClip( clip ) {\r\n\r\n\t\tconst actions = this._actions,\r\n\t\t\tclipUuid = clip.uuid,\r\n\t\t\tactionsByClip = this._actionsByClip,\r\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\r\n\r\n\t\tif ( actionsForClip !== undefined ) {\r\n\r\n\t\t\t// note: just calling _removeInactiveAction would mess up the\r\n\t\t\t// iteration state and also require updating the state we can\r\n\t\t\t// just throw away\r\n\r\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\r\n\r\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tconst action = actionsToRemove[ i ];\r\n\r\n\t\t\t\tthis._deactivateAction( action );\r\n\r\n\t\t\t\tconst cacheIndex = action._cacheIndex,\r\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\r\n\r\n\t\t\t\taction._cacheIndex = null;\r\n\t\t\t\taction._byClipCacheIndex = null;\r\n\r\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\r\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\r\n\t\t\t\tactions.pop();\r\n\r\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdelete actionsByClip[ clipUuid ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// free all resources specific to a particular root target object\r\n\tuncacheRoot( root ) {\r\n\r\n\t\tconst rootUuid = root.uuid,\r\n\t\t\tactionsByClip = this._actionsByClip;\r\n\r\n\t\tfor ( const clipUuid in actionsByClip ) {\r\n\r\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\r\n\t\t\t\taction = actionByRoot[ rootUuid ];\r\n\r\n\t\t\tif ( action !== undefined ) {\r\n\r\n\t\t\t\tthis._deactivateAction( action );\r\n\t\t\t\tthis._removeInactiveAction( action );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\r\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\r\n\r\n\t\tif ( bindingByName !== undefined ) {\r\n\r\n\t\t\tfor ( const trackName in bindingByName ) {\r\n\r\n\t\t\t\tconst binding = bindingByName[ trackName ];\r\n\t\t\t\tbinding.restoreOriginalState();\r\n\t\t\t\tthis._removeInactiveBinding( binding );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// remove a targeted clip from the cache\r\n\tuncacheAction( clip, optionalRoot ) {\r\n\r\n\t\tconst action = this.existingAction( clip, optionalRoot );\r\n\r\n\t\tif ( action !== null ) {\r\n\r\n\t\t\tthis._deactivateAction( action );\r\n\t\t\tthis._removeInactiveAction( action );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nAnimationMixer.prototype._controlInterpolantsResultBuffer = new Float32Array( 1 );\r\n\r\nclass Uniform {\r\n\r\n\tconstructor( value ) {\r\n\r\n\t\tif ( typeof value === 'string' ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\r\n\t\t\tvalue = arguments[ 1 ];\r\n\r\n\t\t}\r\n\r\n\t\tthis.value = value;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\r\n\r\n\tInterleavedBuffer.call( this, array, stride );\r\n\r\n\tthis.meshPerAttribute = meshPerAttribute || 1;\r\n\r\n}\r\n\r\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\r\n\r\n\tconstructor: InstancedInterleavedBuffer,\r\n\r\n\tisInstancedInterleavedBuffer: true,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\r\n\r\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function ( data ) {\r\n\r\n\t\tconst ib = InterleavedBuffer.prototype.clone.call( this, data );\r\n\r\n\t\tib.meshPerAttribute = this.meshPerAttribute;\r\n\r\n\t\treturn ib;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( data ) {\r\n\r\n\t\tconst json = InterleavedBuffer.prototype.toJSON.call( this, data );\r\n\r\n\t\tjson.isInstancedInterleavedBuffer = true;\r\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\r\n\r\n\t\treturn json;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nfunction GLBufferAttribute( buffer, type, itemSize, elementSize, count ) {\r\n\r\n\tthis.buffer = buffer;\r\n\tthis.type = type;\r\n\tthis.itemSize = itemSize;\r\n\tthis.elementSize = elementSize;\r\n\tthis.count = count;\r\n\r\n\tthis.version = 0;\r\n\r\n}\r\n\r\nObject.defineProperty( GLBufferAttribute.prototype, 'needsUpdate', {\r\n\r\n\tset: function ( value ) {\r\n\r\n\t\tif ( value === true ) this.version ++;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( GLBufferAttribute.prototype, {\r\n\r\n\tisGLBufferAttribute: true,\r\n\r\n\tsetBuffer: function ( buffer ) {\r\n\r\n\t\tthis.buffer = buffer;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetType: function ( type, elementSize ) {\r\n\r\n\t\tthis.type = type;\r\n\t\tthis.elementSize = elementSize;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetItemSize: function ( itemSize ) {\r\n\r\n\t\tthis.itemSize = itemSize;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetCount: function ( count ) {\r\n\r\n\t\tthis.count = count;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n} );\r\n\r\nfunction Raycaster( origin, direction, near = 0, far = Infinity ) {\r\n\r\n\tthis.ray = new Ray( origin, direction );\r\n\t// direction is assumed to be normalized (for accurate distance calculations)\r\n\r\n\tthis.near = near;\r\n\tthis.far = far;\r\n\tthis.camera = null;\r\n\tthis.layers = new Layers();\r\n\r\n\tthis.params = {\r\n\t\tMesh: {},\r\n\t\tLine: { threshold: 1 },\r\n\t\tLOD: {},\r\n\t\tPoints: { threshold: 1 },\r\n\t\tSprite: {}\r\n\t};\r\n\r\n\tObject.defineProperties( this.params, {\r\n\t\tPointCloud: {\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\r\n\t\t\t\treturn this.Points;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n}\r\n\r\nfunction ascSort( a, b ) {\r\n\r\n\treturn a.distance - b.distance;\r\n\r\n}\r\n\r\nfunction intersectObject( object, raycaster, intersects, recursive ) {\r\n\r\n\tif ( object.layers.test( raycaster.layers ) ) {\r\n\r\n\t\tobject.raycast( raycaster, intersects );\r\n\r\n\t}\r\n\r\n\tif ( recursive === true ) {\r\n\r\n\t\tconst children = object.children;\r\n\r\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nObject.assign( Raycaster.prototype, {\r\n\r\n\tset: function ( origin, direction ) {\r\n\r\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\r\n\r\n\t\tthis.ray.set( origin, direction );\r\n\r\n\t},\r\n\r\n\tsetFromCamera: function ( coords, camera ) {\r\n\r\n\t\tif ( camera && camera.isPerspectiveCamera ) {\r\n\r\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\r\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\r\n\t\t\tthis.camera = camera;\r\n\r\n\t\t} else if ( camera && camera.isOrthographicCamera ) {\r\n\r\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\r\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\r\n\t\t\tthis.camera = camera;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type: ' + camera.type );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tintersectObject: function ( object, recursive = false, intersects = [] ) {\r\n\r\n\t\tintersectObject( object, this, intersects, recursive );\r\n\r\n\t\tintersects.sort( ascSort );\r\n\r\n\t\treturn intersects;\r\n\r\n\t},\r\n\r\n\tintersectObjects: function ( objects, recursive = false, intersects = [] ) {\r\n\r\n\t\tfor ( let i = 0, l = objects.length; i < l; i ++ ) {\r\n\r\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\r\n\r\n\t\t}\r\n\r\n\t\tintersects.sort( ascSort );\r\n\r\n\t\treturn intersects;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\r\n *\r\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\r\n * The azimuthal angle (theta) is measured from the positive z-axis.\r\n */\r\n\r\nclass Spherical {\r\n\r\n\tconstructor( radius = 1, phi = 0, theta = 0 ) {\r\n\r\n\t\tthis.radius = radius;\r\n\t\tthis.phi = phi; // polar angle\r\n\t\tthis.theta = theta; // azimuthal angle\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tset( radius, phi, theta ) {\r\n\r\n\t\tthis.radius = radius;\r\n\t\tthis.phi = phi;\r\n\t\tthis.theta = theta;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopy( other ) {\r\n\r\n\t\tthis.radius = other.radius;\r\n\t\tthis.phi = other.phi;\r\n\t\tthis.theta = other.theta;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t// restrict phi to be betwee EPS and PI-EPS\r\n\tmakeSafe() {\r\n\r\n\t\tconst EPS = 0.000001;\r\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromVector3( v ) {\r\n\r\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\r\n\r\n\t}\r\n\r\n\tsetFromCartesianCoords( x, y, z ) {\r\n\r\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\r\n\r\n\t\tif ( this.radius === 0 ) {\r\n\r\n\t\t\tthis.theta = 0;\r\n\t\t\tthis.phi = 0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.theta = Math.atan2( x, z );\r\n\t\t\tthis.phi = Math.acos( MathUtils.clamp( y / this.radius, - 1, 1 ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\r\n */\r\n\r\nclass Cylindrical {\r\n\r\n\tconstructor( radius = 1, theta = 0, y = 0 ) {\r\n\r\n\t\tthis.radius = radius; // distance from the origin to a point in the x-z plane\r\n\t\tthis.theta = theta; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\r\n\t\tthis.y = y; // height above the x-z plane\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tset( radius, theta, y ) {\r\n\r\n\t\tthis.radius = radius;\r\n\t\tthis.theta = theta;\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopy( other ) {\r\n\r\n\t\tthis.radius = other.radius;\r\n\t\tthis.theta = other.theta;\r\n\t\tthis.y = other.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromVector3( v ) {\r\n\r\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\r\n\r\n\t}\r\n\r\n\tsetFromCartesianCoords( x, y, z ) {\r\n\r\n\t\tthis.radius = Math.sqrt( x * x + z * z );\r\n\t\tthis.theta = Math.atan2( x, z );\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _vector$4 = /*@__PURE__*/ new Vector2();\r\n\r\nclass Box2 {\r\n\r\n\tconstructor( min = new Vector2( + Infinity, + Infinity ), max = new Vector2( - Infinity, - Infinity ) ) {\r\n\r\n\t\tthis.min = min;\r\n\t\tthis.max = max;\r\n\r\n\t}\r\n\r\n\tset( min, max ) {\r\n\r\n\t\tthis.min.copy( min );\r\n\t\tthis.max.copy( max );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromPoints( points ) {\r\n\r\n\t\tthis.makeEmpty();\r\n\r\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.expandByPoint( points[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tsetFromCenterAndSize( center, size ) {\r\n\r\n\t\tconst halfSize = _vector$4.copy( size ).multiplyScalar( 0.5 );\r\n\t\tthis.min.copy( center ).sub( halfSize );\r\n\t\tthis.max.copy( center ).add( halfSize );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n\tcopy( box ) {\r\n\r\n\t\tthis.min.copy( box.min );\r\n\t\tthis.max.copy( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tmakeEmpty() {\r\n\r\n\t\tthis.min.x = this.min.y = + Infinity;\r\n\t\tthis.max.x = this.max.y = - Infinity;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tisEmpty() {\r\n\r\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\r\n\r\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\r\n\r\n\t}\r\n\r\n\tgetCenter( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\r\n\t\t\ttarget = new Vector2();\r\n\r\n\t\t}\r\n\r\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\r\n\r\n\t}\r\n\r\n\tgetSize( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\r\n\t\t\ttarget = new Vector2();\r\n\r\n\t\t}\r\n\r\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\r\n\r\n\t}\r\n\r\n\texpandByPoint( point ) {\r\n\r\n\t\tthis.min.min( point );\r\n\t\tthis.max.max( point );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\texpandByVector( vector ) {\r\n\r\n\t\tthis.min.sub( vector );\r\n\t\tthis.max.add( vector );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\texpandByScalar( scalar ) {\r\n\r\n\t\tthis.min.addScalar( - scalar );\r\n\t\tthis.max.addScalar( scalar );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcontainsPoint( point ) {\r\n\r\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\r\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\r\n\r\n\t}\r\n\r\n\tcontainsBox( box ) {\r\n\r\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\r\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\r\n\r\n\t}\r\n\r\n\tgetParameter( point, target ) {\r\n\r\n\t\t// This can potentially have a divide by zero if the box\r\n\t\t// has a size dimension of 0.\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\r\n\t\t\ttarget = new Vector2();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.set(\r\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\r\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tintersectsBox( box ) {\r\n\r\n\t\t// using 4 splitting planes to rule out intersections\r\n\r\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\r\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\r\n\r\n\t}\r\n\r\n\tclampPoint( point, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\r\n\t\t\ttarget = new Vector2();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.copy( point ).clamp( this.min, this.max );\r\n\r\n\t}\r\n\r\n\tdistanceToPoint( point ) {\r\n\r\n\t\tconst clampedPoint = _vector$4.copy( point ).clamp( this.min, this.max );\r\n\t\treturn clampedPoint.sub( point ).length();\r\n\r\n\t}\r\n\r\n\tintersect( box ) {\r\n\r\n\t\tthis.min.max( box.min );\r\n\t\tthis.max.min( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tunion( box ) {\r\n\r\n\t\tthis.min.min( box.min );\r\n\t\tthis.max.max( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\ttranslate( offset ) {\r\n\r\n\t\tthis.min.add( offset );\r\n\t\tthis.max.add( offset );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tequals( box ) {\r\n\r\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\r\n\r\n\t}\r\n\r\n}\r\n\r\nBox2.prototype.isBox2 = true;\r\n\r\nconst _startP = /*@__PURE__*/ new Vector3();\r\nconst _startEnd = /*@__PURE__*/ new Vector3();\r\n\r\nclass Line3 {\r\n\r\n\tconstructor( start = new Vector3(), end = new Vector3() ) {\r\n\r\n\t\tthis.start = start;\r\n\t\tthis.end = end;\r\n\r\n\t}\r\n\r\n\tset( start, end ) {\r\n\r\n\t\tthis.start.copy( start );\r\n\t\tthis.end.copy( end );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopy( line ) {\r\n\r\n\t\tthis.start.copy( line.start );\r\n\t\tthis.end.copy( line.end );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetCenter( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\r\n\r\n\t}\r\n\r\n\tdelta( target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn target.subVectors( this.end, this.start );\r\n\r\n\t}\r\n\r\n\tdistanceSq() {\r\n\r\n\t\treturn this.start.distanceToSquared( this.end );\r\n\r\n\t}\r\n\r\n\tdistance() {\r\n\r\n\t\treturn this.start.distanceTo( this.end );\r\n\r\n\t}\r\n\r\n\tat( t, target ) {\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\r\n\r\n\t}\r\n\r\n\tclosestPointToPointParameter( point, clampToLine ) {\r\n\r\n\t\t_startP.subVectors( point, this.start );\r\n\t\t_startEnd.subVectors( this.end, this.start );\r\n\r\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\r\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\r\n\r\n\t\tlet t = startEnd_startP / startEnd2;\r\n\r\n\t\tif ( clampToLine ) {\r\n\r\n\t\t\tt = MathUtils.clamp( t, 0, 1 );\r\n\r\n\t\t}\r\n\r\n\t\treturn t;\r\n\r\n\t}\r\n\r\n\tclosestPointToPoint( point, clampToLine, target ) {\r\n\r\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\r\n\r\n\t\tif ( target === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\r\n\t\t\ttarget = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\r\n\r\n\t}\r\n\r\n\tapplyMatrix4( matrix ) {\r\n\r\n\t\tthis.start.applyMatrix4( matrix );\r\n\t\tthis.end.applyMatrix4( matrix );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tequals( line ) {\r\n\r\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\r\n\r\n\t}\r\n\r\n\tclone() {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction ImmediateRenderObject( material ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.material = material;\r\n\tthis.render = function ( /* renderCallback */ ) {};\r\n\r\n\tthis.hasPositions = false;\r\n\tthis.hasNormals = false;\r\n\tthis.hasColors = false;\r\n\tthis.hasUvs = false;\r\n\r\n\tthis.positionArray = null;\r\n\tthis.normalArray = null;\r\n\tthis.colorArray = null;\r\n\tthis.uvArray = null;\r\n\r\n\tthis.count = 0;\r\n\r\n}\r\n\r\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\r\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\r\n\r\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\r\n\r\nconst _vector$3 = /*@__PURE__*/ new Vector3();\r\n\r\nclass SpotLightHelper extends Object3D {\r\n\r\n\tconstructor( light, color ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.light = light;\r\n\t\tthis.light.updateMatrixWorld();\r\n\r\n\t\tthis.matrix = light.matrixWorld;\r\n\t\tthis.matrixAutoUpdate = false;\r\n\r\n\t\tthis.color = color;\r\n\r\n\t\tconst geometry = new BufferGeometry();\r\n\r\n\t\tconst positions = [\r\n\t\t\t0, 0, 0, \t0, 0, 1,\r\n\t\t\t0, 0, 0, \t1, 0, 1,\r\n\t\t\t0, 0, 0,\t- 1, 0, 1,\r\n\t\t\t0, 0, 0, \t0, 1, 1,\r\n\t\t\t0, 0, 0, \t0, - 1, 1\r\n\t\t];\r\n\r\n\t\tfor ( let i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\r\n\r\n\t\t\tconst p1 = ( i / l ) * Math.PI * 2;\r\n\t\t\tconst p2 = ( j / l ) * Math.PI * 2;\r\n\r\n\t\t\tpositions.push(\r\n\t\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\r\n\t\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\r\n\r\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\r\n\r\n\t\tthis.cone = new LineSegments( geometry, material );\r\n\t\tthis.add( this.cone );\r\n\r\n\t\tthis.update();\r\n\r\n\t}\r\n\r\n\tdispose() {\r\n\r\n\t\tthis.cone.geometry.dispose();\r\n\t\tthis.cone.material.dispose();\r\n\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tthis.light.updateMatrixWorld();\r\n\r\n\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\r\n\t\tconst coneWidth = coneLength * Math.tan( this.light.angle );\r\n\r\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\r\n\r\n\t\t_vector$3.setFromMatrixPosition( this.light.target.matrixWorld );\r\n\r\n\t\tthis.cone.lookAt( _vector$3 );\r\n\r\n\t\tif ( this.color !== undefined ) {\r\n\r\n\t\t\tthis.cone.material.color.set( this.color );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.cone.material.color.copy( this.light.color );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _vector$2 = /*@__PURE__*/ new Vector3();\r\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\r\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\r\n\r\n\r\nclass SkeletonHelper extends LineSegments {\r\n\r\n\tconstructor( object ) {\r\n\r\n\t\tconst bones = getBoneList( object );\r\n\r\n\t\tconst geometry = new BufferGeometry();\r\n\r\n\t\tconst vertices = [];\r\n\t\tconst colors = [];\r\n\r\n\t\tconst color1 = new Color( 0, 0, 1 );\r\n\t\tconst color2 = new Color( 0, 1, 0 );\r\n\r\n\t\tfor ( let i = 0; i < bones.length; i ++ ) {\r\n\r\n\t\t\tconst bone = bones[ i ];\r\n\r\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\r\n\r\n\t\t\t\tvertices.push( 0, 0, 0 );\r\n\t\t\t\tvertices.push( 0, 0, 0 );\r\n\t\t\t\tcolors.push( color1.r, color1.g, color1.b );\r\n\t\t\t\tcolors.push( color2.r, color2.g, color2.b );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\r\n\r\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\r\n\r\n\t\tsuper( geometry, material );\r\n\r\n\t\tthis.type = 'SkeletonHelper';\r\n\t\tthis.isSkeletonHelper = true;\r\n\r\n\t\tthis.root = object;\r\n\t\tthis.bones = bones;\r\n\r\n\t\tthis.matrix = object.matrixWorld;\r\n\t\tthis.matrixAutoUpdate = false;\r\n\r\n\t}\r\n\r\n\tupdateMatrixWorld( force ) {\r\n\r\n\t\tconst bones = this.bones;\r\n\r\n\t\tconst geometry = this.geometry;\r\n\t\tconst position = geometry.getAttribute( 'position' );\r\n\r\n\t\t_matrixWorldInv.copy( this.root.matrixWorld ).invert();\r\n\r\n\t\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\r\n\r\n\t\t\tconst bone = bones[ i ];\r\n\r\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\r\n\r\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\r\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\r\n\t\t\t\tposition.setXYZ( j, _vector$2.x, _vector$2.y, _vector$2.z );\r\n\r\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\r\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\r\n\t\t\t\tposition.setXYZ( j + 1, _vector$2.x, _vector$2.y, _vector$2.z );\r\n\r\n\t\t\t\tj += 2;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\r\n\r\n\t\tsuper.updateMatrixWorld( force );\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction getBoneList( object ) {\r\n\r\n\tconst boneList = [];\r\n\r\n\tif ( object && object.isBone ) {\r\n\r\n\t\tboneList.push( object );\r\n\r\n\t}\r\n\r\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\r\n\r\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\r\n\r\n\t}\r\n\r\n\treturn boneList;\r\n\r\n}\r\n\r\nclass PointLightHelper extends Mesh {\r\n\r\n\tconstructor( light, sphereSize, color ) {\r\n\r\n\t\tconst geometry = new SphereGeometry( sphereSize, 4, 2 );\r\n\t\tconst material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\r\n\r\n\t\tsuper( geometry, material );\r\n\r\n\t\tthis.light = light;\r\n\t\tthis.light.updateMatrixWorld();\r\n\r\n\t\tthis.color = color;\r\n\r\n\t\tthis.type = 'PointLightHelper';\r\n\r\n\t\tthis.matrix = this.light.matrixWorld;\r\n\t\tthis.matrixAutoUpdate = false;\r\n\r\n\t\tthis.update();\r\n\r\n\r\n\t\t/*\r\n\t// TODO: delete this comment?\r\n\tconst distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\r\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\r\n\r\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\r\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\r\n\r\n\tconst d = light.distance;\r\n\r\n\tif ( d === 0.0 ) {\r\n\r\n\t\tthis.lightDistance.visible = false;\r\n\r\n\t} else {\r\n\r\n\t\tthis.lightDistance.scale.set( d, d, d );\r\n\r\n\t}\r\n\r\n\tthis.add( this.lightDistance );\r\n\t*/\r\n\r\n\t}\r\n\r\n\tdispose() {\r\n\r\n\t\tthis.geometry.dispose();\r\n\t\tthis.material.dispose();\r\n\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tif ( this.color !== undefined ) {\r\n\r\n\t\t\tthis.material.color.set( this.color );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.material.color.copy( this.light.color );\r\n\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\tconst d = this.light.distance;\r\n\r\n\t\tif ( d === 0.0 ) {\r\n\r\n\t\t\tthis.lightDistance.visible = false;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.lightDistance.visible = true;\r\n\t\t\tthis.lightDistance.scale.set( d, d, d );\r\n\r\n\t\t}\r\n\t\t*/\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _vector$1 = /*@__PURE__*/ new Vector3();\r\nconst _color1 = /*@__PURE__*/ new Color();\r\nconst _color2 = /*@__PURE__*/ new Color();\r\n\r\nclass HemisphereLightHelper extends Object3D {\r\n\r\n\tconstructor( light, size, color ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.light = light;\r\n\t\tthis.light.updateMatrixWorld();\r\n\r\n\t\tthis.matrix = light.matrixWorld;\r\n\t\tthis.matrixAutoUpdate = false;\r\n\r\n\t\tthis.color = color;\r\n\r\n\t\tconst geometry = new OctahedronGeometry( size );\r\n\t\tgeometry.rotateY( Math.PI * 0.5 );\r\n\r\n\t\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\r\n\t\tif ( this.color === undefined ) this.material.vertexColors = true;\r\n\r\n\t\tconst position = geometry.getAttribute( 'position' );\r\n\t\tconst colors = new Float32Array( position.count * 3 );\r\n\r\n\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\r\n\r\n\t\tthis.add( new Mesh( geometry, this.material ) );\r\n\r\n\t\tthis.update();\r\n\r\n\t}\r\n\r\n\tdispose() {\r\n\r\n\t\tthis.children[ 0 ].geometry.dispose();\r\n\t\tthis.children[ 0 ].material.dispose();\r\n\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tconst mesh = this.children[ 0 ];\r\n\r\n\t\tif ( this.color !== undefined ) {\r\n\r\n\t\t\tthis.material.color.set( this.color );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst colors = mesh.geometry.getAttribute( 'color' );\r\n\r\n\t\t\t_color1.copy( this.light.color );\r\n\t\t\t_color2.copy( this.light.groundColor );\r\n\r\n\t\t\tfor ( let i = 0, l = colors.count; i < l; i ++ ) {\r\n\r\n\t\t\t\tconst color = ( i < ( l / 2 ) ) ? _color1 : _color2;\r\n\r\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcolors.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tmesh.lookAt( _vector$1.setFromMatrixPosition( this.light.matrixWorld ).negate() );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass GridHelper extends LineSegments {\r\n\r\n\tconstructor( size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888 ) {\r\n\r\n\t\tcolor1 = new Color( color1 );\r\n\t\tcolor2 = new Color( color2 );\r\n\r\n\t\tconst center = divisions / 2;\r\n\t\tconst step = size / divisions;\r\n\t\tconst halfSize = size / 2;\r\n\r\n\t\tconst vertices = [], colors = [];\r\n\r\n\t\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\r\n\r\n\t\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\r\n\t\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\r\n\r\n\t\t\tconst color = i === center ? color1 : color2;\r\n\r\n\t\t\tcolor.toArray( colors, j ); j += 3;\r\n\t\t\tcolor.toArray( colors, j ); j += 3;\r\n\t\t\tcolor.toArray( colors, j ); j += 3;\r\n\t\t\tcolor.toArray( colors, j ); j += 3;\r\n\r\n\t\t}\r\n\r\n\t\tconst geometry = new BufferGeometry();\r\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\r\n\r\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\r\n\r\n\t\tsuper( geometry, material );\r\n\r\n\t\tthis.type = 'GridHelper';\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass PolarGridHelper extends LineSegments {\r\n\r\n\tconstructor( radius = 10, radials = 16, circles = 8, divisions = 64, color1 = 0x444444, color2 = 0x888888 ) {\r\n\r\n\t\tcolor1 = new Color( color1 );\r\n\t\tcolor2 = new Color( color2 );\r\n\r\n\t\tconst vertices = [];\r\n\t\tconst colors = [];\r\n\r\n\t\t// create the radials\r\n\r\n\t\tfor ( let i = 0; i <= radials; i ++ ) {\r\n\r\n\t\t\tconst v = ( i / radials ) * ( Math.PI * 2 );\r\n\r\n\t\t\tconst x = Math.sin( v ) * radius;\r\n\t\t\tconst z = Math.cos( v ) * radius;\r\n\r\n\t\t\tvertices.push( 0, 0, 0 );\r\n\t\t\tvertices.push( x, 0, z );\r\n\r\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\r\n\r\n\t\t\tcolors.push( color.r, color.g, color.b );\r\n\t\t\tcolors.push( color.r, color.g, color.b );\r\n\r\n\t\t}\r\n\r\n\t\t// create the circles\r\n\r\n\t\tfor ( let i = 0; i <= circles; i ++ ) {\r\n\r\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\r\n\r\n\t\t\tconst r = radius - ( radius / circles * i );\r\n\r\n\t\t\tfor ( let j = 0; j < divisions; j ++ ) {\r\n\r\n\t\t\t\t// first vertex\r\n\r\n\t\t\t\tlet v = ( j / divisions ) * ( Math.PI * 2 );\r\n\r\n\t\t\t\tlet x = Math.sin( v ) * r;\r\n\t\t\t\tlet z = Math.cos( v ) * r;\r\n\r\n\t\t\t\tvertices.push( x, 0, z );\r\n\t\t\t\tcolors.push( color.r, color.g, color.b );\r\n\r\n\t\t\t\t// second vertex\r\n\r\n\t\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\r\n\r\n\t\t\t\tx = Math.sin( v ) * r;\r\n\t\t\t\tz = Math.cos( v ) * r;\r\n\r\n\t\t\t\tvertices.push( x, 0, z );\r\n\t\t\t\tcolors.push( color.r, color.g, color.b );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst geometry = new BufferGeometry();\r\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\r\n\r\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\r\n\r\n\t\tsuper( geometry, material );\r\n\r\n\t\tthis.type = 'PolarGridHelper';\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _v1 = /*@__PURE__*/ new Vector3();\r\nconst _v2 = /*@__PURE__*/ new Vector3();\r\nconst _v3 = /*@__PURE__*/ new Vector3();\r\n\r\nclass DirectionalLightHelper extends Object3D {\r\n\r\n\tconstructor( light, size, color ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.light = light;\r\n\t\tthis.light.updateMatrixWorld();\r\n\r\n\t\tthis.matrix = light.matrixWorld;\r\n\t\tthis.matrixAutoUpdate = false;\r\n\r\n\t\tthis.color = color;\r\n\r\n\t\tif ( size === undefined ) size = 1;\r\n\r\n\t\tlet geometry = new BufferGeometry();\r\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\r\n\t\t\t- size, size, 0,\r\n\t\t\tsize, size, 0,\r\n\t\t\tsize, - size, 0,\r\n\t\t\t- size, - size, 0,\r\n\t\t\t- size, size, 0\r\n\t\t], 3 ) );\r\n\r\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\r\n\r\n\t\tthis.lightPlane = new Line( geometry, material );\r\n\t\tthis.add( this.lightPlane );\r\n\r\n\t\tgeometry = new BufferGeometry();\r\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\r\n\r\n\t\tthis.targetLine = new Line( geometry, material );\r\n\t\tthis.add( this.targetLine );\r\n\r\n\t\tthis.update();\r\n\r\n\t}\r\n\r\n\tdispose() {\r\n\r\n\t\tthis.lightPlane.geometry.dispose();\r\n\t\tthis.lightPlane.material.dispose();\r\n\t\tthis.targetLine.geometry.dispose();\r\n\t\tthis.targetLine.material.dispose();\r\n\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\t_v1.setFromMatrixPosition( this.light.matrixWorld );\r\n\t\t_v2.setFromMatrixPosition( this.light.target.matrixWorld );\r\n\t\t_v3.subVectors( _v2, _v1 );\r\n\r\n\t\tthis.lightPlane.lookAt( _v2 );\r\n\r\n\t\tif ( this.color !== undefined ) {\r\n\r\n\t\t\tthis.lightPlane.material.color.set( this.color );\r\n\t\t\tthis.targetLine.material.color.set( this.color );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\r\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\r\n\r\n\t\t}\r\n\r\n\t\tthis.targetLine.lookAt( _v2 );\r\n\t\tthis.targetLine.scale.z = _v3.length();\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _vector = /*@__PURE__*/ new Vector3();\r\nconst _camera = /*@__PURE__*/ new Camera();\r\n\r\n/**\r\n *\t- shows frustum, line of sight and up of the camera\r\n *\t- suitable for fast updates\r\n * \t- based on frustum visualization in lightgl.js shadowmap example\r\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\r\n */\r\n\r\nclass CameraHelper extends LineSegments {\r\n\r\n\tconstructor( camera ) {\r\n\r\n\t\tconst geometry = new BufferGeometry();\r\n\t\tconst material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true, toneMapped: false } );\r\n\r\n\t\tconst vertices = [];\r\n\t\tconst colors = [];\r\n\r\n\t\tconst pointMap = {};\r\n\r\n\t\t// colors\r\n\r\n\t\tconst colorFrustum = new Color( 0xffaa00 );\r\n\t\tconst colorCone = new Color( 0xff0000 );\r\n\t\tconst colorUp = new Color( 0x00aaff );\r\n\t\tconst colorTarget = new Color( 0xffffff );\r\n\t\tconst colorCross = new Color( 0x333333 );\r\n\r\n\t\t// near\r\n\r\n\t\taddLine( 'n1', 'n2', colorFrustum );\r\n\t\taddLine( 'n2', 'n4', colorFrustum );\r\n\t\taddLine( 'n4', 'n3', colorFrustum );\r\n\t\taddLine( 'n3', 'n1', colorFrustum );\r\n\r\n\t\t// far\r\n\r\n\t\taddLine( 'f1', 'f2', colorFrustum );\r\n\t\taddLine( 'f2', 'f4', colorFrustum );\r\n\t\taddLine( 'f4', 'f3', colorFrustum );\r\n\t\taddLine( 'f3', 'f1', colorFrustum );\r\n\r\n\t\t// sides\r\n\r\n\t\taddLine( 'n1', 'f1', colorFrustum );\r\n\t\taddLine( 'n2', 'f2', colorFrustum );\r\n\t\taddLine( 'n3', 'f3', colorFrustum );\r\n\t\taddLine( 'n4', 'f4', colorFrustum );\r\n\r\n\t\t// cone\r\n\r\n\t\taddLine( 'p', 'n1', colorCone );\r\n\t\taddLine( 'p', 'n2', colorCone );\r\n\t\taddLine( 'p', 'n3', colorCone );\r\n\t\taddLine( 'p', 'n4', colorCone );\r\n\r\n\t\t// up\r\n\r\n\t\taddLine( 'u1', 'u2', colorUp );\r\n\t\taddLine( 'u2', 'u3', colorUp );\r\n\t\taddLine( 'u3', 'u1', colorUp );\r\n\r\n\t\t// target\r\n\r\n\t\taddLine( 'c', 't', colorTarget );\r\n\t\taddLine( 'p', 'c', colorCross );\r\n\r\n\t\t// cross\r\n\r\n\t\taddLine( 'cn1', 'cn2', colorCross );\r\n\t\taddLine( 'cn3', 'cn4', colorCross );\r\n\r\n\t\taddLine( 'cf1', 'cf2', colorCross );\r\n\t\taddLine( 'cf3', 'cf4', colorCross );\r\n\r\n\t\tfunction addLine( a, b, color ) {\r\n\r\n\t\t\taddPoint( a, color );\r\n\t\t\taddPoint( b, color );\r\n\r\n\t\t}\r\n\r\n\t\tfunction addPoint( id, color ) {\r\n\r\n\t\t\tvertices.push( 0, 0, 0 );\r\n\t\t\tcolors.push( color.r, color.g, color.b );\r\n\r\n\t\t\tif ( pointMap[ id ] === undefined ) {\r\n\r\n\t\t\t\tpointMap[ id ] = [];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\r\n\r\n\t\tsuper( geometry, material );\r\n\r\n\t\tthis.type = 'CameraHelper';\r\n\r\n\t\tthis.camera = camera;\r\n\t\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\r\n\r\n\t\tthis.matrix = camera.matrixWorld;\r\n\t\tthis.matrixAutoUpdate = false;\r\n\r\n\t\tthis.pointMap = pointMap;\r\n\r\n\t\tthis.update();\r\n\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tconst geometry = this.geometry;\r\n\t\tconst pointMap = this.pointMap;\r\n\r\n\t\tconst w = 1, h = 1;\r\n\r\n\t\t// we need just camera projection matrix inverse\r\n\t\t// world matrix must be identity\r\n\r\n\t\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\r\n\r\n\t\t// center / target\r\n\r\n\t\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\r\n\t\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\r\n\r\n\t\t// near\r\n\r\n\t\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\r\n\t\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\r\n\t\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\r\n\t\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\r\n\r\n\t\t// far\r\n\r\n\t\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\r\n\t\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\r\n\t\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\r\n\t\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\r\n\r\n\t\t// up\r\n\r\n\t\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\r\n\t\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\r\n\t\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\r\n\r\n\t\t// cross\r\n\r\n\t\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\r\n\t\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\r\n\t\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\r\n\t\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\r\n\r\n\t\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\r\n\t\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\r\n\t\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\r\n\t\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\r\n\r\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\r\n\r\n\t_vector.set( x, y, z ).unproject( camera );\r\n\r\n\tconst points = pointMap[ point ];\r\n\r\n\tif ( points !== undefined ) {\r\n\r\n\t\tconst position = geometry.getAttribute( 'position' );\r\n\r\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tposition.setXYZ( points[ i ], _vector.x, _vector.y, _vector.z );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _box = /*@__PURE__*/ new Box3();\r\n\r\nclass BoxHelper extends LineSegments {\r\n\r\n\tconstructor( object, color = 0xffff00 ) {\r\n\r\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\r\n\t\tconst positions = new Float32Array( 8 * 3 );\r\n\r\n\t\tconst geometry = new BufferGeometry();\r\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\r\n\t\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\r\n\r\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\r\n\r\n\t\tthis.object = object;\r\n\t\tthis.type = 'BoxHelper';\r\n\r\n\t\tthis.matrixAutoUpdate = false;\r\n\r\n\t\tthis.update();\r\n\r\n\t}\r\n\r\n\tupdate( object ) {\r\n\r\n\t\tif ( object !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.object !== undefined ) {\r\n\r\n\t\t\t_box.setFromObject( this.object );\r\n\r\n\t\t}\r\n\r\n\t\tif ( _box.isEmpty() ) return;\r\n\r\n\t\tconst min = _box.min;\r\n\t\tconst max = _box.max;\r\n\r\n\t\t/*\r\n\t\t\t5____4\r\n\t\t1/___0/|\r\n\t\t| 6__|_7\r\n\t\t2/___3/\r\n\r\n\t\t0: max.x, max.y, max.z\r\n\t\t1: min.x, max.y, max.z\r\n\t\t2: min.x, min.y, max.z\r\n\t\t3: max.x, min.y, max.z\r\n\t\t4: max.x, max.y, min.z\r\n\t\t5: min.x, max.y, min.z\r\n\t\t6: min.x, min.y, min.z\r\n\t\t7: max.x, min.y, min.z\r\n\t\t*/\r\n\r\n\t\tconst position = this.geometry.attributes.position;\r\n\t\tconst array = position.array;\r\n\r\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\r\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\r\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\r\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\r\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\r\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\r\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\r\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\r\n\r\n\t\tposition.needsUpdate = true;\r\n\r\n\t\tthis.geometry.computeBoundingSphere();\r\n\r\n\r\n\t}\r\n\r\n\tsetFromObject( object ) {\r\n\r\n\t\tthis.object = object;\r\n\t\tthis.update();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tLineSegments.prototype.copy.call( this, source );\r\n\r\n\t\tthis.object = source.object;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Box3Helper extends LineSegments {\r\n\r\n\tconstructor( box, color = 0xffff00 ) {\r\n\r\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\r\n\r\n\t\tconst positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\r\n\r\n\t\tconst geometry = new BufferGeometry();\r\n\r\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\r\n\r\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\r\n\r\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\r\n\r\n\t\tthis.box = box;\r\n\r\n\t\tthis.type = 'Box3Helper';\r\n\r\n\t\tthis.geometry.computeBoundingSphere();\r\n\r\n\t}\r\n\r\n\tupdateMatrixWorld( force ) {\r\n\r\n\t\tconst box = this.box;\r\n\r\n\t\tif ( box.isEmpty() ) return;\r\n\r\n\t\tbox.getCenter( this.position );\r\n\r\n\t\tbox.getSize( this.scale );\r\n\r\n\t\tthis.scale.multiplyScalar( 0.5 );\r\n\r\n\t\tsuper.updateMatrixWorld( force );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass PlaneHelper extends Line {\r\n\r\n\tconstructor( plane, size = 1, hex = 0xffff00 ) {\r\n\r\n\t\tconst color = hex;\r\n\r\n\t\tconst positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\r\n\r\n\t\tconst geometry = new BufferGeometry();\r\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\r\n\t\tgeometry.computeBoundingSphere();\r\n\r\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\r\n\r\n\t\tthis.type = 'PlaneHelper';\r\n\r\n\t\tthis.plane = plane;\r\n\r\n\t\tthis.size = size;\r\n\r\n\t\tconst positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\r\n\r\n\t\tconst geometry2 = new BufferGeometry();\r\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\r\n\t\tgeometry2.computeBoundingSphere();\r\n\r\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\r\n\r\n\t}\r\n\r\n\tupdateMatrixWorld( force ) {\r\n\r\n\t\tlet scale = - this.plane.constant;\r\n\r\n\t\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\r\n\r\n\t\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\r\n\r\n\t\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\r\n\r\n\t\tthis.lookAt( this.plane.normal );\r\n\r\n\t\tsuper.updateMatrixWorld( force );\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _axis = /*@__PURE__*/ new Vector3();\r\nlet _lineGeometry, _coneGeometry;\r\n\r\nclass ArrowHelper extends Object3D {\r\n\r\n\t// dir is assumed to be normalized\r\n\r\n\tconstructor( dir = new Vector3( 0, 0, 1 ), origin = new Vector3( 0, 0, 0 ), length = 1, color = 0xffff00, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'ArrowHelper';\r\n\r\n\t\tif ( _lineGeometry === undefined ) {\r\n\r\n\t\t\t_lineGeometry = new BufferGeometry();\r\n\t\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\r\n\r\n\t\t\t_coneGeometry = new CylinderGeometry( 0, 0.5, 1, 5, 1 );\r\n\t\t\t_coneGeometry.translate( 0, - 0.5, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tthis.position.copy( origin );\r\n\r\n\t\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\r\n\t\tthis.line.matrixAutoUpdate = false;\r\n\t\tthis.add( this.line );\r\n\r\n\t\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\r\n\t\tthis.cone.matrixAutoUpdate = false;\r\n\t\tthis.add( this.cone );\r\n\r\n\t\tthis.setDirection( dir );\r\n\t\tthis.setLength( length, headLength, headWidth );\r\n\r\n\t}\r\n\r\n\tsetDirection( dir ) {\r\n\r\n\t\t// dir is assumed to be normalized\r\n\r\n\t\tif ( dir.y > 0.99999 ) {\r\n\r\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\r\n\r\n\t\t} else if ( dir.y < - 0.99999 ) {\r\n\r\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\r\n\r\n\t\t\tconst radians = Math.acos( dir.y );\r\n\r\n\t\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tsetLength( length, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\r\n\r\n\t\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\r\n\t\tthis.line.updateMatrix();\r\n\r\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\r\n\t\tthis.cone.position.y = length;\r\n\t\tthis.cone.updateMatrix();\r\n\r\n\t}\r\n\r\n\tsetColor( color ) {\r\n\r\n\t\tthis.line.material.color.set( color );\r\n\t\tthis.cone.material.color.set( color );\r\n\r\n\t}\r\n\r\n\tcopy( source ) {\r\n\r\n\t\tsuper.copy( source, false );\r\n\r\n\t\tthis.line.copy( source.line );\r\n\t\tthis.cone.copy( source.cone );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass AxesHelper extends LineSegments {\r\n\r\n\tconstructor( size = 1 ) {\r\n\r\n\t\tconst vertices = [\r\n\t\t\t0, 0, 0,\tsize, 0, 0,\r\n\t\t\t0, 0, 0,\t0, size, 0,\r\n\t\t\t0, 0, 0,\t0, 0, size\r\n\t\t];\r\n\r\n\t\tconst colors = [\r\n\t\t\t1, 0, 0,\t1, 0.6, 0,\r\n\t\t\t0, 1, 0,\t0.6, 1, 0,\r\n\t\t\t0, 0, 1,\t0, 0.6, 1\r\n\t\t];\r\n\r\n\t\tconst geometry = new BufferGeometry();\r\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\r\n\r\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\r\n\r\n\t\tsuper( geometry, material );\r\n\r\n\t\tthis.type = 'AxesHelper';\r\n\r\n\t}\r\n\r\n}\r\n\r\nconst _floatView = new Float32Array( 1 );\r\nconst _int32View = new Int32Array( _floatView.buffer );\r\n\r\nconst DataUtils = {\r\n\r\n\t// Converts float32 to float16 (stored as uint16 value).\r\n\r\n\ttoHalfFloat: function ( val ) {\r\n\r\n\t\t// Source: http://gamedev.stackexchange.com/questions/17326/conversion-of-a-number-from-single-precision-floating-point-representation-to-a/17410#17410\r\n\r\n\t\t/* This method is faster than the OpenEXR implementation (very often\r\n\t\t* used, eg. in Ogre), with the additional benefit of rounding, inspired\r\n\t\t* by James Tursa?s half-precision code. */\r\n\r\n\t\t_floatView[ 0 ] = val;\r\n\t\tconst x = _int32View[ 0 ];\r\n\r\n\t\tlet bits = ( x >> 16 ) & 0x8000; /* Get the sign */\r\n\t\tlet m = ( x >> 12 ) & 0x07ff; /* Keep one extra bit for rounding */\r\n\t\tconst e = ( x >> 23 ) & 0xff; /* Using int is faster here */\r\n\r\n\t\t/* If zero, or denormal, or exponent underflows too much for a denormal\r\n\t\t\t* half, return signed zero. */\r\n\t\tif ( e < 103 ) return bits;\r\n\r\n\t\t/* If NaN, return NaN. If Inf or exponent overflow, return Inf. */\r\n\t\tif ( e > 142 ) {\r\n\r\n\t\t\tbits |= 0x7c00;\r\n\t\t\t/* If exponent was 0xff and one mantissa bit was set, it means NaN,\r\n\t\t\t\t\t\t* not Inf, so make sure we set one mantissa bit too. */\r\n\t\t\tbits |= ( ( e == 255 ) ? 0 : 1 ) && ( x & 0x007fffff );\r\n\t\t\treturn bits;\r\n\r\n\t\t}\r\n\r\n\t\t/* If exponent underflows but not too much, return a denormal */\r\n\t\tif ( e < 113 ) {\r\n\r\n\t\t\tm |= 0x0800;\r\n\t\t\t/* Extra rounding may overflow and set mantissa to 0 and exponent\r\n\t\t\t\t* to 1, which is OK. */\r\n\t\t\tbits |= ( m >> ( 114 - e ) ) + ( ( m >> ( 113 - e ) ) & 1 );\r\n\t\t\treturn bits;\r\n\r\n\t\t}\r\n\r\n\t\tbits |= ( ( e - 112 ) << 10 ) | ( m >> 1 );\r\n\t\t/* Extra rounding. An overflow will set mantissa to 0 and increment\r\n\t\t\t* the exponent, which is OK. */\r\n\t\tbits += m & 1;\r\n\t\treturn bits;\r\n\r\n\t}\r\n\r\n};\r\n\r\nconst LOD_MIN = 4;\r\nconst LOD_MAX = 8;\r\nconst SIZE_MAX = Math.pow( 2, LOD_MAX );\r\n\r\n// The standard deviations (radians) associated with the extra mips. These are\r\n// chosen to approximate a Trowbridge-Reitz distribution function times the\r\n// geometric shadowing function. These sigma values squared must match the\r\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\r\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\r\n\r\nconst TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\r\n\r\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\r\n// samples and exit early, but not recompile the shader.\r\nconst MAX_SAMPLES = 20;\r\n\r\nconst ENCODINGS = {\r\n\t[ LinearEncoding ]: 0,\r\n\t[ sRGBEncoding ]: 1,\r\n\t[ RGBEEncoding ]: 2,\r\n\t[ RGBM7Encoding ]: 3,\r\n\t[ RGBM16Encoding ]: 4,\r\n\t[ RGBDEncoding ]: 5,\r\n\t[ GammaEncoding ]: 6\r\n};\r\n\r\nconst backgroundMaterial = new MeshBasicMaterial( {\r\n\tside: BackSide,\r\n\tdepthWrite: false,\r\n\tdepthTest: false,\r\n} );\r\nconst backgroundBox = new Mesh( new BoxGeometry(), backgroundMaterial );\r\n\r\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\r\nconst { _lodPlanes, _sizeLods, _sigmas } = /*@__PURE__*/ _createPlanes();\r\nconst _clearColor = /*@__PURE__*/ new Color();\r\nlet _oldTarget = null;\r\n\r\n// Golden Ratio\r\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\r\nconst INV_PHI = 1 / PHI;\r\n\r\n// Vertices of a dodecahedron (except the opposites, which represent the\r\n// same axis), used as axis directions evenly spread on a sphere.\r\nconst _axisDirections = [\r\n\t/*@__PURE__*/ new Vector3( 1, 1, 1 ),\r\n\t/*@__PURE__*/ new Vector3( - 1, 1, 1 ),\r\n\t/*@__PURE__*/ new Vector3( 1, 1, - 1 ),\r\n\t/*@__PURE__*/ new Vector3( - 1, 1, - 1 ),\r\n\t/*@__PURE__*/ new Vector3( 0, PHI, INV_PHI ),\r\n\t/*@__PURE__*/ new Vector3( 0, PHI, - INV_PHI ),\r\n\t/*@__PURE__*/ new Vector3( INV_PHI, 0, PHI ),\r\n\t/*@__PURE__*/ new Vector3( - INV_PHI, 0, PHI ),\r\n\t/*@__PURE__*/ new Vector3( PHI, INV_PHI, 0 ),\r\n\t/*@__PURE__*/ new Vector3( - PHI, INV_PHI, 0 ) ];\r\n\r\n/**\r\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\r\n * (PMREM) from a cubeMap environment texture. This allows different levels of\r\n * blur to be quickly accessed based on material roughness. It is packed into a\r\n * special CubeUV format that allows us to perform custom interpolation so that\r\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\r\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\r\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\r\n * higher roughness levels. In this way we maintain resolution to smoothly\r\n * interpolate diffuse lighting while limiting sampling computation.\r\n *\r\n * Paper: Fast, Accurate Image-Based Lighting\r\n * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view\r\n*/\r\n\r\nfunction convertLinearToRGBE( color ) {\r\n\r\n\tconst maxComponent = Math.max( color.r, color.g, color.b );\r\n\tconst fExp = Math.min( Math.max( Math.ceil( Math.log2( maxComponent ) ), - 128.0 ), 127.0 );\r\n\tcolor.multiplyScalar( Math.pow( 2.0, - fExp ) );\r\n\r\n\tconst alpha = ( fExp + 128.0 ) / 255.0;\r\n\treturn alpha;\r\n\r\n}\r\n\r\nclass PMREMGenerator {\r\n\r\n\tconstructor( renderer ) {\r\n\r\n\t\tthis._renderer = renderer;\r\n\t\tthis._pingPongRenderTarget = null;\r\n\r\n\t\tthis._blurMaterial = _getBlurShader( MAX_SAMPLES );\r\n\t\tthis._equirectShader = null;\r\n\t\tthis._cubemapShader = null;\r\n\r\n\t\tthis._compileMaterial( this._blurMaterial );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\r\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\r\n\t * in radians to be applied to the scene before PMREM generation. Optional near\r\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\r\n\t * is placed at the origin).\r\n\t */\r\n\tfromScene( scene, sigma = 0, near = 0.1, far = 100 ) {\r\n\r\n\t\t_oldTarget = this._renderer.getRenderTarget();\r\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\r\n\r\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\r\n\t\tif ( sigma > 0 ) {\r\n\r\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\r\n\r\n\t\t}\r\n\r\n\t\tthis._applyPMREM( cubeUVRenderTarget );\r\n\t\tthis._cleanup( cubeUVRenderTarget );\r\n\r\n\t\treturn cubeUVRenderTarget;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\r\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\r\n\t * as this matches best with the 256 x 256 cubemap output.\r\n\t */\r\n\tfromEquirectangular( equirectangular ) {\r\n\r\n\t\treturn this._fromTexture( equirectangular );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\r\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\r\n\t * as this matches best with the 256 x 256 cubemap output.\r\n\t */\r\n\tfromCubemap( cubemap ) {\r\n\r\n\t\treturn this._fromTexture( cubemap );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\r\n\t * your texture's network fetch for increased concurrency.\r\n\t */\r\n\tcompileCubemapShader() {\r\n\r\n\t\tif ( this._cubemapShader === null ) {\r\n\r\n\t\t\tthis._cubemapShader = _getCubemapShader();\r\n\t\t\tthis._compileMaterial( this._cubemapShader );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\r\n\t * your texture's network fetch for increased concurrency.\r\n\t */\r\n\tcompileEquirectangularShader() {\r\n\r\n\t\tif ( this._equirectShader === null ) {\r\n\r\n\t\t\tthis._equirectShader = _getEquirectShader();\r\n\t\t\tthis._compileMaterial( this._equirectShader );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\r\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\r\n\t * one of them will cause any others to also become unusable.\r\n\t */\r\n\tdispose() {\r\n\r\n\t\tthis._blurMaterial.dispose();\r\n\r\n\t\tif ( this._cubemapShader !== null ) this._cubemapShader.dispose();\r\n\t\tif ( this._equirectShader !== null ) this._equirectShader.dispose();\r\n\r\n\t\tfor ( let i = 0; i < _lodPlanes.length; i ++ ) {\r\n\r\n\t\t\t_lodPlanes[ i ].dispose();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// private interface\r\n\r\n\t_cleanup( outputTarget ) {\r\n\r\n\t\tthis._pingPongRenderTarget.dispose();\r\n\t\tthis._renderer.setRenderTarget( _oldTarget );\r\n\t\toutputTarget.scissorTest = false;\r\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\r\n\r\n\t}\r\n\r\n\t_fromTexture( texture ) {\r\n\r\n\t\t_oldTarget = this._renderer.getRenderTarget();\r\n\t\tconst cubeUVRenderTarget = this._allocateTargets( texture );\r\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\r\n\t\tthis._applyPMREM( cubeUVRenderTarget );\r\n\t\tthis._cleanup( cubeUVRenderTarget );\r\n\r\n\t\treturn cubeUVRenderTarget;\r\n\r\n\t}\r\n\r\n\t_allocateTargets( texture ) { // warning: null texture is valid\r\n\r\n\t\tconst params = {\r\n\t\t\tmagFilter: NearestFilter,\r\n\t\t\tminFilter: NearestFilter,\r\n\t\t\tgenerateMipmaps: false,\r\n\t\t\ttype: UnsignedByteType,\r\n\t\t\tformat: RGBEFormat,\r\n\t\t\tencoding: _isLDR( texture ) ? texture.encoding : RGBEEncoding,\r\n\t\t\tdepthBuffer: false\r\n\t\t};\r\n\r\n\t\tconst cubeUVRenderTarget = _createRenderTarget( params );\r\n\t\tcubeUVRenderTarget.depthBuffer = texture ? false : true;\r\n\t\tthis._pingPongRenderTarget = _createRenderTarget( params );\r\n\t\treturn cubeUVRenderTarget;\r\n\r\n\t}\r\n\r\n\t_compileMaterial( material ) {\r\n\r\n\t\tconst tmpMesh = new Mesh( _lodPlanes[ 0 ], material );\r\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\r\n\r\n\t}\r\n\r\n\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\r\n\r\n\t\tconst fov = 90;\r\n\t\tconst aspect = 1;\r\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\r\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\r\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\r\n\t\tconst renderer = this._renderer;\r\n\r\n\t\tconst originalAutoClear = renderer.autoClear;\r\n\t\tconst outputEncoding = renderer.outputEncoding;\r\n\t\tconst toneMapping = renderer.toneMapping;\r\n\t\trenderer.getClearColor( _clearColor );\r\n\r\n\t\trenderer.toneMapping = NoToneMapping;\r\n\t\trenderer.outputEncoding = LinearEncoding;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\tlet useSolidColor = false;\r\n\t\tconst background = scene.background;\r\n\t\tif ( background ) {\r\n\r\n\t\t\tif ( background.isColor ) {\r\n\r\n\t\t\t\tbackgroundMaterial.color.copy( background ).convertSRGBToLinear();\r\n\t\t\t\tscene.background = null;\r\n\r\n\t\t\t\tconst alpha = convertLinearToRGBE( backgroundMaterial.color );\r\n\t\t\t\tbackgroundMaterial.opacity = alpha;\r\n\t\t\t\tuseSolidColor = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tbackgroundMaterial.color.copy( _clearColor ).convertSRGBToLinear();\r\n\r\n\t\t\tconst alpha = convertLinearToRGBE( backgroundMaterial.color );\r\n\t\t\tbackgroundMaterial.opacity = alpha;\r\n\t\t\tuseSolidColor = true;\r\n\r\n\t\t}\r\n\r\n\r\n\t\tfor ( let i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tconst col = i % 3;\r\n\t\t\tif ( col == 0 ) {\r\n\r\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\r\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\r\n\r\n\t\t\t} else if ( col == 1 ) {\r\n\r\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\r\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\r\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_setViewport( cubeUVRenderTarget,\r\n\t\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\r\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\r\n\r\n\t\t\tif ( useSolidColor ) {\r\n\r\n\t\t\t\trenderer.render( backgroundBox, cubeCamera );\r\n\r\n\t\t\t}\r\n\r\n\t\t\trenderer.render( scene, cubeCamera );\r\n\r\n\t\t}\r\n\r\n\t\trenderer.toneMapping = toneMapping;\r\n\t\trenderer.outputEncoding = outputEncoding;\r\n\t\trenderer.autoClear = originalAutoClear;\r\n\r\n\t}\r\n\r\n\t_textureToCubeUV( texture, cubeUVRenderTarget ) {\r\n\r\n\t\tconst renderer = this._renderer;\r\n\r\n\t\tif ( texture.isCubeTexture ) {\r\n\r\n\t\t\tif ( this._cubemapShader == null ) {\r\n\r\n\t\t\t\tthis._cubemapShader = _getCubemapShader();\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( this._equirectShader == null ) {\r\n\r\n\t\t\t\tthis._equirectShader = _getEquirectShader();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst material = texture.isCubeTexture ? this._cubemapShader : this._equirectShader;\r\n\t\tconst mesh = new Mesh( _lodPlanes[ 0 ], material );\r\n\r\n\t\tconst uniforms = material.uniforms;\r\n\r\n\t\tuniforms[ 'envMap' ].value = texture;\r\n\r\n\t\tif ( ! texture.isCubeTexture ) {\r\n\r\n\t\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\r\n\r\n\t\t}\r\n\r\n\t\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\r\n\t\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ cubeUVRenderTarget.texture.encoding ];\r\n\r\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\r\n\r\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\r\n\t\trenderer.render( mesh, _flatCamera );\r\n\r\n\t}\r\n\r\n\t_applyPMREM( cubeUVRenderTarget ) {\r\n\r\n\t\tconst renderer = this._renderer;\r\n\t\tconst autoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\tfor ( let i = 1; i < TOTAL_LODS; i ++ ) {\r\n\r\n\t\t\tconst sigma = Math.sqrt( _sigmas[ i ] * _sigmas[ i ] - _sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\r\n\r\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\r\n\r\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\r\n\r\n\t\t}\r\n\r\n\t\trenderer.autoClear = autoClear;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\r\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\r\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\r\n\t * the poles) to approximate the orthogonally-separable blur. It is least\r\n\t * accurate at the poles, but still does a decent job.\r\n\t */\r\n\t_blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\r\n\r\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\r\n\r\n\t\tthis._halfBlur(\r\n\t\t\tcubeUVRenderTarget,\r\n\t\t\tpingPongRenderTarget,\r\n\t\t\tlodIn,\r\n\t\t\tlodOut,\r\n\t\t\tsigma,\r\n\t\t\t'latitudinal',\r\n\t\t\tpoleAxis );\r\n\r\n\t\tthis._halfBlur(\r\n\t\t\tpingPongRenderTarget,\r\n\t\t\tcubeUVRenderTarget,\r\n\t\t\tlodOut,\r\n\t\t\tlodOut,\r\n\t\t\tsigma,\r\n\t\t\t'longitudinal',\r\n\t\t\tpoleAxis );\r\n\r\n\t}\r\n\r\n\t_halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\r\n\r\n\t\tconst renderer = this._renderer;\r\n\t\tconst blurMaterial = this._blurMaterial;\r\n\r\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\r\n\r\n\t\t\tconsole.error(\r\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\r\n\r\n\t\t}\r\n\r\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\r\n\t\tconst STANDARD_DEVIATIONS = 3;\r\n\r\n\t\tconst blurMesh = new Mesh( _lodPlanes[ lodOut ], blurMaterial );\r\n\t\tconst blurUniforms = blurMaterial.uniforms;\r\n\r\n\t\tconst pixels = _sizeLods[ lodIn ] - 1;\r\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\r\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\r\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\r\n\r\n\t\tif ( samples > MAX_SAMPLES ) {\r\n\r\n\t\t\tconsole.warn( `sigmaRadians, ${\r\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\r\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\r\n\r\n\t\t}\r\n\r\n\t\tconst weights = [];\r\n\t\tlet sum = 0;\r\n\r\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\r\n\r\n\t\t\tconst x = i / sigmaPixels;\r\n\t\t\tconst weight = Math.exp( - x * x / 2 );\r\n\t\t\tweights.push( weight );\r\n\r\n\t\t\tif ( i == 0 ) {\r\n\r\n\t\t\t\tsum += weight;\r\n\r\n\t\t\t} else if ( i < samples ) {\r\n\r\n\t\t\t\tsum += 2 * weight;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\r\n\r\n\t\t\tweights[ i ] = weights[ i ] / sum;\r\n\r\n\t\t}\r\n\r\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\r\n\t\tblurUniforms[ 'samples' ].value = samples;\r\n\t\tblurUniforms[ 'weights' ].value = weights;\r\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\r\n\r\n\t\tif ( poleAxis ) {\r\n\r\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\r\n\r\n\t\t}\r\n\r\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\r\n\t\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\r\n\t\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\r\n\t\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\r\n\r\n\t\tconst outputSize = _sizeLods[ lodOut ];\r\n\t\tconst x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\r\n\t\tconst y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) + 2 * outputSize * ( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\r\n\r\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\r\n\t\trenderer.setRenderTarget( targetOut );\r\n\t\trenderer.render( blurMesh, _flatCamera );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction _isLDR( texture ) {\r\n\r\n\tif ( texture === undefined || texture.type !== UnsignedByteType ) return false;\r\n\r\n\treturn texture.encoding === LinearEncoding || texture.encoding === sRGBEncoding || texture.encoding === GammaEncoding;\r\n\r\n}\r\n\r\nfunction _createPlanes() {\r\n\r\n\tconst _lodPlanes = [];\r\n\tconst _sizeLods = [];\r\n\tconst _sigmas = [];\r\n\r\n\tlet lod = LOD_MAX;\r\n\r\n\tfor ( let i = 0; i < TOTAL_LODS; i ++ ) {\r\n\r\n\t\tconst sizeLod = Math.pow( 2, lod );\r\n\t\t_sizeLods.push( sizeLod );\r\n\t\tlet sigma = 1.0 / sizeLod;\r\n\r\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\r\n\r\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\r\n\r\n\t\t} else if ( i == 0 ) {\r\n\r\n\t\t\tsigma = 0;\r\n\r\n\t\t}\r\n\r\n\t\t_sigmas.push( sigma );\r\n\r\n\t\tconst texelSize = 1.0 / ( sizeLod - 1 );\r\n\t\tconst min = - texelSize / 2;\r\n\t\tconst max = 1 + texelSize / 2;\r\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\r\n\r\n\t\tconst cubeFaces = 6;\r\n\t\tconst vertices = 6;\r\n\t\tconst positionSize = 3;\r\n\t\tconst uvSize = 2;\r\n\t\tconst faceIndexSize = 1;\r\n\r\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\r\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\r\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\r\n\r\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\r\n\r\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\r\n\t\t\tconst y = face > 2 ? 0 : - 1;\r\n\t\t\tconst coordinates = [\r\n\t\t\t\tx, y, 0,\r\n\t\t\t\tx + 2 / 3, y, 0,\r\n\t\t\t\tx + 2 / 3, y + 1, 0,\r\n\t\t\t\tx, y, 0,\r\n\t\t\t\tx + 2 / 3, y + 1, 0,\r\n\t\t\t\tx, y + 1, 0\r\n\t\t\t];\r\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\r\n\t\t\tuv.set( uv1, uvSize * vertices * face );\r\n\t\t\tconst fill = [ face, face, face, face, face, face ];\r\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\r\n\r\n\t\t}\r\n\r\n\t\tconst planes = new BufferGeometry();\r\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\r\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\r\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\r\n\t\t_lodPlanes.push( planes );\r\n\r\n\t\tif ( lod > LOD_MIN ) {\r\n\r\n\t\t\tlod --;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn { _lodPlanes, _sizeLods, _sigmas };\r\n\r\n}\r\n\r\nfunction _createRenderTarget( params ) {\r\n\r\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\r\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\r\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\r\n\tcubeUVRenderTarget.scissorTest = true;\r\n\treturn cubeUVRenderTarget;\r\n\r\n}\r\n\r\nfunction _setViewport( target, x, y, width, height ) {\r\n\r\n\ttarget.viewport.set( x, y, width, height );\r\n\ttarget.scissor.set( x, y, width, height );\r\n\r\n}\r\n\r\nfunction _getBlurShader( maxSamples ) {\r\n\r\n\tconst weights = new Float32Array( maxSamples );\r\n\tconst poleAxis = new Vector3( 0, 1, 0 );\r\n\tconst shaderMaterial = new RawShaderMaterial( {\r\n\r\n\t\tname: 'SphericalGaussianBlur',\r\n\r\n\t\tdefines: { 'n': maxSamples },\r\n\r\n\t\tuniforms: {\r\n\t\t\t'envMap': { value: null },\r\n\t\t\t'samples': { value: 1 },\r\n\t\t\t'weights': { value: weights },\r\n\t\t\t'latitudinal': { value: false },\r\n\t\t\t'dTheta': { value: 0 },\r\n\t\t\t'mipInt': { value: 0 },\r\n\t\t\t'poleAxis': { value: poleAxis },\r\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\r\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\r\n\t\t},\r\n\r\n\t\tvertexShader: _getCommonVertexShader(),\r\n\r\n\t\tfragmentShader: /* glsl */`\r\n\r\n\t\t\tprecision mediump float;\r\n\t\t\tprecision mediump int;\r\n\r\n\t\t\tvarying vec3 vOutputDirection;\r\n\r\n\t\t\tuniform sampler2D envMap;\r\n\t\t\tuniform int samples;\r\n\t\t\tuniform float weights[ n ];\r\n\t\t\tuniform bool latitudinal;\r\n\t\t\tuniform float dTheta;\r\n\t\t\tuniform float mipInt;\r\n\t\t\tuniform vec3 poleAxis;\r\n\r\n\t\t\t${ _getEncodings() }\r\n\r\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\r\n\t\t\t#include <cube_uv_reflection_fragment>\r\n\r\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\r\n\r\n\t\t\t\tfloat cosTheta = cos( theta );\r\n\t\t\t\t// Rodrigues' axis-angle rotation\r\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\r\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\r\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\r\n\r\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvoid main() {\r\n\r\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\r\n\r\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\r\n\r\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\taxis = normalize( axis );\r\n\r\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\r\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\r\n\r\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\r\n\r\n\t\t\t\t\tif ( i >= samples ) {\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfloat theta = dTheta * float( i );\r\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\r\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\r\n\r\n\t\t\t}\r\n\t\t`,\r\n\r\n\t\tblending: NoBlending,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false\r\n\r\n\t} );\r\n\r\n\treturn shaderMaterial;\r\n\r\n}\r\n\r\nfunction _getEquirectShader() {\r\n\r\n\tconst texelSize = new Vector2( 1, 1 );\r\n\tconst shaderMaterial = new RawShaderMaterial( {\r\n\r\n\t\tname: 'EquirectangularToCubeUV',\r\n\r\n\t\tuniforms: {\r\n\t\t\t'envMap': { value: null },\r\n\t\t\t'texelSize': { value: texelSize },\r\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\r\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\r\n\t\t},\r\n\r\n\t\tvertexShader: _getCommonVertexShader(),\r\n\r\n\t\tfragmentShader: /* glsl */`\r\n\r\n\t\t\tprecision mediump float;\r\n\t\t\tprecision mediump int;\r\n\r\n\t\t\tvarying vec3 vOutputDirection;\r\n\r\n\t\t\tuniform sampler2D envMap;\r\n\t\t\tuniform vec2 texelSize;\r\n\r\n\t\t\t${ _getEncodings() }\r\n\r\n\t\t\t#include <common>\r\n\r\n\t\t\tvoid main() {\r\n\r\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\r\n\r\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\r\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\r\n\r\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\r\n\t\t\t\tuv -= f * texelSize;\r\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\r\n\t\t\t\tuv.x += texelSize.x;\r\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\r\n\t\t\t\tuv.y += texelSize.y;\r\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\r\n\t\t\t\tuv.x -= texelSize.x;\r\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\r\n\r\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\r\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\r\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\r\n\r\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\r\n\r\n\t\t\t}\r\n\t\t`,\r\n\r\n\t\tblending: NoBlending,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false\r\n\r\n\t} );\r\n\r\n\treturn shaderMaterial;\r\n\r\n}\r\n\r\nfunction _getCubemapShader() {\r\n\r\n\tconst shaderMaterial = new RawShaderMaterial( {\r\n\r\n\t\tname: 'CubemapToCubeUV',\r\n\r\n\t\tuniforms: {\r\n\t\t\t'envMap': { value: null },\r\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\r\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\r\n\t\t},\r\n\r\n\t\tvertexShader: _getCommonVertexShader(),\r\n\r\n\t\tfragmentShader: /* glsl */`\r\n\r\n\t\t\tprecision mediump float;\r\n\t\t\tprecision mediump int;\r\n\r\n\t\t\tvarying vec3 vOutputDirection;\r\n\r\n\t\t\tuniform samplerCube envMap;\r\n\r\n\t\t\t${ _getEncodings() }\r\n\r\n\t\t\tvoid main() {\r\n\r\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\r\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\r\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\r\n\r\n\t\t\t}\r\n\t\t`,\r\n\r\n\t\tblending: NoBlending,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false\r\n\r\n\t} );\r\n\r\n\treturn shaderMaterial;\r\n\r\n}\r\n\r\nfunction _getCommonVertexShader() {\r\n\r\n\treturn /* glsl */`\r\n\r\n\t\tprecision mediump float;\r\n\t\tprecision mediump int;\r\n\r\n\t\tattribute vec3 position;\r\n\t\tattribute vec2 uv;\r\n\t\tattribute float faceIndex;\r\n\r\n\t\tvarying vec3 vOutputDirection;\r\n\r\n\t\t// RH coordinate system; PMREM face-indexing convention\r\n\t\tvec3 getDirection( vec2 uv, float face ) {\r\n\r\n\t\t\tuv = 2.0 * uv - 1.0;\r\n\r\n\t\t\tvec3 direction = vec3( uv, 1.0 );\r\n\r\n\t\t\tif ( face == 0.0 ) {\r\n\r\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\r\n\r\n\t\t\t} else if ( face == 1.0 ) {\r\n\r\n\t\t\t\tdirection = direction.xzy;\r\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\r\n\r\n\t\t\t} else if ( face == 2.0 ) {\r\n\r\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\r\n\r\n\t\t\t} else if ( face == 3.0 ) {\r\n\r\n\t\t\t\tdirection = direction.zyx;\r\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\r\n\r\n\t\t\t} else if ( face == 4.0 ) {\r\n\r\n\t\t\t\tdirection = direction.xzy;\r\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\r\n\r\n\t\t\t} else if ( face == 5.0 ) {\r\n\r\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn direction;\r\n\r\n\t\t}\r\n\r\n\t\tvoid main() {\r\n\r\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\r\n\t\t\tgl_Position = vec4( position, 1.0 );\r\n\r\n\t\t}\r\n\t`;\r\n\r\n}\r\n\r\nfunction _getEncodings() {\r\n\r\n\treturn /* glsl */`\r\n\r\n\t\tuniform int inputEncoding;\r\n\t\tuniform int outputEncoding;\r\n\r\n\t\t#include <encodings_pars_fragment>\r\n\r\n\t\tvec4 inputTexelToLinear( vec4 value ) {\r\n\r\n\t\t\tif ( inputEncoding == 0 ) {\r\n\r\n\t\t\t\treturn value;\r\n\r\n\t\t\t} else if ( inputEncoding == 1 ) {\r\n\r\n\t\t\t\treturn sRGBToLinear( value );\r\n\r\n\t\t\t} else if ( inputEncoding == 2 ) {\r\n\r\n\t\t\t\treturn RGBEToLinear( value );\r\n\r\n\t\t\t} else if ( inputEncoding == 3 ) {\r\n\r\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\r\n\r\n\t\t\t} else if ( inputEncoding == 4 ) {\r\n\r\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\r\n\r\n\t\t\t} else if ( inputEncoding == 5 ) {\r\n\r\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn GammaToLinear( value, 2.2 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvec4 linearToOutputTexel( vec4 value ) {\r\n\r\n\t\t\tif ( outputEncoding == 0 ) {\r\n\r\n\t\t\t\treturn value;\r\n\r\n\t\t\t} else if ( outputEncoding == 1 ) {\r\n\r\n\t\t\t\treturn LinearTosRGB( value );\r\n\r\n\t\t\t} else if ( outputEncoding == 2 ) {\r\n\r\n\t\t\t\treturn LinearToRGBE( value );\r\n\r\n\t\t\t} else if ( outputEncoding == 3 ) {\r\n\r\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\r\n\r\n\t\t\t} else if ( outputEncoding == 4 ) {\r\n\r\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\r\n\r\n\t\t\t} else if ( outputEncoding == 5 ) {\r\n\r\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn LinearToGamma( value, 2.2 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\r\n\r\n\t\t\treturn inputTexelToLinear( color );\r\n\r\n\t\t}\r\n\t`;\r\n\r\n}\r\n\r\nconst LineStrip = 0;\r\nconst LinePieces = 1;\r\nconst NoColors = 0;\r\nconst FaceColors = 1;\r\nconst VertexColors = 2;\r\n\r\nfunction MeshFaceMaterial( materials ) {\r\n\r\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\r\n\treturn materials;\r\n\r\n}\r\n\r\nfunction MultiMaterial( materials = [] ) {\r\n\r\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\r\n\tmaterials.isMultiMaterial = true;\r\n\tmaterials.materials = materials;\r\n\tmaterials.clone = function () {\r\n\r\n\t\treturn materials.slice();\r\n\r\n\t};\r\n\r\n\treturn materials;\r\n\r\n}\r\n\r\nfunction PointCloud( geometry, material ) {\r\n\r\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\r\n\treturn new Points( geometry, material );\r\n\r\n}\r\n\r\nfunction Particle( material ) {\r\n\r\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\r\n\treturn new Sprite( material );\r\n\r\n}\r\n\r\nfunction ParticleSystem( geometry, material ) {\r\n\r\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\r\n\treturn new Points( geometry, material );\r\n\r\n}\r\n\r\nfunction PointCloudMaterial( parameters ) {\r\n\r\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\r\n\treturn new PointsMaterial( parameters );\r\n\r\n}\r\n\r\nfunction ParticleBasicMaterial( parameters ) {\r\n\r\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\r\n\treturn new PointsMaterial( parameters );\r\n\r\n}\r\n\r\nfunction ParticleSystemMaterial( parameters ) {\r\n\r\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\r\n\treturn new PointsMaterial( parameters );\r\n\r\n}\r\n\r\nfunction Vertex( x, y, z ) {\r\n\r\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\r\n\treturn new Vector3( x, y, z );\r\n\r\n}\r\n\r\n//\r\n\r\nfunction DynamicBufferAttribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.' );\r\n\treturn new BufferAttribute( array, itemSize ).setUsage( DynamicDrawUsage );\r\n\r\n}\r\n\r\nfunction Int8Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\r\n\treturn new Int8BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Uint8Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\r\n\treturn new Uint8BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Uint8ClampedAttribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\r\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Int16Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\r\n\treturn new Int16BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Uint16Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\r\n\treturn new Uint16BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Int32Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\r\n\treturn new Int32BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Uint32Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\r\n\treturn new Uint32BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Float32Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\r\n\treturn new Float32BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\nfunction Float64Attribute( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\r\n\treturn new Float64BufferAttribute( array, itemSize );\r\n\r\n}\r\n\r\n//\r\n\r\nCurve.create = function ( construct, getPoint ) {\r\n\r\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\r\n\r\n\tconstruct.prototype = Object.create( Curve.prototype );\r\n\tconstruct.prototype.constructor = construct;\r\n\tconstruct.prototype.getPoint = getPoint;\r\n\r\n\treturn construct;\r\n\r\n};\r\n\r\n//\r\n\r\nPath.prototype.fromPoints = function ( points ) {\r\n\r\n\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\r\n\treturn this.setFromPoints( points );\r\n\r\n};\r\n\r\n//\r\n\r\nfunction AxisHelper( size ) {\r\n\r\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\r\n\treturn new AxesHelper( size );\r\n\r\n}\r\n\r\nfunction BoundingBoxHelper( object, color ) {\r\n\r\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\r\n\treturn new BoxHelper( object, color );\r\n\r\n}\r\n\r\nfunction EdgesHelper( object, hex ) {\r\n\r\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\r\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\r\n\r\n}\r\n\r\nGridHelper.prototype.setColors = function () {\r\n\r\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\r\n\r\n};\r\n\r\nSkeletonHelper.prototype.update = function () {\r\n\r\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\r\n\r\n};\r\n\r\nfunction WireframeHelper( object, hex ) {\r\n\r\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\r\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\r\n\r\n}\r\n\r\n//\r\n\r\nLoader.prototype.extractUrlBase = function ( url ) {\r\n\r\n\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\r\n\treturn LoaderUtils.extractUrlBase( url );\r\n\r\n};\r\n\r\nLoader.Handlers = {\r\n\r\n\tadd: function ( /* regex, loader */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\r\n\r\n\t},\r\n\r\n\tget: function ( /* file */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\r\n\r\n\t}\r\n\r\n};\r\n\r\nfunction XHRLoader( manager ) {\r\n\r\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\r\n\treturn new FileLoader( manager );\r\n\r\n}\r\n\r\nfunction BinaryTextureLoader( manager ) {\r\n\r\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\r\n\treturn new DataTextureLoader( manager );\r\n\r\n}\r\n\r\n//\r\n\r\nBox2.prototype.center = function ( optionalTarget ) {\r\n\r\n\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\r\n\treturn this.getCenter( optionalTarget );\r\n\r\n};\r\n\r\nBox2.prototype.empty = function () {\r\n\r\n\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\r\n\treturn this.isEmpty();\r\n\r\n};\r\n\r\nBox2.prototype.isIntersectionBox = function ( box ) {\r\n\r\n\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\r\n\treturn this.intersectsBox( box );\r\n\r\n};\r\n\r\nBox2.prototype.size = function ( optionalTarget ) {\r\n\r\n\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\r\n\treturn this.getSize( optionalTarget );\r\n\r\n};\r\n\r\n//\r\n\r\nBox3.prototype.center = function ( optionalTarget ) {\r\n\r\n\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\r\n\treturn this.getCenter( optionalTarget );\r\n\r\n};\r\n\r\nBox3.prototype.empty = function () {\r\n\r\n\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\r\n\treturn this.isEmpty();\r\n\r\n};\r\n\r\nBox3.prototype.isIntersectionBox = function ( box ) {\r\n\r\n\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\r\n\treturn this.intersectsBox( box );\r\n\r\n};\r\n\r\nBox3.prototype.isIntersectionSphere = function ( sphere ) {\r\n\r\n\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\r\n\treturn this.intersectsSphere( sphere );\r\n\r\n};\r\n\r\nBox3.prototype.size = function ( optionalTarget ) {\r\n\r\n\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\r\n\treturn this.getSize( optionalTarget );\r\n\r\n};\r\n\r\n//\r\n\r\nSphere.prototype.empty = function () {\r\n\r\n\tconsole.warn( 'THREE.Sphere: .empty() has been renamed to .isEmpty().' );\r\n\treturn this.isEmpty();\r\n\r\n};\r\n\r\n//\r\n\r\nFrustum.prototype.setFromMatrix = function ( m ) {\r\n\r\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\r\n\treturn this.setFromProjectionMatrix( m );\r\n\r\n};\r\n\r\n//\r\n\r\nLine3.prototype.center = function ( optionalTarget ) {\r\n\r\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\r\n\treturn this.getCenter( optionalTarget );\r\n\r\n};\r\n\r\n//\r\n\r\nMathUtils.random16 = function () {\r\n\r\n\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\r\n\treturn Math.random();\r\n\r\n};\r\n\r\nMathUtils.nearestPowerOfTwo = function ( value ) {\r\n\r\n\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\r\n\treturn MathUtils.floorPowerOfTwo( value );\r\n\r\n};\r\n\r\nMathUtils.nextPowerOfTwo = function ( value ) {\r\n\r\n\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\r\n\treturn MathUtils.ceilPowerOfTwo( value );\r\n\r\n};\r\n\r\n//\r\n\r\nMatrix3.prototype.flattenToArrayOffset = function ( array, offset ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.' );\r\n\treturn this.toArray( array, offset );\r\n\r\n};\r\n\r\nMatrix3.prototype.multiplyVector3 = function ( vector ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\r\n\treturn vector.applyMatrix3( this );\r\n\r\n};\r\n\r\nMatrix3.prototype.multiplyVector3Array = function ( /* a */ ) {\r\n\r\n\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\r\n\r\n};\r\n\r\nMatrix3.prototype.applyToBufferAttribute = function ( attribute ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\r\n\treturn attribute.applyMatrix3( this );\r\n\r\n};\r\n\r\nMatrix3.prototype.applyToVector3Array = function ( /* array, offset, length */ ) {\r\n\r\n\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\r\n\r\n};\r\n\r\nMatrix3.prototype.getInverse = function ( matrix ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\r\n\treturn this.copy( matrix ).invert();\r\n\r\n};\r\n\r\n//\r\n\r\nMatrix4.prototype.extractPosition = function ( m ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\r\n\treturn this.copyPosition( m );\r\n\r\n};\r\n\r\nMatrix4.prototype.flattenToArrayOffset = function ( array, offset ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.' );\r\n\treturn this.toArray( array, offset );\r\n\r\n};\r\n\r\nMatrix4.prototype.getPosition = function () {\r\n\r\n\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\r\n\treturn new Vector3().setFromMatrixColumn( this, 3 );\r\n\r\n};\r\n\r\nMatrix4.prototype.setRotationFromQuaternion = function ( q ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\r\n\treturn this.makeRotationFromQuaternion( q );\r\n\r\n};\r\n\r\nMatrix4.prototype.multiplyToArray = function () {\r\n\r\n\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\r\n\r\n};\r\n\r\nMatrix4.prototype.multiplyVector3 = function ( vector ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\r\n\treturn vector.applyMatrix4( this );\r\n\r\n};\r\n\r\nMatrix4.prototype.multiplyVector4 = function ( vector ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\r\n\treturn vector.applyMatrix4( this );\r\n\r\n};\r\n\r\nMatrix4.prototype.multiplyVector3Array = function ( /* a */ ) {\r\n\r\n\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\r\n\r\n};\r\n\r\nMatrix4.prototype.rotateAxis = function ( v ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\r\n\tv.transformDirection( this );\r\n\r\n};\r\n\r\nMatrix4.prototype.crossVector = function ( vector ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\r\n\treturn vector.applyMatrix4( this );\r\n\r\n};\r\n\r\nMatrix4.prototype.translate = function () {\r\n\r\n\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\r\n\r\n};\r\n\r\nMatrix4.prototype.rotateX = function () {\r\n\r\n\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\r\n\r\n};\r\n\r\nMatrix4.prototype.rotateY = function () {\r\n\r\n\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\r\n\r\n};\r\n\r\nMatrix4.prototype.rotateZ = function () {\r\n\r\n\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\r\n\r\n};\r\n\r\nMatrix4.prototype.rotateByAxis = function () {\r\n\r\n\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\r\n\r\n};\r\n\r\nMatrix4.prototype.applyToBufferAttribute = function ( attribute ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\r\n\treturn attribute.applyMatrix4( this );\r\n\r\n};\r\n\r\nMatrix4.prototype.applyToVector3Array = function ( /* array, offset, length */ ) {\r\n\r\n\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\r\n\r\n};\r\n\r\nMatrix4.prototype.makeFrustum = function ( left, right, bottom, top, near, far ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\r\n\treturn this.makePerspective( left, right, top, bottom, near, far );\r\n\r\n};\r\n\r\nMatrix4.prototype.getInverse = function ( matrix ) {\r\n\r\n\tconsole.warn( 'THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\r\n\treturn this.copy( matrix ).invert();\r\n\r\n};\r\n\r\n//\r\n\r\nPlane.prototype.isIntersectionLine = function ( line ) {\r\n\r\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\r\n\treturn this.intersectsLine( line );\r\n\r\n};\r\n\r\n//\r\n\r\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\r\n\r\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\r\n\treturn vector.applyQuaternion( this );\r\n\r\n};\r\n\r\nQuaternion.prototype.inverse = function ( ) {\r\n\r\n\tconsole.warn( 'THREE.Quaternion: .inverse() has been renamed to invert().' );\r\n\treturn this.invert();\r\n\r\n};\r\n\r\n//\r\n\r\nRay.prototype.isIntersectionBox = function ( box ) {\r\n\r\n\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\r\n\treturn this.intersectsBox( box );\r\n\r\n};\r\n\r\nRay.prototype.isIntersectionPlane = function ( plane ) {\r\n\r\n\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\r\n\treturn this.intersectsPlane( plane );\r\n\r\n};\r\n\r\nRay.prototype.isIntersectionSphere = function ( sphere ) {\r\n\r\n\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\r\n\treturn this.intersectsSphere( sphere );\r\n\r\n};\r\n\r\n//\r\n\r\nTriangle.prototype.area = function () {\r\n\r\n\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\r\n\treturn this.getArea();\r\n\r\n};\r\n\r\nTriangle.prototype.barycoordFromPoint = function ( point, target ) {\r\n\r\n\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\r\n\treturn this.getBarycoord( point, target );\r\n\r\n};\r\n\r\nTriangle.prototype.midpoint = function ( target ) {\r\n\r\n\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\r\n\treturn this.getMidpoint( target );\r\n\r\n};\r\n\r\nTriangle.prototypenormal = function ( target ) {\r\n\r\n\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\r\n\treturn this.getNormal( target );\r\n\r\n};\r\n\r\nTriangle.prototype.plane = function ( target ) {\r\n\r\n\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\r\n\treturn this.getPlane( target );\r\n\r\n};\r\n\r\nTriangle.barycoordFromPoint = function ( point, a, b, c, target ) {\r\n\r\n\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\r\n\treturn Triangle.getBarycoord( point, a, b, c, target );\r\n\r\n};\r\n\r\nTriangle.normal = function ( a, b, c, target ) {\r\n\r\n\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\r\n\treturn Triangle.getNormal( a, b, c, target );\r\n\r\n};\r\n\r\n//\r\n\r\nShape.prototype.extractAllPoints = function ( divisions ) {\r\n\r\n\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\r\n\treturn this.extractPoints( divisions );\r\n\r\n};\r\n\r\nShape.prototype.extrude = function ( options ) {\r\n\r\n\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\r\n\treturn new ExtrudeGeometry( this, options );\r\n\r\n};\r\n\r\nShape.prototype.makeGeometry = function ( options ) {\r\n\r\n\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\r\n\treturn new ShapeGeometry( this, options );\r\n\r\n};\r\n\r\n//\r\n\r\nVector2.prototype.fromAttribute = function ( attribute, index, offset ) {\r\n\r\n\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\r\n\treturn this.fromBufferAttribute( attribute, index, offset );\r\n\r\n};\r\n\r\nVector2.prototype.distanceToManhattan = function ( v ) {\r\n\r\n\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\r\n\treturn this.manhattanDistanceTo( v );\r\n\r\n};\r\n\r\nVector2.prototype.lengthManhattan = function () {\r\n\r\n\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\r\n\treturn this.manhattanLength();\r\n\r\n};\r\n\r\n//\r\n\r\nVector3.prototype.setEulerFromRotationMatrix = function () {\r\n\r\n\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\r\n\r\n};\r\n\r\nVector3.prototype.setEulerFromQuaternion = function () {\r\n\r\n\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\r\n\r\n};\r\n\r\nVector3.prototype.getPositionFromMatrix = function ( m ) {\r\n\r\n\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\r\n\treturn this.setFromMatrixPosition( m );\r\n\r\n};\r\n\r\nVector3.prototype.getScaleFromMatrix = function ( m ) {\r\n\r\n\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\r\n\treturn this.setFromMatrixScale( m );\r\n\r\n};\r\n\r\nVector3.prototype.getColumnFromMatrix = function ( index, matrix ) {\r\n\r\n\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\r\n\treturn this.setFromMatrixColumn( matrix, index );\r\n\r\n};\r\n\r\nVector3.prototype.applyProjection = function ( m ) {\r\n\r\n\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\r\n\treturn this.applyMatrix4( m );\r\n\r\n};\r\n\r\nVector3.prototype.fromAttribute = function ( attribute, index, offset ) {\r\n\r\n\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\r\n\treturn this.fromBufferAttribute( attribute, index, offset );\r\n\r\n};\r\n\r\nVector3.prototype.distanceToManhattan = function ( v ) {\r\n\r\n\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\r\n\treturn this.manhattanDistanceTo( v );\r\n\r\n};\r\n\r\nVector3.prototype.lengthManhattan = function () {\r\n\r\n\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\r\n\treturn this.manhattanLength();\r\n\r\n};\r\n\r\n//\r\n\r\nVector4.prototype.fromAttribute = function ( attribute, index, offset ) {\r\n\r\n\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\r\n\treturn this.fromBufferAttribute( attribute, index, offset );\r\n\r\n};\r\n\r\nVector4.prototype.lengthManhattan = function () {\r\n\r\n\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\r\n\treturn this.manhattanLength();\r\n\r\n};\r\n\r\n//\r\n\r\nObject3D.prototype.getChildByName = function ( name ) {\r\n\r\n\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\r\n\treturn this.getObjectByName( name );\r\n\r\n};\r\n\r\nObject3D.prototype.renderDepth = function () {\r\n\r\n\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\r\n\r\n};\r\n\r\nObject3D.prototype.translate = function ( distance, axis ) {\r\n\r\n\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\r\n\treturn this.translateOnAxis( axis, distance );\r\n\r\n};\r\n\r\nObject3D.prototype.getWorldRotation = function () {\r\n\r\n\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\r\n\r\n};\r\n\r\nObject3D.prototype.applyMatrix = function ( matrix ) {\r\n\r\n\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\r\n\treturn this.applyMatrix4( matrix );\r\n\r\n};\r\n\r\nObject.defineProperties( Object3D.prototype, {\r\n\r\n\teulerOrder: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\r\n\t\t\treturn this.rotation.order;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\r\n\t\t\tthis.rotation.order = value;\r\n\r\n\t\t}\r\n\t},\r\n\tuseQuaternion: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nMesh.prototype.setDrawMode = function () {\r\n\r\n\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\r\n\r\n};\r\n\r\nObject.defineProperties( Mesh.prototype, {\r\n\r\n\tdrawMode: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\r\n\t\t\treturn TrianglesDrawMode;\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nSkinnedMesh.prototype.initBones = function () {\r\n\r\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\r\n\r\n};\r\n\r\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\r\n\r\n\tget: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\r\n\t\treturn this.arcLengthDivisions;\r\n\r\n\t},\r\n\tset: function ( value ) {\r\n\r\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\r\n\t\tthis.arcLengthDivisions = value;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\r\n\r\n\tconsole.warn( 'THREE.PerspectiveCamera.setLens is deprecated. ' +\r\n\t\t\t'Use .setFocalLength and .filmGauge for a photographic setup.' );\r\n\r\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\r\n\tthis.setFocalLength( focalLength );\r\n\r\n};\r\n\r\n//\r\n\r\nObject.defineProperties( Light.prototype, {\r\n\tonlyShadow: {\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraFov: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\r\n\t\t\tthis.shadow.camera.fov = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraLeft: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\r\n\t\t\tthis.shadow.camera.left = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraRight: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\r\n\t\t\tthis.shadow.camera.right = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraTop: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\r\n\t\t\tthis.shadow.camera.top = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraBottom: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\r\n\t\t\tthis.shadow.camera.bottom = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraNear: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\r\n\t\t\tthis.shadow.camera.near = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraFar: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\r\n\t\t\tthis.shadow.camera.far = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowCameraVisible: {\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\r\n\r\n\t\t}\r\n\t},\r\n\tshadowBias: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\r\n\t\t\tthis.shadow.bias = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowDarkness: {\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\r\n\r\n\t\t}\r\n\t},\r\n\tshadowMapWidth: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\r\n\t\t\tthis.shadow.mapSize.width = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowMapHeight: {\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\r\n\t\t\tthis.shadow.mapSize.height = value;\r\n\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n//\r\n\r\nObject.defineProperties( BufferAttribute.prototype, {\r\n\r\n\tlength: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\r\n\t\t\treturn this.array.length;\r\n\r\n\t\t}\r\n\t},\r\n\tdynamic: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\r\n\t\t\treturn this.usage === DynamicDrawUsage;\r\n\r\n\t\t},\r\n\t\tset: function ( /* value */ ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\r\n\t\t\tthis.setUsage( DynamicDrawUsage );\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nBufferAttribute.prototype.setDynamic = function ( value ) {\r\n\r\n\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\r\n\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\r\n\treturn this;\r\n\r\n};\r\n\r\nBufferAttribute.prototype.copyIndicesArray = function ( /* indices */ ) {\r\n\r\n\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\r\n\r\n},\r\n\r\nBufferAttribute.prototype.setArray = function ( /* array */ ) {\r\n\r\n\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\r\n\r\n};\r\n\r\n//\r\n\r\nBufferGeometry.prototype.addIndex = function ( index ) {\r\n\r\n\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\r\n\tthis.setIndex( index );\r\n\r\n};\r\n\r\nBufferGeometry.prototype.addAttribute = function ( name, attribute ) {\r\n\r\n\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\r\n\r\n\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\r\n\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\r\n\r\n\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\r\n\r\n\t}\r\n\r\n\tif ( name === 'index' ) {\r\n\r\n\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\r\n\t\tthis.setIndex( attribute );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\treturn this.setAttribute( name, attribute );\r\n\r\n};\r\n\r\nBufferGeometry.prototype.addDrawCall = function ( start, count, indexOffset ) {\r\n\r\n\tif ( indexOffset !== undefined ) {\r\n\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\r\n\r\n\t}\r\n\r\n\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\r\n\tthis.addGroup( start, count );\r\n\r\n};\r\n\r\nBufferGeometry.prototype.clearDrawCalls = function () {\r\n\r\n\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\r\n\tthis.clearGroups();\r\n\r\n};\r\n\r\nBufferGeometry.prototype.computeOffsets = function () {\r\n\r\n\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\r\n\r\n};\r\n\r\nBufferGeometry.prototype.removeAttribute = function ( name ) {\r\n\r\n\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\r\n\r\n\treturn this.deleteAttribute( name );\r\n\r\n};\r\n\r\nBufferGeometry.prototype.applyMatrix = function ( matrix ) {\r\n\r\n\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\r\n\treturn this.applyMatrix4( matrix );\r\n\r\n};\r\n\r\nObject.defineProperties( BufferGeometry.prototype, {\r\n\r\n\tdrawcalls: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\r\n\t\t\treturn this.groups;\r\n\r\n\t\t}\r\n\t},\r\n\toffsets: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\r\n\t\t\treturn this.groups;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( InstancedBufferGeometry.prototype, {\r\n\r\n\tmaxInstancedCount: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.' );\r\n\t\t\treturn this.instanceCount;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.' );\r\n\t\t\tthis.instanceCount = value;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( Raycaster.prototype, {\r\n\r\n\tlinePrecision: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\r\n\t\t\treturn this.params.Line.threshold;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\r\n\t\t\tthis.params.Line.threshold = value;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( InterleavedBuffer.prototype, {\r\n\r\n\tdynamic: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\r\n\t\t\treturn this.usage === DynamicDrawUsage;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\r\n\t\t\tthis.setUsage( value );\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nInterleavedBuffer.prototype.setDynamic = function ( value ) {\r\n\r\n\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\r\n\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\r\n\treturn this;\r\n\r\n};\r\n\r\nInterleavedBuffer.prototype.setArray = function ( /* array */ ) {\r\n\r\n\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\r\n\r\n};\r\n\r\n//\r\n\r\nExtrudeGeometry.prototype.getArrays = function () {\r\n\r\n\tconsole.error( 'THREE.ExtrudeGeometry: .getArrays() has been removed.' );\r\n\r\n};\r\n\r\nExtrudeGeometry.prototype.addShapeList = function () {\r\n\r\n\tconsole.error( 'THREE.ExtrudeGeometry: .addShapeList() has been removed.' );\r\n\r\n};\r\n\r\nExtrudeGeometry.prototype.addShape = function () {\r\n\r\n\tconsole.error( 'THREE.ExtrudeGeometry: .addShape() has been removed.' );\r\n\r\n};\r\n\r\n//\r\n\r\nScene.prototype.dispose = function () {\r\n\r\n\tconsole.error( 'THREE.Scene: .dispose() has been removed.' );\r\n\r\n};\r\n\r\n//\r\n\r\nUniform.prototype.onUpdate = function () {\r\n\r\n\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\r\n\treturn this;\r\n\r\n};\r\n\r\n//\r\n\r\nObject.defineProperties( Material.prototype, {\r\n\r\n\twrapAround: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\r\n\r\n\t\t}\r\n\t},\r\n\r\n\toverdraw: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\r\n\r\n\t\t}\r\n\t},\r\n\r\n\twrapRGB: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\r\n\t\t\treturn new Color();\r\n\r\n\t\t}\r\n\t},\r\n\r\n\tshading: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\r\n\t\t\tthis.flatShading = ( value === FlatShading );\r\n\r\n\t\t}\r\n\t},\r\n\r\n\tstencilMask: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\r\n\t\t\treturn this.stencilFuncMask;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\r\n\t\t\tthis.stencilFuncMask = value;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( MeshPhysicalMaterial.prototype, {\r\n\r\n\ttransparency: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.' );\r\n\t\t\treturn this.transmission;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.' );\r\n\t\t\tthis.transmission = value;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nObject.defineProperties( ShaderMaterial.prototype, {\r\n\r\n\tderivatives: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\r\n\t\t\treturn this.extensions.derivatives;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\r\n\t\t\tthis.extensions.derivatives = value;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nWebGLRenderer.prototype.clearTarget = function ( renderTarget, color, depth, stencil ) {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\r\n\tthis.setRenderTarget( renderTarget );\r\n\tthis.clear( color, depth, stencil );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.animate = function ( callback ) {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\r\n\tthis.setAnimationLoop( callback );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.getCurrentRenderTarget = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\r\n\treturn this.getRenderTarget();\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.getMaxAnisotropy = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\r\n\treturn this.capabilities.getMaxAnisotropy();\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.getPrecision = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\r\n\treturn this.capabilities.precision;\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.resetGLState = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\r\n\treturn this.state.reset();\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.supportsFloatTextures = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\r\n\treturn this.extensions.get( 'OES_texture_float' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.supportsHalfFloatTextures = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\r\n\treturn this.extensions.get( 'OES_texture_half_float' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.supportsStandardDerivatives = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\r\n\treturn this.extensions.get( 'OES_standard_derivatives' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.supportsCompressedTextureS3TC = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\r\n\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.supportsCompressedTexturePVRTC = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\r\n\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.supportsBlendMinMax = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\r\n\treturn this.extensions.get( 'EXT_blend_minmax' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.supportsVertexTextures = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\r\n\treturn this.capabilities.vertexTextures;\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.supportsInstancedArrays = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\r\n\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.enableScissorTest = function ( boolean ) {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\r\n\tthis.setScissorTest( boolean );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.initMaterial = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.addPrePlugin = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.addPostPlugin = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.updateShadowMap = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.setFaceCulling = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.allocTextureUnit = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.setTexture = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.setTexture2D = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.setTextureCube = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\r\n\r\n};\r\n\r\nWebGLRenderer.prototype.getActiveMipMapLevel = function () {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\r\n\treturn this.getActiveMipmapLevel();\r\n\r\n};\r\n\r\nObject.defineProperties( WebGLRenderer.prototype, {\r\n\r\n\tshadowMapEnabled: {\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.shadowMap.enabled;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\r\n\t\t\tthis.shadowMap.enabled = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowMapType: {\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.shadowMap.type;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\r\n\t\t\tthis.shadowMap.type = value;\r\n\r\n\t\t}\r\n\t},\r\n\tshadowMapCullFace: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\r\n\t\t\treturn undefined;\r\n\r\n\t\t},\r\n\t\tset: function ( /* value */ ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\r\n\r\n\t\t}\r\n\t},\r\n\tcontext: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\r\n\t\t\treturn this.getContext();\r\n\r\n\t\t}\r\n\t},\r\n\tvr: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\r\n\t\t\treturn this.xr;\r\n\r\n\t\t}\r\n\t},\r\n\tgammaInput: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\r\n\r\n\t\t}\r\n\t},\r\n\tgammaOutput: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\r\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\r\n\r\n\t\t}\r\n\t},\r\n\ttoneMappingWhitePoint: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\r\n\t\t\treturn 1.0;\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\r\n\r\n\t\t}\r\n\t},\r\n\r\n} );\r\n\r\nObject.defineProperties( WebGLShadowMap.prototype, {\r\n\r\n\tcullFace: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\r\n\t\t\treturn undefined;\r\n\r\n\t\t},\r\n\t\tset: function ( /* cullFace */ ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\r\n\r\n\t\t}\r\n\t},\r\n\trenderReverseSided: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\r\n\t\t\treturn undefined;\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\r\n\r\n\t\t}\r\n\t},\r\n\trenderSingleSided: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\r\n\t\t\treturn undefined;\r\n\r\n\t\t},\r\n\t\tset: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\nfunction WebGLRenderTargetCube( width, height, options ) {\r\n\r\n\tconsole.warn( 'THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).' );\r\n\treturn new WebGLCubeRenderTarget( width, options );\r\n\r\n}\r\n\r\n//\r\n\r\nObject.defineProperties( WebGLRenderTarget.prototype, {\r\n\r\n\twrapS: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\r\n\t\t\treturn this.texture.wrapS;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\r\n\t\t\tthis.texture.wrapS = value;\r\n\r\n\t\t}\r\n\t},\r\n\twrapT: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\r\n\t\t\treturn this.texture.wrapT;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\r\n\t\t\tthis.texture.wrapT = value;\r\n\r\n\t\t}\r\n\t},\r\n\tmagFilter: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\r\n\t\t\treturn this.texture.magFilter;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\r\n\t\t\tthis.texture.magFilter = value;\r\n\r\n\t\t}\r\n\t},\r\n\tminFilter: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\r\n\t\t\treturn this.texture.minFilter;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\r\n\t\t\tthis.texture.minFilter = value;\r\n\r\n\t\t}\r\n\t},\r\n\tanisotropy: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\r\n\t\t\treturn this.texture.anisotropy;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\r\n\t\t\tthis.texture.anisotropy = value;\r\n\r\n\t\t}\r\n\t},\r\n\toffset: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\r\n\t\t\treturn this.texture.offset;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\r\n\t\t\tthis.texture.offset = value;\r\n\r\n\t\t}\r\n\t},\r\n\trepeat: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\r\n\t\t\treturn this.texture.repeat;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\r\n\t\t\tthis.texture.repeat = value;\r\n\r\n\t\t}\r\n\t},\r\n\tformat: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\r\n\t\t\treturn this.texture.format;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\r\n\t\t\tthis.texture.format = value;\r\n\r\n\t\t}\r\n\t},\r\n\ttype: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\r\n\t\t\treturn this.texture.type;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\r\n\t\t\tthis.texture.type = value;\r\n\r\n\t\t}\r\n\t},\r\n\tgenerateMipmaps: {\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\r\n\t\t\treturn this.texture.generateMipmaps;\r\n\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\r\n\t\t\tthis.texture.generateMipmaps = value;\r\n\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\n//\r\n\r\nAudio.prototype.load = function ( file ) {\r\n\r\n\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\r\n\tconst scope = this;\r\n\tconst audioLoader = new AudioLoader();\r\n\taudioLoader.load( file, function ( buffer ) {\r\n\r\n\t\tscope.setBuffer( buffer );\r\n\r\n\t} );\r\n\treturn this;\r\n\r\n};\r\n\r\n\r\nAudioAnalyser.prototype.getData = function () {\r\n\r\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\r\n\treturn this.getFrequencyData();\r\n\r\n};\r\n\r\n//\r\n\r\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\r\n\r\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\r\n\treturn this.update( renderer, scene );\r\n\r\n};\r\n\r\nCubeCamera.prototype.clear = function ( renderer, color, depth, stencil ) {\r\n\r\n\tconsole.warn( 'THREE.CubeCamera: .clear() is now .renderTarget.clear().' );\r\n\treturn this.renderTarget.clear( renderer, color, depth, stencil );\r\n\r\n};\r\n\r\nImageUtils.crossOrigin = undefined;\r\n\r\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\r\n\r\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\r\n\r\n\tconst loader = new TextureLoader();\r\n\tloader.setCrossOrigin( this.crossOrigin );\r\n\r\n\tconst texture = loader.load( url, onLoad, undefined, onError );\r\n\r\n\tif ( mapping ) texture.mapping = mapping;\r\n\r\n\treturn texture;\r\n\r\n};\r\n\r\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\r\n\r\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\r\n\r\n\tconst loader = new CubeTextureLoader();\r\n\tloader.setCrossOrigin( this.crossOrigin );\r\n\r\n\tconst texture = loader.load( urls, onLoad, undefined, onError );\r\n\r\n\tif ( mapping ) texture.mapping = mapping;\r\n\r\n\treturn texture;\r\n\r\n};\r\n\r\nImageUtils.loadCompressedTexture = function () {\r\n\r\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\r\n\r\n};\r\n\r\nImageUtils.loadCompressedTextureCube = function () {\r\n\r\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\r\n\r\n};\r\n\r\n//\r\n\r\nfunction CanvasRenderer() {\r\n\r\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\r\n\r\n}\r\n\r\n//\r\n\r\nfunction JSONLoader() {\r\n\r\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\r\n\r\n}\r\n\r\n//\r\n\r\nconst SceneUtils = {\r\n\r\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\r\n\r\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\r\n\r\n\t},\r\n\r\n\tdetach: function ( /* child, parent, scene */ ) {\r\n\r\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\r\n\r\n\t},\r\n\r\n\tattach: function ( /* child, scene, parent */ ) {\r\n\r\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\r\n\r\n\t}\r\n\r\n};\r\n\r\n//\r\n\r\nfunction LensFlare() {\r\n\r\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js' );\r\n\r\n}\r\n\r\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\r\n\r\n\t/* eslint-disable no-undef */\r\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\r\n\t\trevision: REVISION,\r\n\t} } ) );\r\n\t/* eslint-enable no-undef */\r\n\r\n}\r\n\r\nif ( typeof window !== 'undefined' ) {\r\n\r\n\tif ( window.__THREE__ ) {\r\n\r\n\t\tconsole.warn( 'WARNING: Multiple instances of Three.js being imported.' );\r\n\r\n\t} else {\r\n\r\n\t\twindow.__THREE__ = REVISION;\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveAnimationBlendMode, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxGeometry as BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleGeometry as CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeGeometry as ConeBufferGeometry, ConeGeometry, CubeCamera, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CustomToneMapping, CylinderGeometry as CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DataUtils, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DiscreteInterpolant, DodecahedronGeometry as DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeGeometry as ExtrudeBufferGeometry, ExtrudeGeometry, FaceColors, FileLoader, FlatShading, Float16BufferAttribute, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontSide, Frustum, GLBufferAttribute, GLSL1, GLSL3, GammaEncoding, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronGeometry as IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, JSONLoader, KeepStencilOp, KeyframeTrack, LOD, LatheGeometry as LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils as Math, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColors, NoToneMapping, NormalAnimationBlendMode, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronGeometry as OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricGeometry as ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneGeometry as PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronGeometry as PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBIntegerFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingGeometry as RingBufferGeometry, RingGeometry, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeGeometry as ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereGeometry as SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SplineCurve, SpotLight, SpotLightHelper, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronGeometry as TetrahedronBufferGeometry, TetrahedronGeometry, TextGeometry as TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusGeometry as TorusBufferGeometry, TorusGeometry, TorusKnotGeometry as TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeGeometry as TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VideoTexture, WebGL1Renderer, WebGLCubeRenderTarget, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, sRGBEncoding };\r\n","'use strict';\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  module.exports = require('./cjs/react.production.min.js');\r\n} else {\r\n  module.exports = require('./cjs/react.development.js');\r\n}\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./CanvasUtils\"), exports);\r\n__exportStar(require(\"./Circle\"), exports);\r\n__exportStar(require(\"./CircleWarp\"), exports);\r\n__exportStar(require(\"./ColorUtils\"), exports);\r\n__exportStar(require(\"./Constants\"), exports);\r\n__exportStar(require(\"./EventListeners\"), exports);\r\n__exportStar(require(\"./NumberUtils\"), exports);\r\n__exportStar(require(\"./Plugins\"), exports);\r\n__exportStar(require(\"./Point\"), exports);\r\n__exportStar(require(\"./QuadTree\"), exports);\r\n__exportStar(require(\"./Range\"), exports);\r\n__exportStar(require(\"./Rectangle\"), exports);\r\n__exportStar(require(\"./Utils\"), exports);\r\n","export default function _defineProperty(obj, key, value) {\r\n  if (key in obj) {\r\n    Object.defineProperty(obj, key, {\r\n      value: value,\r\n      enumerable: true,\r\n      configurable: true,\r\n      writable: true\r\n    });\r\n  } else {\r\n    obj[key] = value;\r\n  }\r\n\r\n  return obj;\r\n}","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\r\n\r\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\r\n  var it;\r\n\r\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\r\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\r\n      if (it) o = it;\r\n      var i = 0;\r\n\r\n      var F = function F() {};\r\n\r\n      return {\r\n        s: F,\r\n        n: function n() {\r\n          if (i >= o.length) return {\r\n            done: true\r\n          };\r\n          return {\r\n            done: false,\r\n            value: o[i++]\r\n          };\r\n        },\r\n        e: function e(_e) {\r\n          throw _e;\r\n        },\r\n        f: F\r\n      };\r\n    }\r\n\r\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n  }\r\n\r\n  var normalCompletion = true,\r\n      didErr = false,\r\n      err;\r\n  return {\r\n    s: function s() {\r\n      it = o[Symbol.iterator]();\r\n    },\r\n    n: function n() {\r\n      var step = it.next();\r\n      normalCompletion = step.done;\r\n      return step;\r\n    },\r\n    e: function e(_e2) {\r\n      didErr = true;\r\n      err = _e2;\r\n    },\r\n    f: function f() {\r\n      try {\r\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\r\n      } finally {\r\n        if (didErr) throw err;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nmodule.exports = _createForOfIteratorHelper;","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./Directions\"), exports);\r\n__exportStar(require(\"./Modes\"), exports);\r\n__exportStar(require(\"./AnimationStatus\"), exports);\r\n__exportStar(require(\"./Types\"), exports);\r\n__exportStar(require(\"./InteractivityDetect\"), exports);\r\n","var setPrototypeOf = require(\"./setPrototypeOf\");\r\n\r\nfunction _inherits(subClass, superClass) {\r\n  if (typeof superClass !== \"function\" && superClass !== null) {\r\n    throw new TypeError(\"Super expression must either be null or a function\");\r\n  }\r\n\r\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n    constructor: {\r\n      value: subClass,\r\n      writable: true,\r\n      configurable: true\r\n    }\r\n  });\r\n  if (superClass) setPrototypeOf(subClass, superClass);\r\n}\r\n\r\nmodule.exports = _inherits;","var getPrototypeOf = require(\"./getPrototypeOf\");\r\n\r\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\r\n\r\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn\");\r\n\r\nfunction _createSuper(Derived) {\r\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\r\n  return function _createSuperInternal() {\r\n    var Super = getPrototypeOf(Derived),\r\n        result;\r\n\r\n    if (hasNativeReflectConstruct) {\r\n      var NewTarget = getPrototypeOf(this).constructor;\r\n      result = Reflect.construct(Super, arguments, NewTarget);\r\n    } else {\r\n      result = Super.apply(this, arguments);\r\n    }\r\n\r\n    return possibleConstructorReturn(this, result);\r\n  };\r\n}\r\n\r\nmodule.exports = _createSuper;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.OptionsColor = void 0;\r\nclass OptionsColor {\r\n    constructor() {\r\n        this.value = \"#fff\";\r\n    }\r\n    static create(source, data) {\r\n        const color = source !== null && source !== void 0 ? source : new OptionsColor();\r\n        if (data !== undefined) {\r\n            color.load(typeof data === \"string\" ? { value: data } : data);\r\n        }\r\n        return color;\r\n    }\r\n    load(data) {\r\n        if ((data === null || data === void 0 ? void 0 : data.value) === undefined) {\r\n            return;\r\n        }\r\n        this.value = data.value;\r\n    }\r\n}\r\nexports.OptionsColor = OptionsColor;\r\n","function _getPrototypeOf(o) {\r\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\r\n    return o.__proto__ || Object.getPrototypeOf(o);\r\n  };\r\n  return _getPrototypeOf(o);\r\n}\r\n\r\nmodule.exports = _getPrototypeOf;","var superPropBase = require(\"./superPropBase\");\r\n\r\nfunction _get(target, property, receiver) {\r\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\r\n    module.exports = _get = Reflect.get;\r\n  } else {\r\n    module.exports = _get = function _get(target, property, receiver) {\r\n      var base = superPropBase(target, property);\r\n      if (!base) return;\r\n      var desc = Object.getOwnPropertyDescriptor(base, property);\r\n\r\n      if (desc.get) {\r\n        return desc.get.call(receiver);\r\n      }\r\n\r\n      return desc.value;\r\n    };\r\n  }\r\n\r\n  return _get(target, property, receiver || target);\r\n}\r\n\r\nmodule.exports = _get;","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\r\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\r\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\r\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\r\nexport default function _slicedToArray(arr, i) {\r\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\r\n}","export default function _iterableToArrayLimit(arr, i) {\r\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\r\n  var _arr = [];\r\n  var _n = true;\r\n  var _d = false;\r\n  var _e = undefined;\r\n\r\n  try {\r\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\r\n      _arr.push(_s.value);\r\n\r\n      if (i && _arr.length === i) break;\r\n    }\r\n  } catch (err) {\r\n    _d = true;\r\n    _e = err;\r\n  } finally {\r\n    try {\r\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\r\n    } finally {\r\n      if (_d) throw _e;\r\n    }\r\n  }\r\n\r\n  return _arr;\r\n}","module.exports = require(\"regenerator-runtime\");\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ValueWithRandom = void 0;\r\nconst Random_1 = require(\"./Random\");\r\nconst Utils_1 = require(\"../../Utils\");\r\nclass ValueWithRandom {\r\n    constructor() {\r\n        this.random = new Random_1.Random();\r\n        this.value = 0;\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (typeof data.random === \"boolean\") {\r\n            this.random.enable = data.random;\r\n        }\r\n        else {\r\n            this.random.load(data.random);\r\n        }\r\n        if (data.value !== undefined) {\r\n            this.value = Utils_1.NumberUtils.setRangeValue(data.value, this.random.enable ? this.random.minimumValue : undefined);\r\n        }\r\n    }\r\n}\r\nexports.ValueWithRandom = ValueWithRandom;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./InlineArrangement\"), exports);\r\n__exportStar(require(\"./MoveType\"), exports);\r\n__exportStar(require(\"./Type\"), exports);\r\n","export default function _assertThisInitialized(self) {\r\n  if (self === void 0) {\r\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\r\n  }\r\n\r\n  return self;\r\n}","var freeGlobal = require('./_freeGlobal');\r\n\r\n/** Detect free variable `self`. */\r\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\r\n\r\n/** Used as a reference to the global object. */\r\nvar root = freeGlobal || freeSelf || Function('return this')();\r\n\r\nmodule.exports = root;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./ClickMode\"), exports);\r\n__exportStar(require(\"./DestroyMode\"), exports);\r\n__exportStar(require(\"./DivMode\"), exports);\r\n__exportStar(require(\"./HoverMode\"), exports);\r\n__exportStar(require(\"./CollisionMode\"), exports);\r\n__exportStar(require(\"./OutMode\"), exports);\r\n__exportStar(require(\"./SizeMode\"), exports);\r\n__exportStar(require(\"./ThemeMode\"), exports);\r\n","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\r\nexport default function _unsupportedIterableToArray(o, minLen) {\r\n  if (!o) return;\r\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\r\n  var n = Object.prototype.toString.call(o).slice(8, -1);\r\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\r\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\r\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\r\n}","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Vector = void 0;\r\nclass Vector {\r\n    constructor(x, y) {\r\n        let defX, defY;\r\n        if (y === undefined) {\r\n            if (typeof x === \"number\") {\r\n                throw new Error(\"tsParticles - Vector not initialized correctly\");\r\n            }\r\n            const coords = x;\r\n            [defX, defY] = [coords.x, coords.y];\r\n        }\r\n        else {\r\n            [defX, defY] = [x, y];\r\n        }\r\n        this.x = defX;\r\n        this.y = defY;\r\n    }\r\n    static clone(source) {\r\n        return Vector.create(source.x, source.y);\r\n    }\r\n    static create(x, y) {\r\n        return new Vector(x, y);\r\n    }\r\n    get angle() {\r\n        return Math.atan2(this.y, this.x);\r\n    }\r\n    set angle(angle) {\r\n        this.updateFromAngle(angle, this.length);\r\n    }\r\n    get length() {\r\n        return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\r\n    }\r\n    set length(length) {\r\n        this.updateFromAngle(this.angle, length);\r\n    }\r\n    add(v) {\r\n        return Vector.create(this.x + v.x, this.y + v.y);\r\n    }\r\n    addTo(v) {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n    }\r\n    sub(v) {\r\n        return Vector.create(this.x - v.x, this.y - v.y);\r\n    }\r\n    subFrom(v) {\r\n        this.x -= v.x;\r\n        this.y -= v.y;\r\n    }\r\n    mult(n) {\r\n        return Vector.create(this.x * n, this.y * n);\r\n    }\r\n    multTo(n) {\r\n        this.x *= n;\r\n        this.y *= n;\r\n    }\r\n    div(n) {\r\n        return Vector.create(this.x / n, this.y / n);\r\n    }\r\n    divTo(n) {\r\n        this.x /= n;\r\n        this.y /= n;\r\n    }\r\n    distanceTo(v) {\r\n        return this.sub(v).length;\r\n    }\r\n    getLengthSq() {\r\n        return Math.pow(this.x, 2) + Math.pow(this.y, 2);\r\n    }\r\n    distanceToSq(v) {\r\n        return this.sub(v).getLengthSq();\r\n    }\r\n    manhattanDistanceTo(v) {\r\n        return Math.abs(v.x - this.x) + Math.abs(v.y - this.y);\r\n    }\r\n    copy() {\r\n        return Vector.clone(this);\r\n    }\r\n    setTo(velocity) {\r\n        this.x = velocity.x;\r\n        this.y = velocity.y;\r\n    }\r\n    rotate(angle) {\r\n        return Vector.create(this.x * Math.cos(angle) - this.y * Math.sin(angle), this.x * Math.sin(angle) + this.y * Math.cos(angle));\r\n    }\r\n    updateFromAngle(angle, length) {\r\n        this.x = Math.cos(angle) * length;\r\n        this.y = Math.sin(angle) * length;\r\n    }\r\n}\r\nexports.Vector = Vector;\r\nVector.origin = Vector.create(0, 0);\r\n","var arrayWithHoles = require(\"./arrayWithHoles\");\r\n\r\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\r\n\r\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\r\n\r\nvar nonIterableRest = require(\"./nonIterableRest\");\r\n\r\nfunction _slicedToArray(arr, i) {\r\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\r\n}\r\n\r\nmodule.exports = _slicedToArray;","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\r\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\r\n  var it;\r\n\r\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\r\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\r\n      if (it) o = it;\r\n      var i = 0;\r\n\r\n      var F = function F() {};\r\n\r\n      return {\r\n        s: F,\r\n        n: function n() {\r\n          if (i >= o.length) return {\r\n            done: true\r\n          };\r\n          return {\r\n            done: false,\r\n            value: o[i++]\r\n          };\r\n        },\r\n        e: function e(_e) {\r\n          throw _e;\r\n        },\r\n        f: F\r\n      };\r\n    }\r\n\r\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n  }\r\n\r\n  var normalCompletion = true,\r\n      didErr = false,\r\n      err;\r\n  return {\r\n    s: function s() {\r\n      it = o[Symbol.iterator]();\r\n    },\r\n    n: function n() {\r\n      var step = it.next();\r\n      normalCompletion = step.done;\r\n      return step;\r\n    },\r\n    e: function e(_e2) {\r\n      didErr = true;\r\n      err = _e2;\r\n    },\r\n    f: function f() {\r\n      try {\r\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\r\n      } finally {\r\n        if (didErr) throw err;\r\n      }\r\n    }\r\n  };\r\n}","export default function _typeof(obj) {\r\n  \"@babel/helpers - typeof\";\r\n\r\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\r\n    _typeof = function _typeof(obj) {\r\n      return typeof obj;\r\n    };\r\n  } else {\r\n    _typeof = function _typeof(obj) {\r\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n    };\r\n  }\r\n\r\n  return _typeof(obj);\r\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\r\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nexport default function _possibleConstructorReturn(self, call) {\r\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\r\n    return call;\r\n  }\r\n\r\n  return assertThisInitialized(self);\r\n}","var baseIsNative = require('./_baseIsNative'),\r\n    getValue = require('./_getValue');\r\n\r\n/**\r\n * Gets the native function at `key` of `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @param {string} key The key of the method to get.\r\n * @returns {*} Returns the function if it's native, else `undefined`.\r\n */\r\nfunction getNative(object, key) {\r\n  var value = getValue(object, key);\r\n  return baseIsNative(value) ? value : undefined;\r\n}\r\n\r\nmodule.exports = getNative;\r\n","'use strict';\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  module.exports = require('./cjs/scheduler.production.min.js');\r\n} else {\r\n  module.exports = require('./cjs/scheduler.development.js');\r\n}\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./DestroyType\"), exports);\r\n__exportStar(require(\"./ProcessBubbleType\"), exports);\r\n__exportStar(require(\"./ShapeType\"), exports);\r\n__exportStar(require(\"./StartValueType\"), exports);\r\n__exportStar(require(\"./DivType\"), exports);\r\n","export default function _arrayLikeToArray(arr, len) {\r\n  if (len == null || len > arr.length) len = arr.length;\r\n\r\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n  }\r\n\r\n  return arr2;\r\n}","'use strict';\r\n\r\n// do not edit .js files directly - edit src/index.jst\r\n\r\n\r\n\r\nmodule.exports = function equal(a, b) {\r\n  if (a === b) return true;\r\n\r\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\r\n    if (a.constructor !== b.constructor) return false;\r\n\r\n    var length, i, keys;\r\n    if (Array.isArray(a)) {\r\n      length = a.length;\r\n      if (length != b.length) return false;\r\n      for (i = length; i-- !== 0;)\r\n        if (!equal(a[i], b[i])) return false;\r\n      return true;\r\n    }\r\n\r\n\r\n\r\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\r\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\r\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\r\n\r\n    keys = Object.keys(a);\r\n    length = keys.length;\r\n    if (length !== Object.keys(b).length) return false;\r\n\r\n    for (i = length; i-- !== 0;)\r\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\r\n\r\n    for (i = length; i-- !== 0;) {\r\n      var key = keys[i];\r\n\r\n      if (!equal(a[key], b[key])) return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  // true if both NaN, false otherwise\r\n  return a!==a && b!==b;\r\n};\r\n","/*\r\nobject-assign\r\n(c) Sindre Sorhus\r\n@license MIT\r\n*/\r\n\r\n'use strict';\r\n/* eslint-disable no-unused-vars */\r\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\r\n\r\nfunction toObject(val) {\r\n\tif (val === null || val === undefined) {\r\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\r\n\t}\r\n\r\n\treturn Object(val);\r\n}\r\n\r\nfunction shouldUseNative() {\r\n\ttry {\r\n\t\tif (!Object.assign) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Detect buggy property enumeration order in older V8 versions.\r\n\r\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\r\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\r\n\t\ttest1[5] = 'de';\r\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\r\n\t\tvar test2 = {};\r\n\t\tfor (var i = 0; i < 10; i++) {\r\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\r\n\t\t}\r\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\r\n\t\t\treturn test2[n];\r\n\t\t});\r\n\t\tif (order2.join('') !== '0123456789') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\r\n\t\tvar test3 = {};\r\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\r\n\t\t\ttest3[letter] = letter;\r\n\t\t});\r\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\r\n\t\t\t\t'abcdefghijklmnopqrst') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\t// We don't expect any of the above to throw, but better to be safe.\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\r\n\tvar from;\r\n\tvar to = toObject(target);\r\n\tvar symbols;\r\n\r\n\tfor (var s = 1; s < arguments.length; s++) {\r\n\t\tfrom = Object(arguments[s]);\r\n\r\n\t\tfor (var key in from) {\r\n\t\t\tif (hasOwnProperty.call(from, key)) {\r\n\t\t\t\tto[key] = from[key];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (getOwnPropertySymbols) {\r\n\t\t\tsymbols = getOwnPropertySymbols(from);\r\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\r\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\r\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn to;\r\n};\r\n","var listCacheClear = require('./_listCacheClear'),\r\n    listCacheDelete = require('./_listCacheDelete'),\r\n    listCacheGet = require('./_listCacheGet'),\r\n    listCacheHas = require('./_listCacheHas'),\r\n    listCacheSet = require('./_listCacheSet');\r\n\r\n/**\r\n * Creates an list cache object.\r\n *\r\n * @private\r\n * @constructor\r\n * @param {Array} [entries] The key-value pairs to cache.\r\n */\r\nfunction ListCache(entries) {\r\n  var index = -1,\r\n      length = entries == null ? 0 : entries.length;\r\n\r\n  this.clear();\r\n  while (++index < length) {\r\n    var entry = entries[index];\r\n    this.set(entry[0], entry[1]);\r\n  }\r\n}\r\n\r\n// Add methods to `ListCache`.\r\nListCache.prototype.clear = listCacheClear;\r\nListCache.prototype['delete'] = listCacheDelete;\r\nListCache.prototype.get = listCacheGet;\r\nListCache.prototype.has = listCacheHas;\r\nListCache.prototype.set = listCacheSet;\r\n\r\nmodule.exports = ListCache;\r\n","var eq = require('./eq');\r\n\r\n/**\r\n * Gets the index at which the `key` is found in `array` of key-value pairs.\r\n *\r\n * @private\r\n * @param {Array} array The array to inspect.\r\n * @param {*} key The key to search for.\r\n * @returns {number} Returns the index of the matched value, else `-1`.\r\n */\r\nfunction assocIndexOf(array, key) {\r\n  var length = array.length;\r\n  while (length--) {\r\n    if (eq(array[length][0], key)) {\r\n      return length;\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nmodule.exports = assocIndexOf;\r\n","var Symbol = require('./_Symbol'),\r\n    getRawTag = require('./_getRawTag'),\r\n    objectToString = require('./_objectToString');\r\n\r\n/** `Object#toString` result references. */\r\nvar nullTag = '[object Null]',\r\n    undefinedTag = '[object Undefined]';\r\n\r\n/** Built-in value references. */\r\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\r\n\r\n/**\r\n * The base implementation of `getTag` without fallbacks for buggy environments.\r\n *\r\n * @private\r\n * @param {*} value The value to query.\r\n * @returns {string} Returns the `toStringTag`.\r\n */\r\nfunction baseGetTag(value) {\r\n  if (value == null) {\r\n    return value === undefined ? undefinedTag : nullTag;\r\n  }\r\n  return (symToStringTag && symToStringTag in Object(value))\r\n    ? getRawTag(value)\r\n    : objectToString(value);\r\n}\r\n\r\nmodule.exports = baseGetTag;\r\n","var getNative = require('./_getNative');\r\n\r\n/* Built-in method references that are verified to be native. */\r\nvar nativeCreate = getNative(Object, 'create');\r\n\r\nmodule.exports = nativeCreate;\r\n","var isKeyable = require('./_isKeyable');\r\n\r\n/**\r\n * Gets the data for `map`.\r\n *\r\n * @private\r\n * @param {Object} map The map to query.\r\n * @param {string} key The reference key.\r\n * @returns {*} Returns the map data.\r\n */\r\nfunction getMapData(map, key) {\r\n  var data = map.__data__;\r\n  return isKeyable(key)\r\n    ? data[typeof key == 'string' ? 'string' : 'hash']\r\n    : data.map;\r\n}\r\n\r\nmodule.exports = getMapData;\r\n","/**\r\n * Checks if `value` is object-like. A value is object-like if it's not `null`\r\n * and has a `typeof` result of \"object\".\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\r\n * @example\r\n *\r\n * _.isObjectLike({});\r\n * // => true\r\n *\r\n * _.isObjectLike([1, 2, 3]);\r\n * // => true\r\n *\r\n * _.isObjectLike(_.noop);\r\n * // => false\r\n *\r\n * _.isObjectLike(null);\r\n * // => false\r\n */\r\nfunction isObjectLike(value) {\r\n  return value != null && typeof value == 'object';\r\n}\r\n\r\nmodule.exports = isObjectLike;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./MoveDirection\"), exports);\r\n__exportStar(require(\"./RotateDirection\"), exports);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumberUtils = void 0;\r\nconst Directions_1 = require(\"../Enums/Directions\");\r\nconst Vector_1 = require(\"../Core/Particle/Vector\");\r\nclass NumberUtils {\r\n    static clamp(num, min, max) {\r\n        return Math.min(Math.max(num, min), max);\r\n    }\r\n    static mix(comp1, comp2, weight1, weight2) {\r\n        return Math.floor((comp1 * weight1 + comp2 * weight2) / (weight1 + weight2));\r\n    }\r\n    static randomInRange(r) {\r\n        const max = NumberUtils.getRangeMax(r);\r\n        let min = NumberUtils.getRangeMin(r);\r\n        if (max === min) {\r\n            min = 0;\r\n        }\r\n        return Math.random() * (max - min) + min;\r\n    }\r\n    static getRangeValue(value) {\r\n        return typeof value === \"number\" ? value : NumberUtils.randomInRange(value);\r\n    }\r\n    static getRangeMin(value) {\r\n        return typeof value === \"number\" ? value : value.min;\r\n    }\r\n    static getRangeMax(value) {\r\n        return typeof value === \"number\" ? value : value.max;\r\n    }\r\n    static setRangeValue(source, value) {\r\n        if (source === value || (value === undefined && typeof source === \"number\")) {\r\n            return source;\r\n        }\r\n        const min = NumberUtils.getRangeMin(source), max = NumberUtils.getRangeMax(source);\r\n        return value !== undefined\r\n            ? {\r\n                min: Math.min(min, value),\r\n                max: Math.max(max, value),\r\n            }\r\n            : NumberUtils.setRangeValue(min, max);\r\n    }\r\n    static getValue(options) {\r\n        const random = options.random;\r\n        const { enable, minimumValue } = typeof random === \"boolean\" ? { enable: random, minimumValue: 0 } : random;\r\n        return enable\r\n            ? NumberUtils.getRangeValue(NumberUtils.setRangeValue(options.value, minimumValue))\r\n            : NumberUtils.getRangeValue(options.value);\r\n    }\r\n    static getDistances(pointA, pointB) {\r\n        const dx = pointA.x - pointB.x;\r\n        const dy = pointA.y - pointB.y;\r\n        return { dx: dx, dy: dy, distance: Math.sqrt(dx * dx + dy * dy) };\r\n    }\r\n    static getDistance(pointA, pointB) {\r\n        return NumberUtils.getDistances(pointA, pointB).distance;\r\n    }\r\n    static getParticleBaseVelocity(direction) {\r\n        const baseVelocity = Vector_1.Vector.origin;\r\n        baseVelocity.length = 1;\r\n        switch (direction) {\r\n            case Directions_1.MoveDirection.top:\r\n                baseVelocity.angle = -Math.PI / 2;\r\n                break;\r\n            case Directions_1.MoveDirection.topRight:\r\n                baseVelocity.angle = -Math.PI / 4;\r\n                break;\r\n            case Directions_1.MoveDirection.right:\r\n                baseVelocity.angle = 0;\r\n                break;\r\n            case Directions_1.MoveDirection.bottomRight:\r\n                baseVelocity.angle = Math.PI / 4;\r\n                break;\r\n            case Directions_1.MoveDirection.bottom:\r\n                baseVelocity.angle = Math.PI / 2;\r\n                break;\r\n            case Directions_1.MoveDirection.bottomLeft:\r\n                baseVelocity.angle = (3 * Math.PI) / 4;\r\n                break;\r\n            case Directions_1.MoveDirection.left:\r\n                baseVelocity.angle = Math.PI;\r\n                break;\r\n            case Directions_1.MoveDirection.topLeft:\r\n                baseVelocity.angle = (-3 * Math.PI) / 4;\r\n                break;\r\n            case Directions_1.MoveDirection.none:\r\n            default:\r\n                baseVelocity.angle = Math.random() * Math.PI * 2;\r\n                break;\r\n        }\r\n        return baseVelocity;\r\n    }\r\n    static rotateVelocity(velocity, angle) {\r\n        return {\r\n            horizontal: velocity.horizontal * Math.cos(angle) - velocity.vertical * Math.sin(angle),\r\n            vertical: velocity.horizontal * Math.sin(angle) + velocity.vertical * Math.cos(angle),\r\n        };\r\n    }\r\n    static collisionVelocity(v1, v2, m1, m2) {\r\n        return Vector_1.Vector.create((v1.x * (m1 - m2)) / (m1 + m2) + (v2.x * 2 * m2) / (m1 + m2), v1.y);\r\n    }\r\n}\r\nexports.NumberUtils = NumberUtils;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./AbsorberClickMode\"), exports);\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./EmitterClickMode\"), exports);\r\n","export default function _setPrototypeOf(o, p) {\r\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\r\n    o.__proto__ = p;\r\n    return o;\r\n  };\r\n\r\n  return _setPrototypeOf(o, p);\r\n}","export default function _isNativeReflectConstruct() {\r\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\r\n  if (Reflect.construct.sham) return false;\r\n  if (typeof Proxy === \"function\") return true;\r\n\r\n  try {\r\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}","export default function _arrayWithHoles(arr) {\r\n  if (Array.isArray(arr)) return arr;\r\n}","export default function _nonIterableRest() {\r\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n}","module.exports = function(module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n","var getNative = require('./_getNative'),\r\n    root = require('./_root');\r\n\r\n/* Built-in method references that are verified to be native. */\r\nvar Map = getNative(root, 'Map');\r\n\r\nmodule.exports = Map;\r\n","var root = require('./_root');\r\n\r\n/** Built-in value references. */\r\nvar Symbol = root.Symbol;\r\n\r\nmodule.exports = Symbol;\r\n","/**\r\n * Checks if `value` is classified as an `Array` object.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\r\n * @example\r\n *\r\n * _.isArray([1, 2, 3]);\r\n * // => true\r\n *\r\n * _.isArray(document.body.children);\r\n * // => false\r\n *\r\n * _.isArray('abc');\r\n * // => false\r\n *\r\n * _.isArray(_.noop);\r\n * // => false\r\n */\r\nvar isArray = Array.isArray;\r\n\r\nmodule.exports = isArray;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Constants = void 0;\r\nclass Constants {\r\n}\r\nexports.Constants = Constants;\r\nConstants.canvasClass = \"tsparticles-canvas-el\";\r\nConstants.randomColorValue = \"random\";\r\nConstants.midColorValue = \"mid\";\r\nConstants.touchEndEvent = \"touchend\";\r\nConstants.mouseDownEvent = \"mousedown\";\r\nConstants.mouseUpEvent = \"mouseup\";\r\nConstants.mouseMoveEvent = \"mousemove\";\r\nConstants.touchStartEvent = \"touchstart\";\r\nConstants.touchMoveEvent = \"touchmove\";\r\nConstants.mouseLeaveEvent = \"mouseleave\";\r\nConstants.mouseOutEvent = \"mouseout\";\r\nConstants.touchCancelEvent = \"touchcancel\";\r\nConstants.resizeEvent = \"resize\";\r\nConstants.visibilityChangeEvent = \"visibilitychange\";\r\nConstants.noPolygonDataLoaded = \"No polygon data loaded.\";\r\nConstants.noPolygonFound = \"No polygon found, you need to specify SVG url in config.\";\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Circle = void 0;\r\nconst Range_1 = require(\"./Range\");\r\nclass Circle extends Range_1.Range {\r\n    constructor(x, y, radius) {\r\n        super(x, y);\r\n        this.radius = radius;\r\n    }\r\n    contains(point) {\r\n        const d = Math.pow(point.x - this.position.x, 2) + Math.pow(point.y - this.position.y, 2);\r\n        return d <= this.radius * this.radius;\r\n    }\r\n    intersects(range) {\r\n        const rect = range;\r\n        const circle = range;\r\n        const pos1 = this.position;\r\n        const pos2 = range.position;\r\n        const xDist = Math.abs(pos2.x - pos1.x);\r\n        const yDist = Math.abs(pos2.y - pos1.y);\r\n        const r = this.radius;\r\n        if (circle.radius !== undefined) {\r\n            const rSum = r + circle.radius;\r\n            const dist = Math.sqrt(xDist * xDist + yDist + yDist);\r\n            return rSum > dist;\r\n        }\r\n        else if (rect.size !== undefined) {\r\n            const w = rect.size.width;\r\n            const h = rect.size.height;\r\n            const edges = Math.pow(xDist - w, 2) + Math.pow(yDist - h, 2);\r\n            if (xDist > r + w || yDist > r + h) {\r\n                return false;\r\n            }\r\n            if (xDist <= w || yDist <= h) {\r\n                return true;\r\n            }\r\n            return edges <= r * r;\r\n        }\r\n        return false;\r\n    }\r\n}\r\nexports.Circle = Circle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Range = void 0;\r\nclass Range {\r\n    constructor(x, y) {\r\n        this.position = {\r\n            x: x,\r\n            y: y,\r\n        };\r\n    }\r\n}\r\nexports.Range = Range;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Rectangle = void 0;\r\nconst Range_1 = require(\"./Range\");\r\nclass Rectangle extends Range_1.Range {\r\n    constructor(x, y, width, height) {\r\n        super(x, y);\r\n        this.size = {\r\n            height: height,\r\n            width: width,\r\n        };\r\n    }\r\n    contains(point) {\r\n        const w = this.size.width;\r\n        const h = this.size.height;\r\n        const pos = this.position;\r\n        return point.x >= pos.x && point.x <= pos.x + w && point.y >= pos.y && point.y <= pos.y + h;\r\n    }\r\n    intersects(range) {\r\n        const rect = range;\r\n        const circle = range;\r\n        const w = this.size.width;\r\n        const h = this.size.height;\r\n        const pos1 = this.position;\r\n        const pos2 = range.position;\r\n        if (circle.radius !== undefined) {\r\n            return circle.intersects(this);\r\n        }\r\n        else if (rect.size !== undefined) {\r\n            const size2 = rect.size;\r\n            const w2 = size2.width;\r\n            const h2 = size2.height;\r\n            return pos2.x < pos1.x + w && pos2.x + w2 > pos1.x && pos2.y < pos1.y + h && pos2.y + h2 > pos1.y;\r\n        }\r\n        return false;\r\n    }\r\n}\r\nexports.Rectangle = Rectangle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ParticlesOptions = void 0;\r\nconst Links_1 = require(\"./Links/Links\");\r\nconst Move_1 = require(\"./Move/Move\");\r\nconst ParticlesNumber_1 = require(\"./Number/ParticlesNumber\");\r\nconst Opacity_1 = require(\"./Opacity/Opacity\");\r\nconst Shape_1 = require(\"./Shape/Shape\");\r\nconst Size_1 = require(\"./Size/Size\");\r\nconst Rotate_1 = require(\"./Rotate/Rotate\");\r\nconst Shadow_1 = require(\"./Shadow\");\r\nconst Stroke_1 = require(\"./Stroke\");\r\nconst Collisions_1 = require(\"./Collisions/Collisions\");\r\nconst Twinkle_1 = require(\"./Twinkle/Twinkle\");\r\nconst AnimatableColor_1 = require(\"./AnimatableColor\");\r\nconst Life_1 = require(\"./Life/Life\");\r\nconst Bounce_1 = require(\"./Bounce/Bounce\");\r\nconst Destroy_1 = require(\"./Destroy/Destroy\");\r\nclass ParticlesOptions {\r\n    constructor() {\r\n        this.bounce = new Bounce_1.Bounce();\r\n        this.collisions = new Collisions_1.Collisions();\r\n        this.color = new AnimatableColor_1.AnimatableColor();\r\n        this.destroy = new Destroy_1.Destroy();\r\n        this.life = new Life_1.Life();\r\n        this.links = new Links_1.Links();\r\n        this.move = new Move_1.Move();\r\n        this.number = new ParticlesNumber_1.ParticlesNumber();\r\n        this.opacity = new Opacity_1.Opacity();\r\n        this.reduceDuplicates = false;\r\n        this.rotate = new Rotate_1.Rotate();\r\n        this.shadow = new Shadow_1.Shadow();\r\n        this.shape = new Shape_1.Shape();\r\n        this.size = new Size_1.Size();\r\n        this.stroke = new Stroke_1.Stroke();\r\n        this.twinkle = new Twinkle_1.Twinkle();\r\n    }\r\n    get line_linked() {\r\n        return this.links;\r\n    }\r\n    set line_linked(value) {\r\n        this.links = value;\r\n    }\r\n    get lineLinked() {\r\n        return this.links;\r\n    }\r\n    set lineLinked(value) {\r\n        this.links = value;\r\n    }\r\n    load(data) {\r\n        var _a, _b, _c, _d, _e, _f, _g;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        this.bounce.load(data.bounce);\r\n        this.color = AnimatableColor_1.AnimatableColor.create(this.color, data.color);\r\n        this.destroy.load(data.destroy);\r\n        this.life.load(data.life);\r\n        const links = (_b = (_a = data.links) !== null && _a !== void 0 ? _a : data.lineLinked) !== null && _b !== void 0 ? _b : data.line_linked;\r\n        if (links !== undefined) {\r\n            this.links.load(links);\r\n        }\r\n        this.move.load(data.move);\r\n        this.number.load(data.number);\r\n        this.opacity.load(data.opacity);\r\n        if (data.reduceDuplicates !== undefined) {\r\n            this.reduceDuplicates = data.reduceDuplicates;\r\n        }\r\n        this.rotate.load(data.rotate);\r\n        this.shape.load(data.shape);\r\n        this.size.load(data.size);\r\n        this.shadow.load(data.shadow);\r\n        this.twinkle.load(data.twinkle);\r\n        const collisions = (_d = (_c = data.move) === null || _c === void 0 ? void 0 : _c.collisions) !== null && _d !== void 0 ? _d : (_e = data.move) === null || _e === void 0 ? void 0 : _e.bounce;\r\n        if (collisions !== undefined) {\r\n            this.collisions.enable = collisions;\r\n        }\r\n        this.collisions.load(data.collisions);\r\n        const strokeToLoad = (_f = data.stroke) !== null && _f !== void 0 ? _f : (_g = data.shape) === null || _g === void 0 ? void 0 : _g.stroke;\r\n        if (strokeToLoad === undefined) {\r\n            return;\r\n        }\r\n        if (strokeToLoad instanceof Array) {\r\n            this.stroke = strokeToLoad.map((s) => {\r\n                const tmp = new Stroke_1.Stroke();\r\n                tmp.load(s);\r\n                return tmp;\r\n            });\r\n        }\r\n        else {\r\n            if (this.stroke instanceof Array) {\r\n                this.stroke = new Stroke_1.Stroke();\r\n            }\r\n            this.stroke.load(strokeToLoad);\r\n        }\r\n    }\r\n}\r\nexports.ParticlesOptions = ParticlesOptions;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AnimatableColor = void 0;\r\nconst OptionsColor_1 = require(\"../OptionsColor\");\r\nconst HslAnimation_1 = require(\"./HslAnimation\");\r\nclass AnimatableColor extends OptionsColor_1.OptionsColor {\r\n    constructor() {\r\n        super();\r\n        this.animation = new HslAnimation_1.HslAnimation();\r\n    }\r\n    static create(source, data) {\r\n        const color = source !== null && source !== void 0 ? source : new AnimatableColor();\r\n        if (data !== undefined) {\r\n            color.load(typeof data === \"string\" ? { value: data } : data);\r\n        }\r\n        return color;\r\n    }\r\n    load(data) {\r\n        super.load(data);\r\n        if (!data) {\r\n            return;\r\n        }\r\n        const colorAnimation = data.animation;\r\n        if (colorAnimation !== undefined) {\r\n            if (colorAnimation.enable !== undefined) {\r\n                this.animation.h.load(colorAnimation);\r\n            }\r\n            else {\r\n                this.animation.load(data.animation);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.AnimatableColor = AnimatableColor;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Container = void 0;\r\nconst Canvas_1 = require(\"./Canvas\");\r\nconst Particles_1 = require(\"./Particles\");\r\nconst Retina_1 = require(\"./Retina\");\r\nconst FrameManager_1 = require(\"./FrameManager\");\r\nconst Options_1 = require(\"../Options/Classes/Options\");\r\nconst Utils_1 = require(\"../Utils\");\r\nconst Vector_1 = require(\"./Particle/Vector\");\r\nclass Container {\r\n    constructor(id, sourceOptions, ...presets) {\r\n        this.id = id;\r\n        this.fpsLimit = 60;\r\n        this.firstStart = true;\r\n        this.started = false;\r\n        this.destroyed = false;\r\n        this.paused = true;\r\n        this.lastFrameTime = 0;\r\n        this.pageHidden = false;\r\n        this._sourceOptions = sourceOptions;\r\n        this.retina = new Retina_1.Retina(this);\r\n        this.canvas = new Canvas_1.Canvas(this);\r\n        this.particles = new Particles_1.Particles(this);\r\n        this.drawer = new FrameManager_1.FrameManager(this);\r\n        this.pathGenerator = {\r\n            generate: () => {\r\n                const v = Vector_1.Vector.create(0, 0);\r\n                v.length = Math.random();\r\n                v.angle = Math.random() * Math.PI * 2;\r\n                return v;\r\n            },\r\n            init: () => {\r\n            },\r\n            update: () => {\r\n            },\r\n        };\r\n        this.interactivity = {\r\n            mouse: {\r\n                clicking: false,\r\n                inside: false,\r\n            },\r\n        };\r\n        this.bubble = {};\r\n        this.repulse = { particles: [] };\r\n        this.attract = { particles: [] };\r\n        this.plugins = new Map();\r\n        this.drawers = new Map();\r\n        this.density = 1;\r\n        this._options = new Options_1.Options();\r\n        this.actualOptions = new Options_1.Options();\r\n        for (const preset of presets) {\r\n            this._options.load(Utils_1.Plugins.getPreset(preset));\r\n        }\r\n        const shapes = Utils_1.Plugins.getSupportedShapes();\r\n        for (const type of shapes) {\r\n            const drawer = Utils_1.Plugins.getShapeDrawer(type);\r\n            if (drawer) {\r\n                this.drawers.set(type, drawer);\r\n            }\r\n        }\r\n        if (this._options) {\r\n            this._options.load(this._sourceOptions);\r\n        }\r\n        this.eventListeners = new Utils_1.EventListeners(this);\r\n        if (typeof IntersectionObserver !== \"undefined\" && IntersectionObserver) {\r\n            this.intersectionObserver = new IntersectionObserver((entries) => this.intersectionManager(entries));\r\n        }\r\n    }\r\n    get options() {\r\n        return this._options;\r\n    }\r\n    get sourceOptions() {\r\n        return this._sourceOptions;\r\n    }\r\n    play(force) {\r\n        const needsUpdate = this.paused || force;\r\n        if (this.firstStart && !this.actualOptions.autoPlay) {\r\n            this.firstStart = false;\r\n            return;\r\n        }\r\n        if (this.paused) {\r\n            this.paused = false;\r\n        }\r\n        if (needsUpdate) {\r\n            for (const [, plugin] of this.plugins) {\r\n                if (plugin.play) {\r\n                    plugin.play();\r\n                }\r\n            }\r\n            this.lastFrameTime = performance.now();\r\n        }\r\n        this.draw();\r\n    }\r\n    pause() {\r\n        if (this.drawAnimationFrame !== undefined) {\r\n            Utils_1.Utils.cancelAnimation(this.drawAnimationFrame);\r\n            delete this.drawAnimationFrame;\r\n        }\r\n        if (this.paused) {\r\n            return;\r\n        }\r\n        for (const [, plugin] of this.plugins) {\r\n            if (plugin.pause) {\r\n                plugin.pause();\r\n            }\r\n        }\r\n        if (!this.pageHidden) {\r\n            this.paused = true;\r\n        }\r\n    }\r\n    draw() {\r\n        this.drawAnimationFrame = Utils_1.Utils.animate((timestamp) => this.drawer.nextFrame(timestamp));\r\n    }\r\n    getAnimationStatus() {\r\n        return !this.paused;\r\n    }\r\n    setNoise(noiseOrGenerator, init, update) {\r\n        this.setPath(noiseOrGenerator, init, update);\r\n    }\r\n    setPath(pathOrGenerator, init, update) {\r\n        if (!pathOrGenerator) {\r\n            return;\r\n        }\r\n        if (typeof pathOrGenerator === \"function\") {\r\n            this.pathGenerator.generate = pathOrGenerator;\r\n            if (init) {\r\n                this.pathGenerator.init = init;\r\n            }\r\n            if (update) {\r\n                this.pathGenerator.update = update;\r\n            }\r\n        }\r\n        else {\r\n            if (pathOrGenerator.generate) {\r\n                this.pathGenerator.generate = pathOrGenerator.generate;\r\n            }\r\n            if (pathOrGenerator.init) {\r\n                this.pathGenerator.init = pathOrGenerator.init;\r\n            }\r\n            if (pathOrGenerator.update) {\r\n                this.pathGenerator.update = pathOrGenerator.update;\r\n            }\r\n        }\r\n    }\r\n    destroy() {\r\n        this.stop();\r\n        this.canvas.destroy();\r\n        for (const [, drawer] of this.drawers) {\r\n            if (drawer.destroy) {\r\n                drawer.destroy(this);\r\n            }\r\n        }\r\n        for (const key of this.drawers.keys()) {\r\n            this.drawers.delete(key);\r\n        }\r\n        this.destroyed = true;\r\n    }\r\n    exportImg(callback) {\r\n        this.exportImage(callback);\r\n    }\r\n    exportImage(callback, type, quality) {\r\n        var _a;\r\n        return (_a = this.canvas.element) === null || _a === void 0 ? void 0 : _a.toBlob(callback, type !== null && type !== void 0 ? type : \"image/png\", quality);\r\n    }\r\n    exportConfiguration() {\r\n        return JSON.stringify(this.actualOptions, undefined, 2);\r\n    }\r\n    refresh() {\r\n        this.stop();\r\n        return this.start();\r\n    }\r\n    reset() {\r\n        this._options = new Options_1.Options();\r\n        return this.refresh();\r\n    }\r\n    stop() {\r\n        if (!this.started) {\r\n            return;\r\n        }\r\n        this.firstStart = true;\r\n        this.started = false;\r\n        this.eventListeners.removeListeners();\r\n        this.pause();\r\n        this.particles.clear();\r\n        this.canvas.clear();\r\n        if (this.interactivity.element instanceof HTMLElement && this.intersectionObserver) {\r\n            this.intersectionObserver.observe(this.interactivity.element);\r\n        }\r\n        for (const [, plugin] of this.plugins) {\r\n            if (plugin.stop) {\r\n                plugin.stop();\r\n            }\r\n        }\r\n        for (const key of this.plugins.keys()) {\r\n            this.plugins.delete(key);\r\n        }\r\n        this.particles.linksColors = new Map();\r\n        delete this.particles.grabLineColor;\r\n        delete this.particles.linksColor;\r\n    }\r\n    loadTheme(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.actualOptions.setTheme(name);\r\n            yield this.refresh();\r\n        });\r\n    }\r\n    start() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.started) {\r\n                return;\r\n            }\r\n            yield this.init();\r\n            this.started = true;\r\n            this.eventListeners.addListeners();\r\n            if (this.interactivity.element instanceof HTMLElement && this.intersectionObserver) {\r\n                this.intersectionObserver.observe(this.interactivity.element);\r\n            }\r\n            for (const [, plugin] of this.plugins) {\r\n                if (plugin.startAsync !== undefined) {\r\n                    yield plugin.startAsync();\r\n                }\r\n                else if (plugin.start !== undefined) {\r\n                    plugin.start();\r\n                }\r\n            }\r\n            this.play();\r\n        });\r\n    }\r\n    init() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.actualOptions = new Options_1.Options();\r\n            this.actualOptions.load(this._options);\r\n            this.retina.init();\r\n            this.canvas.init();\r\n            this.actualOptions.setResponsive(this.canvas.size.width, this.retina.pixelRatio, this._options);\r\n            this.actualOptions.setTheme(undefined);\r\n            this.fpsLimit = this.actualOptions.fpsLimit > 0 ? this.actualOptions.fpsLimit : 60;\r\n            const availablePlugins = Utils_1.Plugins.getAvailablePlugins(this);\r\n            for (const [id, plugin] of availablePlugins) {\r\n                this.plugins.set(id, plugin);\r\n            }\r\n            for (const [, drawer] of this.drawers) {\r\n                if (drawer.init) {\r\n                    yield drawer.init(this);\r\n                }\r\n            }\r\n            for (const [, plugin] of this.plugins) {\r\n                if (plugin.init) {\r\n                    plugin.init(this.actualOptions);\r\n                }\r\n                else if (plugin.initAsync !== undefined) {\r\n                    yield plugin.initAsync(this.actualOptions);\r\n                }\r\n            }\r\n            this.canvas.resize();\r\n            this.particles.init();\r\n            this.particles.setDensity();\r\n        });\r\n    }\r\n    intersectionManager(entries) {\r\n        if (!this.actualOptions.pauseOnOutsideViewport) {\r\n            return;\r\n        }\r\n        for (const entry of entries) {\r\n            if (entry.target !== this.interactivity.element) {\r\n                continue;\r\n            }\r\n            if (entry.isIntersecting) {\r\n                this.play();\r\n            }\r\n            else {\r\n                this.pause();\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Container = Container;\r\n","'use strict';\r\n\r\nfunction checkDCE() {\r\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\r\n  if (\r\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\r\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\r\n  ) {\r\n    return;\r\n  }\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    // This branch is unreachable because this function is only called\r\n    // in production, but the condition is true only in development.\r\n    // Therefore if the branch is still here, dead code elimination wasn't\r\n    // properly applied.\r\n    // Don't change the message. React DevTools relies on it. Also make sure\r\n    // this message doesn't occur elsewhere in this function, or it will cause\r\n    // a false positive.\r\n    throw new Error('^_^');\r\n  }\r\n  try {\r\n    // Verify that the code above has been dead code eliminated (DCE'd).\r\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\r\n  } catch (err) {\r\n    // DevTools shouldn't crash React, no matter what.\r\n    // We should still report in case we break this code.\r\n    console.error(err);\r\n  }\r\n}\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  // DCE check should happen before ReactDOM bundle executes so that\r\n  // DevTools can report bad minification during injection.\r\n  checkDCE();\r\n  module.exports = require('./cjs/react-dom.production.min.js');\r\n} else {\r\n  module.exports = require('./cjs/react-dom.development.js');\r\n}\r\n","/**\r\n * Returns a function, that, as long as it continues to be invoked, will not\r\n * be triggered. The function will be called after it stops being called for\r\n * N milliseconds. If `immediate` is passed, trigger the function on the\r\n * leading edge, instead of the trailing. The function also has a property 'clear' \r\n * that is a function which will clear the timer to prevent previously scheduled executions. \r\n *\r\n * @source underscore.js\r\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\r\n * @param {Function} function to wrap\r\n * @param {Number} timeout in ms (`100`)\r\n * @param {Boolean} whether to execute at the beginning (`false`)\r\n * @api public\r\n */\r\nfunction debounce(func, wait, immediate){\r\n  var timeout, args, context, timestamp, result;\r\n  if (null == wait) wait = 100;\r\n\r\n  function later() {\r\n    var last = Date.now() - timestamp;\r\n\r\n    if (last < wait && last >= 0) {\r\n      timeout = setTimeout(later, wait - last);\r\n    } else {\r\n      timeout = null;\r\n      if (!immediate) {\r\n        result = func.apply(context, args);\r\n        context = args = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  var debounced = function(){\r\n    context = this;\r\n    args = arguments;\r\n    timestamp = Date.now();\r\n    var callNow = immediate && !timeout;\r\n    if (!timeout) timeout = setTimeout(later, wait);\r\n    if (callNow) {\r\n      result = func.apply(context, args);\r\n      context = args = null;\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  debounced.clear = function() {\r\n    if (timeout) {\r\n      clearTimeout(timeout);\r\n      timeout = null;\r\n    }\r\n  };\r\n  \r\n  debounced.flush = function() {\r\n    if (timeout) {\r\n      result = func.apply(context, args);\r\n      context = args = null;\r\n      \r\n      clearTimeout(timeout);\r\n      timeout = null;\r\n    }\r\n  };\r\n\r\n  return debounced;\r\n};\r\n\r\n// Adds compatibility for ES modules\r\ndebounce.debounce = debounce;\r\n\r\nmodule.exports = debounce;\r\n","/**\r\n * Performs a\r\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\r\n * comparison between two values to determine if they are equivalent.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Lang\r\n * @param {*} value The value to compare.\r\n * @param {*} other The other value to compare.\r\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\r\n * @example\r\n *\r\n * var object = { 'a': 1 };\r\n * var other = { 'a': 1 };\r\n *\r\n * _.eq(object, object);\r\n * // => true\r\n *\r\n * _.eq(object, other);\r\n * // => false\r\n *\r\n * _.eq('a', 'a');\r\n * // => true\r\n *\r\n * _.eq('a', Object('a'));\r\n * // => false\r\n *\r\n * _.eq(NaN, NaN);\r\n * // => true\r\n */\r\nfunction eq(value, other) {\r\n  return value === other || (value !== value && other !== other);\r\n}\r\n\r\nmodule.exports = eq;\r\n","var baseGetTag = require('./_baseGetTag'),\r\n    isObject = require('./isObject');\r\n\r\n/** `Object#toString` result references. */\r\nvar asyncTag = '[object AsyncFunction]',\r\n    funcTag = '[object Function]',\r\n    genTag = '[object GeneratorFunction]',\r\n    proxyTag = '[object Proxy]';\r\n\r\n/**\r\n * Checks if `value` is classified as a `Function` object.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\r\n * @example\r\n *\r\n * _.isFunction(_);\r\n * // => true\r\n *\r\n * _.isFunction(/abc/);\r\n * // => false\r\n */\r\nfunction isFunction(value) {\r\n  if (!isObject(value)) {\r\n    return false;\r\n  }\r\n  // The use of `Object#toString` avoids issues with the `typeof` operator\r\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\r\n  var tag = baseGetTag(value);\r\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\r\n}\r\n\r\nmodule.exports = isFunction;\r\n","/** Detect free variable `global` from Node.js. */\r\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\r\n\r\nmodule.exports = freeGlobal;\r\n","/**\r\n * Checks if `value` is the\r\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\r\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\r\n * @example\r\n *\r\n * _.isObject({});\r\n * // => true\r\n *\r\n * _.isObject([1, 2, 3]);\r\n * // => true\r\n *\r\n * _.isObject(_.noop);\r\n * // => true\r\n *\r\n * _.isObject(null);\r\n * // => false\r\n */\r\nfunction isObject(value) {\r\n  var type = typeof value;\r\n  return value != null && (type == 'object' || type == 'function');\r\n}\r\n\r\nmodule.exports = isObject;\r\n","/** Used for built-in method references. */\r\nvar funcProto = Function.prototype;\r\n\r\n/** Used to resolve the decompiled source of functions. */\r\nvar funcToString = funcProto.toString;\r\n\r\n/**\r\n * Converts `func` to its source code.\r\n *\r\n * @private\r\n * @param {Function} func The function to convert.\r\n * @returns {string} Returns the source code.\r\n */\r\nfunction toSource(func) {\r\n  if (func != null) {\r\n    try {\r\n      return funcToString.call(func);\r\n    } catch (e) {}\r\n    try {\r\n      return (func + '');\r\n    } catch (e) {}\r\n  }\r\n  return '';\r\n}\r\n\r\nmodule.exports = toSource;\r\n","var mapCacheClear = require('./_mapCacheClear'),\r\n    mapCacheDelete = require('./_mapCacheDelete'),\r\n    mapCacheGet = require('./_mapCacheGet'),\r\n    mapCacheHas = require('./_mapCacheHas'),\r\n    mapCacheSet = require('./_mapCacheSet');\r\n\r\n/**\r\n * Creates a map cache object to store key-value pairs.\r\n *\r\n * @private\r\n * @constructor\r\n * @param {Array} [entries] The key-value pairs to cache.\r\n */\r\nfunction MapCache(entries) {\r\n  var index = -1,\r\n      length = entries == null ? 0 : entries.length;\r\n\r\n  this.clear();\r\n  while (++index < length) {\r\n    var entry = entries[index];\r\n    this.set(entry[0], entry[1]);\r\n  }\r\n}\r\n\r\n// Add methods to `MapCache`.\r\nMapCache.prototype.clear = mapCacheClear;\r\nMapCache.prototype['delete'] = mapCacheDelete;\r\nMapCache.prototype.get = mapCacheGet;\r\nMapCache.prototype.has = mapCacheHas;\r\nMapCache.prototype.set = mapCacheSet;\r\n\r\nmodule.exports = MapCache;\r\n","var SetCache = require('./_SetCache'),\r\n    arraySome = require('./_arraySome'),\r\n    cacheHas = require('./_cacheHas');\r\n\r\n/** Used to compose bitmasks for value comparisons. */\r\nvar COMPARE_PARTIAL_FLAG = 1,\r\n    COMPARE_UNORDERED_FLAG = 2;\r\n\r\n/**\r\n * A specialized version of `baseIsEqualDeep` for arrays with support for\r\n * partial deep comparisons.\r\n *\r\n * @private\r\n * @param {Array} array The array to compare.\r\n * @param {Array} other The other array to compare.\r\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\r\n * @param {Function} customizer The function to customize comparisons.\r\n * @param {Function} equalFunc The function to determine equivalents of values.\r\n * @param {Object} stack Tracks traversed `array` and `other` objects.\r\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\r\n */\r\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\r\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\r\n      arrLength = array.length,\r\n      othLength = other.length;\r\n\r\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\r\n    return false;\r\n  }\r\n  // Check that cyclic values are equal.\r\n  var arrStacked = stack.get(array);\r\n  var othStacked = stack.get(other);\r\n  if (arrStacked && othStacked) {\r\n    return arrStacked == other && othStacked == array;\r\n  }\r\n  var index = -1,\r\n      result = true,\r\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\r\n\r\n  stack.set(array, other);\r\n  stack.set(other, array);\r\n\r\n  // Ignore non-index properties.\r\n  while (++index < arrLength) {\r\n    var arrValue = array[index],\r\n        othValue = other[index];\r\n\r\n    if (customizer) {\r\n      var compared = isPartial\r\n        ? customizer(othValue, arrValue, index, other, array, stack)\r\n        : customizer(arrValue, othValue, index, array, other, stack);\r\n    }\r\n    if (compared !== undefined) {\r\n      if (compared) {\r\n        continue;\r\n      }\r\n      result = false;\r\n      break;\r\n    }\r\n    // Recursively compare arrays (susceptible to call stack limits).\r\n    if (seen) {\r\n      if (!arraySome(other, function(othValue, othIndex) {\r\n            if (!cacheHas(seen, othIndex) &&\r\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\r\n              return seen.push(othIndex);\r\n            }\r\n          })) {\r\n        result = false;\r\n        break;\r\n      }\r\n    } else if (!(\r\n          arrValue === othValue ||\r\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\r\n        )) {\r\n      result = false;\r\n      break;\r\n    }\r\n  }\r\n  stack['delete'](array);\r\n  stack['delete'](other);\r\n  return result;\r\n}\r\n\r\nmodule.exports = equalArrays;\r\n","var root = require('./_root'),\r\n    stubFalse = require('./stubFalse');\r\n\r\n/** Detect free variable `exports`. */\r\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\r\n\r\n/** Detect free variable `module`. */\r\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\r\n\r\n/** Detect the popular CommonJS extension `module.exports`. */\r\nvar moduleExports = freeModule && freeModule.exports === freeExports;\r\n\r\n/** Built-in value references. */\r\nvar Buffer = moduleExports ? root.Buffer : undefined;\r\n\r\n/* Built-in method references for those with the same name as other `lodash` methods. */\r\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\r\n\r\n/**\r\n * Checks if `value` is a buffer.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.3.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\r\n * @example\r\n *\r\n * _.isBuffer(new Buffer(2));\r\n * // => true\r\n *\r\n * _.isBuffer(new Uint8Array(2));\r\n * // => false\r\n */\r\nvar isBuffer = nativeIsBuffer || stubFalse;\r\n\r\nmodule.exports = isBuffer;\r\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\r\n    baseUnary = require('./_baseUnary'),\r\n    nodeUtil = require('./_nodeUtil');\r\n\r\n/* Node.js helper references. */\r\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\r\n\r\n/**\r\n * Checks if `value` is classified as a typed array.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 3.0.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\r\n * @example\r\n *\r\n * _.isTypedArray(new Uint8Array);\r\n * // => true\r\n *\r\n * _.isTypedArray([]);\r\n * // => false\r\n */\r\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\r\n\r\nmodule.exports = isTypedArray;\r\n","/** Used as references for various `Number` constants. */\r\nvar MAX_SAFE_INTEGER = 9007199254740991;\r\n\r\n/**\r\n * Checks if `value` is a valid array-like length.\r\n *\r\n * **Note:** This method is loosely based on\r\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\r\n * @example\r\n *\r\n * _.isLength(3);\r\n * // => true\r\n *\r\n * _.isLength(Number.MIN_VALUE);\r\n * // => false\r\n *\r\n * _.isLength(Infinity);\r\n * // => false\r\n *\r\n * _.isLength('3');\r\n * // => false\r\n */\r\nfunction isLength(value) {\r\n  return typeof value == 'number' &&\r\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\r\n}\r\n\r\nmodule.exports = isLength;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Options = void 0;\r\nconst Interactivity_1 = require(\"./Interactivity/Interactivity\");\r\nconst ParticlesOptions_1 = require(\"./Particles/ParticlesOptions\");\r\nconst BackgroundMask_1 = require(\"./BackgroundMask/BackgroundMask\");\r\nconst Background_1 = require(\"./Background/Background\");\r\nconst Infection_1 = require(\"./Infection/Infection\");\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Theme_1 = require(\"./Theme/Theme\");\r\nconst Enums_1 = require(\"../../Enums\");\r\nconst FullScreen_1 = require(\"./FullScreen/FullScreen\");\r\nconst Motion_1 = require(\"./Motion/Motion\");\r\nconst ManualParticle_1 = require(\"./ManualParticle\");\r\nconst Responsive_1 = require(\"./Responsive\");\r\nclass Options {\r\n    constructor() {\r\n        this.autoPlay = true;\r\n        this.background = new Background_1.Background();\r\n        this.backgroundMask = new BackgroundMask_1.BackgroundMask();\r\n        this.fullScreen = new FullScreen_1.FullScreen();\r\n        this.detectRetina = true;\r\n        this.fpsLimit = 60;\r\n        this.infection = new Infection_1.Infection();\r\n        this.interactivity = new Interactivity_1.Interactivity();\r\n        this.manualParticles = [];\r\n        this.motion = new Motion_1.Motion();\r\n        this.particles = new ParticlesOptions_1.ParticlesOptions();\r\n        this.pauseOnBlur = true;\r\n        this.pauseOnOutsideViewport = true;\r\n        this.responsive = [];\r\n        this.themes = [];\r\n    }\r\n    get fps_limit() {\r\n        return this.fpsLimit;\r\n    }\r\n    set fps_limit(value) {\r\n        this.fpsLimit = value;\r\n    }\r\n    get retina_detect() {\r\n        return this.detectRetina;\r\n    }\r\n    set retina_detect(value) {\r\n        this.detectRetina = value;\r\n    }\r\n    get backgroundMode() {\r\n        return this.fullScreen;\r\n    }\r\n    set backgroundMode(value) {\r\n        this.fullScreen.load(value);\r\n    }\r\n    load(data) {\r\n        var _a, _b, _c;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.preset !== undefined) {\r\n            if (data.preset instanceof Array) {\r\n                for (const preset of data.preset) {\r\n                    this.importPreset(preset);\r\n                }\r\n            }\r\n            else {\r\n                this.importPreset(data.preset);\r\n            }\r\n        }\r\n        if (data.autoPlay !== undefined) {\r\n            this.autoPlay = data.autoPlay;\r\n        }\r\n        const detectRetina = (_a = data.detectRetina) !== null && _a !== void 0 ? _a : data.retina_detect;\r\n        if (detectRetina !== undefined) {\r\n            this.detectRetina = detectRetina;\r\n        }\r\n        const fpsLimit = (_b = data.fpsLimit) !== null && _b !== void 0 ? _b : data.fps_limit;\r\n        if (fpsLimit !== undefined) {\r\n            this.fpsLimit = fpsLimit;\r\n        }\r\n        if (data.pauseOnBlur !== undefined) {\r\n            this.pauseOnBlur = data.pauseOnBlur;\r\n        }\r\n        if (data.pauseOnOutsideViewport !== undefined) {\r\n            this.pauseOnOutsideViewport = data.pauseOnOutsideViewport;\r\n        }\r\n        this.background.load(data.background);\r\n        this.fullScreen.load((_c = data.fullScreen) !== null && _c !== void 0 ? _c : data.backgroundMode);\r\n        this.backgroundMask.load(data.backgroundMask);\r\n        this.infection.load(data.infection);\r\n        this.interactivity.load(data.interactivity);\r\n        if (data.manualParticles !== undefined) {\r\n            this.manualParticles = data.manualParticles.map((t) => {\r\n                const tmp = new ManualParticle_1.ManualParticle();\r\n                tmp.load(t);\r\n                return tmp;\r\n            });\r\n        }\r\n        this.motion.load(data.motion);\r\n        this.particles.load(data.particles);\r\n        Utils_1.Plugins.loadOptions(this, data);\r\n        if (data.responsive !== undefined) {\r\n            for (const responsive of data.responsive) {\r\n                const optResponsive = new Responsive_1.Responsive();\r\n                optResponsive.load(responsive);\r\n                this.responsive.push(optResponsive);\r\n            }\r\n        }\r\n        this.responsive.sort((a, b) => a.maxWidth - b.maxWidth);\r\n        if (data.themes !== undefined) {\r\n            for (const theme of data.themes) {\r\n                const optTheme = new Theme_1.Theme();\r\n                optTheme.load(theme);\r\n                this.themes.push(optTheme);\r\n            }\r\n        }\r\n    }\r\n    setTheme(name) {\r\n        if (name) {\r\n            const chosenTheme = this.themes.find((theme) => theme.name === name);\r\n            if (chosenTheme) {\r\n                this.load(chosenTheme.options);\r\n            }\r\n        }\r\n        else {\r\n            const clientDarkMode = typeof matchMedia !== \"undefined\" && matchMedia(\"(prefers-color-scheme: dark)\").matches;\r\n            let defaultTheme = this.themes.find((theme) => theme.default.value &&\r\n                ((theme.default.mode === Enums_1.ThemeMode.dark && clientDarkMode) ||\r\n                    (theme.default.mode === Enums_1.ThemeMode.light && !clientDarkMode)));\r\n            if (!defaultTheme) {\r\n                defaultTheme = this.themes.find((theme) => theme.default.value && theme.default.mode === Enums_1.ThemeMode.any);\r\n            }\r\n            if (defaultTheme) {\r\n                this.load(defaultTheme.options);\r\n            }\r\n        }\r\n    }\r\n    importPreset(preset) {\r\n        this.load(Utils_1.Plugins.getPreset(preset));\r\n    }\r\n    setResponsive(width, pxRatio, defaultOptions) {\r\n        var _a;\r\n        this.load(defaultOptions);\r\n        this.load((_a = this.responsive.find((t) => t.maxWidth * pxRatio > width)) === null || _a === void 0 ? void 0 : _a.options);\r\n    }\r\n}\r\nexports.Options = Options;\r\n","var arrayLikeToArray = require(\"./arrayLikeToArray\");\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) {\r\n  if (!o) return;\r\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\r\n  var n = Object.prototype.toString.call(o).slice(8, -1);\r\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\r\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\r\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\r\n}\r\n\r\nmodule.exports = _unsupportedIterableToArray;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ClickMode = void 0;\r\nvar ClickMode;\r\n(function (ClickMode) {\r\n    ClickMode[\"attract\"] = \"attract\";\r\n    ClickMode[\"bubble\"] = \"bubble\";\r\n    ClickMode[\"push\"] = \"push\";\r\n    ClickMode[\"remove\"] = \"remove\";\r\n    ClickMode[\"repulse\"] = \"repulse\";\r\n    ClickMode[\"pause\"] = \"pause\";\r\n    ClickMode[\"trail\"] = \"trail\";\r\n})(ClickMode = exports.ClickMode || (exports.ClickMode = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DivMode = void 0;\r\nvar DivMode;\r\n(function (DivMode) {\r\n    DivMode[\"bounce\"] = \"bounce\";\r\n    DivMode[\"bubble\"] = \"bubble\";\r\n    DivMode[\"repulse\"] = \"repulse\";\r\n})(DivMode = exports.DivMode || (exports.DivMode = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HoverMode = void 0;\r\nvar HoverMode;\r\n(function (HoverMode) {\r\n    HoverMode[\"attract\"] = \"attract\";\r\n    HoverMode[\"bounce\"] = \"bounce\";\r\n    HoverMode[\"bubble\"] = \"bubble\";\r\n    HoverMode[\"connect\"] = \"connect\";\r\n    HoverMode[\"grab\"] = \"grab\";\r\n    HoverMode[\"light\"] = \"light\";\r\n    HoverMode[\"repulse\"] = \"repulse\";\r\n    HoverMode[\"slow\"] = \"slow\";\r\n    HoverMode[\"trail\"] = \"trail\";\r\n})(HoverMode = exports.HoverMode || (exports.HoverMode = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InteractivityDetect = void 0;\r\nvar InteractivityDetect;\r\n(function (InteractivityDetect) {\r\n    InteractivityDetect[\"canvas\"] = \"canvas\";\r\n    InteractivityDetect[\"parent\"] = \"parent\";\r\n    InteractivityDetect[\"window\"] = \"window\";\r\n})(InteractivityDetect = exports.InteractivityDetect || (exports.InteractivityDetect = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BubbleBase = void 0;\r\nconst OptionsColor_1 = require(\"../../OptionsColor\");\r\nclass BubbleBase {\r\n    constructor() {\r\n        this.distance = 200;\r\n        this.duration = 0.4;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.distance !== undefined) {\r\n            this.distance = data.distance;\r\n        }\r\n        if (data.duration !== undefined) {\r\n            this.duration = data.duration;\r\n        }\r\n        if (data.opacity !== undefined) {\r\n            this.opacity = data.opacity;\r\n        }\r\n        if (data.color !== undefined) {\r\n            if (data.color instanceof Array) {\r\n                this.color = data.color.map((s) => OptionsColor_1.OptionsColor.create(undefined, s));\r\n            }\r\n            else {\r\n                if (this.color instanceof Array) {\r\n                    this.color = new OptionsColor_1.OptionsColor();\r\n                }\r\n                this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n            }\r\n        }\r\n        if (data.size !== undefined) {\r\n            this.size = data.size;\r\n        }\r\n    }\r\n}\r\nexports.BubbleBase = BubbleBase;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RepulseBase = void 0;\r\nclass RepulseBase {\r\n    constructor() {\r\n        this.distance = 200;\r\n        this.duration = 0.4;\r\n        this.speed = 1;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.distance !== undefined) {\r\n            this.distance = data.distance;\r\n        }\r\n        if (data.duration !== undefined) {\r\n            this.duration = data.duration;\r\n        }\r\n        if (data.speed !== undefined) {\r\n            this.speed = data.speed;\r\n        }\r\n    }\r\n}\r\nexports.RepulseBase = RepulseBase;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ColorUtils = void 0;\r\nconst Utils_1 = require(\"./Utils\");\r\nconst Constants_1 = require(\"./Constants\");\r\nconst NumberUtils_1 = require(\"./NumberUtils\");\r\nfunction hue2rgb(p, q, t) {\r\n    let tCalc = t;\r\n    if (tCalc < 0) {\r\n        tCalc += 1;\r\n    }\r\n    if (tCalc > 1) {\r\n        tCalc -= 1;\r\n    }\r\n    if (tCalc < 1 / 6) {\r\n        return p + (q - p) * 6 * tCalc;\r\n    }\r\n    if (tCalc < 1 / 2) {\r\n        return q;\r\n    }\r\n    if (tCalc < 2 / 3) {\r\n        return p + (q - p) * (2 / 3 - tCalc) * 6;\r\n    }\r\n    return p;\r\n}\r\nfunction stringToRgba(input) {\r\n    if (input.startsWith(\"rgb\")) {\r\n        const regex = /rgba?\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([\\d.]+)\\s*)?\\)/i;\r\n        const result = regex.exec(input);\r\n        return result\r\n            ? {\r\n                a: result.length > 4 ? parseFloat(result[5]) : 1,\r\n                b: parseInt(result[3], 10),\r\n                g: parseInt(result[2], 10),\r\n                r: parseInt(result[1], 10),\r\n            }\r\n            : undefined;\r\n    }\r\n    else if (input.startsWith(\"hsl\")) {\r\n        const regex = /hsla?\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*(,\\s*([\\d.]+)\\s*)?\\)/i;\r\n        const result = regex.exec(input);\r\n        return result\r\n            ? ColorUtils.hslaToRgba({\r\n                a: result.length > 4 ? parseFloat(result[5]) : 1,\r\n                h: parseInt(result[1], 10),\r\n                l: parseInt(result[3], 10),\r\n                s: parseInt(result[2], 10),\r\n            })\r\n            : undefined;\r\n    }\r\n    else if (input.startsWith(\"hsv\")) {\r\n        const regex = /hsva?\\(\\s*(\\d+)°\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*(,\\s*([\\d.]+)\\s*)?\\)/i;\r\n        const result = regex.exec(input);\r\n        return result\r\n            ? ColorUtils.hsvaToRgba({\r\n                a: result.length > 4 ? parseFloat(result[5]) : 1,\r\n                h: parseInt(result[1], 10),\r\n                s: parseInt(result[2], 10),\r\n                v: parseInt(result[3], 10),\r\n            })\r\n            : undefined;\r\n    }\r\n    else {\r\n        const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])([a-f\\d])?$/i;\r\n        const hexFixed = input.replace(shorthandRegex, (_m, r, g, b, a) => {\r\n            return r + r + g + g + b + b + (a !== undefined ? a + a : \"\");\r\n        });\r\n        const regex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})?$/i;\r\n        const result = regex.exec(hexFixed);\r\n        return result\r\n            ? {\r\n                a: result[4] !== undefined ? parseInt(result[4], 16) / 0xff : 1,\r\n                b: parseInt(result[3], 16),\r\n                g: parseInt(result[2], 16),\r\n                r: parseInt(result[1], 16),\r\n            }\r\n            : undefined;\r\n    }\r\n}\r\nclass ColorUtils {\r\n    static colorToRgb(input, index, useIndex = true) {\r\n        var _a, _b, _c;\r\n        if (input === undefined) {\r\n            return;\r\n        }\r\n        const color = typeof input === \"string\" ? { value: input } : input;\r\n        let res;\r\n        if (typeof color.value === \"string\") {\r\n            if (color.value === Constants_1.Constants.randomColorValue) {\r\n                res = ColorUtils.getRandomRgbColor();\r\n            }\r\n            else {\r\n                res = ColorUtils.stringToRgb(color.value);\r\n            }\r\n        }\r\n        else {\r\n            if (color.value instanceof Array) {\r\n                const colorSelected = Utils_1.Utils.itemFromArray(color.value, index, useIndex);\r\n                res = ColorUtils.colorToRgb({ value: colorSelected });\r\n            }\r\n            else {\r\n                const colorValue = color.value;\r\n                const rgbColor = (_a = colorValue.rgb) !== null && _a !== void 0 ? _a : color.value;\r\n                if (rgbColor.r !== undefined) {\r\n                    res = rgbColor;\r\n                }\r\n                else {\r\n                    const hslColor = (_b = colorValue.hsl) !== null && _b !== void 0 ? _b : color.value;\r\n                    if (hslColor.h !== undefined && hslColor.l !== undefined) {\r\n                        res = ColorUtils.hslToRgb(hslColor);\r\n                    }\r\n                    else {\r\n                        const hsvColor = (_c = colorValue.hsv) !== null && _c !== void 0 ? _c : color.value;\r\n                        if (hsvColor.h !== undefined && hsvColor.v !== undefined) {\r\n                            res = ColorUtils.hsvToRgb(hsvColor);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    static colorToHsl(color, index, useIndex = true) {\r\n        const rgb = ColorUtils.colorToRgb(color, index, useIndex);\r\n        return rgb !== undefined ? ColorUtils.rgbToHsl(rgb) : undefined;\r\n    }\r\n    static rgbToHsl(color) {\r\n        const r1 = color.r / 255;\r\n        const g1 = color.g / 255;\r\n        const b1 = color.b / 255;\r\n        const max = Math.max(r1, g1, b1);\r\n        const min = Math.min(r1, g1, b1);\r\n        const res = {\r\n            h: 0,\r\n            l: (max + min) / 2,\r\n            s: 0,\r\n        };\r\n        if (max != min) {\r\n            res.s = res.l < 0.5 ? (max - min) / (max + min) : (max - min) / (2.0 - max - min);\r\n            res.h =\r\n                r1 === max\r\n                    ? (g1 - b1) / (max - min)\r\n                    : (res.h = g1 === max ? 2.0 + (b1 - r1) / (max - min) : 4.0 + (r1 - g1) / (max - min));\r\n        }\r\n        res.l *= 100;\r\n        res.s *= 100;\r\n        res.h *= 60;\r\n        if (res.h < 0) {\r\n            res.h += 360;\r\n        }\r\n        return res;\r\n    }\r\n    static stringToAlpha(input) {\r\n        var _a;\r\n        return (_a = stringToRgba(input)) === null || _a === void 0 ? void 0 : _a.a;\r\n    }\r\n    static stringToRgb(input) {\r\n        return stringToRgba(input);\r\n    }\r\n    static hslToRgb(hsl) {\r\n        const result = { b: 0, g: 0, r: 0 };\r\n        const hslPercent = {\r\n            h: hsl.h / 360,\r\n            l: hsl.l / 100,\r\n            s: hsl.s / 100,\r\n        };\r\n        if (hslPercent.s === 0) {\r\n            result.b = hslPercent.l;\r\n            result.g = hslPercent.l;\r\n            result.r = hslPercent.l;\r\n        }\r\n        else {\r\n            const q = hslPercent.l < 0.5\r\n                ? hslPercent.l * (1 + hslPercent.s)\r\n                : hslPercent.l + hslPercent.s - hslPercent.l * hslPercent.s;\r\n            const p = 2 * hslPercent.l - q;\r\n            result.r = hue2rgb(p, q, hslPercent.h + 1 / 3);\r\n            result.g = hue2rgb(p, q, hslPercent.h);\r\n            result.b = hue2rgb(p, q, hslPercent.h - 1 / 3);\r\n        }\r\n        result.r = Math.floor(result.r * 255);\r\n        result.g = Math.floor(result.g * 255);\r\n        result.b = Math.floor(result.b * 255);\r\n        return result;\r\n    }\r\n    static hslaToRgba(hsla) {\r\n        const rgbResult = ColorUtils.hslToRgb(hsla);\r\n        return {\r\n            a: hsla.a,\r\n            b: rgbResult.b,\r\n            g: rgbResult.g,\r\n            r: rgbResult.r,\r\n        };\r\n    }\r\n    static hslToHsv(hsl) {\r\n        const l = hsl.l / 100, sl = hsl.s / 100;\r\n        const v = l + sl * Math.min(l, 1 - l), sv = !v ? 0 : 2 * (1 - l / v);\r\n        return {\r\n            h: hsl.h,\r\n            s: sv * 100,\r\n            v: v * 100,\r\n        };\r\n    }\r\n    static hslaToHsva(hsla) {\r\n        const hsvResult = ColorUtils.hslToHsv(hsla);\r\n        return {\r\n            a: hsla.a,\r\n            h: hsvResult.h,\r\n            s: hsvResult.s,\r\n            v: hsvResult.v,\r\n        };\r\n    }\r\n    static hsvToHsl(hsv) {\r\n        const v = hsv.v / 100, sv = hsv.s / 100;\r\n        const l = v * (1 - sv / 2), sl = l === 0 || l === 1 ? 0 : (v - l) / Math.min(l, 1 - l);\r\n        return {\r\n            h: hsv.h,\r\n            l: l * 100,\r\n            s: sl * 100,\r\n        };\r\n    }\r\n    static hsvaToHsla(hsva) {\r\n        const hslResult = ColorUtils.hsvToHsl(hsva);\r\n        return {\r\n            a: hsva.a,\r\n            h: hslResult.h,\r\n            l: hslResult.l,\r\n            s: hslResult.s,\r\n        };\r\n    }\r\n    static hsvToRgb(hsv) {\r\n        const result = { b: 0, g: 0, r: 0 };\r\n        const hsvPercent = {\r\n            h: hsv.h / 60,\r\n            s: hsv.s / 100,\r\n            v: hsv.v / 100,\r\n        };\r\n        const c = hsvPercent.v * hsvPercent.s, x = c * (1 - Math.abs((hsvPercent.h % 2) - 1));\r\n        let tempRgb;\r\n        if (hsvPercent.h >= 0 && hsvPercent.h <= 1) {\r\n            tempRgb = {\r\n                r: c,\r\n                g: x,\r\n                b: 0,\r\n            };\r\n        }\r\n        else if (hsvPercent.h > 1 && hsvPercent.h <= 2) {\r\n            tempRgb = {\r\n                r: x,\r\n                g: c,\r\n                b: 0,\r\n            };\r\n        }\r\n        else if (hsvPercent.h > 2 && hsvPercent.h <= 3) {\r\n            tempRgb = {\r\n                r: 0,\r\n                g: c,\r\n                b: x,\r\n            };\r\n        }\r\n        else if (hsvPercent.h > 3 && hsvPercent.h <= 4) {\r\n            tempRgb = {\r\n                r: 0,\r\n                g: x,\r\n                b: c,\r\n            };\r\n        }\r\n        else if (hsvPercent.h > 4 && hsvPercent.h <= 5) {\r\n            tempRgb = {\r\n                r: x,\r\n                g: 0,\r\n                b: c,\r\n            };\r\n        }\r\n        else if (hsvPercent.h > 5 && hsvPercent.h <= 6) {\r\n            tempRgb = {\r\n                r: c,\r\n                g: 0,\r\n                b: x,\r\n            };\r\n        }\r\n        if (tempRgb) {\r\n            const m = hsvPercent.v - c;\r\n            result.r = Math.floor((tempRgb.r + m) * 255);\r\n            result.g = Math.floor((tempRgb.g + m) * 255);\r\n            result.b = Math.floor((tempRgb.b + m) * 255);\r\n        }\r\n        return result;\r\n    }\r\n    static hsvaToRgba(hsva) {\r\n        const rgbResult = ColorUtils.hsvToRgb(hsva);\r\n        return {\r\n            a: hsva.a,\r\n            b: rgbResult.b,\r\n            g: rgbResult.g,\r\n            r: rgbResult.r,\r\n        };\r\n    }\r\n    static rgbToHsv(rgb) {\r\n        const rgbPercent = {\r\n            r: rgb.r / 255,\r\n            g: rgb.g / 255,\r\n            b: rgb.b / 255,\r\n        }, xMax = Math.max(rgbPercent.r, rgbPercent.g, rgbPercent.b), xMin = Math.min(rgbPercent.r, rgbPercent.g, rgbPercent.b), v = xMax, c = xMax - xMin;\r\n        let h = 0;\r\n        if (v === rgbPercent.r) {\r\n            h = 60 * ((rgbPercent.g - rgbPercent.b) / c);\r\n        }\r\n        else if (v === rgbPercent.g) {\r\n            h = 60 * (2 + (rgbPercent.b - rgbPercent.r) / c);\r\n        }\r\n        else if (v === rgbPercent.b) {\r\n            h = 60 * (4 + (rgbPercent.r - rgbPercent.g) / c);\r\n        }\r\n        const s = !v ? 0 : c / v;\r\n        return {\r\n            h,\r\n            s: s * 100,\r\n            v: v * 100,\r\n        };\r\n    }\r\n    static rgbaToHsva(rgba) {\r\n        const hsvResult = ColorUtils.rgbToHsv(rgba);\r\n        return {\r\n            a: rgba.a,\r\n            h: hsvResult.h,\r\n            s: hsvResult.s,\r\n            v: hsvResult.v,\r\n        };\r\n    }\r\n    static getRandomRgbColor(min) {\r\n        const fixedMin = min !== null && min !== void 0 ? min : 0;\r\n        return {\r\n            b: Math.floor(NumberUtils_1.NumberUtils.randomInRange(NumberUtils_1.NumberUtils.setRangeValue(fixedMin, 256))),\r\n            g: Math.floor(NumberUtils_1.NumberUtils.randomInRange(NumberUtils_1.NumberUtils.setRangeValue(fixedMin, 256))),\r\n            r: Math.floor(NumberUtils_1.NumberUtils.randomInRange(NumberUtils_1.NumberUtils.setRangeValue(fixedMin, 256))),\r\n        };\r\n    }\r\n    static getStyleFromRgb(color, opacity) {\r\n        return `rgba(${color.r}, ${color.g}, ${color.b}, ${opacity !== null && opacity !== void 0 ? opacity : 1})`;\r\n    }\r\n    static getStyleFromHsl(color, opacity) {\r\n        return `hsla(${color.h}, ${color.s}%, ${color.l}%, ${opacity !== null && opacity !== void 0 ? opacity : 1})`;\r\n    }\r\n    static getStyleFromHsv(color, opacity) {\r\n        return ColorUtils.getStyleFromHsl(ColorUtils.hsvToHsl(color), opacity);\r\n    }\r\n    static mix(color1, color2, size1, size2) {\r\n        let rgb1 = color1;\r\n        let rgb2 = color2;\r\n        if (rgb1.r === undefined) {\r\n            rgb1 = ColorUtils.hslToRgb(color1);\r\n        }\r\n        if (rgb2.r === undefined) {\r\n            rgb2 = ColorUtils.hslToRgb(color2);\r\n        }\r\n        return {\r\n            b: NumberUtils_1.NumberUtils.mix(rgb1.b, rgb2.b, size1, size2),\r\n            g: NumberUtils_1.NumberUtils.mix(rgb1.g, rgb2.g, size1, size2),\r\n            r: NumberUtils_1.NumberUtils.mix(rgb1.r, rgb2.r, size1, size2),\r\n        };\r\n    }\r\n    static replaceColorSvg(image, color, opacity) {\r\n        if (!image.svgData) {\r\n            return \"\";\r\n        }\r\n        const svgXml = image.svgData;\r\n        const rgbHex = /#([0-9A-F]{3,6})/gi;\r\n        return svgXml.replace(rgbHex, () => ColorUtils.getStyleFromHsl(color, opacity));\r\n    }\r\n    static getLinkColor(p1, p2, linkColor) {\r\n        var _a, _b;\r\n        if (linkColor === Constants_1.Constants.randomColorValue) {\r\n            return ColorUtils.getRandomRgbColor();\r\n        }\r\n        else if (linkColor === \"mid\") {\r\n            const sourceColor = (_a = p1.getFillColor()) !== null && _a !== void 0 ? _a : p1.getStrokeColor();\r\n            const destColor = (_b = p2 === null || p2 === void 0 ? void 0 : p2.getFillColor()) !== null && _b !== void 0 ? _b : p2 === null || p2 === void 0 ? void 0 : p2.getStrokeColor();\r\n            if (sourceColor && destColor && p2) {\r\n                return ColorUtils.mix(sourceColor, destColor, p1.getRadius(), p2.getRadius());\r\n            }\r\n            else {\r\n                const hslColor = sourceColor !== null && sourceColor !== void 0 ? sourceColor : destColor;\r\n                if (hslColor) {\r\n                    return ColorUtils.hslToRgb(hslColor);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            return linkColor;\r\n        }\r\n    }\r\n    static getLinkRandomColor(optColor, blink, consent) {\r\n        const color = typeof optColor === \"string\" ? optColor : optColor.value;\r\n        if (color === Constants_1.Constants.randomColorValue) {\r\n            if (consent) {\r\n                return ColorUtils.colorToRgb({\r\n                    value: color,\r\n                });\r\n            }\r\n            else if (blink) {\r\n                return Constants_1.Constants.randomColorValue;\r\n            }\r\n            else {\r\n                return Constants_1.Constants.midColorValue;\r\n            }\r\n        }\r\n        else {\r\n            return ColorUtils.colorToRgb({\r\n                value: color,\r\n            });\r\n        }\r\n    }\r\n    static getHslFromAnimation(animation) {\r\n        return animation !== undefined\r\n            ? {\r\n                h: animation.h.value,\r\n                s: animation.s.value,\r\n                l: animation.l.value,\r\n            }\r\n            : undefined;\r\n    }\r\n}\r\nexports.ColorUtils = ColorUtils;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Utils = void 0;\r\nconst OutModeDirection_1 = require(\"../Enums/Directions/OutModeDirection\");\r\nconst NumberUtils_1 = require(\"./NumberUtils\");\r\nfunction rectSideBounce(pSide, pOtherSide, rectSide, rectOtherSide, velocity, factor) {\r\n    const res = { bounced: false };\r\n    if (pOtherSide.min >= rectOtherSide.min &&\r\n        pOtherSide.min <= rectOtherSide.max &&\r\n        pOtherSide.max >= rectOtherSide.min &&\r\n        pOtherSide.max <= rectOtherSide.max) {\r\n        if ((pSide.max >= rectSide.min && pSide.max <= (rectSide.max + rectSide.min) / 2 && velocity > 0) ||\r\n            (pSide.min <= rectSide.max && pSide.min > (rectSide.max + rectSide.min) / 2 && velocity < 0)) {\r\n            res.velocity = velocity * -factor;\r\n            res.bounced = true;\r\n        }\r\n    }\r\n    return res;\r\n}\r\nfunction checkSelector(element, selectors) {\r\n    if (selectors instanceof Array) {\r\n        for (const selector of selectors) {\r\n            if (element.matches(selector)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    else {\r\n        return element.matches(selectors);\r\n    }\r\n}\r\nclass Utils {\r\n    static isSsr() {\r\n        return typeof window === \"undefined\" || !window;\r\n    }\r\n    static get animate() {\r\n        return Utils.isSsr()\r\n            ? (callback) => setTimeout(callback)\r\n            : (callback) => (window.requestAnimationFrame ||\r\n                window.webkitRequestAnimationFrame ||\r\n                window.mozRequestAnimationFrame ||\r\n                window.oRequestAnimationFrame ||\r\n                window.msRequestAnimationFrame ||\r\n                window.setTimeout)(callback);\r\n    }\r\n    static get cancelAnimation() {\r\n        return Utils.isSsr()\r\n            ? (handle) => clearTimeout(handle)\r\n            : (handle) => (window.cancelAnimationFrame ||\r\n                window.webkitCancelRequestAnimationFrame ||\r\n                window.mozCancelRequestAnimationFrame ||\r\n                window.oCancelRequestAnimationFrame ||\r\n                window.msCancelRequestAnimationFrame ||\r\n                window.clearTimeout)(handle);\r\n    }\r\n    static isInArray(value, array) {\r\n        return value === array || (array instanceof Array && array.indexOf(value) > -1);\r\n    }\r\n    static loadFont(character) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                yield document.fonts.load(`${character.weight} 36px '${character.font}'`);\r\n            }\r\n            catch (_a) {\r\n            }\r\n        });\r\n    }\r\n    static arrayRandomIndex(array) {\r\n        return Math.floor(Math.random() * array.length);\r\n    }\r\n    static itemFromArray(array, index, useIndex = true) {\r\n        const fixedIndex = index !== undefined && useIndex ? index % array.length : Utils.arrayRandomIndex(array);\r\n        return array[fixedIndex];\r\n    }\r\n    static isPointInside(point, size, radius, direction) {\r\n        return Utils.areBoundsInside(Utils.calculateBounds(point, radius !== null && radius !== void 0 ? radius : 0), size, direction);\r\n    }\r\n    static areBoundsInside(bounds, size, direction) {\r\n        let inside = true;\r\n        if (!direction || direction === OutModeDirection_1.OutModeDirection.bottom) {\r\n            inside = bounds.top < size.height;\r\n        }\r\n        if (inside && (!direction || direction === OutModeDirection_1.OutModeDirection.left)) {\r\n            inside = bounds.right > 0;\r\n        }\r\n        if (inside && (!direction || direction === OutModeDirection_1.OutModeDirection.right)) {\r\n            inside = bounds.left < size.width;\r\n        }\r\n        if (inside && (!direction || direction === OutModeDirection_1.OutModeDirection.top)) {\r\n            inside = bounds.bottom > 0;\r\n        }\r\n        return inside;\r\n    }\r\n    static calculateBounds(point, radius) {\r\n        return {\r\n            bottom: point.y + radius,\r\n            left: point.x - radius,\r\n            right: point.x + radius,\r\n            top: point.y - radius,\r\n        };\r\n    }\r\n    static loadImage(source) {\r\n        return new Promise((resolve, reject) => {\r\n            if (!source) {\r\n                reject(\"Error tsParticles - No image.src\");\r\n                return;\r\n            }\r\n            const image = {\r\n                source: source,\r\n                type: source.substr(source.length - 3),\r\n            };\r\n            const img = new Image();\r\n            img.addEventListener(\"load\", () => {\r\n                image.element = img;\r\n                resolve(image);\r\n            });\r\n            img.addEventListener(\"error\", () => {\r\n                reject(`Error tsParticles - loading image: ${source}`);\r\n            });\r\n            img.src = source;\r\n        });\r\n    }\r\n    static downloadSvgImage(source) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!source) {\r\n                throw new Error(\"Error tsParticles - No image.src\");\r\n            }\r\n            const image = {\r\n                source: source,\r\n                type: source.substr(source.length - 3),\r\n            };\r\n            if (image.type !== \"svg\") {\r\n                return Utils.loadImage(source);\r\n            }\r\n            const response = yield fetch(image.source);\r\n            if (!response.ok) {\r\n                throw new Error(\"Error tsParticles - Image not found\");\r\n            }\r\n            image.svgData = yield response.text();\r\n            return image;\r\n        });\r\n    }\r\n    static deepExtend(destination, ...sources) {\r\n        for (const source of sources) {\r\n            if (source === undefined || source === null) {\r\n                continue;\r\n            }\r\n            if (typeof source !== \"object\") {\r\n                destination = source;\r\n                continue;\r\n            }\r\n            const sourceIsArray = Array.isArray(source);\r\n            if (sourceIsArray && (typeof destination !== \"object\" || !destination || !Array.isArray(destination))) {\r\n                destination = [];\r\n            }\r\n            else if (!sourceIsArray &&\r\n                (typeof destination !== \"object\" || !destination || Array.isArray(destination))) {\r\n                destination = {};\r\n            }\r\n            for (const key in source) {\r\n                if (key === \"__proto__\") {\r\n                    continue;\r\n                }\r\n                const sourceDict = source;\r\n                const value = sourceDict[key];\r\n                const isObject = typeof value === \"object\";\r\n                const destDict = destination;\r\n                destDict[key] =\r\n                    isObject && Array.isArray(value)\r\n                        ? value.map((v) => Utils.deepExtend(destDict[key], v))\r\n                        : Utils.deepExtend(destDict[key], value);\r\n            }\r\n        }\r\n        return destination;\r\n    }\r\n    static isDivModeEnabled(mode, divs) {\r\n        return divs instanceof Array\r\n            ? !!divs.find((t) => t.enable && Utils.isInArray(mode, t.mode))\r\n            : Utils.isInArray(mode, divs.mode);\r\n    }\r\n    static divModeExecute(mode, divs, callback) {\r\n        if (divs instanceof Array) {\r\n            for (const div of divs) {\r\n                const divMode = div.mode;\r\n                const divEnabled = div.enable;\r\n                if (divEnabled && Utils.isInArray(mode, divMode)) {\r\n                    Utils.singleDivModeExecute(div, callback);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            const divMode = divs.mode;\r\n            const divEnabled = divs.enable;\r\n            if (divEnabled && Utils.isInArray(mode, divMode)) {\r\n                Utils.singleDivModeExecute(divs, callback);\r\n            }\r\n        }\r\n    }\r\n    static singleDivModeExecute(div, callback) {\r\n        const selectors = div.selectors;\r\n        if (selectors instanceof Array) {\r\n            for (const selector of selectors) {\r\n                callback(selector, div);\r\n            }\r\n        }\r\n        else {\r\n            callback(selectors, div);\r\n        }\r\n    }\r\n    static divMode(divs, element) {\r\n        if (!element || !divs) {\r\n            return;\r\n        }\r\n        if (divs instanceof Array) {\r\n            return divs.find((d) => checkSelector(element, d.selectors));\r\n        }\r\n        else if (checkSelector(element, divs.selectors)) {\r\n            return divs;\r\n        }\r\n    }\r\n    static circleBounceDataFromParticle(p) {\r\n        return {\r\n            position: p.getPosition(),\r\n            radius: p.getRadius(),\r\n            mass: p.getMass(),\r\n            velocity: p.velocity,\r\n            factor: {\r\n                horizontal: NumberUtils_1.NumberUtils.getValue(p.options.bounce.horizontal),\r\n                vertical: NumberUtils_1.NumberUtils.getValue(p.options.bounce.vertical),\r\n            },\r\n        };\r\n    }\r\n    static circleBounce(p1, p2) {\r\n        const xVelocityDiff = p1.velocity.x;\r\n        const yVelocityDiff = p1.velocity.y;\r\n        const pos1 = p1.position;\r\n        const pos2 = p2.position;\r\n        const xDist = pos2.x - pos1.x;\r\n        const yDist = pos2.y - pos1.y;\r\n        if (xVelocityDiff * xDist + yVelocityDiff * yDist >= 0) {\r\n            const angle = -Math.atan2(pos2.y - pos1.y, pos2.x - pos1.x);\r\n            const m1 = p1.mass;\r\n            const m2 = p2.mass;\r\n            const u1 = p1.velocity.rotate(angle);\r\n            const u2 = p2.velocity.rotate(angle);\r\n            const v1 = NumberUtils_1.NumberUtils.collisionVelocity(u1, u2, m1, m2);\r\n            const v2 = NumberUtils_1.NumberUtils.collisionVelocity(u2, u1, m1, m2);\r\n            const vFinal1 = v1.rotate(-angle);\r\n            const vFinal2 = v2.rotate(-angle);\r\n            p1.velocity.x = vFinal1.x * p1.factor.horizontal;\r\n            p1.velocity.y = vFinal1.y * p1.factor.vertical;\r\n            p2.velocity.x = vFinal2.x * p2.factor.horizontal;\r\n            p2.velocity.y = vFinal2.y * p2.factor.vertical;\r\n        }\r\n    }\r\n    static rectBounce(particle, divBounds) {\r\n        const pPos = particle.getPosition();\r\n        const size = particle.getRadius();\r\n        const bounds = Utils.calculateBounds(pPos, size);\r\n        const resH = rectSideBounce({\r\n            min: bounds.left,\r\n            max: bounds.right,\r\n        }, {\r\n            min: bounds.top,\r\n            max: bounds.bottom,\r\n        }, {\r\n            min: divBounds.left,\r\n            max: divBounds.right,\r\n        }, {\r\n            min: divBounds.top,\r\n            max: divBounds.bottom,\r\n        }, particle.velocity.x, NumberUtils_1.NumberUtils.getValue(particle.options.bounce.horizontal));\r\n        if (resH.bounced) {\r\n            if (resH.velocity !== undefined) {\r\n                particle.velocity.x = resH.velocity;\r\n            }\r\n            if (resH.position !== undefined) {\r\n                particle.position.x = resH.position;\r\n            }\r\n        }\r\n        const resV = rectSideBounce({\r\n            min: bounds.top,\r\n            max: bounds.bottom,\r\n        }, {\r\n            min: bounds.left,\r\n            max: bounds.right,\r\n        }, {\r\n            min: divBounds.top,\r\n            max: divBounds.bottom,\r\n        }, {\r\n            min: divBounds.left,\r\n            max: divBounds.right,\r\n        }, particle.velocity.y, NumberUtils_1.NumberUtils.getValue(particle.options.bounce.vertical));\r\n        if (resV.bounced) {\r\n            if (resV.velocity !== undefined) {\r\n                particle.velocity.y = resV.velocity;\r\n            }\r\n            if (resV.position !== undefined) {\r\n                particle.position.y = resV.position;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Utils = Utils;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.OutModeDirection = void 0;\r\nvar OutModeDirection;\r\n(function (OutModeDirection) {\r\n    OutModeDirection[\"bottom\"] = \"bottom\";\r\n    OutModeDirection[\"left\"] = \"left\";\r\n    OutModeDirection[\"right\"] = \"right\";\r\n    OutModeDirection[\"top\"] = \"top\";\r\n})(OutModeDirection = exports.OutModeDirection || (exports.OutModeDirection = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CircleWarp = void 0;\r\nconst Rectangle_1 = require(\"./Rectangle\");\r\nconst Circle_1 = require(\"./Circle\");\r\nclass CircleWarp extends Circle_1.Circle {\r\n    constructor(x, y, radius, canvasSize) {\r\n        super(x, y, radius);\r\n        this.canvasSize = canvasSize;\r\n        this.canvasSize = {\r\n            height: canvasSize.height,\r\n            width: canvasSize.width,\r\n        };\r\n    }\r\n    contains(point) {\r\n        if (super.contains(point)) {\r\n            return true;\r\n        }\r\n        const posNE = {\r\n            x: point.x - this.canvasSize.width,\r\n            y: point.y,\r\n        };\r\n        if (super.contains(posNE)) {\r\n            return true;\r\n        }\r\n        const posSE = {\r\n            x: point.x - this.canvasSize.width,\r\n            y: point.y - this.canvasSize.height,\r\n        };\r\n        if (super.contains(posSE)) {\r\n            return true;\r\n        }\r\n        const posSW = {\r\n            x: point.x,\r\n            y: point.y - this.canvasSize.height,\r\n        };\r\n        return super.contains(posSW);\r\n    }\r\n    intersects(range) {\r\n        if (super.intersects(range)) {\r\n            return true;\r\n        }\r\n        const rect = range;\r\n        const circle = range;\r\n        const newPos = {\r\n            x: range.position.x - this.canvasSize.width,\r\n            y: range.position.y - this.canvasSize.height,\r\n        };\r\n        if (circle.radius !== undefined) {\r\n            const biggerCircle = new Circle_1.Circle(newPos.x, newPos.y, circle.radius * 2);\r\n            return super.intersects(biggerCircle);\r\n        }\r\n        else if (rect.size !== undefined) {\r\n            const rectSW = new Rectangle_1.Rectangle(newPos.x, newPos.y, rect.size.width * 2, rect.size.height * 2);\r\n            return super.intersects(rectSW);\r\n        }\r\n        return false;\r\n    }\r\n}\r\nexports.CircleWarp = CircleWarp;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AnimationOptions = void 0;\r\nclass AnimationOptions {\r\n    constructor() {\r\n        this.count = 0;\r\n        this.enable = false;\r\n        this.speed = 1;\r\n        this.sync = false;\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.count !== undefined) {\r\n            this.count = data.count;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.speed !== undefined) {\r\n            this.speed = data.speed;\r\n        }\r\n        if (data.sync !== undefined) {\r\n            this.sync = data.sync;\r\n        }\r\n    }\r\n}\r\nexports.AnimationOptions = AnimationOptions;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Shape = void 0;\r\nconst Enums_1 = require(\"../../../../Enums\");\r\nconst Utils_1 = require(\"../../../../Utils\");\r\nclass Shape {\r\n    constructor() {\r\n        this.options = {};\r\n        this.type = Enums_1.ShapeType.circle;\r\n    }\r\n    get image() {\r\n        var _a;\r\n        return ((_a = this.options[Enums_1.ShapeType.image]) !== null && _a !== void 0 ? _a : this.options[Enums_1.ShapeType.images]);\r\n    }\r\n    set image(value) {\r\n        this.options[Enums_1.ShapeType.image] = value;\r\n        this.options[Enums_1.ShapeType.images] = value;\r\n    }\r\n    get custom() {\r\n        return this.options;\r\n    }\r\n    set custom(value) {\r\n        this.options = value;\r\n    }\r\n    get images() {\r\n        return this.image instanceof Array ? this.image : [this.image];\r\n    }\r\n    set images(value) {\r\n        this.image = value;\r\n    }\r\n    get stroke() {\r\n        return [];\r\n    }\r\n    set stroke(_value) {\r\n    }\r\n    get character() {\r\n        var _a;\r\n        return ((_a = this.options[Enums_1.ShapeType.character]) !== null && _a !== void 0 ? _a : this.options[Enums_1.ShapeType.char]);\r\n    }\r\n    set character(value) {\r\n        this.options[Enums_1.ShapeType.character] = value;\r\n        this.options[Enums_1.ShapeType.char] = value;\r\n    }\r\n    get polygon() {\r\n        var _a;\r\n        return ((_a = this.options[Enums_1.ShapeType.polygon]) !== null && _a !== void 0 ? _a : this.options[Enums_1.ShapeType.star]);\r\n    }\r\n    set polygon(value) {\r\n        this.options[Enums_1.ShapeType.polygon] = value;\r\n        this.options[Enums_1.ShapeType.star] = value;\r\n    }\r\n    load(data) {\r\n        var _a, _b, _c;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        const options = (_a = data.options) !== null && _a !== void 0 ? _a : data.custom;\r\n        if (options !== undefined) {\r\n            for (const shape in options) {\r\n                const item = options[shape];\r\n                if (item !== undefined) {\r\n                    this.options[shape] = Utils_1.Utils.deepExtend((_b = this.options[shape]) !== null && _b !== void 0 ? _b : {}, item);\r\n                }\r\n            }\r\n        }\r\n        this.loadShape(data.character, Enums_1.ShapeType.character, Enums_1.ShapeType.char, true);\r\n        this.loadShape(data.polygon, Enums_1.ShapeType.polygon, Enums_1.ShapeType.star, false);\r\n        this.loadShape((_c = data.image) !== null && _c !== void 0 ? _c : data.images, Enums_1.ShapeType.image, Enums_1.ShapeType.images, true);\r\n        if (data.type !== undefined) {\r\n            this.type = data.type;\r\n        }\r\n    }\r\n    loadShape(item, mainKey, altKey, altOverride) {\r\n        var _a, _b, _c, _d;\r\n        if (item === undefined) {\r\n            return;\r\n        }\r\n        if (item instanceof Array) {\r\n            if (!(this.options[mainKey] instanceof Array)) {\r\n                this.options[mainKey] = [];\r\n                if (!this.options[altKey] || altOverride) {\r\n                    this.options[altKey] = [];\r\n                }\r\n            }\r\n            this.options[mainKey] = Utils_1.Utils.deepExtend((_a = this.options[mainKey]) !== null && _a !== void 0 ? _a : [], item);\r\n            if (!this.options[altKey] || altOverride) {\r\n                this.options[altKey] = Utils_1.Utils.deepExtend((_b = this.options[altKey]) !== null && _b !== void 0 ? _b : [], item);\r\n            }\r\n        }\r\n        else {\r\n            if (this.options[mainKey] instanceof Array) {\r\n                this.options[mainKey] = {};\r\n                if (!this.options[altKey] || altOverride) {\r\n                    this.options[altKey] = {};\r\n                }\r\n            }\r\n            this.options[mainKey] = Utils_1.Utils.deepExtend((_c = this.options[mainKey]) !== null && _c !== void 0 ? _c : {}, item);\r\n            if (!this.options[altKey] || altOverride) {\r\n                this.options[altKey] = Utils_1.Utils.deepExtend((_d = this.options[altKey]) !== null && _d !== void 0 ? _d : {}, item);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Shape = Shape;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Bounce = void 0;\r\nconst BounceFactor_1 = require(\"./BounceFactor\");\r\nclass Bounce {\r\n    constructor() {\r\n        this.horizontal = new BounceFactor_1.BounceFactor();\r\n        this.vertical = new BounceFactor_1.BounceFactor();\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        this.horizontal.load(data.horizontal);\r\n        this.vertical.load(data.vertical);\r\n    }\r\n}\r\nexports.Bounce = Bounce;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PolygonMaskPlugin = void 0;\r\nconst PolygonMaskInstance_1 = require(\"./PolygonMaskInstance\");\r\nconst PolygonMask_1 = require(\"./Options/Classes/PolygonMask\");\r\nconst Enums_1 = require(\"./Enums\");\r\nclass PolygonMaskPlugin {\r\n    constructor() {\r\n        this.id = \"polygonMask\";\r\n    }\r\n    getPlugin(container) {\r\n        return new PolygonMaskInstance_1.PolygonMaskInstance(container);\r\n    }\r\n    needsPlugin(options) {\r\n        var _a, _b, _c;\r\n        return (_b = (_a = options === null || options === void 0 ? void 0 : options.polygon) === null || _a === void 0 ? void 0 : _a.enable) !== null && _b !== void 0 ? _b : (((_c = options === null || options === void 0 ? void 0 : options.polygon) === null || _c === void 0 ? void 0 : _c.type) !== undefined && options.polygon.type !== Enums_1.Type.none);\r\n    }\r\n    loadOptions(options, source) {\r\n        if (!this.needsPlugin(source)) {\r\n            return;\r\n        }\r\n        const optionsCast = options;\r\n        let polygonOptions = optionsCast.polygon;\r\n        if ((polygonOptions === null || polygonOptions === void 0 ? void 0 : polygonOptions.load) === undefined) {\r\n            optionsCast.polygon = polygonOptions = new PolygonMask_1.PolygonMask();\r\n        }\r\n        polygonOptions.load(source === null || source === void 0 ? void 0 : source.polygon);\r\n    }\r\n}\r\nconst plugin = new PolygonMaskPlugin();\r\nexports.PolygonMaskPlugin = plugin;\r\n__exportStar(require(\"./Enums\"), exports);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PolygonMask = void 0;\r\nconst Enums_1 = require(\"../../Enums\");\r\nconst Draw_1 = require(\"./Draw\");\r\nconst Move_1 = require(\"./Move\");\r\nconst Inline_1 = require(\"./Inline\");\r\nconst LocalSvg_1 = require(\"./LocalSvg\");\r\nconst Utils_1 = require(\"../../../../Utils\");\r\nclass PolygonMask {\r\n    constructor() {\r\n        this.draw = new Draw_1.Draw();\r\n        this.enable = false;\r\n        this.inline = new Inline_1.Inline();\r\n        this.move = new Move_1.Move();\r\n        this.scale = 1;\r\n        this.type = Enums_1.Type.none;\r\n    }\r\n    get inlineArrangement() {\r\n        return this.inline.arrangement;\r\n    }\r\n    set inlineArrangement(value) {\r\n        this.inline.arrangement = value;\r\n    }\r\n    load(data) {\r\n        var _a;\r\n        if (data !== undefined) {\r\n            this.draw.load(data.draw);\r\n            const inline = (_a = data.inline) !== null && _a !== void 0 ? _a : {\r\n                arrangement: data.inlineArrangement,\r\n            };\r\n            if (inline !== undefined) {\r\n                this.inline.load(inline);\r\n            }\r\n            this.move.load(data.move);\r\n            if (data.scale !== undefined) {\r\n                this.scale = data.scale;\r\n            }\r\n            if (data.type !== undefined) {\r\n                this.type = data.type;\r\n            }\r\n            if (data.enable !== undefined) {\r\n                this.enable = data.enable;\r\n            }\r\n            else {\r\n                this.enable = this.type !== Enums_1.Type.none;\r\n            }\r\n            if (data.url !== undefined) {\r\n                this.url = data.url;\r\n            }\r\n            if (data.data !== undefined) {\r\n                if (typeof data.data === \"string\") {\r\n                    this.data = data.data;\r\n                }\r\n                else {\r\n                    this.data = new LocalSvg_1.LocalSvg();\r\n                    this.data.load(data.data);\r\n                }\r\n            }\r\n            if (data.position !== undefined) {\r\n                this.position = Utils_1.Utils.deepExtend({}, data.position);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.PolygonMask = PolygonMask;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PolygonDrawerBase = void 0;\r\nclass PolygonDrawerBase {\r\n    getSidesCount(particle) {\r\n        var _a, _b;\r\n        const polygon = particle.shapeData;\r\n        return (_b = (_a = polygon === null || polygon === void 0 ? void 0 : polygon.sides) !== null && _a !== void 0 ? _a : polygon === null || polygon === void 0 ? void 0 : polygon.nb_sides) !== null && _b !== void 0 ? _b : 5;\r\n    }\r\n    draw(context, particle, radius) {\r\n        const start = this.getCenter(particle, radius);\r\n        const side = this.getSidesData(particle, radius);\r\n        const sideCount = side.count.numerator * side.count.denominator;\r\n        const decimalSides = side.count.numerator / side.count.denominator;\r\n        const interiorAngleDegrees = (180 * (decimalSides - 2)) / decimalSides;\r\n        const interiorAngle = Math.PI - (Math.PI * interiorAngleDegrees) / 180;\r\n        if (!context) {\r\n            return;\r\n        }\r\n        context.beginPath();\r\n        context.translate(start.x, start.y);\r\n        context.moveTo(0, 0);\r\n        for (let i = 0; i < sideCount; i++) {\r\n            context.lineTo(side.length, 0);\r\n            context.translate(side.length, 0);\r\n            context.rotate(interiorAngle);\r\n        }\r\n    }\r\n}\r\nexports.PolygonDrawerBase = PolygonDrawerBase;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Absorber = void 0;\r\nconst AbsorberSize_1 = require(\"./AbsorberSize\");\r\nconst OptionsColor_1 = require(\"../../../../Options/Classes/OptionsColor\");\r\nclass Absorber {\r\n    constructor() {\r\n        this.color = new OptionsColor_1.OptionsColor();\r\n        this.color.value = \"#000000\";\r\n        this.draggable = false;\r\n        this.opacity = 1;\r\n        this.destroy = true;\r\n        this.orbits = false;\r\n        this.size = new AbsorberSize_1.AbsorberSize();\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.color !== undefined) {\r\n            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n        }\r\n        if (data.draggable !== undefined) {\r\n            this.draggable = data.draggable;\r\n        }\r\n        this.name = data.name;\r\n        if (data.opacity !== undefined) {\r\n            this.opacity = data.opacity;\r\n        }\r\n        if (data.position !== undefined) {\r\n            this.position = {\r\n                x: data.position.x,\r\n                y: data.position.y,\r\n            };\r\n        }\r\n        if (data.size !== undefined) {\r\n            this.size.load(data.size);\r\n        }\r\n        if (data.destroy !== undefined) {\r\n            this.destroy = data.destroy;\r\n        }\r\n        if (data.orbits !== undefined) {\r\n            this.orbits = data.orbits;\r\n        }\r\n    }\r\n}\r\nexports.Absorber = Absorber;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EmitterSize = void 0;\r\nconst Enums_1 = require(\"../../../../Enums\");\r\nclass EmitterSize {\r\n    constructor() {\r\n        this.mode = Enums_1.SizeMode.percent;\r\n        this.height = 0;\r\n        this.width = 0;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.mode !== undefined) {\r\n            this.mode = data.mode;\r\n        }\r\n        if (data.height !== undefined) {\r\n            this.height = data.height;\r\n        }\r\n        if (data.width !== undefined) {\r\n            this.width = data.width;\r\n        }\r\n    }\r\n}\r\nexports.EmitterSize = EmitterSize;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Emitter = void 0;\r\nconst Enums_1 = require(\"../../../../Enums\");\r\nconst EmitterRate_1 = require(\"./EmitterRate\");\r\nconst EmitterLife_1 = require(\"./EmitterLife\");\r\nconst Utils_1 = require(\"../../../../Utils\");\r\nconst EmitterSize_1 = require(\"./EmitterSize\");\r\nconst AnimatableColor_1 = require(\"../../../../Options/Classes/Particles/AnimatableColor\");\r\nclass Emitter {\r\n    constructor() {\r\n        this.autoPlay = true;\r\n        this.direction = Enums_1.MoveDirection.none;\r\n        this.life = new EmitterLife_1.EmitterLife();\r\n        this.rate = new EmitterRate_1.EmitterRate();\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.autoPlay !== undefined) {\r\n            this.autoPlay = data.autoPlay;\r\n        }\r\n        if (data.size !== undefined) {\r\n            if (this.size === undefined) {\r\n                this.size = new EmitterSize_1.EmitterSize();\r\n            }\r\n            this.size.load(data.size);\r\n        }\r\n        if (data.direction !== undefined) {\r\n            this.direction = data.direction;\r\n        }\r\n        this.life.load(data.life);\r\n        this.name = data.name;\r\n        if (data.particles !== undefined) {\r\n            this.particles = Utils_1.Utils.deepExtend({}, data.particles);\r\n        }\r\n        this.rate.load(data.rate);\r\n        if (data.position !== undefined) {\r\n            this.position = {\r\n                x: data.position.x,\r\n                y: data.position.y,\r\n            };\r\n        }\r\n        if (data.spawnColor !== undefined) {\r\n            if (this.spawnColor === undefined) {\r\n                this.spawnColor = new AnimatableColor_1.AnimatableColor();\r\n            }\r\n            this.spawnColor.load(data.spawnColor);\r\n        }\r\n    }\r\n}\r\nexports.Emitter = Emitter;\r\n","'use strict';\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  module.exports = require('./cjs/react-reconciler.production.min.js');\r\n} else {\r\n  module.exports = require('./cjs/react-reconciler.development.js');\r\n}\r\n","'use strict';\r\n\r\nObject.defineProperty(exports, '__esModule', { value: true });\r\n\r\nfunction shallow(objA, objB) {\r\n  if (Object.is(objA, objB)) {\r\n    return true;\r\n  }\r\n\r\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\r\n    return false;\r\n  }\r\n\r\n  var keysA = Object.keys(objA);\r\n\r\n  if (keysA.length !== Object.keys(objB).length) {\r\n    return false;\r\n  }\r\n\r\n  for (var i = 0; i < keysA.length; i++) {\r\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexports.default = shallow;\r\n","import {\r\n\tEventDispatcher,\r\n\tMOUSE,\r\n\tQuaternion,\r\n\tSpherical,\r\n\tTOUCH,\r\n\tVector2,\r\n\tVector3\r\n} from '../../../build/three.module.js';\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n//\r\n//    Orbit - left mouse / touch: one-finger move\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n\r\nvar OrbitControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\r\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// Set to false to disable this control\r\n\tthis.enabled = true;\r\n\r\n\t// \"target\" sets the location of focus, where the object orbits around\r\n\tthis.target = new Vector3();\r\n\r\n\t// How far you can dolly in and out ( PerspectiveCamera only )\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\t// How far you can zoom in and out ( OrthographicCamera only )\r\n\tthis.minZoom = 0;\r\n\tthis.maxZoom = Infinity;\r\n\r\n\t// How far you can orbit vertically, upper and lower limits.\r\n\t// Range is 0 to Math.PI radians.\r\n\tthis.minPolarAngle = 0; // radians\r\n\tthis.maxPolarAngle = Math.PI; // radians\r\n\r\n\t// How far you can orbit horizontally, upper and lower limits.\r\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\r\n\tthis.minAzimuthAngle = - Infinity; // radians\r\n\tthis.maxAzimuthAngle = Infinity; // radians\r\n\r\n\t// Set to true to enable damping (inertia)\r\n\t// If damping is enabled, you must call controls.update() in your animation loop\r\n\tthis.enableDamping = false;\r\n\tthis.dampingFactor = 0.05;\r\n\r\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n\t// Set to false to disable zooming\r\n\tthis.enableZoom = true;\r\n\tthis.zoomSpeed = 1.0;\r\n\r\n\t// Set to false to disable rotating\r\n\tthis.enableRotate = true;\r\n\tthis.rotateSpeed = 1.0;\r\n\r\n\t// Set to false to disable panning\r\n\tthis.enablePan = true;\r\n\tthis.panSpeed = 1.0;\r\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\r\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\r\n\r\n\t// Set to true to automatically rotate around the target\r\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\tthis.autoRotate = false;\r\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\r\n\r\n\t// The four arrow keys\r\n\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\r\n\r\n\t// Mouse buttons\r\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\r\n\r\n\t// Touch fingers\r\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\r\n\r\n\t// for reset\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t// the target DOM element for key events\r\n\tthis._domElementKeyEvents = null;\r\n\r\n\t//\r\n\t// public methods\r\n\t//\r\n\r\n\tthis.getPolarAngle = function () {\r\n\r\n\t\treturn spherical.phi;\r\n\r\n\t};\r\n\r\n\tthis.getAzimuthalAngle = function () {\r\n\r\n\t\treturn spherical.theta;\r\n\r\n\t};\r\n\r\n\tthis.listenToKeyEvents = function ( domElement ) {\r\n\r\n\t\tdomElement.addEventListener( 'keydown', onKeyDown );\r\n\t\tthis._domElementKeyEvents = domElement;\r\n\r\n\t};\r\n\r\n\tthis.saveState = function () {\r\n\r\n\t\tscope.target0.copy( scope.target );\r\n\t\tscope.position0.copy( scope.object.position );\r\n\t\tscope.zoom0 = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tscope.update();\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t};\r\n\r\n\t// this method is exposed, but perhaps it would be better if we can make it private...\r\n\tthis.update = function () {\r\n\r\n\t\tvar offset = new Vector3();\r\n\r\n\t\t// so camera.up is the orbit axis\r\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\r\n\t\tvar quatInverse = quat.clone().invert();\r\n\r\n\t\tvar lastPosition = new Vector3();\r\n\t\tvar lastQuaternion = new Quaternion();\r\n\r\n\t\tvar twoPI = 2 * Math.PI;\r\n\r\n\t\treturn function update() {\r\n\r\n\t\t\tvar position = scope.object.position;\r\n\r\n\t\t\toffset.copy( position ).sub( scope.target );\r\n\r\n\t\t\t// rotate offset to \"y-axis-is-up\" space\r\n\t\t\toffset.applyQuaternion( quat );\r\n\r\n\t\t\t// angle from z-axis around y-axis\r\n\t\t\tspherical.setFromVector3( offset );\r\n\r\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\r\n\r\n\t\t\t\trotateLeft( getAutoRotationAngle() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scope.enableDamping ) {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict theta to be between desired limits\r\n\r\n\t\t\tvar min = scope.minAzimuthAngle;\r\n\t\t\tvar max = scope.maxAzimuthAngle;\r\n\r\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\r\n\r\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\r\n\r\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\r\n\r\n\t\t\t\tif ( min <= max ) {\r\n\r\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\r\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\r\n\t\t\t\t\t\tMath.min( max, spherical.theta );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict phi to be between desired limits\r\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\r\n\r\n\t\t\tspherical.makeSafe();\r\n\r\n\r\n\t\t\tspherical.radius *= scale;\r\n\r\n\t\t\t// restrict radius to be between desired limits\r\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\r\n\r\n\t\t\t// move target to panned location\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tscope.target.add( panOffset );\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset.setFromSpherical( spherical );\r\n\r\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\r\n\t\t\toffset.applyQuaternion( quatInverse );\r\n\r\n\t\t\tposition.copy( scope.target ).add( offset );\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\r\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\r\n\r\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\r\n\r\n\t\t\t\tpanOffset.set( 0, 0, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscale = 1;\r\n\r\n\t\t\t// update condition is:\r\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\r\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n\t\t\tif ( zoomChanged ||\r\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\r\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\tzoomChanged = false;\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\r\n\r\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\r\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart );\r\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\r\n\r\n\r\n\t\tif ( scope._domElementKeyEvents !== null ) {\r\n\r\n\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\r\n\r\n\t\t}\r\n\r\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n\r\n\t};\r\n\r\n\t//\r\n\t// internals\r\n\t//\r\n\r\n\tvar scope = this;\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\tvar STATE = {\r\n\t\tNONE: - 1,\r\n\t\tROTATE: 0,\r\n\t\tDOLLY: 1,\r\n\t\tPAN: 2,\r\n\t\tTOUCH_ROTATE: 3,\r\n\t\tTOUCH_PAN: 4,\r\n\t\tTOUCH_DOLLY_PAN: 5,\r\n\t\tTOUCH_DOLLY_ROTATE: 6\r\n\t};\r\n\r\n\tvar state = STATE.NONE;\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\t// current position in spherical coordinates\r\n\tvar spherical = new Spherical();\r\n\tvar sphericalDelta = new Spherical();\r\n\r\n\tvar scale = 1;\r\n\tvar panOffset = new Vector3();\r\n\tvar zoomChanged = false;\r\n\r\n\tvar rotateStart = new Vector2();\r\n\tvar rotateEnd = new Vector2();\r\n\tvar rotateDelta = new Vector2();\r\n\r\n\tvar panStart = new Vector2();\r\n\tvar panEnd = new Vector2();\r\n\tvar panDelta = new Vector2();\r\n\r\n\tvar dollyStart = new Vector2();\r\n\tvar dollyEnd = new Vector2();\r\n\tvar dollyDelta = new Vector2();\r\n\r\n\tfunction getAutoRotationAngle() {\r\n\r\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n\t}\r\n\r\n\tfunction getZoomScale() {\r\n\r\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n\t}\r\n\r\n\tfunction rotateLeft( angle ) {\r\n\r\n\t\tsphericalDelta.theta -= angle;\r\n\r\n\t}\r\n\r\n\tfunction rotateUp( angle ) {\r\n\r\n\t\tsphericalDelta.phi -= angle;\r\n\r\n\t}\r\n\r\n\tvar panLeft = function () {\r\n\r\n\t\tvar v = new Vector3();\r\n\r\n\t\treturn function panLeft( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\r\n\t\t\tv.multiplyScalar( - distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tvar panUp = function () {\r\n\r\n\t\tvar v = new Vector3();\r\n\r\n\t\treturn function panUp( distance, objectMatrix ) {\r\n\r\n\t\t\tif ( scope.screenSpacePanning === true ) {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\r\n\t\t\t\tv.crossVectors( scope.object.up, v );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tv.multiplyScalar( distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\t// deltaX and deltaY are in pixels; right and down are positive\r\n\tvar pan = function () {\r\n\r\n\t\tvar offset = new Vector3();\r\n\r\n\t\treturn function pan( deltaX, deltaY ) {\r\n\r\n\t\t\tvar element = scope.domElement;\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t// perspective\r\n\t\t\t\tvar position = scope.object.position;\r\n\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\t\t\t\tvar targetDistance = offset.length();\r\n\r\n\t\t\t\t// half of the fov is center to top of screen\r\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\r\n\r\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\r\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\r\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t// orthographic\r\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\r\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// camera neither orthographic nor perspective\r\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\t\t\t\tscope.enablePan = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction dollyOut( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale /= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction dollyIn( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale *= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event callbacks - update the object state\r\n\t//\r\n\r\n\tfunction handleMouseDownRotate( event ) {\r\n\r\n\t\trotateStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownDolly( event ) {\r\n\r\n\t\tdollyStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownPan( event ) {\r\n\r\n\t\tpanStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveRotate( event ) {\r\n\r\n\t\trotateEnd.set( event.clientX, event.clientY );\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveDolly( event ) {\r\n\r\n\t\tdollyEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMovePan( event ) {\r\n\r\n\t\tpanEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseUp( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\tfunction handleMouseWheel( event ) {\r\n\r\n\t\tif ( event.deltaY < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t} else if ( event.deltaY > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleKeyDown( event ) {\r\n\r\n\t\tvar needsUpdate = false;\r\n\r\n\t\tswitch ( event.code ) {\r\n\r\n\t\t\tcase scope.keys.UP:\r\n\t\t\t\tpan( 0, scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.BOTTOM:\r\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.LEFT:\r\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.RIGHT:\r\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( needsUpdate ) {\r\n\r\n\t\t\t// prevent the browser from scrolling on cursor keys\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tscope.update();\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartPan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyStart.set( 0, distance );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMovePan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyEnd.set( 0, distance );\r\n\r\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\r\n\r\n\t\tdollyOut( dollyDelta.y );\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchEnd( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event handlers - FSM: listen for events and reset state\r\n\t//\r\n\r\n\tfunction onPointerDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseDown( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseMove( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerUp( event ) {\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseUp( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\t// Prevent the browser from scrolling.\r\n\t\tevent.preventDefault();\r\n\r\n\t\t// Manually set the focus since calling preventDefault above\r\n\t\t// prevents the browser from setting it automatically.\r\n\r\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\r\n\r\n\t\tvar mouseAction;\r\n\r\n\t\tswitch ( event.button ) {\r\n\r\n\t\t\tcase 0:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tmouseAction = - 1;\r\n\r\n\t\t}\r\n\r\n\t\tswitch ( mouseAction ) {\r\n\r\n\t\t\tcase MOUSE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseDownDolly( event );\r\n\r\n\t\t\t\tstate = STATE.DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUSE.ROTATE:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUSE.PAN:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove );\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp );\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleMouseUp( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onMouseWheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\thandleMouseWheel( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction onKeyDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\r\n\r\n\t\thandleKeyDown( event );\r\n\r\n\t}\r\n\r\n\tfunction onTouchStart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tswitch ( scope.touches.ONE ) {\r\n\r\n\t\t\t\t\tcase TOUCH.ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase TOUCH.PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tswitch ( scope.touches.TWO ) {\r\n\r\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.TOUCH_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMovePan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyPan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchEnd( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleTouchEnd( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onContextMenu( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\r\n\r\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\r\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel );\r\n\r\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart );\r\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd );\r\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove );\r\n\r\n\t// force an update at start\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\r\nOrbitControls.prototype.constructor = OrbitControls;\r\n\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n// This is very similar to OrbitControls, another set of touch behavior\r\n//\r\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - left mouse, or arrow keys / touch: one-finger move\r\n\r\nvar MapControls = function ( object, domElement ) {\r\n\r\n\tOrbitControls.call( this, object, domElement );\r\n\r\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\r\n\r\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\r\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\r\n\r\n\tthis.touches.ONE = TOUCH.PAN;\r\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\r\n\r\n};\r\n\r\nMapControls.prototype = Object.create( EventDispatcher.prototype );\r\nMapControls.prototype.constructor = MapControls;\r\n\r\nexport { OrbitControls, MapControls };\r\n","const ReactParticles = require('./cjs/particles');\r\nfor (let key in ReactParticles) {\r\n    ReactParticles.default[key] = ReactParticles[key];\r\n}\r\nmodule.exports = ReactParticles.default;","/** @license React v17.0.2\r\n * react.production.min.js\r\n *\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\r\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\r\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\r\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\r\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\r\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\r\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\r\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\r\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\r\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\r\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\r\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\r\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\r\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\r\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\r\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.2\";\r\n","/** @license React v17.0.2\r\n * react-dom.production.min.js\r\n *\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\r\n/*\r\n Modernizr 3.0.0pre (Custom Build) | MIT\r\n*/\r\n'use strict';var aa=require(\"react\"),m=require(\"object-assign\"),r=require(\"scheduler\");function y(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b);ea(a+\"Capture\",b)}\r\nfunction ea(a,b){ca[a]=b;for(a=0;a<b.length;a++)ba.add(b[a])}\r\nvar fa=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ha=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ia=Object.prototype.hasOwnProperty,\r\nja={},ka={};function la(a){if(ia.call(ka,a))return!0;if(ia.call(ja,a))return!1;if(ha.test(a))return ka[a]=!0;ja[a]=!0;return!1}function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\r\nfunction na(a,b,c,d){if(null===b||\"undefined\"===typeof b||ma(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var D={};\r\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});\r\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});\r\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}\r\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(oa,\r\npa);D[b]=new B(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});\r\nD.xlinkHref=new B(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});\r\nfunction qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(na(b,c,e,d)&&(c=null),d||null===e?la(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\r\nvar ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;\r\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E(\"react.element\");ta=E(\"react.portal\");ua=E(\"react.fragment\");wa=E(\"react.strict_mode\");xa=E(\"react.profiler\");ya=E(\"react.provider\");za=E(\"react.context\");Aa=E(\"react.forward_ref\");Ba=E(\"react.suspense\");Ca=E(\"react.suspense_list\");Da=E(\"react.memo\");Ea=E(\"react.lazy\");Fa=E(\"react.block\");E(\"react.scope\");Ga=E(\"react.opaque.id\");Ha=E(\"react.debug_trace_mode\");Ia=E(\"react.offscreen\");Ja=E(\"react.legacy_hidden\")}\r\nvar Ka=\"function\"===typeof Symbol&&Symbol.iterator;function La(a){if(null===a||\"object\"!==typeof a)return null;a=Ka&&a[Ka]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var Ma;function Na(a){if(void 0===Ma)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Ma=b&&b[1]||\"\"}return\"\\n\"+Ma+a}var Oa=!1;\r\nfunction Pa(a,b){if(!a||Oa)return\"\";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\r\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Na(a):\"\"}\r\nfunction Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na(\"Lazy\");case 13:return Na(\"Suspense\");case 19:return Na(\"SuspenseList\");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return\"\"}}\r\nfunction Ra(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ua:return\"Fragment\";case ta:return\"Portal\";case xa:return\"Profiler\";case wa:return\"StrictMode\";case Ba:return\"Suspense\";case Ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case za:return(a.displayName||\"Context\")+\".Consumer\";case ya:return(a._context.displayName||\"Context\")+\".Provider\";case Aa:var b=a.render;b=b.displayName||b.name||\"\";\r\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload;a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\r\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\r\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\r\nfunction Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){b=b.checked;null!=b&&qa(a,\"checked\",b,!1)}\r\nfunction ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?bb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&bb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\r\nfunction cb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\r\nfunction bb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function db(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function eb(a,b){a=m({children:void 0},b);if(b=db(b.children))a.children=b;return a}\r\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\r\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\r\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var kb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\r\nfunction lb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function mb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?lb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\r\nvar nb,ob=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==kb.svg||\"innerHTML\"in a)a.innerHTML=b;else{nb=nb||document.createElement(\"div\");nb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\r\nfunction pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\r\nvar qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\r\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qb[b]=qb[a]})});function sb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(\"\"+b).trim():b+\"px\"}\r\nfunction tb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=sb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\r\nfunction vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(y(62));}}\r\nfunction wb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\r\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){if(null!==zb||null!==Ab)Ib(),Fb()}\r\nfunction Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}\r\nfunction Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\r\ntypeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,\"passive\",{get:function(){Pb=!0}});window.addEventListener(\"test\",Qb,Qb);window.removeEventListener(\"test\",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0;Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1;Tb=null;Rb.apply(Wb,arguments)}\r\nfunction Yb(a,b,c,d,e,f,g,h,k){Xb.apply(this,arguments);if(Sb){if(Sb){var l=Tb;Sb=!1;Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=l)}}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188));}\r\nfunction bc(a){var b=a.alternate;if(!b){b=Zb(a);if(null===b)throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\r\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(y(189));}}if(c.alternate!==d)throw Error(y(190));}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}function cc(a){a=bc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\r\nfunction dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\r\nfunction rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case \"focusin\":case \"focusout\":kc=null;break;case \"dragenter\":case \"dragleave\":lc=null;break;case \"mouseover\":case \"mouseout\":mc=null;break;case \"pointerover\":case \"pointerout\":nc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":oc.delete(b.pointerId)}}\r\nfunction tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=rc(b,c,d,e,f),null!==b&&(b=Cb(b),null!==b&&fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\r\nfunction uc(a,b,c,d,e){switch(b){case \"focusin\":return kc=tc(kc,a,b,c,d,e),!0;case \"dragenter\":return lc=tc(lc,a,b,c,d,e),!0;case \"mouseover\":return mc=tc(mc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;nc.set(f,tc(nc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}\r\nfunction vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(b=c.tag,13===b){if(b=$b(c),null!==b){a.blockedOn=b;hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\r\nfunction xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return b=Cb(c),null!==b&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}\r\nfunction Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){a=Cb(a.blockedOn);null!==a&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null);null!==lc&&xc(lc)&&(lc=null);null!==mc&&xc(mc)&&(mc=null);nc.forEach(zc);oc.forEach(zc)}\r\nfunction Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}\r\nfunction Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==kc&&Bc(kc,a);null!==lc&&Bc(lc,a);null!==mc&&Bc(mc,a);nc.forEach(b);oc.forEach(b);for(c=0;c<pc.length;c++)d=pc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&(c=pc[0],null===c.blockedOn);)vc(c),null===c.blockedOn&&pc.shift()}\r\nfunction Dc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ec={animationend:Dc(\"Animation\",\"AnimationEnd\"),animationiteration:Dc(\"Animation\",\"AnimationIteration\"),animationstart:Dc(\"Animation\",\"AnimationStart\"),transitionend:Dc(\"Transition\",\"TransitionEnd\")},Fc={},Gc={};\r\nfa&&(Gc=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),\"TransitionEvent\"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var b=Ec[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}\r\nvar Ic=Hc(\"animationend\"),Jc=Hc(\"animationiteration\"),Kc=Hc(\"animationstart\"),Lc=Hc(\"transitionend\"),Mc=new Map,Nc=new Map,Oc=[\"abort\",\"abort\",Ic,\"animationEnd\",Jc,\"animationIteration\",Kc,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\r\n\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",Lc,\"transitionEnd\",\"waiting\",\"waiting\"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e=\"on\"+(e[0].toUpperCase()+e.slice(1));Nc.set(d,b);Mc.set(d,e);da(e,[d])}}var Qc=r.unstable_now;Qc();var F=8;\r\nfunction Rc(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\r\nF=8;return a}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a));}}\r\nfunction Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=Rc(k),e=F):(h&=f,0!==h&&(d=Rc(h),e=F))}else f=c&~g,0!==f?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;d=31-Vc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){Rc(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Vc(b),e=1<<c,d|=a[c],b&=~e;return d}\r\nfunction Wc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~b),0===a?Xc(10,b):a;case 10:return a=Yc(192&~b),0===a?Xc(8,b):a;case 8:return a=Yc(3584&~b),0===a&&(a=Yc(4186112&~b),0===a&&(a=512)),a;case 2:return b=Yc(805306368&~b),0===b&&(b=268435456),b}throw Error(y(358,a));}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\r\nfunction $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Vc(b);a[b]=c}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}\r\nfunction hd(a,b,c,d){if(fd){var e;if((e=0===(b&4))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a)){a=rc(f,a,b,c,d);jc.push(a);return}if(uc(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}}\r\nfunction yc(a,b,c,d){var e=xb(d);e=wc(e);if(null!==e){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=$b(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}jd(a,b,d,e,c);return null}var kd=null,ld=null,md=null;\r\nfunction nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\r\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\r\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\r\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\r\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\r\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\r\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\r\nvar Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\r\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\r\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&\"CompositionEvent\"in window,be=null;fa&&\"documentMode\"in document&&(be=document.documentMode);var ce=fa&&\"TextEvent\"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\r\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\r\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\r\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\r\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));a=re;if(Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}\r\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;\r\nfunction Je(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\r\nfunction Le(a,b){var c=Ke(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Me(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\r\nfunction Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\r\nvar Pe=fa&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\r\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Je(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\r\nPc(\"cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),\r\n0);Pc(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);Pc(Oc,2);for(var Ve=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);\r\nea(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ea(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);ea(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);da(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));da(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));da(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);da(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));\r\nda(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));da(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Xe=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Ye=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Xe));\r\nfunction Ze(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Yb(d,b,void 0,a);a.currentTarget=null}\r\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a;}\r\nfunction G(a,b){var c=$e(b),d=a+\"__bubble\";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf=\"_reactListening\"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null);df(b,!0,a,null)}))}\r\nfunction df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;\"selectionchange\"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Ye.has(a)){if(\"scroll\"!==a)return;e|=2;f=d}var g=$e(f),h=a+\"__\"+(b?\"capture\":\"bubble\");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}\r\nfunction af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a);e=void 0;!Pb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\r\nfunction jd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Nb(function(){var d=f,e=xb(c),g=[];\r\na:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":x=\"focus\";k=Fd;break;case \"focusout\":x=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\r\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var w=0!==(b&4),z=!w&&\"scroll\"===a,u=w?null!==h?h+\"Capture\":null:h;w=[];for(var t=d,q;null!==\r\nt;){q=t;var v=q.stateNode;5===q.tag&&null!==v&&(q=v,null!==u&&(v=Ob(t,u),null!=v&&w.push(ef(t,v,q))));if(z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&0===(b&16)&&(x=c.relatedTarget||c.fromElement)&&(wc(x)||x[ff]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(x=c.relatedTarget||c.toElement,k=d,x=x?wc(x):null,null!==\r\nx&&(z=Zb(x),x!==z||5!==x.tag&&6!==x.tag))x=null}else k=null,x=d;if(k!==x){w=Bd;v=\"onMouseLeave\";u=\"onMouseEnter\";t=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)w=Td,v=\"onPointerLeave\",u=\"onPointerEnter\",t=\"pointer\";z=null==k?h:ue(k);q=null==x?h:ue(x);h=new w(v,t+\"leave\",k,c,e);h.target=z;h.relatedTarget=q;v=null;wc(e)===d&&(w=new w(u,t+\"enter\",x,c,e),w.target=q,w.relatedTarget=z,v=w);z=v;if(k&&x)b:{w=k;u=x;t=0;for(q=w;q;q=gf(q))t++;q=0;for(v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=\r\ngf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w);u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1);null!==x&&null!==z&&hf(g,z,x,w,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(J=Ee);if(J&&(J=J(a,d))){ne(g,J,c,e);break a}K&&K(a,h,d);\"focusout\"===a&&(K=h._wrapperState)&&\r\nK.controlled&&\"number\"===h.type&&bb(h,\"number\",h.value)}K=d?ue(d):window;switch(a){case \"focusin\":if(me(K)||\"true\"===K.contentEditable)Qe=K,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case \"compositionstart\":var L=\"onCompositionStart\";break b;case \"compositionend\":L=\"onCompositionEnd\";break b;\r\ncase \"compositionupdate\":L=\"onCompositionUpdate\";break b}L=void 0}else ie?ge(a,c)&&(L=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(L=\"onCompositionStart\");L&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==L?\"onCompositionEnd\"===L&&ie&&(Q=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),K=oe(d,L),0<K.length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:(Q=he(c),null!==Q&&(L.data=Q))));if(Q=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),0<d.length&&(e=new Ld(\"onBeforeInput\",\r\n\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=Q)}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Ob(a,c),null!=f&&d.unshift(ef(a,f,e)),f=Ob(a,b),null!=f&&d.push(ef(a,f,e)));a=a.return}return d}function gf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\r\nfunction hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Ob(c,f),null!=k&&g.unshift(ef(c,k,h))):e||(k=Ob(c,f),null!=k&&g.push(ef(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\r\nfunction nf(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of=\"function\"===typeof setTimeout?setTimeout:void 0,pf=\"function\"===typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent=\"\":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=\"\"))}\r\nfunction rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf=\"__reactFiber$\"+vf,xf=\"__reactProps$\"+vf,ff=\"__reactContainer$\"+vf,yf=\"__reactEvents$\"+vf;\r\nfunction wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[wf]||a[ff];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33));}function Db(a){return a[xf]||null}\r\nfunction $e(a){var b=a[yf];void 0===b&&(b=a[yf]=new Set);return b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++;zf[Af]=a.current;a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;\r\nfunction Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ff(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gf(){H(N);H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b);I(N,c)}\r\nfunction If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(y(108,Ra(b)||\"Unknown\",e));return m({},c,d)}function Jf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf;Df=M.current;I(M,a);I(N,N.current);return!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N);I(N,c)}\r\nvar Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1E4>dg?Sf:function(){return Sf()-dg};\r\nfunction eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332));}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332));}}function gg(a,b){a=fg(a);return Nf(a,b)}function hg(a,b,c){a=fg(a);return Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null;Pf(a)}jg()}\r\nfunction jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c;}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){b=m({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}\r\nfunction rg(a){var b=mg.current;H(mg);a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a;pg=og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}\r\nfunction vg(a,b){if(pg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)pg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===og){if(null===ng)throw Error(y(308));og=b;ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b}return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}\r\nfunction yg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\r\nfunction Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\r\nb;c.lastBaseUpdate=b}\r\nfunction Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var A=n.lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){A=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\r\nnext:null});a:{var C=a,x=f;h=b;p=c;switch(x.tag){case 1:C=x.payload;if(\"function\"===typeof C){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=C.flags&-4097|64;case 0:C=x.payload;h=\"function\"===typeof C?C.call(p,A,h):C;if(null===h||void 0===h)break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;f=f.next;if(null===\r\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=A);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;Dg|=g;a.lanes=g;a.memoizedState=A}}function Eg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;\r\nfunction Gg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:m({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\r\nvar Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\r\nb);Ag(a,e);Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Je(c,d)||!Je(e,f):!0}\r\nfunction Mg(a,b,c){var d=!1,e=Cf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Kg;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\r\nfunction Ng(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}\r\nfunction Og(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Fg;xg(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f));Cg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Gg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\r\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;\r\nfunction Qg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Fg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a));}return a}\r\nfunction Rg(a,b){if(\"textarea\"!==a.type)throw Error(y(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\r\nfunction Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Tg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\r\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Ug(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Qg(a,b,c),d.return=a,d;d=Vg(c.type,c.key,c.props,null,a.mode,d);d.ref=Qg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\r\nWg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Xg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function A(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Ug(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case sa:return c=Vg(b.type,b.key,b.props,null,a.mode,c),c.ref=Qg(a,null,b),c.return=a,c;case ta:return b=Wg(b,a.mode,c),b.return=a,b}if(Pg(b)||La(b))return b=Xg(b,\r\na.mode,c,null),b.return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\r\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Pg(d)||La(d))return a=a.get(c)||null,n(b,a,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===\r\nn.alternate&&b(e,u);g=f(n,g,z);null===t?l=n:t.sibling=n;t=n;u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)u=A(e,h[z],k),null!==u&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)q=C(u,e,z,h[z],k),null!==q&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);a&&u.forEach(function(a){return b(e,a)});return l}function w(e,g,h,k){var l=La(h);if(\"function\"!==typeof l)throw Error(y(150));h=l.call(h);if(null==\r\nh)throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u);g=f(w,g,z);null===t?l=w:t.sibling=w;t=w;u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())n=A(e,n.value,k),null!==n&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())n=C(u,e,z,n.value,k),null!==n&&(a&&null!==n.alternate&&\r\nu.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);a&&u.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ua){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\r\nd=e(k,f.props);d.ref=Qg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ua?(d=Xg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Vg(f.type,f.key,f.props,null,a.mode,h),h.ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\r\nWg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Ug(f,a.mode,h),d.return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);l&&Rg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||\"Component\"));}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);\r\nfunction dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){I(ch,b);I(bh,a);I(ah,$g);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=mb(b,a)}H(ah);I(ah,b)}function fh(){H(ah);H(bh);H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current);var c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);\r\nfunction ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var jh=null,kh=null,lh=!1;\r\nfunction mh(a,b){var c=nh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\r\nfunction ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){b=rf(c.nextSibling);if(!b||!oh(a,b)){a.flags=a.flags&-1025|2;lh=!1;jh=a;return}mh(jh,c)}jh=a;kh=rf(b.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}\r\nfunction rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(y(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}\r\nfunction sh(){kh=jh=null;lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321));}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\r\nfunction Ch(a,b,c,d,e,f){xh=f;R=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;vh.current=null===a||null===a.memoizedState?Dh:Eh;a=c(d,e);if(zh){f=0;do{zh=!1;if(!(25>f))throw Error(y(301));f+=1;T=S=null;b.updateQueue=null;vh.current=Fh;a=c(d,e)}while(zh)}vh.current=Gh;b=null!==S&&null!==S.next;xh=0;T=S=R=null;yh=!1;if(b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===T?R.memoizedState=T=a:T=T.next=a;return T}\r\nfunction Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));S=a;a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null};null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return\"function\"===typeof b?b(a):b}\r\nfunction Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\r\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;R.lanes|=l;Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;He(d,b.memoizedState)||(ug=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\r\nfunction Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\r\nfunction Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(xh&a)===a)b._workInProgressVersionPrimary=d,th.push(b);if(a)return c(b._source);th.push(b);throw Error(y(350));}\r\nfunction Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source);He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\r\ne.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a;h&=~v}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);He(C,c)&&He(x,b)&&He(A,d)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n},a.dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n);return n}\r\nfunction Ph(a,b,c){var d=Ih();return Nh(d,a,b,c)}function Qh(a){var b=Hh();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a};a=a.dispatch=Oh.bind(null,R,a);return[b.memoizedState,a]}\r\nfunction Rh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=R.updateQueue;null===b?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Sh(a){var b=Hh();a={current:a};return b.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a;e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}\r\nfunction Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;f=g.destroy;if(null!==d&&Bh(d,g.deps)){Rh(b,c,f,d);return}}R.flags|=a;e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\r\nfunction $h(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\r\nfunction di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)});gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}\r\nfunction Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(He(k,h))return}catch(l){}finally{}Jg(a,e,d)}}\r\nvar Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){Hh().memoizedState=[a,void 0===b?null:b];return a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Uh(4,2,Zh.bind(null,\r\nb,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Hh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Oh.bind(null,R,a);return[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];Wh(function(){var b=wh.transition;\r\nwh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Qh(!1),b=a[0];a=di.bind(null,a[1]);Sh(a);return[a,b]},useMutableSource:function(a,b,c){var d=Hh();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=uf(function(){a||(a=!0,c(\"r:\"+(tf++).toString(36)));throw Error(y(355));}),c=Qh(b)[1];0===(R.mode&2)&&(R.flags|=516,Rh(5,function(){c(\"r:\"+(tf++).toString(36))},\r\nvoid 0,null));return b}b=\"r:\"+(tf++).toString(36);Qh(b);return b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,\r\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,\r\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;tg(b,e);d=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,d,e);return b.child}\r\nfunction ii(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!ji(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ki(a,b,g,d,e,f);a=Vg(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Je,c(e,d)&&a.ref===b.ref))return hi(a,b,f);b.flags|=1;a=Tg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\r\nfunction ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref)if(ug=!1,0!==(f&e))0!==(a.flags&16384)&&(ug=!0);else return b.lanes=a.lanes,hi(a,b,f);return li(a,b,c,d,f)}\r\nfunction mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},ni(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);fi(a,b,e,c);return b.child}\r\nfunction oi(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;f=Ef(b,f);tg(b,e);c=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,c,e);return b.child}\r\nfunction pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;tg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=vg(l):(l=Ff(c)?Df:M.current,l=Ef(b,l));var n=c.getDerivedStateFromProps,A=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;A||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\r\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l);wg=!1;var p=b.memoizedState;g.state=p;Cg(b,d,g,e);k=b.memoizedState;h!==d||p!==k||N.current||wg?(\"function\"===typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\r\ntypeof g.componentDidMount&&(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;yg(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:lg(b.type,h);g.props=l;A=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=vg(k):(k=Ff(c)?Df:M.current,k=Ef(b,k));var C=c.getDerivedStateFromProps;(n=\"function\"===typeof C||\r\n\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k);wg=!1;p=b.memoizedState;g.state=p;Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?(\"function\"===typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\r\nx,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||\r\nh===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}\r\nfunction qi(a,b,c,d,e,f){oi(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode;ei.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);eh(a,b.containerInfo)}\r\nvar si={dehydrated:null,retryLane:0};\r\nfunction ti(a,b,c){var d=b.pendingProps,e=P.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);I(P,e&1);if(null===a){void 0!==d.fallback&&ph(b);a=d.children;e=d.fallback;if(f)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},\r\nb.memoizedState=si,b.lanes=33554432,a;c=vi({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\r\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}function ui(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=vi(b,e,0,null);c=Xg(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\r\nfunction xi(a,b,c,d){var e=a.child;a=e.sibling;c=Tg(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\r\nfunction wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Tg(g,h);null!==a?d=Tg(a,d):(d=Xg(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);sg(a.return,b)}\r\nfunction zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\r\nfunction Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;fi(a,b,d.children,c);d=P.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(P,d);if(0===(b.mode&2))b.memoizedState=\r\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ih(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);zi(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ih(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}zi(b,!0,c,null,f,b.lastEffect);break;case \"together\":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\r\nfunction hi(a,b,c){null!==a&&(b.dependencies=a.dependencies);Dg|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){a=b.child;c=Tg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Tg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;\r\nBi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ci=function(){};\r\nDi=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;dh(ah.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"option\":e=eb(a,e);d=eb(a,d);f=[];break;case \"select\":e=m({},e,{value:void 0});d=m({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=jf)}vb(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===\r\nl){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||\r\n(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ca.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&G(\"scroll\",a),f||h===k||(f=[])):\"object\"===typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",\r\nc);var l=f;if(b.updateQueue=l)b.flags|=4}};Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};function Fi(a,b){if(!lh)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\r\nfunction Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:fh();H(N);H(M);uh();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)rh(b)?b.flags|=4:d.hydrate||(b.flags|=256);Ci(b);return null;case 5:hh(b);var e=dh(ch.current);c=b.type;if(null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\r\nb.stateNode)throw Error(y(166));return null}a=dh(ah.current);if(rh(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[wf]=b;d[xf]=f;switch(c){case \"dialog\":G(\"cancel\",d);G(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case \"source\":G(\"error\",d);break;case \"img\":case \"image\":case \"link\":G(\"error\",d);G(\"load\",d);break;case \"details\":G(\"toggle\",d);break;case \"input\":Za(d,f);G(\"invalid\",d);break;case \"select\":d._wrapperState=\r\n{wasMultiple:!!f.multiple};G(\"invalid\",d);break;case \"textarea\":hb(d,f),G(\"invalid\",d)}vb(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],\"children\"===g?\"string\"===typeof e?d.textContent!==e&&(a=[\"children\",e]):\"number\"===typeof e&&d.textContent!==\"\"+e&&(a=[\"children\",\"\"+e]):ca.hasOwnProperty(g)&&null!=e&&\"onScroll\"===g&&G(\"scroll\",d));switch(c){case \"input\":Va(d);cb(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=\r\njf)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;a===kb.html&&(a=lb(c));a===kb.html?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[wf]=b;a[xf]=d;Bi(a,b,!1,!1);b.stateNode=a;g=wb(c,d);switch(c){case \"dialog\":G(\"cancel\",a);G(\"close\",a);\r\ne=d;break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case \"source\":G(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":G(\"error\",a);G(\"load\",a);e=d;break;case \"details\":G(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);G(\"invalid\",a);break;case \"option\":e=eb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=m({},d,{value:void 0});G(\"invalid\",a);break;case \"textarea\":hb(a,d);e=\r\ngb(a,d);G(\"invalid\",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?tb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&ob(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==c||\"\"!==k)&&pb(a,k):\"number\"===typeof k&&pb(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ca.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&G(\"scroll\",a):null!=k&&qa(a,f,k,g))}switch(c){case \"input\":Va(a);cb(a,d,!1);\r\nbreak;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(y(166));\r\nc=dh(ch.current);dh(ah.current);rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[wf]=b,b.stateNode=d)}return null;case 13:H(P);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState;if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&1))0===V&&(V=3);else{if(0===V||3===V)V=\r\n4;null===U||0===(Dg&134217727)&&0===(Hi&134217727)||Ii(U,W)}if(d||c)b.flags|=4;return null;case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:H(P);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)Fi(d,!1);else{if(0!==V||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=ih(a);if(null!==g){b.flags|=64;Fi(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);\r\nnull===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,\r\nf.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;I(P,P.current&1|2);return b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(a=ih(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!g.alternate&&!lh)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=\r\n64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?b&1|2:b&1),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag));}\r\nfunction Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:fh();H(N);H(M);uh();b=a.flags;if(0!==(b&64))throw Error(y(285));a.flags=b&-4097|64;return a;case 5:return hh(a),null;case 13:return H(P),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}\r\nfunction Mi(a,b){try{var c=\"\",d=b;do c+=Qa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Oi=\"function\"===typeof WeakMap?WeakMap:Map;function Pi(a,b,c){c=zg(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Qi||(Qi=!0,Ri=d);Ni(a,b)};return c}\r\nfunction Si(a,b,c){c=zg(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ni(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Ui=\"function\"===typeof WeakSet?WeakSet:Set;\r\nfunction Vi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}\r\nfunction Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Zi(c,a),$i(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,\r\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Eg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mf(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c))));\r\nreturn;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}\r\nfunction aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d=d.style,\"function\"===typeof d.setProperty?d.setProperty(\"display\",\"none\",\"important\"):d.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=sb(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===\r\na)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\r\nfunction bj(a,b){if(Mf&&\"function\"===typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:Vi(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,\r\nf)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}\r\nfunction fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(y(161));}c.flags&16&&(pb(b,\"\"),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\r\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}\r\nfunction gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=jf));else if(4!==d&&(a=a.child,null!==a))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}\r\nfunction hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}\r\nfunction cj(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,\r\n8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\r\nfunction ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[xf]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&$a(c,d);wb(a,e);b=wb(a,d);for(e=0;e<f.length;e+=\r\n2){var g=f[e],h=f[e+1];\"style\"===g?tb(c,h):\"dangerouslySetInnerHTML\"===g?ob(c,h):\"children\"===g?pb(c,h):qa(c,g,h,b)}switch(a){case \"input\":ab(c,d);break;case \"textarea\":ib(c,d);break;case \"select\":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));b.stateNode.nodeValue=\r\nb.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,Cc(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(jj=O(),aj(b.child,!0));kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,null!==b.memoizedState);return}throw Error(y(163));}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\r\nfunction mj(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=Infinity;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 0!==(X&48)?O():-1!==Fj?Fj:Fj=O()}\r\nfunction Ig(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===eg()?1:2;0===Gj&&(Gj=tj);if(0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0);a=Gj;var b=4186112&~Hj;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=eg();0!==(X&4)&&98===a?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj));return a}\r\nfunction Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));a=Kj(a,b);if(null===a)return null;$c(a,b,c);a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?0!==(X&8)&&0===(X&48)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(0===(X&4)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c));vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\r\nfunction Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Uc(a,a===U?W:0);b=F;if(0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),\r\nc=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=Tc(b),c=hg(c,Nj.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\r\nfunction Nj(a){Fj=-1;Hj=Gj=0;if(0!==(X&48))throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c;var e=X;X|=16;var f=Pj();if(U!==a||W!==d)wj(),Qj(a,d);do try{Rj();break}catch(h){Sj(a,h)}while(1);qg();oj.current=f;X=e;null!==Y?d=0:(U=null,W=0,d=V);if(0!==(tj&Hi))Qj(a,0);else if(0!==d){2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),c=Wc(a),0!==c&&(d=Tj(a,c)));if(1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;a.finishedWork=\r\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:Ii(a,c);if((c&62914560)===c&&(d=jj+500-O(),10<d)){if(0!==Uc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){Hg();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:Ii(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-Vc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=O()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\r\nc?4320:1960*nj(c/1960))-c;if(10<c){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329));}}Mj(a,O());return a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){b&=~uj;b&=~Hi;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1;b&=~d}}\r\nfunction Lj(a){if(0!==(X&48))throw Error(y(327));Oj();if(a===U&&0!==(a.expiredLanes&W)){var b=W;var c=Tj(a,b);0!==(tj&Hi)&&(b=Uc(a,b),c=Tj(a,b))}else b=Uc(a,0),c=Tj(a,b);0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),b=Wc(a),0!==b&&(c=Tj(a,b)));if(1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Uj(a);Mj(a,O());return null}\r\nfunction Vj(){if(null!==Cj){var a=Cj;Cj=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Mj(a,O())})}ig()}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2;X|=8;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function ni(a,b){I(rj,qj);qj|=b;tj|=b}function Ki(){qj=rj.current;H(rj)}\r\nfunction Qj(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Gf();break;case 3:fh();H(N);H(M);uh();break;case 5:hh(d);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a;Y=Tg(a.current,null);W=qj=tj=b;V=0;sj=null;uj=Hi=Dg=0}\r\nfunction Sj(a,b){do{var c=Y;try{qg();vh.current=Gh;if(yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}yh=!1}xh=0;T=S=R=null;zh=!1;pj.current=null;if(null===c||null===c.return){V=1;sj=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=W;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\r\n(h.updateQueue=null,h.memoizedState=null)}var A=0!==(P.current&1),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated?!0:!1;else{var w=p.memoizedProps;C=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:A?!1:!0}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l);p.updateQueue=u}else z.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2;Ag(h,t)}h.lanes|=1;break a}k=\r\nvoid 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==V&&(V=2);k=Mi(k,h);p=\r\ng;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var J=Pi(p,f,b);Bg(p,J);break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof K.getDerivedStateFromError||null!==Q&&\"function\"===typeof Q.componentDidCatch&&(null===Ti||!Ti.has(Q)))){p.flags|=4096;b&=-b;p.lanes|=b;var L=Si(p,f,b);Bg(p,L);break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}\r\nfunction Pj(){var a=oj.current;oj.current=Gh;return null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();U===a&&W===b||Qj(a,b);do try{ak();break}catch(e){Sj(a,e)}while(1);qg();X=c;oj.current=d;if(null!==Y)throw Error(y(261));U=null;W=0;return V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps;null===b?Zj(a):Y=b;pj.current=null}\r\nfunction Zj(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=Gi(c,b,qj);if(null!==c){Y=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(qj&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\r\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=Li(b);if(null!==c){c.flags&=2047;Y=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();gg(99,dk.bind(null,a,b));return null}\r\nfunction dk(a,b){do Oj();while(null!==yj);if(0!==(X&48))throw Error(y(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\r\nCj&&0===(d&24)&&Cj.has(a)&&Cj.delete(a);a===U&&(Y=U=null,W=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=X;X|=32;pj.current=null;kf=fd;g=Ne();if(Oe(g)){if(\"selectionStart\"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode;f=l.anchorOffset;k=l.focusNode;l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;\r\nbreak a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;;){w!==h||0!==f&&3!==w.nodeType||(A=n+f);w!==k||0!==l&&3!==w.nodeType||(p=n+l);3===w.nodeType&&(n+=w.nodeValue.length);if(null===(u=w.firstChild))break;z=w;w=u}for(;;){if(w===g)break b;z===h&&++C===f&&(A=n);z===k&&++x===l&&(p=n);if(null!==(u=w.nextSibling))break;w=z;z=w.parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h};fd=!1;Ij=null;Jj=!1;Z=d;do try{ek()}catch(va){if(null===\r\nZ)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Ij=null;Z=d;do try{for(g=a;null!==Z;){var t=Z.flags;t&16&&pb(Z.stateNode,\"\");if(t&128){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&(\"function\"===typeof v?v(null):v.current=null)}}switch(t&1038){case 2:fj(Z);Z.flags&=-3;break;case 6:fj(Z);Z.flags&=-3;ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025;ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:h=Z;cj(g,h);var J=h.alternate;dj(h);null!==\r\nJ&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);v=lf;q=Ne();t=v.focusedElem;g=v.selectionRange;if(q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,v=g.end,void 0===v&&(v=q),\"selectionStart\"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window,v.getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===\r\ng.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))));q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});\"function\"===typeof t.focus&&t.focus();for(t=\r\n0;t<q.length;t++)v=q[t],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf;lf=kf=null;a.current=c;Z=d;do try{for(t=a;null!==Z;){var K=Z.flags;K&36&&Yi(t,Z.alternate,Z);if(K&128){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;switch(Z.tag){case 5:q=L;break;default:q=L}\"function\"===typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Z=null;$f();X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=\r\nZ.nextEffect,Z.nextEffect=null,Z.flags&8&&(K=Z,K.sibling=null,K.stateNode=null),Z=b;d=a.pendingLanes;0===d&&(Ti=null);1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0;c=c.stateNode;if(Mf&&\"function\"===typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,64===(c.current.flags&64))}catch(va){}Mj(a,O());if(Qi)throw Qi=!1,a=Ri,Ri=null,a;if(0!==(X&8))return null;ig();return null}\r\nfunction ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(0!==(Z.flags&8)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;0!==(b&256)&&Xi(a,Z);0===(b&512)||xj||(xj=!0,hg(97,function(){Oj();return null}));Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;zj=90;return gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}function Zi(a,b){Bj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}\r\nfunction fk(){if(null===yj)return!1;var a=yj;yj=null;if(0!==(X&48))throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}c=Aj;Aj=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\r\nnull,h.stateNode=null),h=a;X=b;ig();return!0}function gk(a,b,c){b=Mi(c,b);b=Pi(a,b,1);Ag(a,b);b=Hg();a=Kj(a,1);null!==a&&($c(a,1,b),Mj(a,b))}\r\nfunction Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){a=Mi(b,a);var e=Si(c,a,1);Ag(c,e);e=Hg();c=Kj(c,1);if(null!==c)$c(c,1,e),Mj(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\r\nfunction Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=Hg();a.pingedLanes|=a.suspendedLanes&c;U===a&&(W&c)===c&&(4===V||3===V&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=c);Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===eg()?1:2:(0===Gj&&(Gj=tj),b=Yc(62914560&~Gj),0===b&&(b=4194304)));c=Hg();a=Kj(a,b);null!==a&&($c(a,b,c),Mj(a,c))}var ck;\r\nck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else if(0!==(c&d))ug=0!==(a.flags&16384)?!0:!1;else{ug=!1;switch(b.tag){case 3:ri(b);sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return ti(a,b,c);I(P,P.current&1);b=hi(a,b,c);return null!==\r\nb?b.sibling:null}I(P,P.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Ai(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);I(P,P.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}else ug=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Ef(b,M.current);tg(b,c);e=Ch(null,b,d,a,e,c);b.flags|=1;if(\"object\"===\r\ntypeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;xg(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Gg(b,d,g,a);e.updater=Kg;b.stateNode=e;e._reactInternals=b;Og(b,d,a,c);b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);\r\na=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=hk(e);a=lg(e,a);switch(f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),li(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),pi(a,b,d,e,c);case 3:ri(b);d=b.updateQueue;if(null===a||null===d)throw Error(y(282));\r\nd=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;yg(a,b);Cg(b,d,null,c);d=b.memoizedState.element;if(d===e)sh(),b=hi(a,b,c);else{e=b.stateNode;if(f=e.hydrate)kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],th.push(f);c=Zg(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&\r\nph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),gi(a,b,d,e,c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:return fi(a,b,b.pendingProps.children,\r\nc),b.child;case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(mg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=He(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=\r\nk.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=zg(-1,c&-c),l.tag=2,Ag(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);sg(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}fi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,tg(b,c),e=vg(e,\r\nf.unstable_observedBits),d=d(e),b.flags|=1,fi(a,b,d,c),b.child;case 14:return e=b.type,f=lg(e,b.pendingProps),f=lg(e.type,f),ii(a,b,e,f,d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:return mi(a,b,c);case 24:return mi(a,b,c)}throw Error(y(156,b.tag));\r\n};function ik(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){a=a.prototype;return!(!a||!a.isReactComponent)}\r\nfunction hk(a){if(\"function\"===typeof a)return ji(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Aa)return 11;if(a===Da)return 14}return 2}\r\nfunction Tg(a,b){var c=a.alternate;null===c?(c=nh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\r\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\r\nfunction Vg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)ji(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8;e|=16;break;case wa:g=8;e|=1;break;case xa:return a=nh(12,c,b,e|8),a.elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return a=nh(13,c,b,e),a.type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return a=nh(19,c,b,e),a.elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return a=nh(24,c,b,e),a.elementType=Ja,a.lanes=f,a;default:if(\"object\"===\r\ntypeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16;d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,\"\"));}b=nh(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Xg(a,b,c,d){a=nh(7,a,d,b);a.lanes=c;return a}function vi(a,b,c,d){a=nh(23,a,d,b);a.elementType=Ia;a.lanes=c;return a}function Ug(a,b,c){a=nh(6,a,null,b);a.lanes=c;return a}\r\nfunction Wg(a,b,c){b=nh(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\r\nfunction jk(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zc(0);this.expirationTimes=Zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zc(0);this.mutableSourceEagerHydrationData=null}\r\nfunction kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\r\nfunction lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){c=c._reactInternals;b:{if(Zb(c)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171));}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=zg(f,g);b.payload={element:a};d=void 0===d?null:d;null!==\r\nd&&(b.callback=d);Ag(e,b);Jg(e,g,f);return g}function mk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b);(a=a.alternate)&&nk(a,b)}function pk(){return null}\r\nfunction qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new jk(a,b,null!=c&&!0===c.hydrate);b=nh(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;xg(b);a[ff]=c.current;cf(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}\r\nqk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})};function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}\r\nfunction sk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}\r\nfunction tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{f=c._reactRootContainer=sk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}ec=function(a){if(13===a.tag){var b=Hg();Jg(a,4,b);ok(a,4)}};fc=function(a){if(13===a.tag){var b=Hg();Jg(a,67108864,b);ok(a,67108864)}};\r\ngc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b);ok(a,c)}};hc=function(a,b){return b()};\r\nyb=function(a,b,c){switch(b){case \"input\":ab(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d);ab(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Wj;\r\nHb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{X=f,0===X&&(wj(),ig())}};Ib=function(){0===(X&49)&&(Vj(),Oj())};Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}};function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(a,b,null,c)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:\"17.0.2\",rendererPackageName:\"react-dom\"};\r\nvar xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=cc(a);return null===a?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||\r\npk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;exports.createPortal=uk;\r\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)));}a=cc(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a,b){var c=X;if(0!==(c&48))return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}};exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)};\r\nexports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null;a[ff]=null})}),!0):!1};exports.unstable_batchedUpdates=Wj;exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\r\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)};exports.version=\"17.0.2\";\r\n","/** @license React v0.20.2\r\n * scheduler.production.min.js\r\n *\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\r\n'use strict';var f,g,h,k;if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}\r\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a);t=null}catch(b){throw setTimeout(w,0),b;}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))};g=function(a,b){u=setTimeout(a,b)};h=function(){clearTimeout(u)};exports.unstable_shouldYield=function(){return!1};k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if(\"undefined\"!==typeof console){var z=\r\nwindow.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\");\"function\"!==typeof z&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=\r\nE};k=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):D=0<a?Math.floor(1E3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b;}}else A=!1};f=function(a){B=a;A||(A=!0,G.postMessage(null))};g=function(a,b){C=\r\nx(function(){a(exports.unstable_now())},b)};h=function(){y(C);C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<I(e,b))a[d]=b,a[c]=e,c=d;else break a}}function J(a){a=a[0];return void 0===a?null:a}\r\nfunction K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>I(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;\r\nfunction T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else if(b.startTime<=a)K(M),b.sortIndex=b.expirationTime,H(L,b);else break;b=J(M)}}function U(a){S=!1;T(a);if(!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}\r\nfunction V(a,b){R=!1;S&&(S=!1,h());Q=!0;var c=P;try{T(b);for(O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if(\"function\"===typeof d){O.callback=null;P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?O.callback=e:O===J(L)&&K(L);T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b);m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5;\r\nexports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))};exports.unstable_getCurrentPriorityLevel=function(){return P};exports.unstable_getFirstCallbackNode=function(){return J(L)};\r\nexports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=W;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}};\r\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V)));return a};\r\nexports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}};\r\n","/** @license React v17.0.2\r\n * react-jsx-runtime.production.min.js\r\n *\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\r\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\r\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\r\n","/** @license React v0.26.2\r\n * react-reconciler.production.min.js\r\n *\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\r\nmodule.exports = function $$$reconciler($$$hostConfig) {\r\n    var exports = {};\r\n'use strict';var aa=require(\"object-assign\"),ba=require(\"react\"),m=require(\"scheduler\");function q(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\r\nvar ca=ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,da=60103,ea=60106,fa=60107,ha=60108,ia=60114,ja=60109,ka=60110,la=60112,ma=60113,na=60120,oa=60115,pa=60116,qa=60121,ra=60129,sa=60130,ta=60131;\r\nif(\"function\"===typeof Symbol&&Symbol.for){var r=Symbol.for;da=r(\"react.element\");ea=r(\"react.portal\");fa=r(\"react.fragment\");ha=r(\"react.strict_mode\");ia=r(\"react.profiler\");ja=r(\"react.provider\");ka=r(\"react.context\");la=r(\"react.forward_ref\");ma=r(\"react.suspense\");na=r(\"react.suspense_list\");oa=r(\"react.memo\");pa=r(\"react.lazy\");qa=r(\"react.block\");r(\"react.scope\");ra=r(\"react.debug_trace_mode\");sa=r(\"react.offscreen\");ta=r(\"react.legacy_hidden\")}var ua=\"function\"===typeof Symbol&&Symbol.iterator;\r\nfunction va(a){if(null===a||\"object\"!==typeof a)return null;a=ua&&a[ua]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\r\nfunction wa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case fa:return\"Fragment\";case ea:return\"Portal\";case ia:return\"Profiler\";case ha:return\"StrictMode\";case ma:return\"Suspense\";case na:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case ka:return(a.displayName||\"Context\")+\".Consumer\";case ja:return(a._context.displayName||\"Context\")+\".Provider\";case la:var b=a.render;b=b.displayName||b.name||\"\";\r\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case oa:return wa(a.type);case qa:return wa(a._render);case pa:b=a._payload;a=a._init;try{return wa(a(b))}catch(c){}}return null}function xa(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function ya(a){if(xa(a)!==a)throw Error(q(188));}\r\nfunction za(a){var b=a.alternate;if(!b){b=xa(a);if(null===b)throw Error(q(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ya(e),a;if(f===d)return ya(e),b;f=f.sibling}throw Error(q(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\r\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(q(189));}}if(c.alternate!==d)throw Error(q(190));}if(3!==c.tag)throw Error(q(188));return c.stateNode.current===c?a:b}function Aa(a){a=za(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\r\nfunction Ba(a){a=za(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child&&4!==b.tag)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}function Ca(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}\r\nvar Da=$$$hostConfig.getPublicInstance,Ea=$$$hostConfig.getRootHostContext,Fa=$$$hostConfig.getChildHostContext,Ga=$$$hostConfig.prepareForCommit,Ha=$$$hostConfig.resetAfterCommit,Ia=$$$hostConfig.createInstance,Ja=$$$hostConfig.appendInitialChild,Ka=$$$hostConfig.finalizeInitialChildren,La=$$$hostConfig.prepareUpdate,Ma=$$$hostConfig.shouldSetTextContent,Na=$$$hostConfig.createTextInstance,Pa=$$$hostConfig.scheduleTimeout,Qa=$$$hostConfig.cancelTimeout,Ra=$$$hostConfig.noTimeout,Sa=$$$hostConfig.isPrimaryRenderer,\r\nTa=$$$hostConfig.supportsMutation,Ua=$$$hostConfig.supportsPersistence,Va=$$$hostConfig.supportsHydration,Wa=$$$hostConfig.getInstanceFromNode,Xa=$$$hostConfig.makeOpaqueHydratingObject,Ya=$$$hostConfig.makeClientId,Za=$$$hostConfig.beforeActiveInstanceBlur,$a=$$$hostConfig.afterActiveInstanceBlur,ab=$$$hostConfig.preparePortalMount,bb=$$$hostConfig.supportsTestSelectors,cb=$$$hostConfig.findFiberRoot,db=$$$hostConfig.getBoundingRect,eb=$$$hostConfig.getTextContent,fb=$$$hostConfig.isHiddenSubtree,\r\ngb=$$$hostConfig.matchAccessibilityRole,hb=$$$hostConfig.setFocusIfFocusable,ib=$$$hostConfig.setupIntersectionObserver,jb=$$$hostConfig.appendChild,kb=$$$hostConfig.appendChildToContainer,lb=$$$hostConfig.commitTextUpdate,mb=$$$hostConfig.commitMount,nb=$$$hostConfig.commitUpdate,ob=$$$hostConfig.insertBefore,pb=$$$hostConfig.insertInContainerBefore,qb=$$$hostConfig.removeChild,rb=$$$hostConfig.removeChildFromContainer,sb=$$$hostConfig.resetTextContent,tb=$$$hostConfig.hideInstance,ub=$$$hostConfig.hideTextInstance,\r\nvb=$$$hostConfig.unhideInstance,wb=$$$hostConfig.unhideTextInstance,xb=$$$hostConfig.clearContainer,yb=$$$hostConfig.cloneInstance,zb=$$$hostConfig.createContainerChildSet,Ab=$$$hostConfig.appendChildToContainerChildSet,Bb=$$$hostConfig.finalizeContainerChildren,Cb=$$$hostConfig.replaceContainerChildren,Db=$$$hostConfig.cloneHiddenInstance,Eb=$$$hostConfig.cloneHiddenTextInstance,Fb=$$$hostConfig.canHydrateInstance,Gb=$$$hostConfig.canHydrateTextInstance,Hb=$$$hostConfig.isSuspenseInstancePending,\r\nIb=$$$hostConfig.isSuspenseInstanceFallback,Jb=$$$hostConfig.getNextHydratableSibling,Kb=$$$hostConfig.getFirstHydratableChild,Lb=$$$hostConfig.hydrateInstance,Mb=$$$hostConfig.hydrateTextInstance,Nb=$$$hostConfig.getNextHydratableInstanceAfterSuspenseInstance,Ob=$$$hostConfig.commitHydratedContainer,Pb=$$$hostConfig.commitHydratedSuspenseInstance,Qb;function Rb(a){if(void 0===Qb)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Qb=b&&b[1]||\"\"}return\"\\n\"+Qb+a}var Sb=!1;\r\nfunction Tb(a,b){if(!a||Sb)return\"\";Sb=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\r\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Sb=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Rb(a):\"\"}var Ub=[],Vb=-1;function Wb(a){return{current:a}}function z(a){0>Vb||(a.current=Ub[Vb],Ub[Vb]=null,Vb--)}function A(a,b){Vb++;Ub[Vb]=a.current;a.current=b}\r\nvar Xb={},B=Wb(Xb),D=Wb(!1),Yb=Xb;function Zb(a,b){var c=a.type.contextTypes;if(!c)return Xb;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function E(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $b(){z(D);z(B)}\r\nfunction ac(a,b,c){if(B.current!==Xb)throw Error(q(168));A(B,b);A(D,c)}function bc(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(q(108,wa(b)||\"Unknown\",e));return aa({},c,d)}function cc(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Xb;Yb=B.current;A(B,a);A(D,D.current);return!0}\r\nfunction dc(a,b,c){var d=a.stateNode;if(!d)throw Error(q(169));c?(a=bc(a,b,Yb),d.__reactInternalMemoizedMergedChildContext=a,z(D),z(B),A(B,a)):z(D);A(D,c)}var ec=null,fc=null,gc=m.unstable_now;gc();var hc=0,F=8;\r\nfunction ic(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\r\nF=8;return a}function jc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function kc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(q(358,a));}}\r\nfunction lc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=ic(k),e=F):(h&=f,0!==h&&(d=ic(h),e=F))}else f=c&~g,0!==f?(d=ic(f),e=F):0!==h&&(d=ic(h),e=F);if(0===d)return 0;d=31-mc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){ic(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-mc(b),e=1<<c,d|=a[c],b&=~e;return d}\r\nfunction nc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function oc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=pc(24&~b),0===a?oc(10,b):a;case 10:return a=pc(192&~b),0===a?oc(8,b):a;case 8:return a=pc(3584&~b),0===a&&(a=pc(4186112&~b),0===a&&(a=512)),a;case 2:return b=pc(805306368&~b),0===b&&(b=268435456),b}throw Error(q(358,a));}function pc(a){return a&-a}function qc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\r\nfunction rc(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-mc(b);a[b]=c}var mc=Math.clz32?Math.clz32:sc,tc=Math.log,uc=Math.LN2;function sc(a){return 0===a?32:31-(tc(a)/uc|0)|0}\r\nvar vc=m.unstable_runWithPriority,wc=m.unstable_scheduleCallback,xc=m.unstable_cancelCallback,yc=m.unstable_shouldYield,zc=m.unstable_requestPaint,Ac=m.unstable_now,Bc=m.unstable_getCurrentPriorityLevel,Cc=m.unstable_ImmediatePriority,Dc=m.unstable_UserBlockingPriority,Ec=m.unstable_NormalPriority,Fc=m.unstable_LowPriority,Gc=m.unstable_IdlePriority,Hc={},Ic=void 0!==zc?zc:function(){},Jc=null,Kc=null,Lc=!1,Mc=Ac(),G=1E4>Mc?Ac:function(){return Ac()-Mc};\r\nfunction Nc(){switch(Bc()){case Cc:return 99;case Dc:return 98;case Ec:return 97;case Fc:return 96;case Gc:return 95;default:throw Error(q(332));}}function Oc(a){switch(a){case 99:return Cc;case 98:return Dc;case 97:return Ec;case 96:return Fc;case 95:return Gc;default:throw Error(q(332));}}function Pc(a,b){a=Oc(a);return vc(a,b)}function Qc(a,b,c){a=Oc(a);return wc(a,b,c)}function H(){if(null!==Kc){var a=Kc;Kc=null;xc(a)}Rc()}\r\nfunction Rc(){if(!Lc&&null!==Jc){Lc=!0;var a=0;try{var b=Jc;Pc(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});Jc=null}catch(c){throw null!==Jc&&(Jc=Jc.slice(a+1)),wc(Cc,H),c;}finally{Lc=!1}}}var Sc=ca.ReactCurrentBatchConfig;function Tc(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var I=\"function\"===typeof Object.is?Object.is:Tc,Uc=Object.prototype.hasOwnProperty;\r\nfunction Vc(a,b){if(I(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Uc.call(b,c[d])||!I(a[c[d]],b[c[d]]))return!1;return!0}\r\nfunction Wc(a){switch(a.tag){case 5:return Rb(a.type);case 16:return Rb(\"Lazy\");case 13:return Rb(\"Suspense\");case 19:return Rb(\"SuspenseList\");case 0:case 2:case 15:return a=Tb(a.type,!1),a;case 11:return a=Tb(a.type.render,!1),a;case 22:return a=Tb(a.type._render,!1),a;case 1:return a=Tb(a.type,!0),a;default:return\"\"}}function Xc(a,b){if(a&&a.defaultProps){b=aa({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var Yc=Wb(null),Zc=null,$c=null,ad=null;\r\nfunction bd(){ad=$c=Zc=null}function cd(a,b){a=a.type._context;Sa?(A(Yc,a._currentValue),a._currentValue=b):(A(Yc,a._currentValue2),a._currentValue2=b)}function dd(a){var b=Yc.current;z(Yc);a=a.type._context;Sa?a._currentValue=b:a._currentValue2=b}function ed(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}\r\nfunction fd(a,b){Zc=a;ad=$c=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(gd=!0),a.firstContext=null)}function J(a,b){if(ad!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)ad=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===$c){if(null===Zc)throw Error(q(308));$c=b;Zc.dependencies={lanes:0,firstContext:b,responders:null}}else $c=$c.next=b}return Sa?a._currentValue:a._currentValue2}var hd=!1;\r\nfunction id(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function jd(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function kd(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\r\nfunction md(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\r\nfunction nd(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\r\nb;c.lastBaseUpdate=b}\r\nfunction od(a,b,c,d){var e=a.updateQueue;hd=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var t=n.lastBaseUpdate;t!==g&&(null===t?n.firstBaseUpdate=l:t.next=l,n.lastBaseUpdate=k)}}if(null!==f){t=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\r\nnext:null});a:{var y=a,x=f;h=b;p=c;switch(x.tag){case 1:y=x.payload;if(\"function\"===typeof y){t=y.call(p,t,h);break a}t=y;break a;case 3:y.flags=y.flags&-4097|64;case 0:y=x.payload;h=\"function\"===typeof y?y.call(p,t,h):y;if(null===h||void 0===h)break a;t=aa({},t,h);break a;case 2:hd=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=t):n=n.next=p,g|=h;f=f.next;if(null===\r\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=t);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;pd|=g;a.lanes=g;a.memoizedState=t}}function qd(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(q(191,e));e.call(d)}}}var rd=(new ba.Component).refs;\r\nfunction sd(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:aa({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\r\nvar vd={isMounted:function(a){return(a=a._reactInternals)?xa(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=K(),e=td(a),f=kd(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);md(a,f);ud(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=K(),e=td(a),f=kd(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);md(a,f);ud(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=K(),d=td(a),e=kd(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\r\nb);md(a,e);ud(a,d,c)}};function wd(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Vc(c,d)||!Vc(e,f):!0}\r\nfunction xd(a,b,c){var d=!1,e=Xb;var f=b.contextType;\"object\"===typeof f&&null!==f?f=J(f):(e=E(b)?Yb:B.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Zb(a,e):Xb);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=vd;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\r\nfunction yd(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&vd.enqueueReplaceState(b,b.state,null)}\r\nfunction zd(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=rd;id(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=J(f):(f=E(b)?Yb:B.current,e.context=Zb(a,f));od(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(sd(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\r\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&vd.enqueueReplaceState(e,e.state,null),od(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Ad=Array.isArray;\r\nfunction Bd(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(q(309));var d=c.stateNode}if(!d)throw Error(q(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===rd&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(q(284));if(!c._owner)throw Error(q(290,a));}return a}\r\nfunction Cd(a,b){if(\"textarea\"!==a.type)throw Error(q(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\r\nfunction Dd(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Ed(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\r\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Fd(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Bd(a,b,c),d.return=a,d;d=Gd(c.type,c.key,c.props,null,a.mode,d);d.ref=Bd(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\r\nHd(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Id(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function t(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Fd(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case da:return c=Gd(b.type,b.key,b.props,null,a.mode,c),c.ref=Bd(a,null,b),c.return=a,c;case ea:return b=Hd(b,a.mode,c),b.return=a,b}if(Ad(b)||va(b))return b=Id(b,\r\na.mode,c,null),b.return=a,b;Cd(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case da:return c.key===e?c.type===fa?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ea:return c.key===e?l(a,b,c,d):null}if(Ad(c)||va(c))return null!==e?null:n(a,b,c,d,null);Cd(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\r\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case da:return a=a.get(null===d.key?c:d.key)||null,d.type===fa?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ea:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Ad(d)||va(d))return a=a.get(c)||null,n(b,a,d,e,null);Cd(b,d)}return null}function x(e,g,h,k){for(var l=null,v=null,u=g,C=g=0,n=null;null!==u&&C<h.length;C++){u.index>C?(n=u,u=null):n=u.sibling;var w=p(e,u,h[C],k);if(null===w){null===u&&(u=n);break}a&&u&&null===\r\nw.alternate&&b(e,u);g=f(w,g,C);null===v?l=w:v.sibling=w;v=w;u=n}if(C===h.length)return c(e,u),l;if(null===u){for(;C<h.length;C++)u=t(e,h[C],k),null!==u&&(g=f(u,g,C),null===v?l=u:v.sibling=u,v=u);return l}for(u=d(e,u);C<h.length;C++)n=y(u,e,C,h[C],k),null!==n&&(a&&null!==n.alternate&&u.delete(null===n.key?C:n.key),g=f(n,g,C),null===v?l=n:v.sibling=n,v=n);a&&u.forEach(function(a){return b(e,a)});return l}function Y(e,g,h,k){var l=va(h);if(\"function\"!==typeof l)throw Error(q(150));h=l.call(h);if(null==\r\nh)throw Error(q(151));for(var u=l=null,v=g,n=g=0,C=null,w=h.next();null!==v&&!w.done;n++,w=h.next()){v.index>n?(C=v,v=null):C=v.sibling;var x=p(e,v,w.value,k);if(null===x){null===v&&(v=C);break}a&&v&&null===x.alternate&&b(e,v);g=f(x,g,n);null===u?l=x:u.sibling=x;u=x;v=C}if(w.done)return c(e,v),l;if(null===v){for(;!w.done;n++,w=h.next())w=t(e,w.value,k),null!==w&&(g=f(w,g,n),null===u?l=w:u.sibling=w,u=w);return l}for(v=d(e,v);!w.done;n++,w=h.next())w=y(v,e,n,w.value,k),null!==w&&(a&&null!==w.alternate&&\r\nv.delete(null===w.key?n:w.key),g=f(w,g,n),null===u?l=w:u.sibling=w,u=w);a&&v.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===fa&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case da:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===fa){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\r\nd=e(k,f.props);d.ref=Bd(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===fa?(d=Id(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Gd(f.type,f.key,f.props,null,a.mode,h),h.ref=Bd(a,d,f),h.return=a,a=h)}return g(a);case ea:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\r\nHd(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Fd(f,a.mode,h),d.return=a,a=d),g(a);if(Ad(f))return x(a,d,f,h);if(va(f))return Y(a,d,f,h);l&&Cd(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(q(152,wa(a.type)||\"Component\"));}return c(a,d)}}var Jd=Dd(!0),Kd=Dd(!1),Ld={},L=Wb(Ld),Md=Wb(Ld),Nd=Wb(Ld);\r\nfunction Od(a){if(a===Ld)throw Error(q(174));return a}function Pd(a,b){A(Nd,b);A(Md,a);A(L,Ld);a=Ea(b);z(L);A(L,a)}function Qd(){z(L);z(Md);z(Nd)}function Rd(a){var b=Od(Nd.current),c=Od(L.current);b=Fa(c,a.type,b);c!==b&&(A(Md,a),A(L,b))}function Sd(a){Md.current===a&&(z(L),z(Md))}var M=Wb(0);\r\nfunction Td(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||Hb(c)||Ib(c)))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Ud=null,Vd=null,Wd=!1;\r\nfunction Xd(a,b){var c=Yd(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function Zd(a,b){switch(a.tag){case 5:return b=Fb(b,a.type,a.pendingProps),null!==b?(a.stateNode=b,!0):!1;case 6:return b=Gb(b,a.pendingProps),null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\r\nfunction $d(a){if(Wd){var b=Vd;if(b){var c=b;if(!Zd(a,b)){b=Jb(c);if(!b||!Zd(a,b)){a.flags=a.flags&-1025|2;Wd=!1;Ud=a;return}Xd(Ud,c)}Ud=a;Vd=Kb(b)}else a.flags=a.flags&-1025|2,Wd=!1,Ud=a}}function ae(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;Ud=a}\r\nfunction be(a){if(!Va||a!==Ud)return!1;if(!Wd)return ae(a),Wd=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!Ma(b,a.memoizedProps))for(b=Vd;b;)Xd(a,b),b=Jb(b);ae(a);if(13===a.tag){if(!Va)throw Error(q(316));a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(q(317));Vd=Nb(a)}else Vd=Ud?Jb(a.stateNode):null;return!0}function ce(){Va&&(Vd=Ud=null,Wd=!1)}var de=[];\r\nfunction ee(){for(var a=0;a<de.length;a++){var b=de[a];Sa?b._workInProgressVersionPrimary=null:b._workInProgressVersionSecondary=null}de.length=0}var fe=ca.ReactCurrentDispatcher,ge=ca.ReactCurrentBatchConfig,he=0,N=null,O=null,P=null,ie=!1,je=!1;function Q(){throw Error(q(321));}function ke(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!I(a[c],b[c]))return!1;return!0}\r\nfunction le(a,b,c,d,e,f){he=f;N=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;fe.current=null===a||null===a.memoizedState?me:ne;a=c(d,e);if(je){f=0;do{je=!1;if(!(25>f))throw Error(q(301));f+=1;P=O=null;b.updateQueue=null;fe.current=oe;a=c(d,e)}while(je)}fe.current=pe;b=null!==O&&null!==O.next;he=0;P=O=N=null;ie=!1;if(b)throw Error(q(300));return a}function qe(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===P?N.memoizedState=P=a:P=P.next=a;return P}\r\nfunction re(){if(null===O){var a=N.alternate;a=null!==a?a.memoizedState:null}else a=O.next;var b=null===P?N.memoizedState:P.next;if(null!==b)P=b,O=a;else{if(null===a)throw Error(q(310));O=a;a={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null};null===P?N.memoizedState=P=a:P=P.next=a}return P}function se(a,b){return\"function\"===typeof b?b(a):b}\r\nfunction te(a){var b=re(),c=b.queue;if(null===c)throw Error(q(311));c.lastRenderedReducer=a;var d=O,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((he&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\r\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;N.lanes|=l;pd|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;I(d,b.memoizedState)||(gd=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\r\nfunction ue(a){var b=re(),c=b.queue;if(null===c)throw Error(q(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);I(f,b.memoizedState)||(gd=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\r\nfunction ve(a,b,c){var d=b._getVersion;d=d(b._source);var e=Sa?b._workInProgressVersionPrimary:b._workInProgressVersionSecondary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(he&a)===a)Sa?b._workInProgressVersionPrimary=d:b._workInProgressVersionSecondary=d,de.push(b);if(a)return c(b._source);de.push(b);throw Error(q(350));}\r\nfunction we(a,b,c,d){var e=R;if(null===e)throw Error(q(349));var f=b._getVersion,g=f(b._source),h=fe.current,k=h.useState(function(){return ve(e,b,c)}),l=k[1],n=k[0];k=P;var t=a.memoizedState,p=t.refs,y=p.getSnapshot,x=t.source;t=t.subscribe;var Y=N;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!I(g,a)){a=c(b._source);I(n,a)||(l(a),a=td(Y),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\r\ne.entanglements,h=a;0<h;){var k=31-mc(h),t=1<<k;d[k]|=a;h&=~t}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=td(Y);e.mutableReadLanes|=d&e.pendingLanes}catch(Oa){c(function(){throw Oa;})}})},[b,d]);I(y,c)&&I(x,b)&&I(t,d)||(a={pending:null,dispatch:null,lastRenderedReducer:se,lastRenderedState:n},a.dispatch=l=xe.bind(null,N,a),k.queue=a,k.baseQueue=null,n=ve(e,b,c),k.memoizedState=k.baseState=n);return n}\r\nfunction ye(a,b,c){var d=re();return we(d,a,b,c)}function ze(a){var b=qe();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:se,lastRenderedState:a};a=a.dispatch=xe.bind(null,N,a);return[b.memoizedState,a]}\r\nfunction Ae(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=N.updateQueue;null===b?(b={lastEffect:null},N.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Be(a){var b=qe();a={current:a};return b.memoizedState=a}function Ce(){return re().memoizedState}function De(a,b,c,d){var e=qe();N.flags|=a;e.memoizedState=Ae(1|b,c,void 0,void 0===d?null:d)}\r\nfunction Ee(a,b,c,d){var e=re();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;f=g.destroy;if(null!==d&&ke(d,g.deps)){Ae(b,c,f,d);return}}N.flags|=a;e.memoizedState=Ae(1|b,c,f,d)}function Fe(a,b){return De(516,4,a,b)}function Ge(a,b){return Ee(516,4,a,b)}function He(a,b){return Ee(4,2,a,b)}function Ie(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\r\nfunction Je(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Ee(4,2,Ie.bind(null,b,a),c)}function Ke(){}function Le(a,b){var c=re();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&ke(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function Me(a,b){var c=re();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&ke(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\r\nfunction Ne(a,b){var c=Nc();Pc(98>c?98:c,function(){a(!0)});Pc(97<c?97:c,function(){var c=ge.transition;ge.transition=1;try{a(!1),b()}finally{ge.transition=c}})}\r\nfunction xe(a,b,c){var d=K(),e=td(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===N||null!==g&&g===N)je=ie=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(I(k,h))return}catch(l){}finally{}ud(a,e,d)}}\r\nvar pe={readContext:J,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useOpaqueIdentifier:Q,unstable_isNewReconciler:!1},me={readContext:J,useCallback:function(a,b){qe().memoizedState=[a,void 0===b?null:b];return a},useContext:J,useEffect:Fe,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return De(4,2,Ie.bind(null,b,a),c)},useLayoutEffect:function(a,\r\nb){return De(4,2,a,b)},useMemo:function(a,b){var c=qe();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=qe();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=xe.bind(null,N,a);return[d.memoizedState,a]},useRef:Be,useState:ze,useDebugValue:Ke,useDeferredValue:function(a){var b=ze(a),c=b[0],d=b[1];Fe(function(){var b=ge.transition;ge.transition=1;try{d(a)}finally{ge.transition=\r\nb}},[a]);return c},useTransition:function(){var a=ze(!1),b=a[0];a=Ne.bind(null,a[1]);Be(a);return[a,b]},useMutableSource:function(a,b,c){var d=qe();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return we(d,a,b,c)},useOpaqueIdentifier:function(){if(Wd){var a=!1,b=Xa(function(){a||(a=!0,c(Ya()));throw Error(q(355));}),c=ze(b)[1];0===(N.mode&2)&&(N.flags|=516,Ae(5,function(){c(Ya())},void 0,null));return b}b=Ya();ze(b);return b},unstable_isNewReconciler:!1},ne={readContext:J,\r\nuseCallback:Le,useContext:J,useEffect:Ge,useImperativeHandle:Je,useLayoutEffect:He,useMemo:Me,useReducer:te,useRef:Ce,useState:function(){return te(se)},useDebugValue:Ke,useDeferredValue:function(a){var b=te(se),c=b[0],d=b[1];Ge(function(){var b=ge.transition;ge.transition=1;try{d(a)}finally{ge.transition=b}},[a]);return c},useTransition:function(){var a=te(se)[0];return[Ce().current,a]},useMutableSource:ye,useOpaqueIdentifier:function(){return te(se)[0]},unstable_isNewReconciler:!1},oe={readContext:J,\r\nuseCallback:Le,useContext:J,useEffect:Ge,useImperativeHandle:Je,useLayoutEffect:He,useMemo:Me,useReducer:ue,useRef:Ce,useState:function(){return ue(se)},useDebugValue:Ke,useDeferredValue:function(a){var b=ue(se),c=b[0],d=b[1];Ge(function(){var b=ge.transition;ge.transition=1;try{d(a)}finally{ge.transition=b}},[a]);return c},useTransition:function(){var a=ue(se)[0];return[Ce().current,a]},useMutableSource:ye,useOpaqueIdentifier:function(){return ue(se)[0]},unstable_isNewReconciler:!1},Oe=ca.ReactCurrentOwner,\r\ngd=!1;function S(a,b,c,d){b.child=null===a?Kd(b,null,c,d):Jd(b,a.child,c,d)}function Pe(a,b,c,d,e){c=c.render;var f=b.ref;fd(b,e);d=le(a,b,c,d,f,e);if(null!==a&&!gd)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,Re(a,b,e);b.flags|=1;S(a,b,d,e);return b.child}\r\nfunction Se(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!Te(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,Ue(a,b,g,d,e,f);a=Gd(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Vc,c(e,d)&&a.ref===b.ref))return Re(a,b,f);b.flags|=1;a=Ed(g,d);a.ref=b.ref;a.return=b;return b.child=a}\r\nfunction Ue(a,b,c,d,e,f){if(null!==a&&Vc(a.memoizedProps,d)&&a.ref===b.ref)if(gd=!1,0!==(f&e))0!==(a.flags&16384)&&(gd=!0);else return b.lanes=a.lanes,Re(a,b,f);return Ve(a,b,c,d,f)}\r\nfunction We(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},Xe(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},Xe(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},Xe(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,Xe(b,d);S(a,b,e,c);return b.child}\r\nfunction Ye(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function Ve(a,b,c,d,e){var f=E(c)?Yb:B.current;f=Zb(b,f);fd(b,e);c=le(a,b,c,d,f,e);if(null!==a&&!gd)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,Re(a,b,e);b.flags|=1;S(a,b,c,e);return b.child}\r\nfunction Ze(a,b,c,d,e){if(E(c)){var f=!0;cc(b)}else f=!1;fd(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),xd(b,c,d),zd(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=J(l):(l=E(c)?Yb:B.current,l=Zb(b,l));var n=c.getDerivedStateFromProps,t=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;t||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==\r\ntypeof g.componentWillReceiveProps||(h!==d||k!==l)&&yd(b,g,d,l);hd=!1;var p=b.memoizedState;g.state=p;od(b,d,g,e);k=b.memoizedState;h!==d||p!==k||D.current||hd?(\"function\"===typeof n&&(sd(b,c,n,d),k=b.memoizedState),(h=hd||wd(b,c,h,d,p,k,l))?(t||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&\r\n(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;jd(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Xc(b.type,h);g.props=l;t=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=J(k):(k=E(c)?Yb:B.current,k=Zb(b,k));var y=c.getDerivedStateFromProps;(n=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\r\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==t||p!==k)&&yd(b,g,d,k);hd=!1;p=b.memoizedState;g.state=p;od(b,d,g,e);var x=b.memoizedState;h!==t||p!==x||D.current||hd?(\"function\"===typeof y&&(sd(b,c,y,d),x=b.memoizedState),(l=hd||wd(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,x,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\r\ng.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||\r\n(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return $e(a,b,c,d,f,e)}function $e(a,b,c,d,e,f){Ye(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&dc(b,c,!1),Re(a,b,f);d=b.stateNode;Oe.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Jd(b,a.child,null,f),b.child=Jd(b,null,h,f)):S(a,b,h,f);b.memoizedState=d.state;e&&dc(b,c,!0);return b.child}\r\nfunction af(a){var b=a.stateNode;b.pendingContext?ac(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ac(a,b.context,!1);Pd(a,b.containerInfo)}var bf={dehydrated:null,retryLane:0};\r\nfunction cf(a,b,c){var d=b.pendingProps,e=M.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);A(M,e&1);if(null===a){void 0!==d.fallback&&$d(b);a=d.children;e=d.fallback;if(f)return a=df(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=bf,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=df(b,a,e,c),b.child.memoizedState={baseLanes:c},\r\nb.memoizedState=bf,b.lanes=33554432,a;c=ef({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=ff(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=bf,d;c=gf(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=ff(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\r\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=bf,d;c=gf(a,b,d.children,c);b.memoizedState=null;return c}function df(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=ef(b,e,0,null);c=Id(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\r\nfunction gf(a,b,c,d){var e=a.child;a=e.sibling;c=Ed(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\r\nfunction ff(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Ed(g,h);null!==a?d=Ed(a,d):(d=Id(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function hf(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);ed(a.return,b)}\r\nfunction jf(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\r\nfunction kf(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;S(a,b,d.children,c);d=M.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&hf(a,c);else if(19===a.tag)hf(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}A(M,d);if(0===(b.mode&2))b.memoizedState=\r\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Td(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);jf(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Td(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}jf(b,!0,c,null,f,b.lastEffect);break;case \"together\":jf(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\r\nfunction Re(a,b,c){null!==a&&(b.dependencies=a.dependencies);pd|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(q(153));if(null!==b.child){a=b.child;c=Ed(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Ed(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}function lf(a){a.flags|=4}var mf,nf,of,pf;\r\nif(Ta)mf=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)Ja(a,c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}},nf=function(){},of=function(a,b,c,d,e){a=a.memoizedProps;if(a!==d){var f=b.stateNode,g=Od(L.current);c=La(f,c,a,d,e,g);(b.updateQueue=c)&&lf(b)}},pf=function(a,b,c,d){c!==d&&lf(b)};else if(Ua){mf=function(a,\r\nb,c,d){for(var e=b.child;null!==e;){if(5===e.tag){var f=e.stateNode;c&&d&&(f=Db(f,e.type,e.memoizedProps,e));Ja(a,f)}else if(6===e.tag)f=e.stateNode,c&&d&&(f=Eb(f,e.memoizedProps,e)),Ja(a,f);else if(4!==e.tag){if(13===e.tag&&0!==(e.flags&4)&&(f=null!==e.memoizedState)){var g=e.child;if(null!==g&&(null!==g.child&&(g.child.return=g,mf(a,g,!0,f)),f=g.sibling,null!==f)){f.return=e;e=f;continue}}if(null!==e.child){e.child.return=e;e=e.child;continue}}if(e===b)break;for(;null===e.sibling;){if(null===e.return||\r\ne.return===b)return;e=e.return}e.sibling.return=e.return;e=e.sibling}};var qf=function(a,b,c,d){for(var e=b.child;null!==e;){if(5===e.tag){var f=e.stateNode;c&&d&&(f=Db(f,e.type,e.memoizedProps,e));Ab(a,f)}else if(6===e.tag)f=e.stateNode,c&&d&&(f=Eb(f,e.memoizedProps,e)),Ab(a,f);else if(4!==e.tag){if(13===e.tag&&0!==(e.flags&4)&&(f=null!==e.memoizedState)){var g=e.child;if(null!==g&&(null!==g.child&&(g.child.return=g,qf(a,g,!0,f)),f=g.sibling,null!==f)){f.return=e;e=f;continue}}if(null!==e.child){e.child.return=\r\ne;e=e.child;continue}}if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return;e=e.return}e.sibling.return=e.return;e=e.sibling}};nf=function(a){var b=a.stateNode;if(null!==a.firstEffect){var c=b.containerInfo,d=zb(c);qf(d,a,!1,!1);b.pendingChildren=d;lf(a);Bb(c,d)}};of=function(a,b,c,d,e){var f=a.stateNode,g=a.memoizedProps;if((a=null===b.firstEffect)&&g===d)b.stateNode=f;else{var h=b.stateNode,k=Od(L.current),l=null;g!==d&&(l=La(h,c,g,d,e,k));a&&null===l?b.stateNode=f:(f=yb(f,\r\nl,c,g,d,b,a,h),Ka(f,c,d,e,k)&&lf(b),b.stateNode=f,a?lf(b):mf(f,b,!1,!1))}};pf=function(a,b,c,d){c!==d?(a=Od(Nd.current),c=Od(L.current),b.stateNode=Na(d,a,c,b),lf(b)):b.stateNode=a.stateNode}}else nf=function(){},of=function(){},pf=function(){};\r\nfunction rf(a,b){if(!Wd)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\r\nfunction sf(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return E(b.type)&&$b(),null;case 3:Qd();z(D);z(B);ee();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)be(b)?lf(b):d.hydrate||(b.flags|=256);nf(b);return null;case 5:Sd(b);var e=Od(Nd.current);c=b.type;if(null!==a&&null!=b.stateNode)of(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\r\nb.stateNode)throw Error(q(166));return null}a=Od(L.current);if(be(b)){if(!Va)throw Error(q(175));a=Lb(b.stateNode,b.type,b.memoizedProps,e,a,b);b.updateQueue=a;null!==a&&lf(b)}else{var f=Ia(c,d,e,a,b);mf(f,b,!1,!1);b.stateNode=f;Ka(f,c,d,e,a)&&lf(b)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)pf(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(q(166));a=Od(Nd.current);e=Od(L.current);if(be(b)){if(!Va)throw Error(q(176));Mb(b.stateNode,\r\nb.memoizedProps,b)&&lf(b)}else b.stateNode=Na(d,a,e,b)}return null;case 13:z(M);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;e=!1;null===a?void 0!==b.memoizedProps.fallback&&be(b):e=null!==a.memoizedState;if(d&&!e&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(M.current&1))0===T&&(T=3);else{if(0===T||3===T)T=4;null===R||0===(pd&134217727)&&0===(tf&134217727)||uf(R,U)}Ua&&d&&(b.flags|=4);Ta&&(d||e)&&(b.flags|=4);return null;case 4:return Qd(),\r\nnf(b),null===a&&ab(b.stateNode.containerInfo),null;case 10:return dd(b),null;case 17:return E(b.type)&&$b(),null;case 19:z(M);d=b.memoizedState;if(null===d)return null;e=0!==(b.flags&64);f=d.rendering;if(null===f)if(e)rf(d,!1);else{if(0!==T||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){f=Td(a);if(null!==f){b.flags|=64;rf(d,!1);a=f.updateQueue;null!==a&&(b.updateQueue=a,b.flags|=4);null===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;a=c;for(d=b.child;null!==d;)e=d,c=a,e.flags&=\r\n2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null,f=e.alternate,null===f?(e.childLanes=0,e.lanes=c,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=f.childLanes,e.lanes=f.lanes,e.child=f.child,e.memoizedProps=f.memoizedProps,e.memoizedState=f.memoizedState,e.updateQueue=f.updateQueue,e.type=f.type,c=f.dependencies,e.dependencies=null===c?null:{lanes:c.lanes,firstContext:c.firstContext}),d=d.sibling;A(M,M.current&1|\r\n2);return b.child}a=a.sibling}null!==d.tail&&G()>vf&&(b.flags|=64,e=!0,rf(d,!1),b.lanes=33554432)}else{if(!e)if(a=Td(f),null!==a){if(b.flags|=64,e=!0,a=a.updateQueue,null!==a&&(b.updateQueue=a,b.flags|=4),rf(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!f.alternate&&!Wd)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*G()-d.renderingStartTime>vf&&1073741824!==c&&(b.flags|=64,e=!0,rf(d,!1),b.lanes=33554432);d.isBackwards?(f.sibling=b.child,b.child=f):(a=d.last,null!==a?a.sibling=\r\nf:b.child=f,d.last=f)}return null!==d.tail?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=G(),a.sibling=null,b=M.current,A(M,e?b&1|2:b&1),a):null;case 23:case 24:return wf(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(q(156,b.tag));}\r\nfunction xf(a){switch(a.tag){case 1:E(a.type)&&$b();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:Qd();z(D);z(B);ee();b=a.flags;if(0!==(b&64))throw Error(q(285));a.flags=b&-4097|64;return a;case 5:return Sd(a),null;case 13:return z(M),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return z(M),null;case 4:return Qd(),null;case 10:return dd(a),null;case 23:case 24:return wf(),null;default:return null}}\r\nfunction yf(a,b){try{var c=\"\",d=b;do c+=Wc(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function zf(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Af=\"function\"===typeof WeakMap?WeakMap:Map;function Bf(a,b,c){c=kd(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Cf||(Cf=!0,Df=d);zf(a,b)};return c}\r\nfunction Ef(a,b,c){c=kd(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){zf(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ff?Ff=new Set([this]):Ff.add(this),zf(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Gf=\"function\"===typeof WeakSet?WeakSet:Set;\r\nfunction Hf(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){If(a,c)}else b.current=null}\r\nfunction Jf(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:Xc(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:Ta&&b.flags&256&&xb(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(q(163));}\r\nfunction Kf(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.destroy;c.destroy=void 0;void 0!==d&&d()}c=c.next}while(c!==b)}}\r\nfunction Lf(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Mf(c,a),Nf(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:Xc(c.type,b.memoizedProps),a.componentDidUpdate(d,\r\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&qd(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=Da(c.child.stateNode);break;case 1:a=c.child.stateNode}qd(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mb(a,c.type,c.memoizedProps,c);return;case 6:return;case 4:return;case 12:return;case 13:Va&&null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&\r\nPb(c))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(q(163));}\r\nfunction Of(a,b){if(Ta)for(var c=a;;){if(5===c.tag){var d=c.stateNode;b?tb(d):vb(c.stateNode,c.memoizedProps)}else if(6===c.tag)d=c.stateNode,b?ub(d):wb(d,c.memoizedProps);else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===a)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\r\nfunction Pf(a,b){if(fc&&\"function\"===typeof fc.onCommitFiberUnmount)try{fc.onCommitFiberUnmount(ec,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Mf(b,c);else{d=b;try{e()}catch(f){If(d,f)}}c=c.next}while(c!==a)}break;case 1:Hf(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){If(b,\r\nf)}break;case 5:Hf(b);break;case 4:Ta?Qf(a,b):Ua&&Ua&&(b=b.stateNode.containerInfo,a=zb(b),Cb(b,a))}}function Rf(a,b){for(var c=b;;)if(Pf(a,c),null===c.child||Ta&&4===c.tag){if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}else c.child.return=c,c=c.child}\r\nfunction Sf(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function Tf(a){return 5===a.tag||3===a.tag||4===a.tag}\r\nfunction Uf(a){if(Ta){a:{for(var b=a.return;null!==b;){if(Tf(b))break a;b=b.return}throw Error(q(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(q(161));}c.flags&16&&(sb(b),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||Tf(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\r\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?Vf(a,c,b):Wf(a,c,b)}}function Vf(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?pb(c,a,b):kb(c,a);else if(4!==d&&(a=a.child,null!==a))for(Vf(a,b,c),a=a.sibling;null!==a;)Vf(a,b,c),a=a.sibling}\r\nfunction Wf(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?ob(c,a,b):jb(c,a);else if(4!==d&&(a=a.child,null!==a))for(Wf(a,b,c),a=a.sibling;null!==a;)Wf(a,b,c),a=a.sibling}\r\nfunction Qf(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(q(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag)Rf(a,c),f?rb(e,c.stateNode):qb(e,c.stateNode);else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(Pf(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;\r\nfor(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\r\nfunction Xf(a,b){if(Ta){switch(b.tag){case 0:case 11:case 14:case 15:case 22:Kf(3,b);return;case 1:return;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null;null!==f&&nb(c,f,e,a,d,b)}return;case 6:if(null===b.stateNode)throw Error(q(162));c=b.memoizedProps;lb(b.stateNode,null!==a?a.memoizedProps:c,c);return;case 3:Va&&(b=b.stateNode,b.hydrate&&(b.hydrate=!1,Ob(b.containerInfo)));return;case 12:return;case 13:Yf(b);\r\nZf(b);return;case 19:Zf(b);return;case 17:return;case 23:case 24:Of(b,null!==b.memoizedState);return}throw Error(q(163));}switch(b.tag){case 0:case 11:case 14:case 15:case 22:Kf(3,b);return;case 12:return;case 13:Yf(b);Zf(b);return;case 19:Zf(b);return;case 3:Va&&(c=b.stateNode,c.hydrate&&(c.hydrate=!1,Ob(c.containerInfo)));break;case 23:case 24:return}a:if(Ua){switch(b.tag){case 1:case 5:case 6:case 20:break a;case 3:case 4:b=b.stateNode;Cb(b.containerInfo,b.pendingChildren);break a}throw Error(q(163));\r\n}}function Yf(a){null!==a.memoizedState&&($f=G(),Ta&&Of(a.child,!0))}function Zf(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Gf);b.forEach(function(b){var d=ag.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}function bg(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var cg=0,dg=1,eg=2,fg=3,gg=4;\r\nif(\"function\"===typeof Symbol&&Symbol.for){var hg=Symbol.for;cg=hg(\"selector.component\");dg=hg(\"selector.has_pseudo_class\");eg=hg(\"selector.role\");fg=hg(\"selector.test_id\");gg=hg(\"selector.text\")}function ig(a){var b=Wa(a);if(null!=b){if(\"string\"!==typeof b.memoizedProps[\"data-testname\"])throw Error(q(364));return b}a=cb(a);if(null===a)throw Error(q(362));return a.stateNode.current}\r\nfunction jg(a,b){switch(b.$$typeof){case cg:if(a.type===b.value)return!0;break;case dg:a:{b=b.value;a=[a,0];for(var c=0;c<a.length;){var d=a[c++],e=a[c++],f=b[e];if(5!==d.tag||!fb(d)){for(;null!=f&&jg(d,f);)e++,f=b[e];if(e===b.length){b=!0;break a}else for(d=d.child;null!==d;)a.push(d,e),d=d.sibling}}b=!1}return b;case eg:if(5===a.tag&&gb(a.stateNode,b.value))return!0;break;case gg:if(5===a.tag||6===a.tag)if(a=eb(a),null!==a&&0<=a.indexOf(b.value))return!0;break;case fg:if(5===a.tag&&(a=a.memoizedProps[\"data-testname\"],\r\n\"string\"===typeof a&&a.toLowerCase()===b.value.toLowerCase()))return!0;break;default:throw Error(q(365,b));}return!1}function kg(a){switch(a.$$typeof){case cg:return\"<\"+(wa(a.value)||\"Unknown\")+\">\";case dg:return\":has(\"+(kg(a)||\"\")+\")\";case eg:return'[role=\"'+a.value+'\"]';case gg:return'\"'+a.value+'\"';case fg:return'[data-testname=\"'+a.value+'\"]';default:throw Error(q(365,a));}}\r\nfunction lg(a,b){var c=[];a=[a,0];for(var d=0;d<a.length;){var e=a[d++],f=a[d++],g=b[f];if(5!==e.tag||!fb(e)){for(;null!=g&&jg(e,g);)f++,g=b[f];if(f===b.length)c.push(e);else for(e=e.child;null!==e;)a.push(e,f),e=e.sibling}}return c}function mg(a,b){if(!bb)throw Error(q(363));a=ig(a);a=lg(a,b);b=[];a=Array.from(a);for(var c=0;c<a.length;){var d=a[c++];if(5===d.tag)fb(d)||b.push(d.stateNode);else for(d=d.child;null!==d;)a.push(d),d=d.sibling}return b}var ng=null;\r\nfunction og(a){if(null===ng)try{var b=(\"require\"+Math.random()).slice(0,7);ng=(module&&module[b]).call(module,\"timers\").setImmediate}catch(c){ng=function(a){var b=new MessageChannel;b.port1.onmessage=a;b.port2.postMessage(void 0)}}return ng(a)}var pg=Math.ceil,qg=ca.ReactCurrentDispatcher,rg=ca.ReactCurrentOwner,sg=ca.IsSomeRendererActing,V=0,R=null,W=null,U=0,tg=0,ug=Wb(0),T=0,vg=null,wg=0,pd=0,tf=0,xg=0,yg=null,$f=0,vf=Infinity;function zg(){vf=G()+500}\r\nvar X=null,Cf=!1,Df=null,Ff=null,Ag=!1,Bg=null,Cg=90,Dg=[],Eg=[],Fg=null,Gg=0,Hg=null,Ig=-1,Jg=0,Kg=0,Lg=null,Mg=!1;function K(){return 0!==(V&48)?G():-1!==Ig?Ig:Ig=G()}function td(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===Nc()?1:2;0===Jg&&(Jg=wg);if(0!==Sc.transition){0!==Kg&&(Kg=null!==yg?yg.pendingLanes:0);a=Jg;var b=4186112&~Kg;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=Nc();0!==(V&4)&&98===a?a=oc(12,Jg):(a=jc(a),a=oc(a,Jg));return a}\r\nfunction ud(a,b,c){if(50<Gg)throw Gg=0,Hg=null,Error(q(185));a=Ng(a,b);if(null===a)return null;rc(a,b,c);a===R&&(tf|=b,4===T&&uf(a,U));var d=Nc();1===b?0!==(V&8)&&0===(V&48)?Og(a):(Z(a,c),0===V&&(zg(),H())):(0===(V&4)||98!==d&&99!==d||(null===Fg?Fg=new Set([a]):Fg.add(a)),Z(a,c));yg=a}function Ng(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\r\nfunction Z(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-mc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;ic(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=lc(a,a===R?U:0);b=F;if(0===d)null!==c&&(c!==Hc&&xc(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Hc&&xc(c)}15===b?(c=Og.bind(null,a),null===Jc?(Jc=[c],Kc=wc(Cc,Rc)):Jc.push(c),\r\nc=Hc):14===b?c=Qc(99,Og.bind(null,a)):(c=kc(b),c=Qc(c,Pg.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\r\nfunction Pg(a){Ig=-1;Kg=Jg=0;if(0!==(V&48))throw Error(q(327));var b=a.callbackNode;if(Qg()&&a.callbackNode!==b)return null;var c=lc(a,a===R?U:0);if(0===c)return null;var d=c;var e=V;V|=16;var f=Rg();if(R!==a||U!==d)zg(),Sg(a,d);do try{Tg();break}catch(h){Ug(a,h)}while(1);bd();qg.current=f;V=e;null!==W?d=0:(R=null,U=0,d=T);if(0!==(wg&tf))Sg(a,0);else if(0!==d){2===d&&(V|=64,a.hydrate&&(a.hydrate=!1,xb(a.containerInfo)),c=nc(a),0!==c&&(d=Vg(a,c)));if(1===d)throw b=vg,Sg(a,0),uf(a,c),Z(a,G()),b;a.finishedWork=\r\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(q(345));case 2:Zg(a);break;case 3:uf(a,c);if((c&62914560)===c&&(d=$f+500-G(),10<d)){if(0!==lc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){K();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Pa(Zg.bind(null,a),d);break}Zg(a);break;case 4:uf(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-mc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=G()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\r\nc?4320:1960*pg(c/1960))-c;if(10<c){a.timeoutHandle=Pa(Zg.bind(null,a),c);break}Zg(a);break;case 5:Zg(a);break;default:throw Error(q(329));}}Z(a,G());return a.callbackNode===b?Pg.bind(null,a):null}function uf(a,b){b&=~xg;b&=~tf;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-mc(b),d=1<<c;a[c]=-1;b&=~d}}\r\nfunction Og(a){if(0!==(V&48))throw Error(q(327));Qg();if(a===R&&0!==(a.expiredLanes&U)){var b=U;var c=Vg(a,b);0!==(wg&tf)&&(b=lc(a,b),c=Vg(a,b))}else b=lc(a,0),c=Vg(a,b);0!==a.tag&&2===c&&(V|=64,a.hydrate&&(a.hydrate=!1,xb(a.containerInfo)),b=nc(a),0!==b&&(c=Vg(a,b)));if(1===c)throw c=vg,Sg(a,0),uf(a,b),Z(a,G()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Zg(a);Z(a,G());return null}\r\nfunction $g(){if(null!==Fg){var a=Fg;Fg=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Z(a,G())})}H()}function ah(a,b){var c=V;V|=1;try{return a(b)}finally{V=c,0===V&&(zg(),H())}}function bh(a,b){var c=V;if(0!==(c&48))return a(b);V|=1;try{if(a)return Pc(99,a.bind(null,b))}finally{V=c,H()}}function Xe(a,b){A(ug,tg);tg|=b;wg|=b}function wf(){tg=ug.current;z(ug)}\r\nfunction Sg(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;c!==Ra&&(a.timeoutHandle=Ra,Qa(c));if(null!==W)for(c=W.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$b();break;case 3:Qd();z(D);z(B);ee();break;case 5:Sd(d);break;case 4:Qd();break;case 13:z(M);break;case 19:z(M);break;case 10:dd(d);break;case 23:case 24:wf()}c=c.return}R=a;W=Ed(a.current,null);U=tg=wg=b;T=0;vg=null;xg=tf=pd=0}\r\nfunction Ug(a,b){do{var c=W;try{bd();fe.current=pe;if(ie){for(var d=N.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}ie=!1}he=0;P=O=N=null;je=!1;rg.current=null;if(null===c||null===c.return){T=1;vg=b;W=null;break}a:{var f=a,g=c.return,h=c,k=b;b=U;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\r\n(h.updateQueue=null,h.memoizedState=null)}var t=0!==(M.current&1),p=g;do{var y;if(y=13===p.tag){var x=p.memoizedState;if(null!==x)y=null!==x.dehydrated?!0:!1;else{var Y=p.memoizedProps;y=void 0===Y.fallback?!1:!0!==Y.unstable_avoidThisFallback?!0:t?!1:!0}}if(y){var u=p.updateQueue;if(null===u){var v=new Set;v.add(l);p.updateQueue=v}else u.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var C=kd(-1,1);C.tag=2;md(h,C)}h.lanes|=1;break a}k=\r\nvoid 0;h=b;var Oa=f.pingCache;null===Oa?(Oa=f.pingCache=new Af,k=new Set,Oa.set(l,k)):(k=Oa.get(l),void 0===k&&(k=new Set,Oa.set(l,k)));if(!k.has(h)){k.add(h);var Qe=ch.bind(null,f,l,h);l.then(Qe,Qe)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((wa(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==T&&(T=2);k=\r\nyf(k,h);p=g;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var Wg=Bf(p,f,b);nd(p,Wg);break a;case 1:f=k;var Xg=p.type,ld=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof Xg.getDerivedStateFromError||null!==ld&&\"function\"===typeof ld.componentDidCatch&&(null===Ff||!Ff.has(ld)))){p.flags|=4096;b&=-b;p.lanes|=b;var Yg=Ef(p,f,b);nd(p,Yg);break a}}p=p.return}while(null!==p)}dh(c)}catch(w){b=w;W===c&&null!==c&&(W=c=c.return);continue}break}while(1)}\r\nfunction Rg(){var a=qg.current;qg.current=pe;return null===a?pe:a}function Vg(a,b){var c=V;V|=16;var d=Rg();R===a&&U===b||Sg(a,b);do try{eh();break}catch(e){Ug(a,e)}while(1);bd();V=c;qg.current=d;if(null!==W)throw Error(q(261));R=null;U=0;return T}function eh(){for(;null!==W;)fh(W)}function Tg(){for(;null!==W&&!yc();)fh(W)}function fh(a){var b=gh(a.alternate,a,tg);a.memoizedProps=a.pendingProps;null===b?dh(a):W=b;rg.current=null}\r\nfunction dh(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=sf(c,b,tg);if(null!==c){W=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(tg&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\r\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=xf(b);if(null!==c){c.flags&=2047;W=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){W=b;return}W=b=a}while(null!==b);0===T&&(T=5)}function Zg(a){var b=Nc();Pc(99,hh.bind(null,a,b));return null}\r\nfunction hh(a,b){do Qg();while(null!==Bg);if(0!==(V&48))throw Error(q(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(q(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-mc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\r\nFg&&0===(d&24)&&Fg.has(a)&&Fg.delete(a);a===R&&(W=R=null,U=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=V;V|=32;rg.current=null;Lg=Ga(a.containerInfo);Mg=!1;X=d;do try{ih()}catch(v){if(null===X)throw Error(q(330));If(X,v);X=X.nextEffect}while(null!==X);Lg=null;X=d;do try{for(g=a;null!==X;){var n=X.flags;n&16&&Ta&&sb(X.stateNode);if(n&128){var t=X.alternate;if(null!==t){var p=t.ref;null!==p&&(\"function\"===typeof p?p(null):p.current=\r\nnull)}}switch(n&1038){case 2:Uf(X);X.flags&=-3;break;case 6:Uf(X);X.flags&=-3;Xf(X.alternate,X);break;case 1024:X.flags&=-1025;break;case 1028:X.flags&=-1025;Xf(X.alternate,X);break;case 4:Xf(X.alternate,X);break;case 8:h=g;f=X;Ta?Qf(h,f):Rf(h,f);var y=f.alternate;Sf(f);null!==y&&Sf(y)}X=X.nextEffect}}catch(v){if(null===X)throw Error(q(330));If(X,v);X=X.nextEffect}while(null!==X);Mg&&$a();Ha(a.containerInfo);a.current=c;X=d;do try{for(n=a;null!==X;){var x=X.flags;x&36&&Lf(n,X.alternate,X);if(x&128){t=\r\nvoid 0;var Y=X.ref;if(null!==Y){var u=X.stateNode;switch(X.tag){case 5:t=Da(u);break;default:t=u}\"function\"===typeof Y?Y(t):Y.current=t}}X=X.nextEffect}}catch(v){if(null===X)throw Error(q(330));If(X,v);X=X.nextEffect}while(null!==X);X=null;Ic();V=e}else a.current=c;if(Ag)Ag=!1,Bg=a,Cg=b;else for(X=d;null!==X;)b=X.nextEffect,X.nextEffect=null,X.flags&8&&(x=X,x.sibling=null,x.stateNode=null),X=b;d=a.pendingLanes;0===d&&(Ff=null);1===d?a===Hg?Gg++:(Gg=0,Hg=a):Gg=0;c=c.stateNode;if(fc&&\"function\"===typeof fc.onCommitFiberRoot)try{fc.onCommitFiberRoot(ec,\r\nc,void 0,64===(c.current.flags&64))}catch(v){}Z(a,G());if(Cf)throw Cf=!1,a=Df,Df=null,a;if(0!==(V&8))return null;H();return null}function ih(){for(;null!==X;){var a=X.alternate;Mg||null===Lg||(0!==(X.flags&8)?Ca(X,Lg)&&(Mg=!0,Za()):13===X.tag&&bg(a,X)&&Ca(X,Lg)&&(Mg=!0,Za()));var b=X.flags;0!==(b&256)&&Jf(a,X);0===(b&512)||Ag||(Ag=!0,Qc(97,function(){Qg();return null}));X=X.nextEffect}}function Qg(){if(90!==Cg){var a=97<Cg?97:Cg;Cg=90;return Pc(a,jh)}return!1}\r\nfunction Nf(a,b){Dg.push(b,a);Ag||(Ag=!0,Qc(97,function(){Qg();return null}))}function Mf(a,b){Eg.push(b,a);Ag||(Ag=!0,Qc(97,function(){Qg();return null}))}\r\nfunction jh(){if(null===Bg)return!1;var a=Bg;Bg=null;if(0!==(V&48))throw Error(q(331));var b=V;V|=32;var c=Eg;Eg=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(q(330));If(f,k)}}c=Dg;Dg=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(q(330));If(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\r\nnull,h.stateNode=null),h=a;V=b;H();return!0}function kh(a,b,c){b=yf(c,b);b=Bf(a,b,1);md(a,b);b=K();a=Ng(a,1);null!==a&&(rc(a,1,b),Z(a,b))}\r\nfunction If(a,b){if(3===a.tag)kh(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){kh(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ff||!Ff.has(d))){a=yf(b,a);var e=Ef(c,a,1);md(c,e);e=K();c=Ng(c,1);if(null!==c)rc(c,1,e),Z(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ff||!Ff.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\r\nfunction ch(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=K();a.pingedLanes|=a.suspendedLanes&c;R===a&&(U&c)===c&&(4===T||3===T&&(U&62914560)===U&&500>G()-$f?Sg(a,0):xg|=c);Z(a,b)}function ag(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===Nc()?1:2:(0===Jg&&(Jg=wg),b=pc(62914560&~Jg),0===b&&(b=4194304)));c=K();a=Ng(a,b);null!==a&&(rc(a,b,c),Z(a,c))}var gh;\r\ngh=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||D.current)gd=!0;else if(0!==(c&d))gd=0!==(a.flags&16384)?!0:!1;else{gd=!1;switch(b.tag){case 3:af(b);ce();break;case 5:Rd(b);break;case 1:E(b.type)&&cc(b);break;case 4:Pd(b,b.stateNode.containerInfo);break;case 10:cd(b,b.memoizedProps.value);break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return cf(a,b,c);A(M,M.current&1);b=Re(a,b,c);return null!==b?b.sibling:null}A(M,M.current&1);break;case 19:d=\r\n0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return kf(a,b,c);b.flags|=64}var e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);A(M,M.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,We(a,b,c)}return Re(a,b,c)}else gd=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Zb(b,B.current);fd(b,c);e=le(null,b,d,a,e,c);b.flags|=1;if(\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&\r\nvoid 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(E(d)){var f=!0;cc(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;id(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&sd(b,d,g,a);e.updater=vd;b.stateNode=e;e._reactInternals=b;zd(b,d,a,c);b=$e(null,b,d,!0,f,c)}else b.tag=0,S(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;\r\nf=b.tag=lh(e);a=Xc(e,a);switch(f){case 0:b=Ve(null,b,e,a,c);break a;case 1:b=Ze(null,b,e,a,c);break a;case 11:b=Pe(null,b,e,a,c);break a;case 14:b=Se(null,b,e,Xc(e.type,a),d,c);break a}throw Error(q(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Xc(d,e),Ve(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Xc(d,e),Ze(a,b,d,e,c);case 3:af(b);d=b.updateQueue;if(null===a||null===d)throw Error(q(282));d=b.pendingProps;e=b.memoizedState;e=null!==\r\ne?e.element:null;jd(a,b);od(b,d,null,c);d=b.memoizedState.element;if(d===e)ce(),b=Re(a,b,c);else{e=b.stateNode;if(f=e.hydrate)Va?(Vd=Kb(b.stateNode.containerInfo),Ud=b,f=Wd=!0):f=!1;if(f){if(Va&&(a=e.mutableSourceEagerHydrationData,null!=a))for(e=0;e<a.length;e+=2)f=a[e],g=a[e+1],Sa?f._workInProgressVersionPrimary=g:f._workInProgressVersionSecondary=g,de.push(f);c=Kd(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else S(a,b,d,c),ce();b=b.child}return b;case 5:return Rd(b),null===\r\na&&$d(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ma(d,e)?g=null:null!==f&&Ma(d,f)&&(b.flags|=16),Ye(a,b),S(a,b,g,c),b.child;case 6:return null===a&&$d(b),null;case 13:return cf(a,b,c);case 4:return Pd(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Jd(b,null,d,c):S(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Xc(d,e),Pe(a,b,d,e,c);case 7:return S(a,b,b.pendingProps,c),b.child;case 8:return S(a,b,b.pendingProps.children,\r\nc),b.child;case 12:return S(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;cd(b,f);if(null!==g){var h=g.value;f=I(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0;if(0===f){if(g.children===e.children&&!D.current){b=Re(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=k.firstContext;null!==l;){if(l.context===d&&0!==\r\n(l.observedBits&f)){1===h.tag&&(l=kd(-1,c&-c),l.tag=2,md(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);ed(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}}S(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,fd(b,c),e=J(e,f.unstable_observedBits),d=d(e),b.flags|=1,S(a,b,\r\nd,c),b.child;case 14:return e=b.type,f=Xc(e,b.pendingProps),f=Xc(e.type,f),Se(a,b,e,f,d,c);case 15:return Ue(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Xc(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,E(d)?(a=!0,cc(b)):a=!1,fd(b,c),xd(b,d,e),zd(b,d,e,c),$e(null,b,d,!0,a,c);case 19:return kf(a,b,c);case 23:return We(a,b,c);case 24:return We(a,b,c)}throw Error(q(156,b.tag));};\r\nvar mh={current:!1},nh=m.unstable_flushAllWithoutAsserting,oh=\"function\"===typeof nh;function ph(){if(void 0!==nh)return nh();for(var a=!1;Qg();)a=!0;return a}function qh(a){try{ph(),og(function(){ph()?qh(a):a()})}catch(b){a(b)}}var rh=0,sh=!1;\r\nfunction th(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function Yd(a,b,c,d){return new th(a,b,c,d)}function Te(a){a=a.prototype;return!(!a||!a.isReactComponent)}\r\nfunction lh(a){if(\"function\"===typeof a)return Te(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===la)return 11;if(a===oa)return 14}return 2}\r\nfunction Ed(a,b){var c=a.alternate;null===c?(c=Yd(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\r\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\r\nfunction Gd(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)Te(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case fa:return Id(c.children,e,f,b);case ra:g=8;e|=16;break;case ha:g=8;e|=1;break;case ia:return a=Yd(12,c,b,e|8),a.elementType=ia,a.type=ia,a.lanes=f,a;case ma:return a=Yd(13,c,b,e),a.type=ma,a.elementType=ma,a.lanes=f,a;case na:return a=Yd(19,c,b,e),a.elementType=na,a.lanes=f,a;case sa:return ef(c,e,f,b);case ta:return a=Yd(24,c,b,e),a.elementType=ta,a.lanes=f,a;default:if(\"object\"===\r\ntypeof a&&null!==a)switch(a.$$typeof){case ja:g=10;break a;case ka:g=9;break a;case la:g=11;break a;case oa:g=14;break a;case pa:g=16;d=null;break a;case qa:g=22;break a}throw Error(q(130,null==a?a:typeof a,\"\"));}b=Yd(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Id(a,b,c,d){a=Yd(7,a,d,b);a.lanes=c;return a}function ef(a,b,c,d){a=Yd(23,a,d,b);a.elementType=sa;a.lanes=c;return a}function Fd(a,b,c){a=Yd(6,a,null,b);a.lanes=c;return a}\r\nfunction Hd(a,b,c){b=Yd(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\r\nfunction uh(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=Ra;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=qc(0);this.expirationTimes=qc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=qc(0);Va&&(this.mutableSourceEagerHydrationData=null)}\r\nfunction vh(a){var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(q(188));throw Error(q(268,Object.keys(a)));}a=Aa(b);return null===a?null:a.stateNode}function wh(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function xh(a,b){wh(a,b);(a=a.alternate)&&wh(a,b)}function yh(a){a=Aa(a);return null===a?null:a.stateNode}function zh(){return null}exports.IsThisRendererActing=mh;\r\nexports.act=function(a){function b(){rh--;sg.current=c;mh.current=d}!1===sh&&(sh=!0,console.error(\"act(...) is not supported in production builds of React, and might not behave as expected.\"));rh++;var c=sg.current,d=mh.current;sg.current=!0;mh.current=!0;try{var e=ah(a)}catch(f){throw b(),f;}if(null!==e&&\"object\"===typeof e&&\"function\"===typeof e.then)return{then:function(a,d){e.then(function(){1<rh||!0===oh&&!0===c?(b(),a()):qh(function(c){b();c?d(c):a()})},function(a){b();d(a)})}};try{1!==rh||\r\n!1!==oh&&!1!==c||ph(),b()}catch(f){throw b(),f;}return{then:function(a){a()}}};exports.attemptContinuousHydration=function(a){if(13===a.tag){var b=K();ud(a,67108864,b);xh(a,67108864)}};exports.attemptHydrationAtCurrentPriority=function(a){if(13===a.tag){var b=K(),c=td(a);ud(a,c,b);xh(a,c)}};\r\nexports.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.hydrate){var c=ic(b.pendingLanes);b.expiredLanes|=c&b.pendingLanes;Z(b,G());0===(V&48)&&(zg(),H())}break;case 13:var d=K();bh(function(){return ud(a,1,d)});xh(a,4)}};exports.attemptUserBlockingHydration=function(a){if(13===a.tag){var b=K();ud(a,4,b);xh(a,4)}};exports.batchedEventUpdates=function(a,b){var c=V;V|=2;try{return a(b)}finally{V=c,0===V&&(zg(),H())}};exports.batchedUpdates=ah;\r\nexports.createComponentSelector=function(a){return{$$typeof:cg,value:a}};exports.createContainer=function(a,b,c){a=new uh(a,b,c);b=Yd(3,null,null,2===b?7:1===b?3:0);a.current=b;b.stateNode=a;id(b);return a};exports.createHasPsuedoClassSelector=function(a){return{$$typeof:dg,value:a}};exports.createPortal=function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ea,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}};\r\nexports.createRoleSelector=function(a){return{$$typeof:eg,value:a}};exports.createTestNameSelector=function(a){return{$$typeof:fg,value:a}};exports.createTextSelector=function(a){return{$$typeof:gg,value:a}};exports.deferredUpdates=function(a){return Pc(97,a)};exports.discreteUpdates=function(a,b,c,d,e){var f=V;V|=4;try{return Pc(98,a.bind(null,b,c,d,e))}finally{V=f,0===V&&(zg(),H())}};exports.findAllNodes=mg;\r\nexports.findBoundingRects=function(a,b){if(!bb)throw Error(q(363));b=mg(a,b);a=[];for(var c=0;c<b.length;c++)a.push(db(b[c]));for(b=a.length-1;0<b;b--){c=a[b];for(var d=c.x,e=d+c.width,f=c.y,g=f+c.height,h=b-1;0<=h;h--)if(b!==h){var k=a[h],l=k.x,n=l+k.width,t=k.y,p=t+k.height;if(d>=l&&f>=t&&e<=n&&g<=p){a.splice(b,1);break}else if(!(d!==l||c.width!==k.width||p<f||t>g)){t>f&&(k.height+=t-f,k.y=f);p<g&&(k.height=g-t);a.splice(b,1);break}else if(!(f!==t||c.height!==k.height||n<d||l>e)){l>d&&(k.width+=\r\nl-d,k.x=d);n<e&&(k.width=e-l);a.splice(b,1);break}}}return a};exports.findHostInstance=vh;exports.findHostInstanceWithNoPortals=function(a){a=Ba(a);return null===a?null:20===a.tag?a.stateNode.instance:a.stateNode};exports.findHostInstanceWithWarning=function(a){return vh(a)};exports.flushControlled=function(a){var b=V;V|=1;try{Pc(99,a)}finally{V=b,0===V&&(zg(),H())}};exports.flushDiscreteUpdates=function(){0===(V&49)&&($g(),Qg())};exports.flushPassiveEffects=Qg;exports.flushSync=bh;\r\nexports.focusWithin=function(a,b){if(!bb)throw Error(q(363));a=ig(a);b=lg(a,b);b=Array.from(b);for(a=0;a<b.length;){var c=b[a++];if(!fb(c)){if(5===c.tag&&hb(c.stateNode))return!0;for(c=c.child;null!==c;)b.push(c),c=c.sibling}}return!1};exports.getCurrentUpdateLanePriority=function(){return hc};\r\nexports.getFindAllNodesFailureDescription=function(a,b){if(!bb)throw Error(q(363));var c=0,d=[];a=[ig(a),0];for(var e=0;e<a.length;){var f=a[e++],g=a[e++],h=b[g];if(5!==f.tag||!fb(f))if(jg(f,h)&&(d.push(kg(h)),g++,g>c&&(c=g)),g<b.length)for(f=f.child;null!==f;)a.push(f,g),f=f.sibling}if(c<b.length){for(a=[];c<b.length;c++)a.push(kg(b[c]));return\"findAllNodes was able to match part of the selector:\\n  \"+(d.join(\" > \")+\"\\n\\nNo matching component was found for:\\n  \")+a.join(\" > \")}return null};\r\nexports.getPublicRootInstance=function(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return Da(a.child.stateNode);default:return a.child.stateNode}};\r\nexports.injectIntoDevTools=function(a){a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:yh,findFiberByHostInstance:a.findFiberByHostInstance||zh,findHostInstancesForRefresh:null,\r\nscheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)a=!1;else{var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!b.isDisabled&&b.supportsFiber)try{ec=b.inject(a),fc=b}catch(c){}a=!0}return a};exports.observeVisibleRects=function(a,b,c,d){if(!bb)throw Error(q(363));a=mg(a,b);var e=ib(a,c,d).disconnect;return{disconnect:function(){e()}}};\r\nexports.registerMutableSourceForHydration=function(a,b){var c=b._getVersion;c=c(b._source);null==a.mutableSourceEagerHydrationData?a.mutableSourceEagerHydrationData=[b,c]:a.mutableSourceEagerHydrationData.push(b,c)};exports.runWithPriority=function(a,b){var c=hc;try{return hc=a,b()}finally{hc=c}};exports.shouldSuspend=function(){return!1};exports.unbatchedUpdates=function(a,b){var c=V;V&=-2;V|=8;try{return a(b)}finally{V=c,0===V&&(zg(),H())}};\r\nexports.updateContainer=function(a,b,c,d){var e=b.current,f=K(),g=td(e);a:if(c){c=c._reactInternals;b:{if(xa(c)!==c||1!==c.tag)throw Error(q(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(E(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(q(171));}if(1===c.tag){var k=c.type;if(E(k)){c=bc(c,k,h);break a}}c=h}else c=Xb;null===b.context?b.context=c:b.pendingContext=c;b=kd(f,g);b.payload={element:a};d=void 0===\r\nd?null:d;null!==d&&(b.callback=d);md(e,b);ud(e,g,f);return g};\r\n\r\n    return exports;\r\n};\r\n","/**\r\n * Copyright (c) 2014-present, Facebook, Inc.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\r\n\r\nvar runtime = (function (exports) {\r\n  \"use strict\";\r\n\r\n  var Op = Object.prototype;\r\n  var hasOwn = Op.hasOwnProperty;\r\n  var undefined; // More compressible than void 0.\r\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\r\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\r\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\r\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\r\n\r\n  function define(obj, key, value) {\r\n    Object.defineProperty(obj, key, {\r\n      value: value,\r\n      enumerable: true,\r\n      configurable: true,\r\n      writable: true\r\n    });\r\n    return obj[key];\r\n  }\r\n  try {\r\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\r\n    define({}, \"\");\r\n  } catch (err) {\r\n    define = function(obj, key, value) {\r\n      return obj[key] = value;\r\n    };\r\n  }\r\n\r\n  function wrap(innerFn, outerFn, self, tryLocsList) {\r\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\r\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\r\n    var generator = Object.create(protoGenerator.prototype);\r\n    var context = new Context(tryLocsList || []);\r\n\r\n    // The ._invoke method unifies the implementations of the .next,\r\n    // .throw, and .return methods.\r\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\r\n\r\n    return generator;\r\n  }\r\n  exports.wrap = wrap;\r\n\r\n  // Try/catch helper to minimize deoptimizations. Returns a completion\r\n  // record like context.tryEntries[i].completion. This interface could\r\n  // have been (and was previously) designed to take a closure to be\r\n  // invoked without arguments, but in all the cases we care about we\r\n  // already have an existing method we want to call, so there's no need\r\n  // to create a new function object. We can even get away with assuming\r\n  // the method takes exactly one argument, since that happens to be true\r\n  // in every case, so we don't have to touch the arguments object. The\r\n  // only additional allocation required is the completion record, which\r\n  // has a stable shape and so hopefully should be cheap to allocate.\r\n  function tryCatch(fn, obj, arg) {\r\n    try {\r\n      return { type: \"normal\", arg: fn.call(obj, arg) };\r\n    } catch (err) {\r\n      return { type: \"throw\", arg: err };\r\n    }\r\n  }\r\n\r\n  var GenStateSuspendedStart = \"suspendedStart\";\r\n  var GenStateSuspendedYield = \"suspendedYield\";\r\n  var GenStateExecuting = \"executing\";\r\n  var GenStateCompleted = \"completed\";\r\n\r\n  // Returning this object from the innerFn has the same effect as\r\n  // breaking out of the dispatch switch statement.\r\n  var ContinueSentinel = {};\r\n\r\n  // Dummy constructor functions that we use as the .constructor and\r\n  // .constructor.prototype properties for functions that return Generator\r\n  // objects. For full spec compliance, you may wish to configure your\r\n  // minifier not to mangle the names of these two functions.\r\n  function Generator() {}\r\n  function GeneratorFunction() {}\r\n  function GeneratorFunctionPrototype() {}\r\n\r\n  // This is a polyfill for %IteratorPrototype% for environments that\r\n  // don't natively support it.\r\n  var IteratorPrototype = {};\r\n  IteratorPrototype[iteratorSymbol] = function () {\r\n    return this;\r\n  };\r\n\r\n  var getProto = Object.getPrototypeOf;\r\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\r\n  if (NativeIteratorPrototype &&\r\n      NativeIteratorPrototype !== Op &&\r\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\r\n    // This environment has a native %IteratorPrototype%; use it instead\r\n    // of the polyfill.\r\n    IteratorPrototype = NativeIteratorPrototype;\r\n  }\r\n\r\n  var Gp = GeneratorFunctionPrototype.prototype =\r\n    Generator.prototype = Object.create(IteratorPrototype);\r\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\r\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\r\n  GeneratorFunction.displayName = define(\r\n    GeneratorFunctionPrototype,\r\n    toStringTagSymbol,\r\n    \"GeneratorFunction\"\r\n  );\r\n\r\n  // Helper for defining the .next, .throw, and .return methods of the\r\n  // Iterator interface in terms of a single ._invoke method.\r\n  function defineIteratorMethods(prototype) {\r\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\r\n      define(prototype, method, function(arg) {\r\n        return this._invoke(method, arg);\r\n      });\r\n    });\r\n  }\r\n\r\n  exports.isGeneratorFunction = function(genFun) {\r\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\r\n    return ctor\r\n      ? ctor === GeneratorFunction ||\r\n        // For the native GeneratorFunction constructor, the best we can\r\n        // do is to check its .name property.\r\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\r\n      : false;\r\n  };\r\n\r\n  exports.mark = function(genFun) {\r\n    if (Object.setPrototypeOf) {\r\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\r\n    } else {\r\n      genFun.__proto__ = GeneratorFunctionPrototype;\r\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\r\n    }\r\n    genFun.prototype = Object.create(Gp);\r\n    return genFun;\r\n  };\r\n\r\n  // Within the body of any async function, `await x` is transformed to\r\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\r\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\r\n  // meant to be awaited.\r\n  exports.awrap = function(arg) {\r\n    return { __await: arg };\r\n  };\r\n\r\n  function AsyncIterator(generator, PromiseImpl) {\r\n    function invoke(method, arg, resolve, reject) {\r\n      var record = tryCatch(generator[method], generator, arg);\r\n      if (record.type === \"throw\") {\r\n        reject(record.arg);\r\n      } else {\r\n        var result = record.arg;\r\n        var value = result.value;\r\n        if (value &&\r\n            typeof value === \"object\" &&\r\n            hasOwn.call(value, \"__await\")) {\r\n          return PromiseImpl.resolve(value.__await).then(function(value) {\r\n            invoke(\"next\", value, resolve, reject);\r\n          }, function(err) {\r\n            invoke(\"throw\", err, resolve, reject);\r\n          });\r\n        }\r\n\r\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\r\n          // When a yielded Promise is resolved, its final value becomes\r\n          // the .value of the Promise<{value,done}> result for the\r\n          // current iteration.\r\n          result.value = unwrapped;\r\n          resolve(result);\r\n        }, function(error) {\r\n          // If a rejected Promise was yielded, throw the rejection back\r\n          // into the async generator function so it can be handled there.\r\n          return invoke(\"throw\", error, resolve, reject);\r\n        });\r\n      }\r\n    }\r\n\r\n    var previousPromise;\r\n\r\n    function enqueue(method, arg) {\r\n      function callInvokeWithMethodAndArg() {\r\n        return new PromiseImpl(function(resolve, reject) {\r\n          invoke(method, arg, resolve, reject);\r\n        });\r\n      }\r\n\r\n      return previousPromise =\r\n        // If enqueue has been called before, then we want to wait until\r\n        // all previous Promises have been resolved before calling invoke,\r\n        // so that results are always delivered in the correct order. If\r\n        // enqueue has not been called before, then it is important to\r\n        // call invoke immediately, without waiting on a callback to fire,\r\n        // so that the async generator function has the opportunity to do\r\n        // any necessary setup in a predictable way. This predictability\r\n        // is why the Promise constructor synchronously invokes its\r\n        // executor callback, and why async functions synchronously\r\n        // execute code before the first await. Since we implement simple\r\n        // async functions in terms of async generators, it is especially\r\n        // important to get this right, even though it requires care.\r\n        previousPromise ? previousPromise.then(\r\n          callInvokeWithMethodAndArg,\r\n          // Avoid propagating failures to Promises returned by later\r\n          // invocations of the iterator.\r\n          callInvokeWithMethodAndArg\r\n        ) : callInvokeWithMethodAndArg();\r\n    }\r\n\r\n    // Define the unified helper method that is used to implement .next,\r\n    // .throw, and .return (see defineIteratorMethods).\r\n    this._invoke = enqueue;\r\n  }\r\n\r\n  defineIteratorMethods(AsyncIterator.prototype);\r\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\r\n    return this;\r\n  };\r\n  exports.AsyncIterator = AsyncIterator;\r\n\r\n  // Note that simple async functions are implemented on top of\r\n  // AsyncIterator objects; they just return a Promise for the value of\r\n  // the final result produced by the iterator.\r\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\r\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\r\n\r\n    var iter = new AsyncIterator(\r\n      wrap(innerFn, outerFn, self, tryLocsList),\r\n      PromiseImpl\r\n    );\r\n\r\n    return exports.isGeneratorFunction(outerFn)\r\n      ? iter // If outerFn is a generator, return the full iterator.\r\n      : iter.next().then(function(result) {\r\n          return result.done ? result.value : iter.next();\r\n        });\r\n  };\r\n\r\n  function makeInvokeMethod(innerFn, self, context) {\r\n    var state = GenStateSuspendedStart;\r\n\r\n    return function invoke(method, arg) {\r\n      if (state === GenStateExecuting) {\r\n        throw new Error(\"Generator is already running\");\r\n      }\r\n\r\n      if (state === GenStateCompleted) {\r\n        if (method === \"throw\") {\r\n          throw arg;\r\n        }\r\n\r\n        // Be forgiving, per 25.3.3.3.3 of the spec:\r\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\r\n        return doneResult();\r\n      }\r\n\r\n      context.method = method;\r\n      context.arg = arg;\r\n\r\n      while (true) {\r\n        var delegate = context.delegate;\r\n        if (delegate) {\r\n          var delegateResult = maybeInvokeDelegate(delegate, context);\r\n          if (delegateResult) {\r\n            if (delegateResult === ContinueSentinel) continue;\r\n            return delegateResult;\r\n          }\r\n        }\r\n\r\n        if (context.method === \"next\") {\r\n          // Setting context._sent for legacy support of Babel's\r\n          // function.sent implementation.\r\n          context.sent = context._sent = context.arg;\r\n\r\n        } else if (context.method === \"throw\") {\r\n          if (state === GenStateSuspendedStart) {\r\n            state = GenStateCompleted;\r\n            throw context.arg;\r\n          }\r\n\r\n          context.dispatchException(context.arg);\r\n\r\n        } else if (context.method === \"return\") {\r\n          context.abrupt(\"return\", context.arg);\r\n        }\r\n\r\n        state = GenStateExecuting;\r\n\r\n        var record = tryCatch(innerFn, self, context);\r\n        if (record.type === \"normal\") {\r\n          // If an exception is thrown from innerFn, we leave state ===\r\n          // GenStateExecuting and loop back for another invocation.\r\n          state = context.done\r\n            ? GenStateCompleted\r\n            : GenStateSuspendedYield;\r\n\r\n          if (record.arg === ContinueSentinel) {\r\n            continue;\r\n          }\r\n\r\n          return {\r\n            value: record.arg,\r\n            done: context.done\r\n          };\r\n\r\n        } else if (record.type === \"throw\") {\r\n          state = GenStateCompleted;\r\n          // Dispatch the exception by looping back around to the\r\n          // context.dispatchException(context.arg) call above.\r\n          context.method = \"throw\";\r\n          context.arg = record.arg;\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  // Call delegate.iterator[context.method](context.arg) and handle the\r\n  // result, either by returning a { value, done } result from the\r\n  // delegate iterator, or by modifying context.method and context.arg,\r\n  // setting context.delegate to null, and returning the ContinueSentinel.\r\n  function maybeInvokeDelegate(delegate, context) {\r\n    var method = delegate.iterator[context.method];\r\n    if (method === undefined) {\r\n      // A .throw or .return when the delegate iterator has no .throw\r\n      // method always terminates the yield* loop.\r\n      context.delegate = null;\r\n\r\n      if (context.method === \"throw\") {\r\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\r\n        if (delegate.iterator[\"return\"]) {\r\n          // If the delegate iterator has a return method, give it a\r\n          // chance to clean up.\r\n          context.method = \"return\";\r\n          context.arg = undefined;\r\n          maybeInvokeDelegate(delegate, context);\r\n\r\n          if (context.method === \"throw\") {\r\n            // If maybeInvokeDelegate(context) changed context.method from\r\n            // \"return\" to \"throw\", let that override the TypeError below.\r\n            return ContinueSentinel;\r\n          }\r\n        }\r\n\r\n        context.method = \"throw\";\r\n        context.arg = new TypeError(\r\n          \"The iterator does not provide a 'throw' method\");\r\n      }\r\n\r\n      return ContinueSentinel;\r\n    }\r\n\r\n    var record = tryCatch(method, delegate.iterator, context.arg);\r\n\r\n    if (record.type === \"throw\") {\r\n      context.method = \"throw\";\r\n      context.arg = record.arg;\r\n      context.delegate = null;\r\n      return ContinueSentinel;\r\n    }\r\n\r\n    var info = record.arg;\r\n\r\n    if (! info) {\r\n      context.method = \"throw\";\r\n      context.arg = new TypeError(\"iterator result is not an object\");\r\n      context.delegate = null;\r\n      return ContinueSentinel;\r\n    }\r\n\r\n    if (info.done) {\r\n      // Assign the result of the finished delegate to the temporary\r\n      // variable specified by delegate.resultName (see delegateYield).\r\n      context[delegate.resultName] = info.value;\r\n\r\n      // Resume execution at the desired location (see delegateYield).\r\n      context.next = delegate.nextLoc;\r\n\r\n      // If context.method was \"throw\" but the delegate handled the\r\n      // exception, let the outer generator proceed normally. If\r\n      // context.method was \"next\", forget context.arg since it has been\r\n      // \"consumed\" by the delegate iterator. If context.method was\r\n      // \"return\", allow the original .return call to continue in the\r\n      // outer generator.\r\n      if (context.method !== \"return\") {\r\n        context.method = \"next\";\r\n        context.arg = undefined;\r\n      }\r\n\r\n    } else {\r\n      // Re-yield the result returned by the delegate method.\r\n      return info;\r\n    }\r\n\r\n    // The delegate iterator is finished, so forget it and continue with\r\n    // the outer generator.\r\n    context.delegate = null;\r\n    return ContinueSentinel;\r\n  }\r\n\r\n  // Define Generator.prototype.{next,throw,return} in terms of the\r\n  // unified ._invoke helper method.\r\n  defineIteratorMethods(Gp);\r\n\r\n  define(Gp, toStringTagSymbol, \"Generator\");\r\n\r\n  // A Generator should always return itself as the iterator object when the\r\n  // @@iterator function is called on it. Some browsers' implementations of the\r\n  // iterator prototype chain incorrectly implement this, causing the Generator\r\n  // object to not be returned from this call. This ensures that doesn't happen.\r\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\r\n  Gp[iteratorSymbol] = function() {\r\n    return this;\r\n  };\r\n\r\n  Gp.toString = function() {\r\n    return \"[object Generator]\";\r\n  };\r\n\r\n  function pushTryEntry(locs) {\r\n    var entry = { tryLoc: locs[0] };\r\n\r\n    if (1 in locs) {\r\n      entry.catchLoc = locs[1];\r\n    }\r\n\r\n    if (2 in locs) {\r\n      entry.finallyLoc = locs[2];\r\n      entry.afterLoc = locs[3];\r\n    }\r\n\r\n    this.tryEntries.push(entry);\r\n  }\r\n\r\n  function resetTryEntry(entry) {\r\n    var record = entry.completion || {};\r\n    record.type = \"normal\";\r\n    delete record.arg;\r\n    entry.completion = record;\r\n  }\r\n\r\n  function Context(tryLocsList) {\r\n    // The root entry object (effectively a try statement without a catch\r\n    // or a finally block) gives us a place to store values thrown from\r\n    // locations where there is no enclosing try statement.\r\n    this.tryEntries = [{ tryLoc: \"root\" }];\r\n    tryLocsList.forEach(pushTryEntry, this);\r\n    this.reset(true);\r\n  }\r\n\r\n  exports.keys = function(object) {\r\n    var keys = [];\r\n    for (var key in object) {\r\n      keys.push(key);\r\n    }\r\n    keys.reverse();\r\n\r\n    // Rather than returning an object with a next method, we keep\r\n    // things simple and return the next function itself.\r\n    return function next() {\r\n      while (keys.length) {\r\n        var key = keys.pop();\r\n        if (key in object) {\r\n          next.value = key;\r\n          next.done = false;\r\n          return next;\r\n        }\r\n      }\r\n\r\n      // To avoid creating an additional object, we just hang the .value\r\n      // and .done properties off the next function object itself. This\r\n      // also ensures that the minifier will not anonymize the function.\r\n      next.done = true;\r\n      return next;\r\n    };\r\n  };\r\n\r\n  function values(iterable) {\r\n    if (iterable) {\r\n      var iteratorMethod = iterable[iteratorSymbol];\r\n      if (iteratorMethod) {\r\n        return iteratorMethod.call(iterable);\r\n      }\r\n\r\n      if (typeof iterable.next === \"function\") {\r\n        return iterable;\r\n      }\r\n\r\n      if (!isNaN(iterable.length)) {\r\n        var i = -1, next = function next() {\r\n          while (++i < iterable.length) {\r\n            if (hasOwn.call(iterable, i)) {\r\n              next.value = iterable[i];\r\n              next.done = false;\r\n              return next;\r\n            }\r\n          }\r\n\r\n          next.value = undefined;\r\n          next.done = true;\r\n\r\n          return next;\r\n        };\r\n\r\n        return next.next = next;\r\n      }\r\n    }\r\n\r\n    // Return an iterator with no values.\r\n    return { next: doneResult };\r\n  }\r\n  exports.values = values;\r\n\r\n  function doneResult() {\r\n    return { value: undefined, done: true };\r\n  }\r\n\r\n  Context.prototype = {\r\n    constructor: Context,\r\n\r\n    reset: function(skipTempReset) {\r\n      this.prev = 0;\r\n      this.next = 0;\r\n      // Resetting context._sent for legacy support of Babel's\r\n      // function.sent implementation.\r\n      this.sent = this._sent = undefined;\r\n      this.done = false;\r\n      this.delegate = null;\r\n\r\n      this.method = \"next\";\r\n      this.arg = undefined;\r\n\r\n      this.tryEntries.forEach(resetTryEntry);\r\n\r\n      if (!skipTempReset) {\r\n        for (var name in this) {\r\n          // Not sure about the optimal order of these conditions:\r\n          if (name.charAt(0) === \"t\" &&\r\n              hasOwn.call(this, name) &&\r\n              !isNaN(+name.slice(1))) {\r\n            this[name] = undefined;\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    stop: function() {\r\n      this.done = true;\r\n\r\n      var rootEntry = this.tryEntries[0];\r\n      var rootRecord = rootEntry.completion;\r\n      if (rootRecord.type === \"throw\") {\r\n        throw rootRecord.arg;\r\n      }\r\n\r\n      return this.rval;\r\n    },\r\n\r\n    dispatchException: function(exception) {\r\n      if (this.done) {\r\n        throw exception;\r\n      }\r\n\r\n      var context = this;\r\n      function handle(loc, caught) {\r\n        record.type = \"throw\";\r\n        record.arg = exception;\r\n        context.next = loc;\r\n\r\n        if (caught) {\r\n          // If the dispatched exception was caught by a catch block,\r\n          // then let that catch block handle the exception normally.\r\n          context.method = \"next\";\r\n          context.arg = undefined;\r\n        }\r\n\r\n        return !! caught;\r\n      }\r\n\r\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\r\n        var entry = this.tryEntries[i];\r\n        var record = entry.completion;\r\n\r\n        if (entry.tryLoc === \"root\") {\r\n          // Exception thrown outside of any try block that could handle\r\n          // it, so set the completion value of the entire function to\r\n          // throw the exception.\r\n          return handle(\"end\");\r\n        }\r\n\r\n        if (entry.tryLoc <= this.prev) {\r\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\r\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\r\n\r\n          if (hasCatch && hasFinally) {\r\n            if (this.prev < entry.catchLoc) {\r\n              return handle(entry.catchLoc, true);\r\n            } else if (this.prev < entry.finallyLoc) {\r\n              return handle(entry.finallyLoc);\r\n            }\r\n\r\n          } else if (hasCatch) {\r\n            if (this.prev < entry.catchLoc) {\r\n              return handle(entry.catchLoc, true);\r\n            }\r\n\r\n          } else if (hasFinally) {\r\n            if (this.prev < entry.finallyLoc) {\r\n              return handle(entry.finallyLoc);\r\n            }\r\n\r\n          } else {\r\n            throw new Error(\"try statement without catch or finally\");\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    abrupt: function(type, arg) {\r\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\r\n        var entry = this.tryEntries[i];\r\n        if (entry.tryLoc <= this.prev &&\r\n            hasOwn.call(entry, \"finallyLoc\") &&\r\n            this.prev < entry.finallyLoc) {\r\n          var finallyEntry = entry;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (finallyEntry &&\r\n          (type === \"break\" ||\r\n           type === \"continue\") &&\r\n          finallyEntry.tryLoc <= arg &&\r\n          arg <= finallyEntry.finallyLoc) {\r\n        // Ignore the finally entry if control is not jumping to a\r\n        // location outside the try/catch block.\r\n        finallyEntry = null;\r\n      }\r\n\r\n      var record = finallyEntry ? finallyEntry.completion : {};\r\n      record.type = type;\r\n      record.arg = arg;\r\n\r\n      if (finallyEntry) {\r\n        this.method = \"next\";\r\n        this.next = finallyEntry.finallyLoc;\r\n        return ContinueSentinel;\r\n      }\r\n\r\n      return this.complete(record);\r\n    },\r\n\r\n    complete: function(record, afterLoc) {\r\n      if (record.type === \"throw\") {\r\n        throw record.arg;\r\n      }\r\n\r\n      if (record.type === \"break\" ||\r\n          record.type === \"continue\") {\r\n        this.next = record.arg;\r\n      } else if (record.type === \"return\") {\r\n        this.rval = this.arg = record.arg;\r\n        this.method = \"return\";\r\n        this.next = \"end\";\r\n      } else if (record.type === \"normal\" && afterLoc) {\r\n        this.next = afterLoc;\r\n      }\r\n\r\n      return ContinueSentinel;\r\n    },\r\n\r\n    finish: function(finallyLoc) {\r\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\r\n        var entry = this.tryEntries[i];\r\n        if (entry.finallyLoc === finallyLoc) {\r\n          this.complete(entry.completion, entry.afterLoc);\r\n          resetTryEntry(entry);\r\n          return ContinueSentinel;\r\n        }\r\n      }\r\n    },\r\n\r\n    \"catch\": function(tryLoc) {\r\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\r\n        var entry = this.tryEntries[i];\r\n        if (entry.tryLoc === tryLoc) {\r\n          var record = entry.completion;\r\n          if (record.type === \"throw\") {\r\n            var thrown = record.arg;\r\n            resetTryEntry(entry);\r\n          }\r\n          return thrown;\r\n        }\r\n      }\r\n\r\n      // The context.catch method must only be called with a location\r\n      // argument that corresponds to a known catch block.\r\n      throw new Error(\"illegal catch attempt\");\r\n    },\r\n\r\n    delegateYield: function(iterable, resultName, nextLoc) {\r\n      this.delegate = {\r\n        iterator: values(iterable),\r\n        resultName: resultName,\r\n        nextLoc: nextLoc\r\n      };\r\n\r\n      if (this.method === \"next\") {\r\n        // Deliberately forget the last sent value so that we don't\r\n        // accidentally pass it on to the delegate.\r\n        this.arg = undefined;\r\n      }\r\n\r\n      return ContinueSentinel;\r\n    }\r\n  };\r\n\r\n  // Regardless of whether this script is executing as a CommonJS module\r\n  // or not, return the runtime object so that we can declare the variable\r\n  // regeneratorRuntime in the outer scope, which allows this module to be\r\n  // injected easily by `bin/regenerator --include-runtime script.js`.\r\n  return exports;\r\n\r\n}(\r\n  // If this script is executing as a CommonJS module, use module.exports\r\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\r\n  // object. Either way, the resulting object will be used to initialize\r\n  // the regeneratorRuntime variable at the top of this file.\r\n  typeof module === \"object\" ? module.exports : {}\r\n));\r\n\r\ntry {\r\n  regeneratorRuntime = runtime;\r\n} catch (accidentalStrictMode) {\r\n  // This module should not be running in strict mode, so the above\r\n  // assignment should always work unless something is misconfigured. Just\r\n  // in case runtime.js accidentally runs in strict mode, we can escape\r\n  // strict mode using a global Function call. This could conceivably fail\r\n  // if a Content Security Policy forbids using Function, but in that case\r\n  // the proper solution is to fix the accidental strict mode problem. If\r\n  // you've misconfigured your bundler to force strict mode and applied a\r\n  // CSP to forbid Function, and you're not willing to fix either of those\r\n  // problems, please detail your unique predicament in a GitHub issue.\r\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\r\n}\r\n","!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=1)}([function(e,t){e.exports=require(\"react\")},function(e,t,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||t.hasOwnProperty(r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.Particles=void 0;var a=o(r(2));t.Particles=a.default,i(r(10),t),i(r(11),t),i(r(12),t),i(r(13),t),i(r(14),t),i(r(15),t),i(r(16),t),i(r(17),t),i(r(18),t),i(r(19),t),i(r(20),t),i(r(21),t),t.default=a.default},function(e,t,r){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return(o=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||\"object\"!==n(t)&&\"function\"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.hasOwnProperty.call(e,r)&&f(t,e,r);return p(t,e),t},y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});var v=d(r(0)),b=r(0),h=y(r(3)),m=r(4),g=r(5),P=r(6),O=r(9),_=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,e);var t,r,n,u=s(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,f),(t=u.call(this,e)).state={canvas:void 0,library:void 0},t.loadCanvas=t.loadCanvas.bind(c(t)),t}return t=f,(r=[{key:\"buildParticlesLibrary\",value:function(e,t){try{if(void 0===window)return null}catch(e){return null}O.tsParticles.init();var r=new m.Options;r.load(P.defaultParams),r.load(t);var n=new g.Container(e,r);return this.props.particlesRef&&(this.props.particlesRef.current=n),n}},{key:\"refresh\",value:function(e){var t=this,r=this.state.canvas;r&&(this.destroy(),this.setState({library:this.buildParticlesLibrary(e.id,e.params)},(function(){t.loadCanvas(r)})))}},{key:\"destroy\",value:function(){this.state.library&&this.state.library.destroy()}},{key:\"loadCanvas\",value:function(e){var t=this;e&&this.setState({canvas:e},(function(){var r=t.state.library;r&&(r.canvas.loadCanvas(e),r.start())}))}},{key:\"shouldComponentUpdate\",value:function(e){return!h.default(e,this.props)}},{key:\"componentDidUpdate\",value:function(){this.refresh(this.props)}},{key:\"forceUpdate\",value:function(){this.refresh(this.props),o(l(f.prototype),\"forceUpdate\",this).call(this)}},{key:\"componentDidMount\",value:function(){this.setState({library:this.buildParticlesLibrary(this.props.id,this.props.params)})}},{key:\"componentWillUnmount\",value:function(){this.destroy(),this.setState({library:void 0})}},{key:\"render\",value:function(){var e=this.props,t=e.width,r=e.height,n=e.className,i=e.canvasClassName,o=e.id;return v.createElement(\"div\",{className:n,id:o},v.createElement(\"canvas\",{ref:this.loadCanvas,className:i,style:Object.assign(Object.assign({},this.props.style),{width:t,height:r})}))}}])&&i(t.prototype,r),n&&i(t,n),f}(b.Component);t.default=_,_.defaultProps={width:\"100%\",height:\"100%\",params:P.defaultParams,style:{},id:\"tsparticles\"}},function(e,t){e.exports=require(\"lodash/isEqual\")},function(e,t){e.exports=require(\"tsparticles/dist/Options/Classes/Options\")},function(e,t){e.exports=require(\"tsparticles/dist/Core/Container\")},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.defaultParams=void 0;var n=r(7),i=r(8);t.defaultParams={particles:{number:{value:40,max:-1,density:{enable:!1,area:1200}},color:{value:\"#FFF\"},shape:{type:n.ShapeType.circle,polygon:{sides:5},image:{src:\"\",width:100,height:100}},stroke:{width:0,color:\"#000000\"},opacity:{value:.5,random:!1,anim:{enable:!0,speed:1,minimumValue:.1,sync:!1}},size:{value:1,random:!1,anim:{enable:!1,speed:40,minimumValue:0,sync:!1}},links:{enable:!0,distance:150,color:\"#FFF\",opacity:.6,width:1,shadow:{enable:!1,blur:5,color:\"lime\"}},move:{enable:!0,speed:3,direction:n.MoveDirection.none,random:!1,straight:!1,outMode:n.OutMode.bounce,bounce:!0,attract:{enable:!1,rotateX:3e3,rotateY:3e3}}},interactivity:{detectsOn:n.InteractivityDetect.canvas,events:{onHover:{enable:!1,mode:n.HoverMode.grab},onClick:{enable:!1,mode:n.ClickMode.repulse},resize:!0},modes:{grab:{distance:180,links:{opacity:.35}},bubble:{distance:200,size:80,duration:.4},repulse:{distance:100,duration:5},push:{quantity:4},remove:{quantity:2}}},detectRetina:!0,fpsLimit:999,polygon:{enable:!1,scale:1,type:i.Type.inline,inline:{arrangement:i.InlineArrangement.onePerPoint},draw:{enable:!1,stroke:{width:.5,color:\"rgba(255, 255, 255, .1)\"}},move:{radius:10,type:i.MoveType.path},url:\"\"}}},function(e,t){e.exports=require(\"tsparticles/dist/Enums\")},function(e,t){e.exports=require(\"tsparticles/dist/Plugins/PolygonMask/PolygonMaskPlugin\")},function(e,t){e.exports=require(\"tsparticles\")},function(e,t){e.exports=require(\"tsparticles/dist/Enums/InteractivityDetect\")},function(e,t){e.exports=require(\"tsparticles/dist/Enums/MoveDirection\")},function(e,t){e.exports=require(\"tsparticles/dist/Enums/OutMode\")},function(e,t){e.exports=require(\"tsparticles/dist/Enums/PolygonMaskInlineArrangement\")},function(e,t){e.exports=require(\"tsparticles/dist/Enums/PolygonMaskMoveType\")},function(e,t){e.exports=require(\"tsparticles/dist/Enums/PolygonMaskType\")},function(e,t){e.exports=require(\"tsparticles/dist/Enums/ProcessBubbleType\")},function(e,t){e.exports=require(\"tsparticles/dist/Enums/RotateDirection\")},function(e,t){e.exports=require(\"tsparticles/dist/Enums/ShapeType\")},function(e,t){e.exports=require(\"tsparticles/dist/Enums/Modes/ClickMode\")},function(e,t){e.exports=require(\"tsparticles/dist/Enums/Modes/DivMode\")},function(e,t){e.exports=require(\"tsparticles/dist/Enums/Modes/HoverMode\")}]));","var baseIsEqual = require('./_baseIsEqual');\r\n\r\n/**\r\n * Performs a deep comparison between two values to determine if they are\r\n * equivalent.\r\n *\r\n * **Note:** This method supports comparing arrays, array buffers, booleans,\r\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\r\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\r\n * by their own, not inherited, enumerable properties. Functions and DOM\r\n * nodes are compared by strict equality, i.e. `===`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Lang\r\n * @param {*} value The value to compare.\r\n * @param {*} other The other value to compare.\r\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\r\n * @example\r\n *\r\n * var object = { 'a': 1 };\r\n * var other = { 'a': 1 };\r\n *\r\n * _.isEqual(object, other);\r\n * // => true\r\n *\r\n * object === other;\r\n * // => false\r\n */\r\nfunction isEqual(value, other) {\r\n  return baseIsEqual(value, other);\r\n}\r\n\r\nmodule.exports = isEqual;\r\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/**\r\n * The base implementation of `_.isEqual` which supports partial comparisons\r\n * and tracks traversed objects.\r\n *\r\n * @private\r\n * @param {*} value The value to compare.\r\n * @param {*} other The other value to compare.\r\n * @param {boolean} bitmask The bitmask flags.\r\n *  1 - Unordered comparison\r\n *  2 - Partial comparison\r\n * @param {Function} [customizer] The function to customize comparisons.\r\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\r\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\r\n */\r\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\r\n  if (value === other) {\r\n    return true;\r\n  }\r\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\r\n    return value !== value && other !== other;\r\n  }\r\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\r\n}\r\n\r\nmodule.exports = baseIsEqual;\r\n","var Stack = require('./_Stack'),\r\n    equalArrays = require('./_equalArrays'),\r\n    equalByTag = require('./_equalByTag'),\r\n    equalObjects = require('./_equalObjects'),\r\n    getTag = require('./_getTag'),\r\n    isArray = require('./isArray'),\r\n    isBuffer = require('./isBuffer'),\r\n    isTypedArray = require('./isTypedArray');\r\n\r\n/** Used to compose bitmasks for value comparisons. */\r\nvar COMPARE_PARTIAL_FLAG = 1;\r\n\r\n/** `Object#toString` result references. */\r\nvar argsTag = '[object Arguments]',\r\n    arrayTag = '[object Array]',\r\n    objectTag = '[object Object]';\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * A specialized version of `baseIsEqual` for arrays and objects which performs\r\n * deep comparisons and tracks traversed objects enabling objects with circular\r\n * references to be compared.\r\n *\r\n * @private\r\n * @param {Object} object The object to compare.\r\n * @param {Object} other The other object to compare.\r\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\r\n * @param {Function} customizer The function to customize comparisons.\r\n * @param {Function} equalFunc The function to determine equivalents of values.\r\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\r\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\r\n */\r\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\r\n  var objIsArr = isArray(object),\r\n      othIsArr = isArray(other),\r\n      objTag = objIsArr ? arrayTag : getTag(object),\r\n      othTag = othIsArr ? arrayTag : getTag(other);\r\n\r\n  objTag = objTag == argsTag ? objectTag : objTag;\r\n  othTag = othTag == argsTag ? objectTag : othTag;\r\n\r\n  var objIsObj = objTag == objectTag,\r\n      othIsObj = othTag == objectTag,\r\n      isSameTag = objTag == othTag;\r\n\r\n  if (isSameTag && isBuffer(object)) {\r\n    if (!isBuffer(other)) {\r\n      return false;\r\n    }\r\n    objIsArr = true;\r\n    objIsObj = false;\r\n  }\r\n  if (isSameTag && !objIsObj) {\r\n    stack || (stack = new Stack);\r\n    return (objIsArr || isTypedArray(object))\r\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\r\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\r\n  }\r\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\r\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\r\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\r\n\r\n    if (objIsWrapped || othIsWrapped) {\r\n      var objUnwrapped = objIsWrapped ? object.value() : object,\r\n          othUnwrapped = othIsWrapped ? other.value() : other;\r\n\r\n      stack || (stack = new Stack);\r\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\r\n    }\r\n  }\r\n  if (!isSameTag) {\r\n    return false;\r\n  }\r\n  stack || (stack = new Stack);\r\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\r\n}\r\n\r\nmodule.exports = baseIsEqualDeep;\r\n","var ListCache = require('./_ListCache'),\r\n    stackClear = require('./_stackClear'),\r\n    stackDelete = require('./_stackDelete'),\r\n    stackGet = require('./_stackGet'),\r\n    stackHas = require('./_stackHas'),\r\n    stackSet = require('./_stackSet');\r\n\r\n/**\r\n * Creates a stack cache object to store key-value pairs.\r\n *\r\n * @private\r\n * @constructor\r\n * @param {Array} [entries] The key-value pairs to cache.\r\n */\r\nfunction Stack(entries) {\r\n  var data = this.__data__ = new ListCache(entries);\r\n  this.size = data.size;\r\n}\r\n\r\n// Add methods to `Stack`.\r\nStack.prototype.clear = stackClear;\r\nStack.prototype['delete'] = stackDelete;\r\nStack.prototype.get = stackGet;\r\nStack.prototype.has = stackHas;\r\nStack.prototype.set = stackSet;\r\n\r\nmodule.exports = Stack;\r\n","/**\r\n * Removes all key-value entries from the list cache.\r\n *\r\n * @private\r\n * @name clear\r\n * @memberOf ListCache\r\n */\r\nfunction listCacheClear() {\r\n  this.__data__ = [];\r\n  this.size = 0;\r\n}\r\n\r\nmodule.exports = listCacheClear;\r\n","var assocIndexOf = require('./_assocIndexOf');\r\n\r\n/** Used for built-in method references. */\r\nvar arrayProto = Array.prototype;\r\n\r\n/** Built-in value references. */\r\nvar splice = arrayProto.splice;\r\n\r\n/**\r\n * Removes `key` and its value from the list cache.\r\n *\r\n * @private\r\n * @name delete\r\n * @memberOf ListCache\r\n * @param {string} key The key of the value to remove.\r\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\r\n */\r\nfunction listCacheDelete(key) {\r\n  var data = this.__data__,\r\n      index = assocIndexOf(data, key);\r\n\r\n  if (index < 0) {\r\n    return false;\r\n  }\r\n  var lastIndex = data.length - 1;\r\n  if (index == lastIndex) {\r\n    data.pop();\r\n  } else {\r\n    splice.call(data, index, 1);\r\n  }\r\n  --this.size;\r\n  return true;\r\n}\r\n\r\nmodule.exports = listCacheDelete;\r\n","var assocIndexOf = require('./_assocIndexOf');\r\n\r\n/**\r\n * Gets the list cache value for `key`.\r\n *\r\n * @private\r\n * @name get\r\n * @memberOf ListCache\r\n * @param {string} key The key of the value to get.\r\n * @returns {*} Returns the entry value.\r\n */\r\nfunction listCacheGet(key) {\r\n  var data = this.__data__,\r\n      index = assocIndexOf(data, key);\r\n\r\n  return index < 0 ? undefined : data[index][1];\r\n}\r\n\r\nmodule.exports = listCacheGet;\r\n","var assocIndexOf = require('./_assocIndexOf');\r\n\r\n/**\r\n * Checks if a list cache value for `key` exists.\r\n *\r\n * @private\r\n * @name has\r\n * @memberOf ListCache\r\n * @param {string} key The key of the entry to check.\r\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\r\n */\r\nfunction listCacheHas(key) {\r\n  return assocIndexOf(this.__data__, key) > -1;\r\n}\r\n\r\nmodule.exports = listCacheHas;\r\n","var assocIndexOf = require('./_assocIndexOf');\r\n\r\n/**\r\n * Sets the list cache `key` to `value`.\r\n *\r\n * @private\r\n * @name set\r\n * @memberOf ListCache\r\n * @param {string} key The key of the value to set.\r\n * @param {*} value The value to set.\r\n * @returns {Object} Returns the list cache instance.\r\n */\r\nfunction listCacheSet(key, value) {\r\n  var data = this.__data__,\r\n      index = assocIndexOf(data, key);\r\n\r\n  if (index < 0) {\r\n    ++this.size;\r\n    data.push([key, value]);\r\n  } else {\r\n    data[index][1] = value;\r\n  }\r\n  return this;\r\n}\r\n\r\nmodule.exports = listCacheSet;\r\n","var ListCache = require('./_ListCache');\r\n\r\n/**\r\n * Removes all key-value entries from the stack.\r\n *\r\n * @private\r\n * @name clear\r\n * @memberOf Stack\r\n */\r\nfunction stackClear() {\r\n  this.__data__ = new ListCache;\r\n  this.size = 0;\r\n}\r\n\r\nmodule.exports = stackClear;\r\n","/**\r\n * Removes `key` and its value from the stack.\r\n *\r\n * @private\r\n * @name delete\r\n * @memberOf Stack\r\n * @param {string} key The key of the value to remove.\r\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\r\n */\r\nfunction stackDelete(key) {\r\n  var data = this.__data__,\r\n      result = data['delete'](key);\r\n\r\n  this.size = data.size;\r\n  return result;\r\n}\r\n\r\nmodule.exports = stackDelete;\r\n","/**\r\n * Gets the stack value for `key`.\r\n *\r\n * @private\r\n * @name get\r\n * @memberOf Stack\r\n * @param {string} key The key of the value to get.\r\n * @returns {*} Returns the entry value.\r\n */\r\nfunction stackGet(key) {\r\n  return this.__data__.get(key);\r\n}\r\n\r\nmodule.exports = stackGet;\r\n","/**\r\n * Checks if a stack value for `key` exists.\r\n *\r\n * @private\r\n * @name has\r\n * @memberOf Stack\r\n * @param {string} key The key of the entry to check.\r\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\r\n */\r\nfunction stackHas(key) {\r\n  return this.__data__.has(key);\r\n}\r\n\r\nmodule.exports = stackHas;\r\n","var ListCache = require('./_ListCache'),\r\n    Map = require('./_Map'),\r\n    MapCache = require('./_MapCache');\r\n\r\n/** Used as the size to enable large array optimizations. */\r\nvar LARGE_ARRAY_SIZE = 200;\r\n\r\n/**\r\n * Sets the stack `key` to `value`.\r\n *\r\n * @private\r\n * @name set\r\n * @memberOf Stack\r\n * @param {string} key The key of the value to set.\r\n * @param {*} value The value to set.\r\n * @returns {Object} Returns the stack cache instance.\r\n */\r\nfunction stackSet(key, value) {\r\n  var data = this.__data__;\r\n  if (data instanceof ListCache) {\r\n    var pairs = data.__data__;\r\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\r\n      pairs.push([key, value]);\r\n      this.size = ++data.size;\r\n      return this;\r\n    }\r\n    data = this.__data__ = new MapCache(pairs);\r\n  }\r\n  data.set(key, value);\r\n  this.size = data.size;\r\n  return this;\r\n}\r\n\r\nmodule.exports = stackSet;\r\n","var isFunction = require('./isFunction'),\r\n    isMasked = require('./_isMasked'),\r\n    isObject = require('./isObject'),\r\n    toSource = require('./_toSource');\r\n\r\n/**\r\n * Used to match `RegExp`\r\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\r\n */\r\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\r\n\r\n/** Used to detect host constructors (Safari). */\r\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\r\n\r\n/** Used for built-in method references. */\r\nvar funcProto = Function.prototype,\r\n    objectProto = Object.prototype;\r\n\r\n/** Used to resolve the decompiled source of functions. */\r\nvar funcToString = funcProto.toString;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/** Used to detect if a method is native. */\r\nvar reIsNative = RegExp('^' +\r\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\r\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\r\n);\r\n\r\n/**\r\n * The base implementation of `_.isNative` without bad shim checks.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a native function,\r\n *  else `false`.\r\n */\r\nfunction baseIsNative(value) {\r\n  if (!isObject(value) || isMasked(value)) {\r\n    return false;\r\n  }\r\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\r\n  return pattern.test(toSource(value));\r\n}\r\n\r\nmodule.exports = baseIsNative;\r\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || new Function(\"return this\")();\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","var Symbol = require('./_Symbol');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * Used to resolve the\r\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\r\n * of values.\r\n */\r\nvar nativeObjectToString = objectProto.toString;\r\n\r\n/** Built-in value references. */\r\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\r\n\r\n/**\r\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\r\n *\r\n * @private\r\n * @param {*} value The value to query.\r\n * @returns {string} Returns the raw `toStringTag`.\r\n */\r\nfunction getRawTag(value) {\r\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\r\n      tag = value[symToStringTag];\r\n\r\n  try {\r\n    value[symToStringTag] = undefined;\r\n    var unmasked = true;\r\n  } catch (e) {}\r\n\r\n  var result = nativeObjectToString.call(value);\r\n  if (unmasked) {\r\n    if (isOwn) {\r\n      value[symToStringTag] = tag;\r\n    } else {\r\n      delete value[symToStringTag];\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = getRawTag;\r\n","/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/**\r\n * Used to resolve the\r\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\r\n * of values.\r\n */\r\nvar nativeObjectToString = objectProto.toString;\r\n\r\n/**\r\n * Converts `value` to a string using `Object.prototype.toString`.\r\n *\r\n * @private\r\n * @param {*} value The value to convert.\r\n * @returns {string} Returns the converted string.\r\n */\r\nfunction objectToString(value) {\r\n  return nativeObjectToString.call(value);\r\n}\r\n\r\nmodule.exports = objectToString;\r\n","var coreJsData = require('./_coreJsData');\r\n\r\n/** Used to detect methods masquerading as native. */\r\nvar maskSrcKey = (function() {\r\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\r\n  return uid ? ('Symbol(src)_1.' + uid) : '';\r\n}());\r\n\r\n/**\r\n * Checks if `func` has its source masked.\r\n *\r\n * @private\r\n * @param {Function} func The function to check.\r\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\r\n */\r\nfunction isMasked(func) {\r\n  return !!maskSrcKey && (maskSrcKey in func);\r\n}\r\n\r\nmodule.exports = isMasked;\r\n","var root = require('./_root');\r\n\r\n/** Used to detect overreaching core-js shims. */\r\nvar coreJsData = root['__core-js_shared__'];\r\n\r\nmodule.exports = coreJsData;\r\n","/**\r\n * Gets the value at `key` of `object`.\r\n *\r\n * @private\r\n * @param {Object} [object] The object to query.\r\n * @param {string} key The key of the property to get.\r\n * @returns {*} Returns the property value.\r\n */\r\nfunction getValue(object, key) {\r\n  return object == null ? undefined : object[key];\r\n}\r\n\r\nmodule.exports = getValue;\r\n","var Hash = require('./_Hash'),\r\n    ListCache = require('./_ListCache'),\r\n    Map = require('./_Map');\r\n\r\n/**\r\n * Removes all key-value entries from the map.\r\n *\r\n * @private\r\n * @name clear\r\n * @memberOf MapCache\r\n */\r\nfunction mapCacheClear() {\r\n  this.size = 0;\r\n  this.__data__ = {\r\n    'hash': new Hash,\r\n    'map': new (Map || ListCache),\r\n    'string': new Hash\r\n  };\r\n}\r\n\r\nmodule.exports = mapCacheClear;\r\n","var hashClear = require('./_hashClear'),\r\n    hashDelete = require('./_hashDelete'),\r\n    hashGet = require('./_hashGet'),\r\n    hashHas = require('./_hashHas'),\r\n    hashSet = require('./_hashSet');\r\n\r\n/**\r\n * Creates a hash object.\r\n *\r\n * @private\r\n * @constructor\r\n * @param {Array} [entries] The key-value pairs to cache.\r\n */\r\nfunction Hash(entries) {\r\n  var index = -1,\r\n      length = entries == null ? 0 : entries.length;\r\n\r\n  this.clear();\r\n  while (++index < length) {\r\n    var entry = entries[index];\r\n    this.set(entry[0], entry[1]);\r\n  }\r\n}\r\n\r\n// Add methods to `Hash`.\r\nHash.prototype.clear = hashClear;\r\nHash.prototype['delete'] = hashDelete;\r\nHash.prototype.get = hashGet;\r\nHash.prototype.has = hashHas;\r\nHash.prototype.set = hashSet;\r\n\r\nmodule.exports = Hash;\r\n","var nativeCreate = require('./_nativeCreate');\r\n\r\n/**\r\n * Removes all key-value entries from the hash.\r\n *\r\n * @private\r\n * @name clear\r\n * @memberOf Hash\r\n */\r\nfunction hashClear() {\r\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\r\n  this.size = 0;\r\n}\r\n\r\nmodule.exports = hashClear;\r\n","/**\r\n * Removes `key` and its value from the hash.\r\n *\r\n * @private\r\n * @name delete\r\n * @memberOf Hash\r\n * @param {Object} hash The hash to modify.\r\n * @param {string} key The key of the value to remove.\r\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\r\n */\r\nfunction hashDelete(key) {\r\n  var result = this.has(key) && delete this.__data__[key];\r\n  this.size -= result ? 1 : 0;\r\n  return result;\r\n}\r\n\r\nmodule.exports = hashDelete;\r\n","var nativeCreate = require('./_nativeCreate');\r\n\r\n/** Used to stand-in for `undefined` hash values. */\r\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * Gets the hash value for `key`.\r\n *\r\n * @private\r\n * @name get\r\n * @memberOf Hash\r\n * @param {string} key The key of the value to get.\r\n * @returns {*} Returns the entry value.\r\n */\r\nfunction hashGet(key) {\r\n  var data = this.__data__;\r\n  if (nativeCreate) {\r\n    var result = data[key];\r\n    return result === HASH_UNDEFINED ? undefined : result;\r\n  }\r\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\r\n}\r\n\r\nmodule.exports = hashGet;\r\n","var nativeCreate = require('./_nativeCreate');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * Checks if a hash value for `key` exists.\r\n *\r\n * @private\r\n * @name has\r\n * @memberOf Hash\r\n * @param {string} key The key of the entry to check.\r\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\r\n */\r\nfunction hashHas(key) {\r\n  var data = this.__data__;\r\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\r\n}\r\n\r\nmodule.exports = hashHas;\r\n","var nativeCreate = require('./_nativeCreate');\r\n\r\n/** Used to stand-in for `undefined` hash values. */\r\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\r\n\r\n/**\r\n * Sets the hash `key` to `value`.\r\n *\r\n * @private\r\n * @name set\r\n * @memberOf Hash\r\n * @param {string} key The key of the value to set.\r\n * @param {*} value The value to set.\r\n * @returns {Object} Returns the hash instance.\r\n */\r\nfunction hashSet(key, value) {\r\n  var data = this.__data__;\r\n  this.size += this.has(key) ? 0 : 1;\r\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\r\n  return this;\r\n}\r\n\r\nmodule.exports = hashSet;\r\n","var getMapData = require('./_getMapData');\r\n\r\n/**\r\n * Removes `key` and its value from the map.\r\n *\r\n * @private\r\n * @name delete\r\n * @memberOf MapCache\r\n * @param {string} key The key of the value to remove.\r\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\r\n */\r\nfunction mapCacheDelete(key) {\r\n  var result = getMapData(this, key)['delete'](key);\r\n  this.size -= result ? 1 : 0;\r\n  return result;\r\n}\r\n\r\nmodule.exports = mapCacheDelete;\r\n","/**\r\n * Checks if `value` is suitable for use as unique object key.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\r\n */\r\nfunction isKeyable(value) {\r\n  var type = typeof value;\r\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\r\n    ? (value !== '__proto__')\r\n    : (value === null);\r\n}\r\n\r\nmodule.exports = isKeyable;\r\n","var getMapData = require('./_getMapData');\r\n\r\n/**\r\n * Gets the map value for `key`.\r\n *\r\n * @private\r\n * @name get\r\n * @memberOf MapCache\r\n * @param {string} key The key of the value to get.\r\n * @returns {*} Returns the entry value.\r\n */\r\nfunction mapCacheGet(key) {\r\n  return getMapData(this, key).get(key);\r\n}\r\n\r\nmodule.exports = mapCacheGet;\r\n","var getMapData = require('./_getMapData');\r\n\r\n/**\r\n * Checks if a map value for `key` exists.\r\n *\r\n * @private\r\n * @name has\r\n * @memberOf MapCache\r\n * @param {string} key The key of the entry to check.\r\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\r\n */\r\nfunction mapCacheHas(key) {\r\n  return getMapData(this, key).has(key);\r\n}\r\n\r\nmodule.exports = mapCacheHas;\r\n","var getMapData = require('./_getMapData');\r\n\r\n/**\r\n * Sets the map `key` to `value`.\r\n *\r\n * @private\r\n * @name set\r\n * @memberOf MapCache\r\n * @param {string} key The key of the value to set.\r\n * @param {*} value The value to set.\r\n * @returns {Object} Returns the map cache instance.\r\n */\r\nfunction mapCacheSet(key, value) {\r\n  var data = getMapData(this, key),\r\n      size = data.size;\r\n\r\n  data.set(key, value);\r\n  this.size += data.size == size ? 0 : 1;\r\n  return this;\r\n}\r\n\r\nmodule.exports = mapCacheSet;\r\n","var MapCache = require('./_MapCache'),\r\n    setCacheAdd = require('./_setCacheAdd'),\r\n    setCacheHas = require('./_setCacheHas');\r\n\r\n/**\r\n *\r\n * Creates an array cache object to store unique values.\r\n *\r\n * @private\r\n * @constructor\r\n * @param {Array} [values] The values to cache.\r\n */\r\nfunction SetCache(values) {\r\n  var index = -1,\r\n      length = values == null ? 0 : values.length;\r\n\r\n  this.__data__ = new MapCache;\r\n  while (++index < length) {\r\n    this.add(values[index]);\r\n  }\r\n}\r\n\r\n// Add methods to `SetCache`.\r\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\r\nSetCache.prototype.has = setCacheHas;\r\n\r\nmodule.exports = SetCache;\r\n","/** Used to stand-in for `undefined` hash values. */\r\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\r\n\r\n/**\r\n * Adds `value` to the array cache.\r\n *\r\n * @private\r\n * @name add\r\n * @memberOf SetCache\r\n * @alias push\r\n * @param {*} value The value to cache.\r\n * @returns {Object} Returns the cache instance.\r\n */\r\nfunction setCacheAdd(value) {\r\n  this.__data__.set(value, HASH_UNDEFINED);\r\n  return this;\r\n}\r\n\r\nmodule.exports = setCacheAdd;\r\n","/**\r\n * Checks if `value` is in the array cache.\r\n *\r\n * @private\r\n * @name has\r\n * @memberOf SetCache\r\n * @param {*} value The value to search for.\r\n * @returns {number} Returns `true` if `value` is found, else `false`.\r\n */\r\nfunction setCacheHas(value) {\r\n  return this.__data__.has(value);\r\n}\r\n\r\nmodule.exports = setCacheHas;\r\n","/**\r\n * A specialized version of `_.some` for arrays without support for iteratee\r\n * shorthands.\r\n *\r\n * @private\r\n * @param {Array} [array] The array to iterate over.\r\n * @param {Function} predicate The function invoked per iteration.\r\n * @returns {boolean} Returns `true` if any element passes the predicate check,\r\n *  else `false`.\r\n */\r\nfunction arraySome(array, predicate) {\r\n  var index = -1,\r\n      length = array == null ? 0 : array.length;\r\n\r\n  while (++index < length) {\r\n    if (predicate(array[index], index, array)) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nmodule.exports = arraySome;\r\n","/**\r\n * Checks if a `cache` value for `key` exists.\r\n *\r\n * @private\r\n * @param {Object} cache The cache to query.\r\n * @param {string} key The key of the entry to check.\r\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\r\n */\r\nfunction cacheHas(cache, key) {\r\n  return cache.has(key);\r\n}\r\n\r\nmodule.exports = cacheHas;\r\n","var Symbol = require('./_Symbol'),\r\n    Uint8Array = require('./_Uint8Array'),\r\n    eq = require('./eq'),\r\n    equalArrays = require('./_equalArrays'),\r\n    mapToArray = require('./_mapToArray'),\r\n    setToArray = require('./_setToArray');\r\n\r\n/** Used to compose bitmasks for value comparisons. */\r\nvar COMPARE_PARTIAL_FLAG = 1,\r\n    COMPARE_UNORDERED_FLAG = 2;\r\n\r\n/** `Object#toString` result references. */\r\nvar boolTag = '[object Boolean]',\r\n    dateTag = '[object Date]',\r\n    errorTag = '[object Error]',\r\n    mapTag = '[object Map]',\r\n    numberTag = '[object Number]',\r\n    regexpTag = '[object RegExp]',\r\n    setTag = '[object Set]',\r\n    stringTag = '[object String]',\r\n    symbolTag = '[object Symbol]';\r\n\r\nvar arrayBufferTag = '[object ArrayBuffer]',\r\n    dataViewTag = '[object DataView]';\r\n\r\n/** Used to convert symbols to primitives and strings. */\r\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\r\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\r\n\r\n/**\r\n * A specialized version of `baseIsEqualDeep` for comparing objects of\r\n * the same `toStringTag`.\r\n *\r\n * **Note:** This function only supports comparing values with tags of\r\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\r\n *\r\n * @private\r\n * @param {Object} object The object to compare.\r\n * @param {Object} other The other object to compare.\r\n * @param {string} tag The `toStringTag` of the objects to compare.\r\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\r\n * @param {Function} customizer The function to customize comparisons.\r\n * @param {Function} equalFunc The function to determine equivalents of values.\r\n * @param {Object} stack Tracks traversed `object` and `other` objects.\r\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\r\n */\r\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\r\n  switch (tag) {\r\n    case dataViewTag:\r\n      if ((object.byteLength != other.byteLength) ||\r\n          (object.byteOffset != other.byteOffset)) {\r\n        return false;\r\n      }\r\n      object = object.buffer;\r\n      other = other.buffer;\r\n\r\n    case arrayBufferTag:\r\n      if ((object.byteLength != other.byteLength) ||\r\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\r\n        return false;\r\n      }\r\n      return true;\r\n\r\n    case boolTag:\r\n    case dateTag:\r\n    case numberTag:\r\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\r\n      // Invalid dates are coerced to `NaN`.\r\n      return eq(+object, +other);\r\n\r\n    case errorTag:\r\n      return object.name == other.name && object.message == other.message;\r\n\r\n    case regexpTag:\r\n    case stringTag:\r\n      // Coerce regexes to strings and treat strings, primitives and objects,\r\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\r\n      // for more details.\r\n      return object == (other + '');\r\n\r\n    case mapTag:\r\n      var convert = mapToArray;\r\n\r\n    case setTag:\r\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\r\n      convert || (convert = setToArray);\r\n\r\n      if (object.size != other.size && !isPartial) {\r\n        return false;\r\n      }\r\n      // Assume cyclic values are equal.\r\n      var stacked = stack.get(object);\r\n      if (stacked) {\r\n        return stacked == other;\r\n      }\r\n      bitmask |= COMPARE_UNORDERED_FLAG;\r\n\r\n      // Recursively compare objects (susceptible to call stack limits).\r\n      stack.set(object, other);\r\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\r\n      stack['delete'](object);\r\n      return result;\r\n\r\n    case symbolTag:\r\n      if (symbolValueOf) {\r\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\r\n      }\r\n  }\r\n  return false;\r\n}\r\n\r\nmodule.exports = equalByTag;\r\n","var root = require('./_root');\r\n\r\n/** Built-in value references. */\r\nvar Uint8Array = root.Uint8Array;\r\n\r\nmodule.exports = Uint8Array;\r\n","/**\r\n * Converts `map` to its key-value pairs.\r\n *\r\n * @private\r\n * @param {Object} map The map to convert.\r\n * @returns {Array} Returns the key-value pairs.\r\n */\r\nfunction mapToArray(map) {\r\n  var index = -1,\r\n      result = Array(map.size);\r\n\r\n  map.forEach(function(value, key) {\r\n    result[++index] = [key, value];\r\n  });\r\n  return result;\r\n}\r\n\r\nmodule.exports = mapToArray;\r\n","/**\r\n * Converts `set` to an array of its values.\r\n *\r\n * @private\r\n * @param {Object} set The set to convert.\r\n * @returns {Array} Returns the values.\r\n */\r\nfunction setToArray(set) {\r\n  var index = -1,\r\n      result = Array(set.size);\r\n\r\n  set.forEach(function(value) {\r\n    result[++index] = value;\r\n  });\r\n  return result;\r\n}\r\n\r\nmodule.exports = setToArray;\r\n","var getAllKeys = require('./_getAllKeys');\r\n\r\n/** Used to compose bitmasks for value comparisons. */\r\nvar COMPARE_PARTIAL_FLAG = 1;\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * A specialized version of `baseIsEqualDeep` for objects with support for\r\n * partial deep comparisons.\r\n *\r\n * @private\r\n * @param {Object} object The object to compare.\r\n * @param {Object} other The other object to compare.\r\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\r\n * @param {Function} customizer The function to customize comparisons.\r\n * @param {Function} equalFunc The function to determine equivalents of values.\r\n * @param {Object} stack Tracks traversed `object` and `other` objects.\r\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\r\n */\r\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\r\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\r\n      objProps = getAllKeys(object),\r\n      objLength = objProps.length,\r\n      othProps = getAllKeys(other),\r\n      othLength = othProps.length;\r\n\r\n  if (objLength != othLength && !isPartial) {\r\n    return false;\r\n  }\r\n  var index = objLength;\r\n  while (index--) {\r\n    var key = objProps[index];\r\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\r\n      return false;\r\n    }\r\n  }\r\n  // Check that cyclic values are equal.\r\n  var objStacked = stack.get(object);\r\n  var othStacked = stack.get(other);\r\n  if (objStacked && othStacked) {\r\n    return objStacked == other && othStacked == object;\r\n  }\r\n  var result = true;\r\n  stack.set(object, other);\r\n  stack.set(other, object);\r\n\r\n  var skipCtor = isPartial;\r\n  while (++index < objLength) {\r\n    key = objProps[index];\r\n    var objValue = object[key],\r\n        othValue = other[key];\r\n\r\n    if (customizer) {\r\n      var compared = isPartial\r\n        ? customizer(othValue, objValue, key, other, object, stack)\r\n        : customizer(objValue, othValue, key, object, other, stack);\r\n    }\r\n    // Recursively compare objects (susceptible to call stack limits).\r\n    if (!(compared === undefined\r\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\r\n          : compared\r\n        )) {\r\n      result = false;\r\n      break;\r\n    }\r\n    skipCtor || (skipCtor = key == 'constructor');\r\n  }\r\n  if (result && !skipCtor) {\r\n    var objCtor = object.constructor,\r\n        othCtor = other.constructor;\r\n\r\n    // Non `Object` object instances with different constructors are not equal.\r\n    if (objCtor != othCtor &&\r\n        ('constructor' in object && 'constructor' in other) &&\r\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\r\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\r\n      result = false;\r\n    }\r\n  }\r\n  stack['delete'](object);\r\n  stack['delete'](other);\r\n  return result;\r\n}\r\n\r\nmodule.exports = equalObjects;\r\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\r\n    getSymbols = require('./_getSymbols'),\r\n    keys = require('./keys');\r\n\r\n/**\r\n * Creates an array of own enumerable property names and symbols of `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of property names and symbols.\r\n */\r\nfunction getAllKeys(object) {\r\n  return baseGetAllKeys(object, keys, getSymbols);\r\n}\r\n\r\nmodule.exports = getAllKeys;\r\n","var arrayPush = require('./_arrayPush'),\r\n    isArray = require('./isArray');\r\n\r\n/**\r\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\r\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\r\n * symbols of `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @param {Function} keysFunc The function to get the keys of `object`.\r\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\r\n * @returns {Array} Returns the array of property names and symbols.\r\n */\r\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\r\n  var result = keysFunc(object);\r\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\r\n}\r\n\r\nmodule.exports = baseGetAllKeys;\r\n","/**\r\n * Appends the elements of `values` to `array`.\r\n *\r\n * @private\r\n * @param {Array} array The array to modify.\r\n * @param {Array} values The values to append.\r\n * @returns {Array} Returns `array`.\r\n */\r\nfunction arrayPush(array, values) {\r\n  var index = -1,\r\n      length = values.length,\r\n      offset = array.length;\r\n\r\n  while (++index < length) {\r\n    array[offset + index] = values[index];\r\n  }\r\n  return array;\r\n}\r\n\r\nmodule.exports = arrayPush;\r\n","var arrayFilter = require('./_arrayFilter'),\r\n    stubArray = require('./stubArray');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Built-in value references. */\r\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\r\n\r\n/* Built-in method references for those with the same name as other `lodash` methods. */\r\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\r\n\r\n/**\r\n * Creates an array of the own enumerable symbols of `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of symbols.\r\n */\r\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\r\n  if (object == null) {\r\n    return [];\r\n  }\r\n  object = Object(object);\r\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\r\n    return propertyIsEnumerable.call(object, symbol);\r\n  });\r\n};\r\n\r\nmodule.exports = getSymbols;\r\n","/**\r\n * A specialized version of `_.filter` for arrays without support for\r\n * iteratee shorthands.\r\n *\r\n * @private\r\n * @param {Array} [array] The array to iterate over.\r\n * @param {Function} predicate The function invoked per iteration.\r\n * @returns {Array} Returns the new filtered array.\r\n */\r\nfunction arrayFilter(array, predicate) {\r\n  var index = -1,\r\n      length = array == null ? 0 : array.length,\r\n      resIndex = 0,\r\n      result = [];\r\n\r\n  while (++index < length) {\r\n    var value = array[index];\r\n    if (predicate(value, index, array)) {\r\n      result[resIndex++] = value;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = arrayFilter;\r\n","/**\r\n * This method returns a new empty array.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.13.0\r\n * @category Util\r\n * @returns {Array} Returns the new empty array.\r\n * @example\r\n *\r\n * var arrays = _.times(2, _.stubArray);\r\n *\r\n * console.log(arrays);\r\n * // => [[], []]\r\n *\r\n * console.log(arrays[0] === arrays[1]);\r\n * // => false\r\n */\r\nfunction stubArray() {\r\n  return [];\r\n}\r\n\r\nmodule.exports = stubArray;\r\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\r\n    baseKeys = require('./_baseKeys'),\r\n    isArrayLike = require('./isArrayLike');\r\n\r\n/**\r\n * Creates an array of the own enumerable property names of `object`.\r\n *\r\n * **Note:** Non-object values are coerced to objects. See the\r\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\r\n * for more details.\r\n *\r\n * @static\r\n * @since 0.1.0\r\n * @memberOf _\r\n * @category Object\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of property names.\r\n * @example\r\n *\r\n * function Foo() {\r\n *   this.a = 1;\r\n *   this.b = 2;\r\n * }\r\n *\r\n * Foo.prototype.c = 3;\r\n *\r\n * _.keys(new Foo);\r\n * // => ['a', 'b'] (iteration order is not guaranteed)\r\n *\r\n * _.keys('hi');\r\n * // => ['0', '1']\r\n */\r\nfunction keys(object) {\r\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\r\n}\r\n\r\nmodule.exports = keys;\r\n","var baseTimes = require('./_baseTimes'),\r\n    isArguments = require('./isArguments'),\r\n    isArray = require('./isArray'),\r\n    isBuffer = require('./isBuffer'),\r\n    isIndex = require('./_isIndex'),\r\n    isTypedArray = require('./isTypedArray');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * Creates an array of the enumerable property names of the array-like `value`.\r\n *\r\n * @private\r\n * @param {*} value The value to query.\r\n * @param {boolean} inherited Specify returning inherited property names.\r\n * @returns {Array} Returns the array of property names.\r\n */\r\nfunction arrayLikeKeys(value, inherited) {\r\n  var isArr = isArray(value),\r\n      isArg = !isArr && isArguments(value),\r\n      isBuff = !isArr && !isArg && isBuffer(value),\r\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\r\n      skipIndexes = isArr || isArg || isBuff || isType,\r\n      result = skipIndexes ? baseTimes(value.length, String) : [],\r\n      length = result.length;\r\n\r\n  for (var key in value) {\r\n    if ((inherited || hasOwnProperty.call(value, key)) &&\r\n        !(skipIndexes && (\r\n           // Safari 9 has enumerable `arguments.length` in strict mode.\r\n           key == 'length' ||\r\n           // Node.js 0.10 has enumerable non-index properties on buffers.\r\n           (isBuff && (key == 'offset' || key == 'parent')) ||\r\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\r\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\r\n           // Skip index properties.\r\n           isIndex(key, length)\r\n        ))) {\r\n      result.push(key);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = arrayLikeKeys;\r\n","/**\r\n * The base implementation of `_.times` without support for iteratee shorthands\r\n * or max array length checks.\r\n *\r\n * @private\r\n * @param {number} n The number of times to invoke `iteratee`.\r\n * @param {Function} iteratee The function invoked per iteration.\r\n * @returns {Array} Returns the array of results.\r\n */\r\nfunction baseTimes(n, iteratee) {\r\n  var index = -1,\r\n      result = Array(n);\r\n\r\n  while (++index < n) {\r\n    result[index] = iteratee(index);\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = baseTimes;\r\n","var baseIsArguments = require('./_baseIsArguments'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/** Built-in value references. */\r\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\r\n\r\n/**\r\n * Checks if `value` is likely an `arguments` object.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\r\n *  else `false`.\r\n * @example\r\n *\r\n * _.isArguments(function() { return arguments; }());\r\n * // => true\r\n *\r\n * _.isArguments([1, 2, 3]);\r\n * // => false\r\n */\r\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\r\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\r\n    !propertyIsEnumerable.call(value, 'callee');\r\n};\r\n\r\nmodule.exports = isArguments;\r\n","var baseGetTag = require('./_baseGetTag'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/** `Object#toString` result references. */\r\nvar argsTag = '[object Arguments]';\r\n\r\n/**\r\n * The base implementation of `_.isArguments`.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\r\n */\r\nfunction baseIsArguments(value) {\r\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\r\n}\r\n\r\nmodule.exports = baseIsArguments;\r\n","/**\r\n * This method returns `false`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.13.0\r\n * @category Util\r\n * @returns {boolean} Returns `false`.\r\n * @example\r\n *\r\n * _.times(2, _.stubFalse);\r\n * // => [false, false]\r\n */\r\nfunction stubFalse() {\r\n  return false;\r\n}\r\n\r\nmodule.exports = stubFalse;\r\n","/** Used as references for various `Number` constants. */\r\nvar MAX_SAFE_INTEGER = 9007199254740991;\r\n\r\n/** Used to detect unsigned integer values. */\r\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\r\n\r\n/**\r\n * Checks if `value` is a valid array-like index.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\r\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\r\n */\r\nfunction isIndex(value, length) {\r\n  var type = typeof value;\r\n  length = length == null ? MAX_SAFE_INTEGER : length;\r\n\r\n  return !!length &&\r\n    (type == 'number' ||\r\n      (type != 'symbol' && reIsUint.test(value))) &&\r\n        (value > -1 && value % 1 == 0 && value < length);\r\n}\r\n\r\nmodule.exports = isIndex;\r\n","var baseGetTag = require('./_baseGetTag'),\r\n    isLength = require('./isLength'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/** `Object#toString` result references. */\r\nvar argsTag = '[object Arguments]',\r\n    arrayTag = '[object Array]',\r\n    boolTag = '[object Boolean]',\r\n    dateTag = '[object Date]',\r\n    errorTag = '[object Error]',\r\n    funcTag = '[object Function]',\r\n    mapTag = '[object Map]',\r\n    numberTag = '[object Number]',\r\n    objectTag = '[object Object]',\r\n    regexpTag = '[object RegExp]',\r\n    setTag = '[object Set]',\r\n    stringTag = '[object String]',\r\n    weakMapTag = '[object WeakMap]';\r\n\r\nvar arrayBufferTag = '[object ArrayBuffer]',\r\n    dataViewTag = '[object DataView]',\r\n    float32Tag = '[object Float32Array]',\r\n    float64Tag = '[object Float64Array]',\r\n    int8Tag = '[object Int8Array]',\r\n    int16Tag = '[object Int16Array]',\r\n    int32Tag = '[object Int32Array]',\r\n    uint8Tag = '[object Uint8Array]',\r\n    uint8ClampedTag = '[object Uint8ClampedArray]',\r\n    uint16Tag = '[object Uint16Array]',\r\n    uint32Tag = '[object Uint32Array]';\r\n\r\n/** Used to identify `toStringTag` values of typed arrays. */\r\nvar typedArrayTags = {};\r\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\r\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\r\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\r\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\r\ntypedArrayTags[uint32Tag] = true;\r\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\r\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\r\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\r\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\r\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\r\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\r\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\r\ntypedArrayTags[weakMapTag] = false;\r\n\r\n/**\r\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\r\n */\r\nfunction baseIsTypedArray(value) {\r\n  return isObjectLike(value) &&\r\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\r\n}\r\n\r\nmodule.exports = baseIsTypedArray;\r\n","/**\r\n * The base implementation of `_.unary` without support for storing metadata.\r\n *\r\n * @private\r\n * @param {Function} func The function to cap arguments for.\r\n * @returns {Function} Returns the new capped function.\r\n */\r\nfunction baseUnary(func) {\r\n  return function(value) {\r\n    return func(value);\r\n  };\r\n}\r\n\r\nmodule.exports = baseUnary;\r\n","var freeGlobal = require('./_freeGlobal');\r\n\r\n/** Detect free variable `exports`. */\r\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\r\n\r\n/** Detect free variable `module`. */\r\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\r\n\r\n/** Detect the popular CommonJS extension `module.exports`. */\r\nvar moduleExports = freeModule && freeModule.exports === freeExports;\r\n\r\n/** Detect free variable `process` from Node.js. */\r\nvar freeProcess = moduleExports && freeGlobal.process;\r\n\r\n/** Used to access faster Node.js helpers. */\r\nvar nodeUtil = (function() {\r\n  try {\r\n    // Use `util.types` for Node.js 10+.\r\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\r\n\r\n    if (types) {\r\n      return types;\r\n    }\r\n\r\n    // Legacy `process.binding('util')` for Node.js < 10.\r\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\r\n  } catch (e) {}\r\n}());\r\n\r\nmodule.exports = nodeUtil;\r\n","var isPrototype = require('./_isPrototype'),\r\n    nativeKeys = require('./_nativeKeys');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of property names.\r\n */\r\nfunction baseKeys(object) {\r\n  if (!isPrototype(object)) {\r\n    return nativeKeys(object);\r\n  }\r\n  var result = [];\r\n  for (var key in Object(object)) {\r\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\r\n      result.push(key);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = baseKeys;\r\n","/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/**\r\n * Checks if `value` is likely a prototype object.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\r\n */\r\nfunction isPrototype(value) {\r\n  var Ctor = value && value.constructor,\r\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\r\n\r\n  return value === proto;\r\n}\r\n\r\nmodule.exports = isPrototype;\r\n","var overArg = require('./_overArg');\r\n\r\n/* Built-in method references for those with the same name as other `lodash` methods. */\r\nvar nativeKeys = overArg(Object.keys, Object);\r\n\r\nmodule.exports = nativeKeys;\r\n","/**\r\n * Creates a unary function that invokes `func` with its argument transformed.\r\n *\r\n * @private\r\n * @param {Function} func The function to wrap.\r\n * @param {Function} transform The argument transform.\r\n * @returns {Function} Returns the new function.\r\n */\r\nfunction overArg(func, transform) {\r\n  return function(arg) {\r\n    return func(transform(arg));\r\n  };\r\n}\r\n\r\nmodule.exports = overArg;\r\n","var isFunction = require('./isFunction'),\r\n    isLength = require('./isLength');\r\n\r\n/**\r\n * Checks if `value` is array-like. A value is considered array-like if it's\r\n * not a function and has a `value.length` that's an integer greater than or\r\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\r\n * @example\r\n *\r\n * _.isArrayLike([1, 2, 3]);\r\n * // => true\r\n *\r\n * _.isArrayLike(document.body.children);\r\n * // => true\r\n *\r\n * _.isArrayLike('abc');\r\n * // => true\r\n *\r\n * _.isArrayLike(_.noop);\r\n * // => false\r\n */\r\nfunction isArrayLike(value) {\r\n  return value != null && isLength(value.length) && !isFunction(value);\r\n}\r\n\r\nmodule.exports = isArrayLike;\r\n","var DataView = require('./_DataView'),\r\n    Map = require('./_Map'),\r\n    Promise = require('./_Promise'),\r\n    Set = require('./_Set'),\r\n    WeakMap = require('./_WeakMap'),\r\n    baseGetTag = require('./_baseGetTag'),\r\n    toSource = require('./_toSource');\r\n\r\n/** `Object#toString` result references. */\r\nvar mapTag = '[object Map]',\r\n    objectTag = '[object Object]',\r\n    promiseTag = '[object Promise]',\r\n    setTag = '[object Set]',\r\n    weakMapTag = '[object WeakMap]';\r\n\r\nvar dataViewTag = '[object DataView]';\r\n\r\n/** Used to detect maps, sets, and weakmaps. */\r\nvar dataViewCtorString = toSource(DataView),\r\n    mapCtorString = toSource(Map),\r\n    promiseCtorString = toSource(Promise),\r\n    setCtorString = toSource(Set),\r\n    weakMapCtorString = toSource(WeakMap);\r\n\r\n/**\r\n * Gets the `toStringTag` of `value`.\r\n *\r\n * @private\r\n * @param {*} value The value to query.\r\n * @returns {string} Returns the `toStringTag`.\r\n */\r\nvar getTag = baseGetTag;\r\n\r\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\r\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\r\n    (Map && getTag(new Map) != mapTag) ||\r\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\r\n    (Set && getTag(new Set) != setTag) ||\r\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\r\n  getTag = function(value) {\r\n    var result = baseGetTag(value),\r\n        Ctor = result == objectTag ? value.constructor : undefined,\r\n        ctorString = Ctor ? toSource(Ctor) : '';\r\n\r\n    if (ctorString) {\r\n      switch (ctorString) {\r\n        case dataViewCtorString: return dataViewTag;\r\n        case mapCtorString: return mapTag;\r\n        case promiseCtorString: return promiseTag;\r\n        case setCtorString: return setTag;\r\n        case weakMapCtorString: return weakMapTag;\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n}\r\n\r\nmodule.exports = getTag;\r\n","var getNative = require('./_getNative'),\r\n    root = require('./_root');\r\n\r\n/* Built-in method references that are verified to be native. */\r\nvar DataView = getNative(root, 'DataView');\r\n\r\nmodule.exports = DataView;\r\n","var getNative = require('./_getNative'),\r\n    root = require('./_root');\r\n\r\n/* Built-in method references that are verified to be native. */\r\nvar Promise = getNative(root, 'Promise');\r\n\r\nmodule.exports = Promise;\r\n","var getNative = require('./_getNative'),\r\n    root = require('./_root');\r\n\r\n/* Built-in method references that are verified to be native. */\r\nvar Set = getNative(root, 'Set');\r\n\r\nmodule.exports = Set;\r\n","var getNative = require('./_getNative'),\r\n    root = require('./_root');\r\n\r\n/* Built-in method references that are verified to be native. */\r\nvar WeakMap = getNative(root, 'WeakMap');\r\n\r\nmodule.exports = WeakMap;\r\n","function _arrayLikeToArray(arr, len) {\r\n  if (len == null || len > arr.length) len = arr.length;\r\n\r\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n  }\r\n\r\n  return arr2;\r\n}\r\n\r\nmodule.exports = _arrayLikeToArray;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Interactivity = void 0;\r\nconst Enums_1 = require(\"../../../Enums\");\r\nconst Events_1 = require(\"./Events/Events\");\r\nconst Modes_1 = require(\"./Modes/Modes\");\r\nclass Interactivity {\r\n    constructor() {\r\n        this.detectsOn = Enums_1.InteractivityDetect.canvas;\r\n        this.events = new Events_1.Events();\r\n        this.modes = new Modes_1.Modes();\r\n    }\r\n    get detect_on() {\r\n        return this.detectsOn;\r\n    }\r\n    set detect_on(value) {\r\n        this.detectsOn = value;\r\n    }\r\n    load(data) {\r\n        var _a, _b, _c;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        const detectsOn = (_a = data.detectsOn) !== null && _a !== void 0 ? _a : data.detect_on;\r\n        if (detectsOn !== undefined) {\r\n            this.detectsOn = detectsOn;\r\n        }\r\n        this.events.load(data.events);\r\n        this.modes.load(data.modes);\r\n        if (((_c = (_b = data.modes) === null || _b === void 0 ? void 0 : _b.slow) === null || _c === void 0 ? void 0 : _c.active) === true) {\r\n            if (this.events.onHover.mode instanceof Array) {\r\n                if (this.events.onHover.mode.indexOf(Enums_1.HoverMode.slow) < 0) {\r\n                    this.events.onHover.mode.push(Enums_1.HoverMode.slow);\r\n                }\r\n            }\r\n            else if (this.events.onHover.mode !== Enums_1.HoverMode.slow) {\r\n                this.events.onHover.mode = [this.events.onHover.mode, Enums_1.HoverMode.slow];\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Interactivity = Interactivity;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MoveDirection = void 0;\r\nvar MoveDirection;\r\n(function (MoveDirection) {\r\n    MoveDirection[\"bottom\"] = \"bottom\";\r\n    MoveDirection[\"bottomLeft\"] = \"bottom-left\";\r\n    MoveDirection[\"bottomRight\"] = \"bottom-right\";\r\n    MoveDirection[\"left\"] = \"left\";\r\n    MoveDirection[\"none\"] = \"none\";\r\n    MoveDirection[\"right\"] = \"right\";\r\n    MoveDirection[\"top\"] = \"top\";\r\n    MoveDirection[\"topLeft\"] = \"top-left\";\r\n    MoveDirection[\"topRight\"] = \"top-right\";\r\n})(MoveDirection = exports.MoveDirection || (exports.MoveDirection = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RotateDirection = void 0;\r\nvar RotateDirection;\r\n(function (RotateDirection) {\r\n    RotateDirection[\"clockwise\"] = \"clockwise\";\r\n    RotateDirection[\"counterClockwise\"] = \"counter-clockwise\";\r\n    RotateDirection[\"random\"] = \"random\";\r\n})(RotateDirection = exports.RotateDirection || (exports.RotateDirection = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DestroyMode = void 0;\r\nvar DestroyMode;\r\n(function (DestroyMode) {\r\n    DestroyMode[\"none\"] = \"none\";\r\n    DestroyMode[\"split\"] = \"split\";\r\n})(DestroyMode = exports.DestroyMode || (exports.DestroyMode = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CollisionMode = void 0;\r\nvar CollisionMode;\r\n(function (CollisionMode) {\r\n    CollisionMode[\"absorb\"] = \"absorb\";\r\n    CollisionMode[\"bounce\"] = \"bounce\";\r\n    CollisionMode[\"destroy\"] = \"destroy\";\r\n})(CollisionMode = exports.CollisionMode || (exports.CollisionMode = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.OutMode = void 0;\r\nvar OutMode;\r\n(function (OutMode) {\r\n    OutMode[\"bounce\"] = \"bounce\";\r\n    OutMode[\"bounceHorizontal\"] = \"bounce-horizontal\";\r\n    OutMode[\"bounceVertical\"] = \"bounce-vertical\";\r\n    OutMode[\"none\"] = \"none\";\r\n    OutMode[\"out\"] = \"out\";\r\n    OutMode[\"destroy\"] = \"destroy\";\r\n    OutMode[\"split\"] = \"split\";\r\n})(OutMode = exports.OutMode || (exports.OutMode = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SizeMode = void 0;\r\nvar SizeMode;\r\n(function (SizeMode) {\r\n    SizeMode[\"precise\"] = \"precise\";\r\n    SizeMode[\"percent\"] = \"percent\";\r\n})(SizeMode = exports.SizeMode || (exports.SizeMode = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ThemeMode = void 0;\r\nvar ThemeMode;\r\n(function (ThemeMode) {\r\n    ThemeMode[\"any\"] = \"any\";\r\n    ThemeMode[\"dark\"] = \"dark\";\r\n    ThemeMode[\"light\"] = \"light\";\r\n})(ThemeMode = exports.ThemeMode || (exports.ThemeMode = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AnimationStatus = void 0;\r\nvar AnimationStatus;\r\n(function (AnimationStatus) {\r\n    AnimationStatus[AnimationStatus[\"increasing\"] = 0] = \"increasing\";\r\n    AnimationStatus[AnimationStatus[\"decreasing\"] = 1] = \"decreasing\";\r\n})(AnimationStatus = exports.AnimationStatus || (exports.AnimationStatus = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DestroyType = void 0;\r\nvar DestroyType;\r\n(function (DestroyType) {\r\n    DestroyType[\"none\"] = \"none\";\r\n    DestroyType[\"max\"] = \"max\";\r\n    DestroyType[\"min\"] = \"min\";\r\n})(DestroyType = exports.DestroyType || (exports.DestroyType = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ProcessBubbleType = void 0;\r\nvar ProcessBubbleType;\r\n(function (ProcessBubbleType) {\r\n    ProcessBubbleType[\"color\"] = \"color\";\r\n    ProcessBubbleType[\"opacity\"] = \"opacity\";\r\n    ProcessBubbleType[\"size\"] = \"size\";\r\n})(ProcessBubbleType = exports.ProcessBubbleType || (exports.ProcessBubbleType = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ShapeType = void 0;\r\nvar ShapeType;\r\n(function (ShapeType) {\r\n    ShapeType[\"char\"] = \"char\";\r\n    ShapeType[\"character\"] = \"character\";\r\n    ShapeType[\"circle\"] = \"circle\";\r\n    ShapeType[\"edge\"] = \"edge\";\r\n    ShapeType[\"image\"] = \"image\";\r\n    ShapeType[\"images\"] = \"images\";\r\n    ShapeType[\"line\"] = \"line\";\r\n    ShapeType[\"polygon\"] = \"polygon\";\r\n    ShapeType[\"square\"] = \"square\";\r\n    ShapeType[\"star\"] = \"star\";\r\n    ShapeType[\"triangle\"] = \"triangle\";\r\n})(ShapeType = exports.ShapeType || (exports.ShapeType = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StartValueType = void 0;\r\nvar StartValueType;\r\n(function (StartValueType) {\r\n    StartValueType[\"max\"] = \"max\";\r\n    StartValueType[\"min\"] = \"min\";\r\n    StartValueType[\"random\"] = \"random\";\r\n})(StartValueType = exports.StartValueType || (exports.StartValueType = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DivType = void 0;\r\nvar DivType;\r\n(function (DivType) {\r\n    DivType[\"circle\"] = \"circle\";\r\n    DivType[\"rectangle\"] = \"rectangle\";\r\n})(DivType = exports.DivType || (exports.DivType = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Events = void 0;\r\nconst ClickEvent_1 = require(\"./ClickEvent\");\r\nconst DivEvent_1 = require(\"./DivEvent\");\r\nconst HoverEvent_1 = require(\"./HoverEvent\");\r\nclass Events {\r\n    constructor() {\r\n        this.onClick = new ClickEvent_1.ClickEvent();\r\n        this.onDiv = new DivEvent_1.DivEvent();\r\n        this.onHover = new HoverEvent_1.HoverEvent();\r\n        this.resize = true;\r\n    }\r\n    get onclick() {\r\n        return this.onClick;\r\n    }\r\n    set onclick(value) {\r\n        this.onClick = value;\r\n    }\r\n    get ondiv() {\r\n        return this.onDiv;\r\n    }\r\n    set ondiv(value) {\r\n        this.onDiv = value;\r\n    }\r\n    get onhover() {\r\n        return this.onHover;\r\n    }\r\n    set onhover(value) {\r\n        this.onHover = value;\r\n    }\r\n    load(data) {\r\n        var _a, _b, _c;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        this.onClick.load((_a = data.onClick) !== null && _a !== void 0 ? _a : data.onclick);\r\n        const onDiv = (_b = data.onDiv) !== null && _b !== void 0 ? _b : data.ondiv;\r\n        if (onDiv !== undefined) {\r\n            if (onDiv instanceof Array) {\r\n                this.onDiv = onDiv.map((div) => {\r\n                    const tmp = new DivEvent_1.DivEvent();\r\n                    tmp.load(div);\r\n                    return tmp;\r\n                });\r\n            }\r\n            else {\r\n                this.onDiv = new DivEvent_1.DivEvent();\r\n                this.onDiv.load(onDiv);\r\n            }\r\n        }\r\n        this.onHover.load((_c = data.onHover) !== null && _c !== void 0 ? _c : data.onhover);\r\n        if (data.resize !== undefined) {\r\n            this.resize = data.resize;\r\n        }\r\n    }\r\n}\r\nexports.Events = Events;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ClickEvent = void 0;\r\nclass ClickEvent {\r\n    constructor() {\r\n        this.enable = false;\r\n        this.mode = [];\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.mode !== undefined) {\r\n            this.mode = data.mode;\r\n        }\r\n    }\r\n}\r\nexports.ClickEvent = ClickEvent;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DivEvent = void 0;\r\nconst Enums_1 = require(\"../../../../Enums\");\r\nclass DivEvent {\r\n    constructor() {\r\n        this.selectors = [];\r\n        this.enable = false;\r\n        this.mode = [];\r\n        this.type = Enums_1.DivType.circle;\r\n    }\r\n    get elementId() {\r\n        return this.ids;\r\n    }\r\n    set elementId(value) {\r\n        this.ids = value;\r\n    }\r\n    get el() {\r\n        return this.elementId;\r\n    }\r\n    set el(value) {\r\n        this.elementId = value;\r\n    }\r\n    get ids() {\r\n        return this.selectors instanceof Array\r\n            ? this.selectors.map((t) => t.replace(\"#\", \"\"))\r\n            : this.selectors.replace(\"#\", \"\");\r\n    }\r\n    set ids(value) {\r\n        this.selectors = value instanceof Array ? value.map((t) => `#${t}`) : `#${value}`;\r\n    }\r\n    load(data) {\r\n        var _a, _b;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        const ids = (_b = (_a = data.ids) !== null && _a !== void 0 ? _a : data.elementId) !== null && _b !== void 0 ? _b : data.el;\r\n        if (ids !== undefined) {\r\n            this.ids = ids;\r\n        }\r\n        if (data.selectors !== undefined) {\r\n            this.selectors = data.selectors;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.mode !== undefined) {\r\n            this.mode = data.mode;\r\n        }\r\n        if (data.type !== undefined) {\r\n            this.type = data.type;\r\n        }\r\n    }\r\n}\r\nexports.DivEvent = DivEvent;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HoverEvent = void 0;\r\nconst Parallax_1 = require(\"./Parallax\");\r\nclass HoverEvent {\r\n    constructor() {\r\n        this.enable = false;\r\n        this.mode = [];\r\n        this.parallax = new Parallax_1.Parallax();\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.mode !== undefined) {\r\n            this.mode = data.mode;\r\n        }\r\n        this.parallax.load(data.parallax);\r\n    }\r\n}\r\nexports.HoverEvent = HoverEvent;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Parallax = void 0;\r\nclass Parallax {\r\n    constructor() {\r\n        this.enable = false;\r\n        this.force = 2;\r\n        this.smooth = 10;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.force !== undefined) {\r\n            this.force = data.force;\r\n        }\r\n        if (data.smooth !== undefined) {\r\n            this.smooth = data.smooth;\r\n        }\r\n    }\r\n}\r\nexports.Parallax = Parallax;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Modes = void 0;\r\nconst Bubble_1 = require(\"./Bubble\");\r\nconst Connect_1 = require(\"./Connect\");\r\nconst Grab_1 = require(\"./Grab\");\r\nconst Remove_1 = require(\"./Remove\");\r\nconst Push_1 = require(\"./Push\");\r\nconst Repulse_1 = require(\"./Repulse\");\r\nconst Slow_1 = require(\"./Slow\");\r\nconst Trail_1 = require(\"./Trail\");\r\nconst Attract_1 = require(\"./Attract\");\r\nconst Light_1 = require(\"./Light\");\r\nconst Bounce_1 = require(\"./Bounce\");\r\nclass Modes {\r\n    constructor() {\r\n        this.attract = new Attract_1.Attract();\r\n        this.bounce = new Bounce_1.Bounce();\r\n        this.bubble = new Bubble_1.Bubble();\r\n        this.connect = new Connect_1.Connect();\r\n        this.grab = new Grab_1.Grab();\r\n        this.light = new Light_1.Light();\r\n        this.push = new Push_1.Push();\r\n        this.remove = new Remove_1.Remove();\r\n        this.repulse = new Repulse_1.Repulse();\r\n        this.slow = new Slow_1.Slow();\r\n        this.trail = new Trail_1.Trail();\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        this.attract.load(data.attract);\r\n        this.bubble.load(data.bubble);\r\n        this.connect.load(data.connect);\r\n        this.grab.load(data.grab);\r\n        this.light.load(data.light);\r\n        this.push.load(data.push);\r\n        this.remove.load(data.remove);\r\n        this.repulse.load(data.repulse);\r\n        this.slow.load(data.slow);\r\n        this.trail.load(data.trail);\r\n    }\r\n}\r\nexports.Modes = Modes;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Bubble = void 0;\r\nconst BubbleDiv_1 = require(\"./BubbleDiv\");\r\nconst BubbleBase_1 = require(\"./BubbleBase\");\r\nclass Bubble extends BubbleBase_1.BubbleBase {\r\n    load(data) {\r\n        super.load(data);\r\n        if (!(data !== undefined && data.divs !== undefined)) {\r\n            return;\r\n        }\r\n        if (data.divs instanceof Array) {\r\n            this.divs = data.divs.map((s) => {\r\n                const tmp = new BubbleDiv_1.BubbleDiv();\r\n                tmp.load(s);\r\n                return tmp;\r\n            });\r\n        }\r\n        else {\r\n            if (this.divs instanceof Array || !this.divs) {\r\n                this.divs = new BubbleDiv_1.BubbleDiv();\r\n            }\r\n            this.divs.load(data.divs);\r\n        }\r\n    }\r\n}\r\nexports.Bubble = Bubble;\r\n","var getPrototypeOf = require(\"./getPrototypeOf\");\r\n\r\nfunction _superPropBase(object, property) {\r\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n    object = getPrototypeOf(object);\r\n    if (object === null) break;\r\n  }\r\n\r\n  return object;\r\n}\r\n\r\nmodule.exports = _superPropBase;","function _setPrototypeOf(o, p) {\r\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\r\n    o.__proto__ = p;\r\n    return o;\r\n  };\r\n\r\n  return _setPrototypeOf(o, p);\r\n}\r\n\r\nmodule.exports = _setPrototypeOf;","function _isNativeReflectConstruct() {\r\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\r\n  if (Reflect.construct.sham) return false;\r\n  if (typeof Proxy === \"function\") return true;\r\n\r\n  try {\r\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nmodule.exports = _isNativeReflectConstruct;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\r\n\r\nvar assertThisInitialized = require(\"./assertThisInitialized\");\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\r\n    return call;\r\n  }\r\n\r\n  return assertThisInitialized(self);\r\n}\r\n\r\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\r\n  \"@babel/helpers - typeof\";\r\n\r\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\r\n    module.exports = _typeof = function _typeof(obj) {\r\n      return typeof obj;\r\n    };\r\n  } else {\r\n    module.exports = _typeof = function _typeof(obj) {\r\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n    };\r\n  }\r\n\r\n  return _typeof(obj);\r\n}\r\n\r\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\r\n  if (self === void 0) {\r\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\r\n  }\r\n\r\n  return self;\r\n}\r\n\r\nmodule.exports = _assertThisInitialized;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BubbleDiv = void 0;\r\nconst BubbleBase_1 = require(\"./BubbleBase\");\r\nclass BubbleDiv extends BubbleBase_1.BubbleBase {\r\n    constructor() {\r\n        super();\r\n        this.selectors = [];\r\n    }\r\n    get ids() {\r\n        return this.selectors instanceof Array\r\n            ? this.selectors.map((t) => t.replace(\"#\", \"\"))\r\n            : this.selectors.replace(\"#\", \"\");\r\n    }\r\n    set ids(value) {\r\n        this.selectors = value instanceof Array ? value.map((t) => `#${t}`) : `#${value}`;\r\n    }\r\n    load(data) {\r\n        super.load(data);\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.ids !== undefined) {\r\n            this.ids = data.ids;\r\n        }\r\n        if (data.selectors !== undefined) {\r\n            this.selectors = data.selectors;\r\n        }\r\n    }\r\n}\r\nexports.BubbleDiv = BubbleDiv;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Connect = void 0;\r\nconst ConnectLinks_1 = require(\"./ConnectLinks\");\r\nclass Connect {\r\n    constructor() {\r\n        this.distance = 80;\r\n        this.links = new ConnectLinks_1.ConnectLinks();\r\n        this.radius = 60;\r\n    }\r\n    get line_linked() {\r\n        return this.links;\r\n    }\r\n    set line_linked(value) {\r\n        this.links = value;\r\n    }\r\n    get lineLinked() {\r\n        return this.links;\r\n    }\r\n    set lineLinked(value) {\r\n        this.links = value;\r\n    }\r\n    load(data) {\r\n        var _a, _b;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.distance !== undefined) {\r\n            this.distance = data.distance;\r\n        }\r\n        this.links.load((_b = (_a = data.links) !== null && _a !== void 0 ? _a : data.lineLinked) !== null && _b !== void 0 ? _b : data.line_linked);\r\n        if (data.radius !== undefined) {\r\n            this.radius = data.radius;\r\n        }\r\n    }\r\n}\r\nexports.Connect = Connect;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ConnectLinks = void 0;\r\nclass ConnectLinks {\r\n    constructor() {\r\n        this.opacity = 0.5;\r\n    }\r\n    load(data) {\r\n        if (!(data !== undefined && data.opacity !== undefined)) {\r\n            return;\r\n        }\r\n        this.opacity = data.opacity;\r\n    }\r\n}\r\nexports.ConnectLinks = ConnectLinks;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Grab = void 0;\r\nconst GrabLinks_1 = require(\"./GrabLinks\");\r\nclass Grab {\r\n    constructor() {\r\n        this.distance = 100;\r\n        this.links = new GrabLinks_1.GrabLinks();\r\n    }\r\n    get line_linked() {\r\n        return this.links;\r\n    }\r\n    set line_linked(value) {\r\n        this.links = value;\r\n    }\r\n    get lineLinked() {\r\n        return this.links;\r\n    }\r\n    set lineLinked(value) {\r\n        this.links = value;\r\n    }\r\n    load(data) {\r\n        var _a, _b;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.distance !== undefined) {\r\n            this.distance = data.distance;\r\n        }\r\n        this.links.load((_b = (_a = data.links) !== null && _a !== void 0 ? _a : data.lineLinked) !== null && _b !== void 0 ? _b : data.line_linked);\r\n    }\r\n}\r\nexports.Grab = Grab;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GrabLinks = void 0;\r\nconst OptionsColor_1 = require(\"../../OptionsColor\");\r\nclass GrabLinks {\r\n    constructor() {\r\n        this.blink = false;\r\n        this.consent = false;\r\n        this.opacity = 1;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.blink !== undefined) {\r\n            this.blink = data.blink;\r\n        }\r\n        if (data.color !== undefined) {\r\n            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n        }\r\n        if (data.consent !== undefined) {\r\n            this.consent = data.consent;\r\n        }\r\n        if (data.opacity !== undefined) {\r\n            this.opacity = data.opacity;\r\n        }\r\n    }\r\n}\r\nexports.GrabLinks = GrabLinks;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Remove = void 0;\r\nclass Remove {\r\n    constructor() {\r\n        this.quantity = 2;\r\n    }\r\n    get particles_nb() {\r\n        return this.quantity;\r\n    }\r\n    set particles_nb(value) {\r\n        this.quantity = value;\r\n    }\r\n    load(data) {\r\n        var _a;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        const quantity = (_a = data.quantity) !== null && _a !== void 0 ? _a : data.particles_nb;\r\n        if (quantity !== undefined) {\r\n            this.quantity = quantity;\r\n        }\r\n    }\r\n}\r\nexports.Remove = Remove;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Push = void 0;\r\nclass Push {\r\n    constructor() {\r\n        this.quantity = 4;\r\n    }\r\n    get particles_nb() {\r\n        return this.quantity;\r\n    }\r\n    set particles_nb(value) {\r\n        this.quantity = value;\r\n    }\r\n    load(data) {\r\n        var _a;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        const quantity = (_a = data.quantity) !== null && _a !== void 0 ? _a : data.particles_nb;\r\n        if (quantity !== undefined) {\r\n            this.quantity = quantity;\r\n        }\r\n    }\r\n}\r\nexports.Push = Push;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Repulse = void 0;\r\nconst RepulseDiv_1 = require(\"./RepulseDiv\");\r\nconst RepulseBase_1 = require(\"./RepulseBase\");\r\nclass Repulse extends RepulseBase_1.RepulseBase {\r\n    load(data) {\r\n        super.load(data);\r\n        if ((data === null || data === void 0 ? void 0 : data.divs) === undefined) {\r\n            return;\r\n        }\r\n        if (data.divs instanceof Array) {\r\n            this.divs = data.divs.map((s) => {\r\n                const tmp = new RepulseDiv_1.RepulseDiv();\r\n                tmp.load(s);\r\n                return tmp;\r\n            });\r\n        }\r\n        else {\r\n            if (this.divs instanceof Array || !this.divs) {\r\n                this.divs = new RepulseDiv_1.RepulseDiv();\r\n            }\r\n            this.divs.load(data.divs);\r\n        }\r\n    }\r\n}\r\nexports.Repulse = Repulse;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RepulseDiv = void 0;\r\nconst RepulseBase_1 = require(\"./RepulseBase\");\r\nclass RepulseDiv extends RepulseBase_1.RepulseBase {\r\n    constructor() {\r\n        super();\r\n        this.selectors = [];\r\n    }\r\n    get ids() {\r\n        if (this.selectors instanceof Array) {\r\n            return this.selectors.map((t) => t.replace(\"#\", \"\"));\r\n        }\r\n        else {\r\n            return this.selectors.replace(\"#\", \"\");\r\n        }\r\n    }\r\n    set ids(value) {\r\n        if (value instanceof Array) {\r\n            this.selectors = value.map(() => `#${value}`);\r\n        }\r\n        else {\r\n            this.selectors = `#${value}`;\r\n        }\r\n    }\r\n    load(data) {\r\n        super.load(data);\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.ids !== undefined) {\r\n            this.ids = data.ids;\r\n        }\r\n        if (data.selectors !== undefined) {\r\n            this.selectors = data.selectors;\r\n        }\r\n    }\r\n}\r\nexports.RepulseDiv = RepulseDiv;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Slow = void 0;\r\nclass Slow {\r\n    constructor() {\r\n        this.factor = 3;\r\n        this.radius = 200;\r\n    }\r\n    get active() {\r\n        return false;\r\n    }\r\n    set active(_value) {\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.factor !== undefined) {\r\n            this.factor = data.factor;\r\n        }\r\n        if (data.radius !== undefined) {\r\n            this.radius = data.radius;\r\n        }\r\n    }\r\n}\r\nexports.Slow = Slow;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Trail = void 0;\r\nconst Utils_1 = require(\"../../../../Utils\");\r\nclass Trail {\r\n    constructor() {\r\n        this.delay = 1;\r\n        this.quantity = 1;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.delay !== undefined) {\r\n            this.delay = data.delay;\r\n        }\r\n        if (data.quantity !== undefined) {\r\n            this.quantity = data.quantity;\r\n        }\r\n        if (data.particles !== undefined) {\r\n            this.particles = Utils_1.Utils.deepExtend({}, data.particles);\r\n        }\r\n    }\r\n}\r\nexports.Trail = Trail;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CanvasUtils = void 0;\r\nconst ColorUtils_1 = require(\"./ColorUtils\");\r\nconst NumberUtils_1 = require(\"./NumberUtils\");\r\nfunction drawLine(context, begin, end) {\r\n    context.beginPath();\r\n    context.moveTo(begin.x, begin.y);\r\n    context.lineTo(end.x, end.y);\r\n    context.closePath();\r\n}\r\nfunction drawTriangle(context, p1, p2, p3) {\r\n    context.beginPath();\r\n    context.moveTo(p1.x, p1.y);\r\n    context.lineTo(p2.x, p2.y);\r\n    context.lineTo(p3.x, p3.y);\r\n    context.closePath();\r\n}\r\nclass CanvasUtils {\r\n    static paintBase(context, dimension, baseColor) {\r\n        context.save();\r\n        context.fillStyle = baseColor !== null && baseColor !== void 0 ? baseColor : \"rgba(0,0,0,0)\";\r\n        context.fillRect(0, 0, dimension.width, dimension.height);\r\n        context.restore();\r\n    }\r\n    static clear(context, dimension) {\r\n        context.clearRect(0, 0, dimension.width, dimension.height);\r\n    }\r\n    static drawLinkLine(context, width, begin, end, maxDistance, canvasSize, warp, backgroundMask, composite, colorLine, opacity, shadow) {\r\n        let drawn = false;\r\n        if (NumberUtils_1.NumberUtils.getDistance(begin, end) <= maxDistance) {\r\n            drawLine(context, begin, end);\r\n            drawn = true;\r\n        }\r\n        else if (warp) {\r\n            let pi1;\r\n            let pi2;\r\n            const endNE = {\r\n                x: end.x - canvasSize.width,\r\n                y: end.y,\r\n            };\r\n            const d1 = NumberUtils_1.NumberUtils.getDistances(begin, endNE);\r\n            if (d1.distance <= maxDistance) {\r\n                const yi = begin.y - (d1.dy / d1.dx) * begin.x;\r\n                pi1 = { x: 0, y: yi };\r\n                pi2 = { x: canvasSize.width, y: yi };\r\n            }\r\n            else {\r\n                const endSW = {\r\n                    x: end.x,\r\n                    y: end.y - canvasSize.height,\r\n                };\r\n                const d2 = NumberUtils_1.NumberUtils.getDistances(begin, endSW);\r\n                if (d2.distance <= maxDistance) {\r\n                    const yi = begin.y - (d2.dy / d2.dx) * begin.x;\r\n                    const xi = -yi / (d2.dy / d2.dx);\r\n                    pi1 = { x: xi, y: 0 };\r\n                    pi2 = { x: xi, y: canvasSize.height };\r\n                }\r\n                else {\r\n                    const endSE = {\r\n                        x: end.x - canvasSize.width,\r\n                        y: end.y - canvasSize.height,\r\n                    };\r\n                    const d3 = NumberUtils_1.NumberUtils.getDistances(begin, endSE);\r\n                    if (d3.distance <= maxDistance) {\r\n                        const yi = begin.y - (d3.dy / d3.dx) * begin.x;\r\n                        const xi = -yi / (d3.dy / d3.dx);\r\n                        pi1 = { x: xi, y: yi };\r\n                        pi2 = { x: pi1.x + canvasSize.width, y: pi1.y + canvasSize.height };\r\n                    }\r\n                }\r\n            }\r\n            if (pi1 && pi2) {\r\n                drawLine(context, begin, pi1);\r\n                drawLine(context, end, pi2);\r\n                drawn = true;\r\n            }\r\n        }\r\n        if (!drawn) {\r\n            return;\r\n        }\r\n        context.lineWidth = width;\r\n        if (backgroundMask) {\r\n            context.globalCompositeOperation = composite;\r\n        }\r\n        context.strokeStyle = ColorUtils_1.ColorUtils.getStyleFromRgb(colorLine, opacity);\r\n        if (shadow.enable) {\r\n            const shadowColor = ColorUtils_1.ColorUtils.colorToRgb(shadow.color);\r\n            if (shadowColor) {\r\n                context.shadowBlur = shadow.blur;\r\n                context.shadowColor = ColorUtils_1.ColorUtils.getStyleFromRgb(shadowColor);\r\n            }\r\n        }\r\n        context.stroke();\r\n    }\r\n    static drawLinkTriangle(context, pos1, pos2, pos3, backgroundMask, composite, colorTriangle, opacityTriangle) {\r\n        drawTriangle(context, pos1, pos2, pos3);\r\n        if (backgroundMask) {\r\n            context.globalCompositeOperation = composite;\r\n        }\r\n        context.fillStyle = ColorUtils_1.ColorUtils.getStyleFromRgb(colorTriangle, opacityTriangle);\r\n        context.fill();\r\n    }\r\n    static drawConnectLine(context, width, lineStyle, begin, end) {\r\n        context.save();\r\n        drawLine(context, begin, end);\r\n        context.lineWidth = width;\r\n        context.strokeStyle = lineStyle;\r\n        context.stroke();\r\n        context.restore();\r\n    }\r\n    static gradient(context, p1, p2, opacity) {\r\n        const gradStop = Math.floor(p2.getRadius() / p1.getRadius());\r\n        const color1 = p1.getFillColor();\r\n        const color2 = p2.getFillColor();\r\n        if (!color1 || !color2) {\r\n            return;\r\n        }\r\n        const sourcePos = p1.getPosition();\r\n        const destPos = p2.getPosition();\r\n        const midRgb = ColorUtils_1.ColorUtils.mix(color1, color2, p1.getRadius(), p2.getRadius());\r\n        const grad = context.createLinearGradient(sourcePos.x, sourcePos.y, destPos.x, destPos.y);\r\n        grad.addColorStop(0, ColorUtils_1.ColorUtils.getStyleFromHsl(color1, opacity));\r\n        grad.addColorStop(gradStop > 1 ? 1 : gradStop, ColorUtils_1.ColorUtils.getStyleFromRgb(midRgb, opacity));\r\n        grad.addColorStop(1, ColorUtils_1.ColorUtils.getStyleFromHsl(color2, opacity));\r\n        return grad;\r\n    }\r\n    static drawGrabLine(context, width, begin, end, colorLine, opacity) {\r\n        context.save();\r\n        drawLine(context, begin, end);\r\n        context.strokeStyle = ColorUtils_1.ColorUtils.getStyleFromRgb(colorLine, opacity);\r\n        context.lineWidth = width;\r\n        context.stroke();\r\n        context.restore();\r\n    }\r\n    static drawLight(container, context, mousePos) {\r\n        const lightOptions = container.actualOptions.interactivity.modes.light.area;\r\n        context.beginPath();\r\n        context.arc(mousePos.x, mousePos.y, lightOptions.radius, 0, 2 * Math.PI);\r\n        const gradientAmbientLight = context.createRadialGradient(mousePos.x, mousePos.y, 0, mousePos.x, mousePos.y, lightOptions.radius);\r\n        const gradient = lightOptions.gradient;\r\n        const gradientRgb = {\r\n            start: ColorUtils_1.ColorUtils.colorToRgb(gradient.start),\r\n            stop: ColorUtils_1.ColorUtils.colorToRgb(gradient.stop),\r\n        };\r\n        if (!gradientRgb.start || !gradientRgb.stop) {\r\n            return;\r\n        }\r\n        gradientAmbientLight.addColorStop(0, ColorUtils_1.ColorUtils.getStyleFromRgb(gradientRgb.start));\r\n        gradientAmbientLight.addColorStop(1, ColorUtils_1.ColorUtils.getStyleFromRgb(gradientRgb.stop));\r\n        context.fillStyle = gradientAmbientLight;\r\n        context.fill();\r\n    }\r\n    static drawParticleShadow(container, context, particle, mousePos) {\r\n        const pos = particle.getPosition();\r\n        const shadowOptions = container.actualOptions.interactivity.modes.light.shadow;\r\n        context.save();\r\n        const radius = particle.getRadius();\r\n        const sides = particle.sides;\r\n        const full = (Math.PI * 2) / sides;\r\n        const angle = -particle.rotate.value + Math.PI / 4;\r\n        const factor = 1;\r\n        const dots = [];\r\n        for (let i = 0; i < sides; i++) {\r\n            dots.push({\r\n                x: pos.x + radius * Math.sin(angle + full * i) * factor,\r\n                y: pos.y + radius * Math.cos(angle + full * i) * factor,\r\n            });\r\n        }\r\n        const points = [];\r\n        const shadowLength = shadowOptions.length;\r\n        for (const dot of dots) {\r\n            const dotAngle = Math.atan2(mousePos.y - dot.y, mousePos.x - dot.x);\r\n            const endX = dot.x + shadowLength * Math.sin(-dotAngle - Math.PI / 2);\r\n            const endY = dot.y + shadowLength * Math.cos(-dotAngle - Math.PI / 2);\r\n            points.push({\r\n                endX: endX,\r\n                endY: endY,\r\n                startX: dot.x,\r\n                startY: dot.y,\r\n            });\r\n        }\r\n        const shadowRgb = ColorUtils_1.ColorUtils.colorToRgb(shadowOptions.color);\r\n        if (!shadowRgb) {\r\n            return;\r\n        }\r\n        const shadowColor = ColorUtils_1.ColorUtils.getStyleFromRgb(shadowRgb);\r\n        for (let i = points.length - 1; i >= 0; i--) {\r\n            const n = i == points.length - 1 ? 0 : i + 1;\r\n            context.beginPath();\r\n            context.moveTo(points[i].startX, points[i].startY);\r\n            context.lineTo(points[n].startX, points[n].startY);\r\n            context.lineTo(points[n].endX, points[n].endY);\r\n            context.lineTo(points[i].endX, points[i].endY);\r\n            context.fillStyle = shadowColor;\r\n            context.fill();\r\n        }\r\n        context.restore();\r\n    }\r\n    static drawParticle(container, context, particle, delta, fillColorValue, strokeColorValue, backgroundMask, composite, radius, opacity, shadow) {\r\n        const pos = particle.getPosition();\r\n        context.save();\r\n        context.translate(pos.x, pos.y);\r\n        context.beginPath();\r\n        const angle = particle.rotate.value + (particle.options.rotate.path ? particle.velocity.angle : 0);\r\n        if (angle !== 0) {\r\n            context.rotate(angle);\r\n        }\r\n        if (backgroundMask) {\r\n            context.globalCompositeOperation = composite;\r\n        }\r\n        const shadowColor = particle.shadowColor;\r\n        if (shadow.enable && shadowColor) {\r\n            context.shadowBlur = shadow.blur;\r\n            context.shadowColor = ColorUtils_1.ColorUtils.getStyleFromRgb(shadowColor);\r\n            context.shadowOffsetX = shadow.offset.x;\r\n            context.shadowOffsetY = shadow.offset.y;\r\n        }\r\n        if (fillColorValue) {\r\n            context.fillStyle = fillColorValue;\r\n        }\r\n        const stroke = particle.stroke;\r\n        context.lineWidth = particle.strokeWidth;\r\n        if (strokeColorValue) {\r\n            context.strokeStyle = strokeColorValue;\r\n        }\r\n        CanvasUtils.drawShape(container, context, particle, radius, opacity, delta);\r\n        if (stroke.width > 0) {\r\n            context.stroke();\r\n        }\r\n        if (particle.close) {\r\n            context.closePath();\r\n        }\r\n        if (particle.fill) {\r\n            context.fill();\r\n        }\r\n        context.restore();\r\n        context.save();\r\n        context.translate(pos.x, pos.y);\r\n        if (angle !== 0) {\r\n            context.rotate(angle);\r\n        }\r\n        if (backgroundMask) {\r\n            context.globalCompositeOperation = composite;\r\n        }\r\n        CanvasUtils.drawShapeAfterEffect(container, context, particle, radius, opacity, delta);\r\n        context.restore();\r\n    }\r\n    static drawShape(container, context, particle, radius, opacity, delta) {\r\n        if (!particle.shape) {\r\n            return;\r\n        }\r\n        const drawer = container.drawers.get(particle.shape);\r\n        if (!drawer) {\r\n            return;\r\n        }\r\n        drawer.draw(context, particle, radius, opacity, delta, container.retina.pixelRatio);\r\n    }\r\n    static drawShapeAfterEffect(container, context, particle, radius, opacity, delta) {\r\n        if (!particle.shape) {\r\n            return;\r\n        }\r\n        const drawer = container.drawers.get(particle.shape);\r\n        if (!(drawer === null || drawer === void 0 ? void 0 : drawer.afterEffect)) {\r\n            return;\r\n        }\r\n        drawer.afterEffect(context, particle, radius, opacity, delta, container.retina.pixelRatio);\r\n    }\r\n    static drawPlugin(context, plugin, delta) {\r\n        if (plugin.draw !== undefined) {\r\n            context.save();\r\n            plugin.draw(context, delta);\r\n            context.restore();\r\n        }\r\n    }\r\n}\r\nexports.CanvasUtils = CanvasUtils;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventListeners = void 0;\r\nconst Enums_1 = require(\"../Enums\");\r\nconst Constants_1 = require(\"./Constants\");\r\nfunction manageListener(element, event, handler, add, options) {\r\n    if (add) {\r\n        let addOptions = { passive: true };\r\n        if (typeof options === \"boolean\") {\r\n            addOptions.capture = options;\r\n        }\r\n        else if (options !== undefined) {\r\n            addOptions = options;\r\n        }\r\n        element.addEventListener(event, handler, addOptions);\r\n    }\r\n    else {\r\n        const removeOptions = options;\r\n        element.removeEventListener(event, handler, removeOptions);\r\n    }\r\n}\r\nclass EventListeners {\r\n    constructor(container) {\r\n        this.container = container;\r\n        this.canPush = true;\r\n        this.mouseMoveHandler = (e) => this.mouseTouchMove(e);\r\n        this.touchStartHandler = (e) => this.mouseTouchMove(e);\r\n        this.touchMoveHandler = (e) => this.mouseTouchMove(e);\r\n        this.touchEndHandler = () => this.mouseTouchFinish();\r\n        this.mouseLeaveHandler = () => this.mouseTouchFinish();\r\n        this.touchCancelHandler = () => this.mouseTouchFinish();\r\n        this.touchEndClickHandler = (e) => this.mouseTouchClick(e);\r\n        this.mouseUpHandler = (e) => this.mouseTouchClick(e);\r\n        this.mouseDownHandler = () => this.mouseDown();\r\n        this.visibilityChangeHandler = () => this.handleVisibilityChange();\r\n        this.resizeHandler = () => this.handleWindowResize();\r\n    }\r\n    addListeners() {\r\n        this.manageListeners(true);\r\n    }\r\n    removeListeners() {\r\n        this.manageListeners(false);\r\n    }\r\n    manageListeners(add) {\r\n        var _a;\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const detectType = options.interactivity.detectsOn;\r\n        let mouseLeaveEvent = Constants_1.Constants.mouseLeaveEvent;\r\n        if (detectType === Enums_1.InteractivityDetect.window) {\r\n            container.interactivity.element = window;\r\n            mouseLeaveEvent = Constants_1.Constants.mouseOutEvent;\r\n        }\r\n        else if (detectType === Enums_1.InteractivityDetect.parent && container.canvas.element) {\r\n            const canvasEl = container.canvas.element;\r\n            container.interactivity.element = (_a = canvasEl.parentElement) !== null && _a !== void 0 ? _a : canvasEl.parentNode;\r\n        }\r\n        else {\r\n            container.interactivity.element = container.canvas.element;\r\n        }\r\n        const interactivityEl = container.interactivity.element;\r\n        if (!interactivityEl) {\r\n            return;\r\n        }\r\n        const html = interactivityEl;\r\n        if (options.interactivity.events.onHover.enable || options.interactivity.events.onClick.enable) {\r\n            manageListener(interactivityEl, Constants_1.Constants.mouseMoveEvent, this.mouseMoveHandler, add);\r\n            manageListener(interactivityEl, Constants_1.Constants.touchStartEvent, this.touchStartHandler, add);\r\n            manageListener(interactivityEl, Constants_1.Constants.touchMoveEvent, this.touchMoveHandler, add);\r\n            if (!options.interactivity.events.onClick.enable) {\r\n                manageListener(interactivityEl, Constants_1.Constants.touchEndEvent, this.touchEndHandler, add);\r\n            }\r\n            else {\r\n                manageListener(interactivityEl, Constants_1.Constants.touchEndEvent, this.touchEndClickHandler, add);\r\n                manageListener(interactivityEl, Constants_1.Constants.mouseUpEvent, this.mouseUpHandler, add);\r\n                manageListener(interactivityEl, Constants_1.Constants.mouseDownEvent, this.mouseDownHandler, add);\r\n            }\r\n            manageListener(interactivityEl, mouseLeaveEvent, this.mouseLeaveHandler, add);\r\n            manageListener(interactivityEl, Constants_1.Constants.touchCancelEvent, this.touchCancelHandler, add);\r\n        }\r\n        if (container.canvas.element) {\r\n            container.canvas.element.style.pointerEvents = html === container.canvas.element ? \"initial\" : \"none\";\r\n        }\r\n        if (options.interactivity.events.resize) {\r\n            manageListener(window, Constants_1.Constants.resizeEvent, this.resizeHandler, add);\r\n        }\r\n        if (document) {\r\n            manageListener(document, Constants_1.Constants.visibilityChangeEvent, this.visibilityChangeHandler, add, false);\r\n        }\r\n    }\r\n    handleWindowResize() {\r\n        var _a;\r\n        (_a = this.container.canvas) === null || _a === void 0 ? void 0 : _a.windowResize();\r\n    }\r\n    handleVisibilityChange() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        this.mouseTouchFinish();\r\n        if (!options.pauseOnBlur) {\r\n            return;\r\n        }\r\n        if (document === null || document === void 0 ? void 0 : document.hidden) {\r\n            container.pageHidden = true;\r\n            container.pause();\r\n        }\r\n        else {\r\n            container.pageHidden = false;\r\n            if (container.getAnimationStatus()) {\r\n                container.play(true);\r\n            }\r\n            else {\r\n                container.draw();\r\n            }\r\n        }\r\n    }\r\n    mouseDown() {\r\n        const interactivity = this.container.interactivity;\r\n        if (interactivity) {\r\n            const mouse = interactivity.mouse;\r\n            mouse.clicking = true;\r\n            mouse.downPosition = mouse.position;\r\n        }\r\n    }\r\n    mouseTouchMove(e) {\r\n        var _a, _b, _c, _d, _e, _f, _g;\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        if (((_a = container.interactivity) === null || _a === void 0 ? void 0 : _a.element) === undefined) {\r\n            return;\r\n        }\r\n        container.interactivity.mouse.inside = true;\r\n        let pos;\r\n        const canvas = container.canvas.element;\r\n        if (e.type.startsWith(\"mouse\")) {\r\n            this.canPush = true;\r\n            const mouseEvent = e;\r\n            if (container.interactivity.element === window) {\r\n                if (canvas) {\r\n                    const clientRect = canvas.getBoundingClientRect();\r\n                    pos = {\r\n                        x: mouseEvent.clientX - clientRect.left,\r\n                        y: mouseEvent.clientY - clientRect.top,\r\n                    };\r\n                }\r\n            }\r\n            else if (options.interactivity.detectsOn === Enums_1.InteractivityDetect.parent) {\r\n                const source = mouseEvent.target;\r\n                const target = mouseEvent.currentTarget;\r\n                const canvasEl = container.canvas.element;\r\n                if (source && target && canvasEl) {\r\n                    const sourceRect = source.getBoundingClientRect();\r\n                    const targetRect = target.getBoundingClientRect();\r\n                    const canvasRect = canvasEl.getBoundingClientRect();\r\n                    pos = {\r\n                        x: mouseEvent.offsetX + 2 * sourceRect.left - (targetRect.left + canvasRect.left),\r\n                        y: mouseEvent.offsetY + 2 * sourceRect.top - (targetRect.top + canvasRect.top),\r\n                    };\r\n                }\r\n                else {\r\n                    pos = {\r\n                        x: (_b = mouseEvent.offsetX) !== null && _b !== void 0 ? _b : mouseEvent.clientX,\r\n                        y: (_c = mouseEvent.offsetY) !== null && _c !== void 0 ? _c : mouseEvent.clientY,\r\n                    };\r\n                }\r\n            }\r\n            else {\r\n                if (mouseEvent.target === container.canvas.element) {\r\n                    pos = {\r\n                        x: (_d = mouseEvent.offsetX) !== null && _d !== void 0 ? _d : mouseEvent.clientX,\r\n                        y: (_e = mouseEvent.offsetY) !== null && _e !== void 0 ? _e : mouseEvent.clientY,\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.canPush = e.type !== \"touchmove\";\r\n            const touchEvent = e;\r\n            const lastTouch = touchEvent.touches[touchEvent.touches.length - 1];\r\n            const canvasRect = canvas === null || canvas === void 0 ? void 0 : canvas.getBoundingClientRect();\r\n            pos = {\r\n                x: lastTouch.clientX - ((_f = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.left) !== null && _f !== void 0 ? _f : 0),\r\n                y: lastTouch.clientY - ((_g = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.top) !== null && _g !== void 0 ? _g : 0),\r\n            };\r\n        }\r\n        const pxRatio = container.retina.pixelRatio;\r\n        if (pos) {\r\n            pos.x *= pxRatio;\r\n            pos.y *= pxRatio;\r\n        }\r\n        container.interactivity.mouse.position = pos;\r\n        container.interactivity.status = Constants_1.Constants.mouseMoveEvent;\r\n    }\r\n    mouseTouchFinish() {\r\n        const interactivity = this.container.interactivity;\r\n        if (interactivity === undefined) {\r\n            return;\r\n        }\r\n        const mouse = interactivity.mouse;\r\n        delete mouse.position;\r\n        delete mouse.clickPosition;\r\n        delete mouse.downPosition;\r\n        interactivity.status = Constants_1.Constants.mouseLeaveEvent;\r\n        mouse.inside = false;\r\n        mouse.clicking = false;\r\n    }\r\n    mouseTouchClick(e) {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const mouse = container.interactivity.mouse;\r\n        mouse.inside = true;\r\n        let handled = false;\r\n        const mousePosition = mouse.position;\r\n        if (mousePosition === undefined || !options.interactivity.events.onClick.enable) {\r\n            return;\r\n        }\r\n        for (const [, plugin] of container.plugins) {\r\n            if (plugin.clickPositionValid !== undefined) {\r\n                handled = plugin.clickPositionValid(mousePosition);\r\n                if (handled) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (!handled) {\r\n            this.doMouseTouchClick(e);\r\n        }\r\n        mouse.clicking = false;\r\n    }\r\n    doMouseTouchClick(e) {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        if (this.canPush) {\r\n            const mousePos = container.interactivity.mouse.position;\r\n            if (mousePos) {\r\n                container.interactivity.mouse.clickPosition = {\r\n                    x: mousePos.x,\r\n                    y: mousePos.y,\r\n                };\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n            container.interactivity.mouse.clickTime = new Date().getTime();\r\n            const onClick = options.interactivity.events.onClick;\r\n            if (onClick.mode instanceof Array) {\r\n                for (const mode of onClick.mode) {\r\n                    this.handleClickMode(mode);\r\n                }\r\n            }\r\n            else {\r\n                this.handleClickMode(onClick.mode);\r\n            }\r\n        }\r\n        if (e.type === \"touchend\") {\r\n            setTimeout(() => this.mouseTouchFinish(), 500);\r\n        }\r\n    }\r\n    handleClickMode(mode) {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const pushNb = options.interactivity.modes.push.quantity;\r\n        const removeNb = options.interactivity.modes.remove.quantity;\r\n        switch (mode) {\r\n            case Enums_1.ClickMode.push: {\r\n                if (pushNb > 0) {\r\n                    container.particles.push(pushNb, container.interactivity.mouse);\r\n                }\r\n                break;\r\n            }\r\n            case Enums_1.ClickMode.remove:\r\n                container.particles.removeQuantity(removeNb);\r\n                break;\r\n            case Enums_1.ClickMode.bubble:\r\n                container.bubble.clicking = true;\r\n                break;\r\n            case Enums_1.ClickMode.repulse:\r\n                container.repulse.clicking = true;\r\n                container.repulse.count = 0;\r\n                for (const particle of container.repulse.particles) {\r\n                    particle.velocity.setTo(particle.initialVelocity);\r\n                }\r\n                container.repulse.particles = [];\r\n                container.repulse.finish = false;\r\n                setTimeout(() => {\r\n                    if (!container.destroyed) {\r\n                        container.repulse.clicking = false;\r\n                    }\r\n                }, options.interactivity.modes.repulse.duration * 1000);\r\n                break;\r\n            case Enums_1.ClickMode.attract:\r\n                container.attract.clicking = true;\r\n                container.attract.count = 0;\r\n                for (const particle of container.attract.particles) {\r\n                    particle.velocity.setTo(particle.initialVelocity);\r\n                }\r\n                container.attract.particles = [];\r\n                container.attract.finish = false;\r\n                setTimeout(() => {\r\n                    if (!container.destroyed) {\r\n                        container.attract.clicking = false;\r\n                    }\r\n                }, options.interactivity.modes.attract.duration * 1000);\r\n                break;\r\n            case Enums_1.ClickMode.pause:\r\n                if (container.getAnimationStatus()) {\r\n                    container.pause();\r\n                }\r\n                else {\r\n                    container.play();\r\n                }\r\n                break;\r\n        }\r\n        for (const [, plugin] of container.plugins) {\r\n            if (plugin.handleClickMode) {\r\n                plugin.handleClickMode(mode);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.EventListeners = EventListeners;\r\n","function _arrayWithHoles(arr) {\r\n  if (Array.isArray(arr)) return arr;\r\n}\r\n\r\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\r\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\r\n  var _arr = [];\r\n  var _n = true;\r\n  var _d = false;\r\n  var _e = undefined;\r\n\r\n  try {\r\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\r\n      _arr.push(_s.value);\r\n\r\n      if (i && _arr.length === i) break;\r\n    }\r\n  } catch (err) {\r\n    _d = true;\r\n    _e = err;\r\n  } finally {\r\n    try {\r\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\r\n    } finally {\r\n      if (_d) throw _e;\r\n    }\r\n  }\r\n\r\n  return _arr;\r\n}\r\n\r\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\r\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n}\r\n\r\nmodule.exports = _nonIterableRest;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Plugins = void 0;\r\nconst plugins = [];\r\nconst presets = new Map();\r\nconst drawers = new Map();\r\nconst pathGenerators = new Map();\r\nclass Plugins {\r\n    static getPlugin(plugin) {\r\n        return plugins.find((t) => t.id === plugin);\r\n    }\r\n    static addPlugin(plugin) {\r\n        if (!Plugins.getPlugin(plugin.id)) {\r\n            plugins.push(plugin);\r\n        }\r\n    }\r\n    static getAvailablePlugins(container) {\r\n        const res = new Map();\r\n        for (const plugin of plugins) {\r\n            if (!plugin.needsPlugin(container.actualOptions)) {\r\n                continue;\r\n            }\r\n            res.set(plugin.id, plugin.getPlugin(container));\r\n        }\r\n        return res;\r\n    }\r\n    static loadOptions(options, sourceOptions) {\r\n        for (const plugin of plugins) {\r\n            plugin.loadOptions(options, sourceOptions);\r\n        }\r\n    }\r\n    static getPreset(preset) {\r\n        return presets.get(preset);\r\n    }\r\n    static addPreset(presetKey, options) {\r\n        if (!Plugins.getPreset(presetKey)) {\r\n            presets.set(presetKey, options);\r\n        }\r\n    }\r\n    static addShapeDrawer(type, drawer) {\r\n        if (!Plugins.getShapeDrawer(type)) {\r\n            drawers.set(type, drawer);\r\n        }\r\n    }\r\n    static getShapeDrawer(type) {\r\n        return drawers.get(type);\r\n    }\r\n    static getSupportedShapes() {\r\n        return drawers.keys();\r\n    }\r\n    static getPathGenerator(type) {\r\n        return pathGenerators.get(type);\r\n    }\r\n    static addPathGenerator(type, pathGenerator) {\r\n        if (!Plugins.getPathGenerator(type)) {\r\n            pathGenerators.set(type, pathGenerator);\r\n        }\r\n    }\r\n}\r\nexports.Plugins = Plugins;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Point = void 0;\r\nclass Point {\r\n    constructor(position, particle) {\r\n        this.position = position;\r\n        this.particle = particle;\r\n    }\r\n}\r\nexports.Point = Point;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.QuadTree = void 0;\r\nconst Rectangle_1 = require(\"./Rectangle\");\r\nconst Circle_1 = require(\"./Circle\");\r\nconst CircleWarp_1 = require(\"./CircleWarp\");\r\nclass QuadTree {\r\n    constructor(rectangle, capacity) {\r\n        this.rectangle = rectangle;\r\n        this.capacity = capacity;\r\n        this.points = [];\r\n        this.divided = false;\r\n    }\r\n    subdivide() {\r\n        const x = this.rectangle.position.x;\r\n        const y = this.rectangle.position.y;\r\n        const w = this.rectangle.size.width;\r\n        const h = this.rectangle.size.height;\r\n        const capacity = this.capacity;\r\n        this.northEast = new QuadTree(new Rectangle_1.Rectangle(x, y, w / 2, h / 2), capacity);\r\n        this.northWest = new QuadTree(new Rectangle_1.Rectangle(x + w / 2, y, w / 2, h / 2), capacity);\r\n        this.southEast = new QuadTree(new Rectangle_1.Rectangle(x, y + h / 2, w / 2, h / 2), capacity);\r\n        this.southWest = new QuadTree(new Rectangle_1.Rectangle(x + w / 2, y + h / 2, w / 2, h / 2), capacity);\r\n        this.divided = true;\r\n    }\r\n    insert(point) {\r\n        var _a, _b, _c, _d, _e;\r\n        if (!this.rectangle.contains(point.position)) {\r\n            return false;\r\n        }\r\n        if (this.points.length < this.capacity) {\r\n            this.points.push(point);\r\n            return true;\r\n        }\r\n        if (!this.divided) {\r\n            this.subdivide();\r\n        }\r\n        return ((_e = (((_a = this.northEast) === null || _a === void 0 ? void 0 : _a.insert(point)) ||\r\n            ((_b = this.northWest) === null || _b === void 0 ? void 0 : _b.insert(point)) ||\r\n            ((_c = this.southEast) === null || _c === void 0 ? void 0 : _c.insert(point)) ||\r\n            ((_d = this.southWest) === null || _d === void 0 ? void 0 : _d.insert(point)))) !== null && _e !== void 0 ? _e : false);\r\n    }\r\n    queryCircle(position, radius) {\r\n        return this.query(new Circle_1.Circle(position.x, position.y, radius));\r\n    }\r\n    queryCircleWarp(position, radius, containerOrSize) {\r\n        const container = containerOrSize;\r\n        const size = containerOrSize;\r\n        return this.query(new CircleWarp_1.CircleWarp(position.x, position.y, radius, container.canvas !== undefined ? container.canvas.size : size));\r\n    }\r\n    queryRectangle(position, size) {\r\n        return this.query(new Rectangle_1.Rectangle(position.x, position.y, size.width, size.height));\r\n    }\r\n    query(range, found) {\r\n        var _a, _b, _c, _d;\r\n        const res = found !== null && found !== void 0 ? found : [];\r\n        if (!range.intersects(this.rectangle)) {\r\n            return [];\r\n        }\r\n        else {\r\n            for (const p of this.points) {\r\n                if (!range.contains(p.position)) {\r\n                    continue;\r\n                }\r\n                res.push(p.particle);\r\n            }\r\n            if (this.divided) {\r\n                (_a = this.northEast) === null || _a === void 0 ? void 0 : _a.query(range, res);\r\n                (_b = this.northWest) === null || _b === void 0 ? void 0 : _b.query(range, res);\r\n                (_c = this.southEast) === null || _c === void 0 ? void 0 : _c.query(range, res);\r\n                (_d = this.southWest) === null || _d === void 0 ? void 0 : _d.query(range, res);\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n}\r\nexports.QuadTree = QuadTree;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Attract = void 0;\r\nclass Attract {\r\n    constructor() {\r\n        this.distance = 200;\r\n        this.duration = 0.4;\r\n        this.speed = 1;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.distance !== undefined) {\r\n            this.distance = data.distance;\r\n        }\r\n        if (data.duration !== undefined) {\r\n            this.duration = data.duration;\r\n        }\r\n        if (data.speed !== undefined) {\r\n            this.speed = data.speed;\r\n        }\r\n    }\r\n}\r\nexports.Attract = Attract;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Light = void 0;\r\nconst LightArea_1 = require(\"./LightArea\");\r\nconst LightShadow_1 = require(\"./LightShadow\");\r\nclass Light {\r\n    constructor() {\r\n        this.area = new LightArea_1.LightArea();\r\n        this.shadow = new LightShadow_1.LightShadow();\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        this.area.load(data.area);\r\n        this.shadow.load(data.shadow);\r\n    }\r\n}\r\nexports.Light = Light;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LightArea = void 0;\r\nconst LightGradient_1 = require(\"./LightGradient\");\r\nclass LightArea {\r\n    constructor() {\r\n        this.gradient = new LightGradient_1.LightGradient();\r\n        this.radius = 1000;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        this.gradient.load(data.gradient);\r\n        if (data.radius !== undefined) {\r\n            this.radius = data.radius;\r\n        }\r\n    }\r\n}\r\nexports.LightArea = LightArea;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LightGradient = void 0;\r\nconst OptionsColor_1 = require(\"../../OptionsColor\");\r\nclass LightGradient {\r\n    constructor() {\r\n        this.start = new OptionsColor_1.OptionsColor();\r\n        this.stop = new OptionsColor_1.OptionsColor();\r\n        this.start.value = \"#ffffff\";\r\n        this.stop.value = \"#000000\";\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        this.start = OptionsColor_1.OptionsColor.create(this.start, data.start);\r\n        this.stop = OptionsColor_1.OptionsColor.create(this.stop, data.stop);\r\n    }\r\n}\r\nexports.LightGradient = LightGradient;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LightShadow = void 0;\r\nconst OptionsColor_1 = require(\"../../OptionsColor\");\r\nclass LightShadow {\r\n    constructor() {\r\n        this.color = new OptionsColor_1.OptionsColor();\r\n        this.color.value = \"#000000\";\r\n        this.length = 2000;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n        if (data.length !== undefined) {\r\n            this.length = data.length;\r\n        }\r\n    }\r\n}\r\nexports.LightShadow = LightShadow;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Bounce = void 0;\r\nclass Bounce {\r\n    constructor() {\r\n        this.distance = 200;\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.distance !== undefined) {\r\n            this.distance = data.distance;\r\n        }\r\n    }\r\n}\r\nexports.Bounce = Bounce;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Links = void 0;\r\nconst LinksShadow_1 = require(\"./LinksShadow\");\r\nconst LinksTriangle_1 = require(\"./LinksTriangle\");\r\nconst OptionsColor_1 = require(\"../../OptionsColor\");\r\nclass Links {\r\n    constructor() {\r\n        this.blink = false;\r\n        this.color = new OptionsColor_1.OptionsColor();\r\n        this.consent = false;\r\n        this.distance = 100;\r\n        this.enable = false;\r\n        this.frequency = 1;\r\n        this.opacity = 1;\r\n        this.shadow = new LinksShadow_1.LinksShadow();\r\n        this.triangles = new LinksTriangle_1.LinksTriangle();\r\n        this.width = 1;\r\n        this.warp = false;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.id !== undefined) {\r\n            this.id = data.id;\r\n        }\r\n        if (data.blink !== undefined) {\r\n            this.blink = data.blink;\r\n        }\r\n        this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n        if (data.consent !== undefined) {\r\n            this.consent = data.consent;\r\n        }\r\n        if (data.distance !== undefined) {\r\n            this.distance = data.distance;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.frequency !== undefined) {\r\n            this.frequency = data.frequency;\r\n        }\r\n        if (data.opacity !== undefined) {\r\n            this.opacity = data.opacity;\r\n        }\r\n        this.shadow.load(data.shadow);\r\n        this.triangles.load(data.triangles);\r\n        if (data.width !== undefined) {\r\n            this.width = data.width;\r\n        }\r\n        if (data.warp !== undefined) {\r\n            this.warp = data.warp;\r\n        }\r\n    }\r\n}\r\nexports.Links = Links;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LinksShadow = void 0;\r\nconst OptionsColor_1 = require(\"../../OptionsColor\");\r\nclass LinksShadow {\r\n    constructor() {\r\n        this.blur = 5;\r\n        this.color = new OptionsColor_1.OptionsColor();\r\n        this.enable = false;\r\n        this.color.value = \"#00ff00\";\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.blur !== undefined) {\r\n            this.blur = data.blur;\r\n        }\r\n        this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n    }\r\n}\r\nexports.LinksShadow = LinksShadow;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LinksTriangle = void 0;\r\nconst OptionsColor_1 = require(\"../../OptionsColor\");\r\nclass LinksTriangle {\r\n    constructor() {\r\n        this.enable = false;\r\n        this.frequency = 1;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.color !== undefined) {\r\n            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.frequency !== undefined) {\r\n            this.frequency = data.frequency;\r\n        }\r\n        if (data.opacity !== undefined) {\r\n            this.opacity = data.opacity;\r\n        }\r\n    }\r\n}\r\nexports.LinksTriangle = LinksTriangle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Move = void 0;\r\nconst Attract_1 = require(\"./Attract\");\r\nconst Enums_1 = require(\"../../../../Enums\");\r\nconst Trail_1 = require(\"./Trail\");\r\nconst Path_1 = require(\"./Path/Path\");\r\nconst MoveAngle_1 = require(\"./MoveAngle\");\r\nconst MoveGravity_1 = require(\"./MoveGravity\");\r\nconst OutModes_1 = require(\"./OutModes\");\r\nconst Utils_1 = require(\"../../../../Utils\");\r\nclass Move {\r\n    constructor() {\r\n        this.angle = new MoveAngle_1.MoveAngle();\r\n        this.attract = new Attract_1.Attract();\r\n        this.decay = 0;\r\n        this.distance = 0;\r\n        this.direction = Enums_1.MoveDirection.none;\r\n        this.drift = 0;\r\n        this.enable = false;\r\n        this.gravity = new MoveGravity_1.MoveGravity();\r\n        this.path = new Path_1.Path();\r\n        this.outModes = new OutModes_1.OutModes();\r\n        this.random = false;\r\n        this.size = false;\r\n        this.speed = 2;\r\n        this.straight = false;\r\n        this.trail = new Trail_1.Trail();\r\n        this.vibrate = false;\r\n        this.warp = false;\r\n    }\r\n    get collisions() {\r\n        return false;\r\n    }\r\n    set collisions(value) {\r\n    }\r\n    get bounce() {\r\n        return this.collisions;\r\n    }\r\n    set bounce(value) {\r\n        this.collisions = value;\r\n    }\r\n    get out_mode() {\r\n        return this.outMode;\r\n    }\r\n    set out_mode(value) {\r\n        this.outMode = value;\r\n    }\r\n    get outMode() {\r\n        return this.outModes.default;\r\n    }\r\n    set outMode(value) {\r\n        this.outModes.default = value;\r\n    }\r\n    get noise() {\r\n        return this.path;\r\n    }\r\n    set noise(value) {\r\n        this.path = value;\r\n    }\r\n    load(data) {\r\n        var _a, _b, _c;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.angle !== undefined) {\r\n            if (typeof data.angle === \"number\") {\r\n                this.angle.value = data.angle;\r\n            }\r\n            else {\r\n                this.angle.load(data.angle);\r\n            }\r\n        }\r\n        this.attract.load(data.attract);\r\n        if (data.decay !== undefined) {\r\n            this.decay = data.decay;\r\n        }\r\n        if (data.direction !== undefined) {\r\n            this.direction = data.direction;\r\n        }\r\n        if (data.distance !== undefined) {\r\n            this.distance = data.distance;\r\n        }\r\n        if (data.drift !== undefined) {\r\n            this.drift = Utils_1.NumberUtils.setRangeValue(data.drift);\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        this.gravity.load(data.gravity);\r\n        const outMode = (_a = data.outMode) !== null && _a !== void 0 ? _a : data.out_mode;\r\n        if (data.outModes !== undefined || outMode !== undefined) {\r\n            if (typeof data.outModes === \"string\" || (data.outModes === undefined && outMode !== undefined)) {\r\n                this.outModes.load({\r\n                    default: (_b = data.outModes) !== null && _b !== void 0 ? _b : outMode,\r\n                });\r\n            }\r\n            else {\r\n                this.outModes.load(data.outModes);\r\n            }\r\n        }\r\n        this.path.load((_c = data.path) !== null && _c !== void 0 ? _c : data.noise);\r\n        if (data.random !== undefined) {\r\n            this.random = data.random;\r\n        }\r\n        if (data.size !== undefined) {\r\n            this.size = data.size;\r\n        }\r\n        if (data.speed !== undefined) {\r\n            this.speed = Utils_1.NumberUtils.setRangeValue(data.speed);\r\n        }\r\n        if (data.straight !== undefined) {\r\n            this.straight = data.straight;\r\n        }\r\n        this.trail.load(data.trail);\r\n        if (data.vibrate !== undefined) {\r\n            this.vibrate = data.vibrate;\r\n        }\r\n        if (data.warp !== undefined) {\r\n            this.warp = data.warp;\r\n        }\r\n    }\r\n}\r\nexports.Move = Move;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Attract = void 0;\r\nclass Attract {\r\n    constructor() {\r\n        this.enable = false;\r\n        this.rotate = {\r\n            x: 3000,\r\n            y: 3000,\r\n        };\r\n    }\r\n    get rotateX() {\r\n        return this.rotate.x;\r\n    }\r\n    set rotateX(value) {\r\n        this.rotate.x = value;\r\n    }\r\n    get rotateY() {\r\n        return this.rotate.y;\r\n    }\r\n    set rotateY(value) {\r\n        this.rotate.y = value;\r\n    }\r\n    load(data) {\r\n        var _a, _b, _c, _d;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        const rotateX = (_b = (_a = data.rotate) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : data.rotateX;\r\n        if (rotateX !== undefined) {\r\n            this.rotate.x = rotateX;\r\n        }\r\n        const rotateY = (_d = (_c = data.rotate) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : data.rotateY;\r\n        if (rotateY !== undefined) {\r\n            this.rotate.y = rotateY;\r\n        }\r\n    }\r\n}\r\nexports.Attract = Attract;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Trail = void 0;\r\nconst OptionsColor_1 = require(\"../../OptionsColor\");\r\nclass Trail {\r\n    constructor() {\r\n        this.enable = false;\r\n        this.length = 10;\r\n        this.fillColor = new OptionsColor_1.OptionsColor();\r\n        this.fillColor.value = \"#000000\";\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        this.fillColor = OptionsColor_1.OptionsColor.create(this.fillColor, data.fillColor);\r\n        if (data.length !== undefined) {\r\n            this.length = data.length;\r\n        }\r\n    }\r\n}\r\nexports.Trail = Trail;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Path = void 0;\r\nconst PathDelay_1 = require(\"./PathDelay\");\r\nclass Path {\r\n    constructor() {\r\n        this.clamp = true;\r\n        this.delay = new PathDelay_1.PathDelay();\r\n        this.enable = false;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.clamp !== undefined) {\r\n            this.clamp = data.clamp;\r\n        }\r\n        this.delay.load(data.delay);\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        this.generator = data.generator;\r\n    }\r\n}\r\nexports.Path = Path;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PathDelay = void 0;\r\nconst ValueWithRandom_1 = require(\"../../../ValueWithRandom\");\r\nclass PathDelay extends ValueWithRandom_1.ValueWithRandom {\r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\nexports.PathDelay = PathDelay;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Random = void 0;\r\nclass Random {\r\n    constructor() {\r\n        this.enable = false;\r\n        this.minimumValue = 0;\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.minimumValue !== undefined) {\r\n            this.minimumValue = data.minimumValue;\r\n        }\r\n    }\r\n}\r\nexports.Random = Random;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MoveAngle = void 0;\r\nclass MoveAngle {\r\n    constructor() {\r\n        this.offset = 45;\r\n        this.value = 90;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.offset !== undefined) {\r\n            this.offset = data.offset;\r\n        }\r\n        if (data.value !== undefined) {\r\n            this.value = data.value;\r\n        }\r\n    }\r\n}\r\nexports.MoveAngle = MoveAngle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MoveGravity = void 0;\r\nclass MoveGravity {\r\n    constructor() {\r\n        this.acceleration = 9.81;\r\n        this.enable = false;\r\n        this.maxSpeed = 50;\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.acceleration !== undefined) {\r\n            this.acceleration = data.acceleration;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.maxSpeed !== undefined) {\r\n            this.maxSpeed = data.maxSpeed;\r\n        }\r\n    }\r\n}\r\nexports.MoveGravity = MoveGravity;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.OutModes = void 0;\r\nconst Modes_1 = require(\"../../../../Enums/Modes\");\r\nclass OutModes {\r\n    constructor() {\r\n        this.default = Modes_1.OutMode.out;\r\n    }\r\n    load(data) {\r\n        var _a, _b, _c, _d;\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.default !== undefined) {\r\n            this.default = data.default;\r\n        }\r\n        this.bottom = (_a = data.bottom) !== null && _a !== void 0 ? _a : data.default;\r\n        this.left = (_b = data.left) !== null && _b !== void 0 ? _b : data.default;\r\n        this.right = (_c = data.right) !== null && _c !== void 0 ? _c : data.default;\r\n        this.top = (_d = data.top) !== null && _d !== void 0 ? _d : data.default;\r\n    }\r\n}\r\nexports.OutModes = OutModes;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ParticlesNumber = void 0;\r\nconst Density_1 = require(\"./Density\");\r\nclass ParticlesNumber {\r\n    constructor() {\r\n        this.density = new Density_1.Density();\r\n        this.limit = 0;\r\n        this.value = 100;\r\n    }\r\n    get max() {\r\n        return this.limit;\r\n    }\r\n    set max(value) {\r\n        this.limit = value;\r\n    }\r\n    load(data) {\r\n        var _a;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        this.density.load(data.density);\r\n        const limit = (_a = data.limit) !== null && _a !== void 0 ? _a : data.max;\r\n        if (limit !== undefined) {\r\n            this.limit = limit;\r\n        }\r\n        if (data.value !== undefined) {\r\n            this.value = data.value;\r\n        }\r\n    }\r\n}\r\nexports.ParticlesNumber = ParticlesNumber;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Density = void 0;\r\nclass Density {\r\n    constructor() {\r\n        this.enable = false;\r\n        this.area = 800;\r\n        this.factor = 1000;\r\n    }\r\n    get value_area() {\r\n        return this.area;\r\n    }\r\n    set value_area(value) {\r\n        this.area = value;\r\n    }\r\n    load(data) {\r\n        var _a;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        const area = (_a = data.area) !== null && _a !== void 0 ? _a : data.value_area;\r\n        if (area !== undefined) {\r\n            this.area = area;\r\n        }\r\n        if (data.factor !== undefined) {\r\n            this.factor = data.factor;\r\n        }\r\n    }\r\n}\r\nexports.Density = Density;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Opacity = void 0;\r\nconst OpacityAnimation_1 = require(\"./OpacityAnimation\");\r\nconst ValueWithRandom_1 = require(\"../../ValueWithRandom\");\r\nconst Utils_1 = require(\"../../../../Utils\");\r\nclass Opacity extends ValueWithRandom_1.ValueWithRandom {\r\n    constructor() {\r\n        super();\r\n        this.animation = new OpacityAnimation_1.OpacityAnimation();\r\n        this.random.minimumValue = 0.1;\r\n        this.value = 1;\r\n    }\r\n    get anim() {\r\n        return this.animation;\r\n    }\r\n    set anim(value) {\r\n        this.animation = value;\r\n    }\r\n    load(data) {\r\n        var _a;\r\n        if (!data) {\r\n            return;\r\n        }\r\n        super.load(data);\r\n        const animation = (_a = data.animation) !== null && _a !== void 0 ? _a : data.anim;\r\n        if (animation !== undefined) {\r\n            this.animation.load(animation);\r\n            this.value = Utils_1.NumberUtils.setRangeValue(this.value, this.animation.enable ? this.animation.minimumValue : undefined);\r\n        }\r\n    }\r\n}\r\nexports.Opacity = Opacity;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.OpacityAnimation = void 0;\r\nconst Types_1 = require(\"../../../../Enums/Types\");\r\nconst AnimationOptions_1 = require(\"../../AnimationOptions\");\r\nclass OpacityAnimation extends AnimationOptions_1.AnimationOptions {\r\n    constructor() {\r\n        super();\r\n        this.destroy = Types_1.DestroyType.none;\r\n        this.enable = false;\r\n        this.minimumValue = 0;\r\n        this.speed = 2;\r\n        this.startValue = Types_1.StartValueType.random;\r\n        this.sync = false;\r\n    }\r\n    get opacity_min() {\r\n        return this.minimumValue;\r\n    }\r\n    set opacity_min(value) {\r\n        this.minimumValue = value;\r\n    }\r\n    load(data) {\r\n        var _a;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        super.load(data);\r\n        if (data.destroy !== undefined) {\r\n            this.destroy = data.destroy;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        const minimumValue = (_a = data.minimumValue) !== null && _a !== void 0 ? _a : data.opacity_min;\r\n        if (minimumValue !== undefined) {\r\n            this.minimumValue = minimumValue;\r\n        }\r\n        if (data.speed !== undefined) {\r\n            this.speed = data.speed;\r\n        }\r\n        if (data.startValue !== undefined) {\r\n            this.startValue = data.startValue;\r\n        }\r\n        if (data.sync !== undefined) {\r\n            this.sync = data.sync;\r\n        }\r\n    }\r\n}\r\nexports.OpacityAnimation = OpacityAnimation;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Size = void 0;\r\nconst SizeAnimation_1 = require(\"./SizeAnimation\");\r\nconst ValueWithRandom_1 = require(\"../../ValueWithRandom\");\r\nconst Utils_1 = require(\"../../../../Utils\");\r\nclass Size extends ValueWithRandom_1.ValueWithRandom {\r\n    constructor() {\r\n        super();\r\n        this.animation = new SizeAnimation_1.SizeAnimation();\r\n        this.random.minimumValue = 1;\r\n        this.value = 3;\r\n    }\r\n    get anim() {\r\n        return this.animation;\r\n    }\r\n    set anim(value) {\r\n        this.animation = value;\r\n    }\r\n    load(data) {\r\n        var _a;\r\n        if (!data) {\r\n            return;\r\n        }\r\n        super.load(data);\r\n        const animation = (_a = data.animation) !== null && _a !== void 0 ? _a : data.anim;\r\n        if (animation !== undefined) {\r\n            this.animation.load(animation);\r\n            this.value = Utils_1.NumberUtils.setRangeValue(this.value, this.animation.enable ? this.animation.minimumValue : undefined);\r\n        }\r\n    }\r\n}\r\nexports.Size = Size;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SizeAnimation = void 0;\r\nconst Enums_1 = require(\"../../../../Enums\");\r\nconst AnimationOptions_1 = require(\"../../AnimationOptions\");\r\nclass SizeAnimation extends AnimationOptions_1.AnimationOptions {\r\n    constructor() {\r\n        super();\r\n        this.destroy = Enums_1.DestroyType.none;\r\n        this.enable = false;\r\n        this.minimumValue = 0;\r\n        this.speed = 5;\r\n        this.startValue = Enums_1.StartValueType.random;\r\n        this.sync = false;\r\n    }\r\n    get size_min() {\r\n        return this.minimumValue;\r\n    }\r\n    set size_min(value) {\r\n        this.minimumValue = value;\r\n    }\r\n    load(data) {\r\n        var _a;\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        super.load(data);\r\n        if (data.destroy !== undefined) {\r\n            this.destroy = data.destroy;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        const minimumValue = (_a = data.minimumValue) !== null && _a !== void 0 ? _a : data.size_min;\r\n        if (minimumValue !== undefined) {\r\n            this.minimumValue = minimumValue;\r\n        }\r\n        if (data.speed !== undefined) {\r\n            this.speed = data.speed;\r\n        }\r\n        if (data.startValue !== undefined) {\r\n            this.startValue = data.startValue;\r\n        }\r\n        if (data.sync !== undefined) {\r\n            this.sync = data.sync;\r\n        }\r\n    }\r\n}\r\nexports.SizeAnimation = SizeAnimation;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Rotate = void 0;\r\nconst RotateAnimation_1 = require(\"./RotateAnimation\");\r\nconst Enums_1 = require(\"../../../../Enums\");\r\nconst ValueWithRandom_1 = require(\"../../ValueWithRandom\");\r\nclass Rotate extends ValueWithRandom_1.ValueWithRandom {\r\n    constructor() {\r\n        super();\r\n        this.animation = new RotateAnimation_1.RotateAnimation();\r\n        this.direction = Enums_1.RotateDirection.clockwise;\r\n        this.path = false;\r\n        this.value = 0;\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        super.load(data);\r\n        if (data.direction !== undefined) {\r\n            this.direction = data.direction;\r\n        }\r\n        this.animation.load(data.animation);\r\n        if (data.path !== undefined) {\r\n            this.path = data.path;\r\n        }\r\n    }\r\n}\r\nexports.Rotate = Rotate;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RotateAnimation = void 0;\r\nclass RotateAnimation {\r\n    constructor() {\r\n        this.enable = false;\r\n        this.speed = 0;\r\n        this.sync = false;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.speed !== undefined) {\r\n            this.speed = data.speed;\r\n        }\r\n        if (data.sync !== undefined) {\r\n            this.sync = data.sync;\r\n        }\r\n    }\r\n}\r\nexports.RotateAnimation = RotateAnimation;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Shadow = void 0;\r\nconst OptionsColor_1 = require(\"../OptionsColor\");\r\nclass Shadow {\r\n    constructor() {\r\n        this.blur = 0;\r\n        this.color = new OptionsColor_1.OptionsColor();\r\n        this.enable = false;\r\n        this.offset = {\r\n            x: 0,\r\n            y: 0,\r\n        };\r\n        this.color.value = \"#000000\";\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.blur !== undefined) {\r\n            this.blur = data.blur;\r\n        }\r\n        this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.offset === undefined) {\r\n            return;\r\n        }\r\n        if (data.offset.x !== undefined) {\r\n            this.offset.x = data.offset.x;\r\n        }\r\n        if (data.offset.y !== undefined) {\r\n            this.offset.y = data.offset.y;\r\n        }\r\n    }\r\n}\r\nexports.Shadow = Shadow;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Stroke = void 0;\r\nconst AnimatableColor_1 = require(\"./AnimatableColor\");\r\nclass Stroke {\r\n    constructor() {\r\n        this.width = 0;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.color !== undefined) {\r\n            this.color = AnimatableColor_1.AnimatableColor.create(this.color, data.color);\r\n        }\r\n        if (data.width !== undefined) {\r\n            this.width = data.width;\r\n        }\r\n        if (data.opacity !== undefined) {\r\n            this.opacity = data.opacity;\r\n        }\r\n    }\r\n}\r\nexports.Stroke = Stroke;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HslAnimation = void 0;\r\nconst ColorAnimation_1 = require(\"../ColorAnimation\");\r\nclass HslAnimation {\r\n    constructor() {\r\n        this.h = new ColorAnimation_1.ColorAnimation();\r\n        this.s = new ColorAnimation_1.ColorAnimation();\r\n        this.l = new ColorAnimation_1.ColorAnimation();\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        this.h.load(data.h);\r\n        this.s.load(data.s);\r\n        this.l.load(data.l);\r\n    }\r\n}\r\nexports.HslAnimation = HslAnimation;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ColorAnimation = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nclass ColorAnimation {\r\n    constructor() {\r\n        this.count = 0;\r\n        this.enable = false;\r\n        this.offset = 0;\r\n        this.speed = 1;\r\n        this.sync = true;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.count !== undefined) {\r\n            this.count = data.count;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.offset !== undefined) {\r\n            this.offset = Utils_1.NumberUtils.setRangeValue(data.offset);\r\n        }\r\n        if (data.speed !== undefined) {\r\n            this.speed = data.speed;\r\n        }\r\n        if (data.sync !== undefined) {\r\n            this.sync = data.sync;\r\n        }\r\n    }\r\n}\r\nexports.ColorAnimation = ColorAnimation;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Collisions = void 0;\r\nconst Enums_1 = require(\"../../../../Enums\");\r\nconst Bounce_1 = require(\"../Bounce/Bounce\");\r\nconst CollisionsOverlap_1 = require(\"./CollisionsOverlap\");\r\nclass Collisions {\r\n    constructor() {\r\n        this.bounce = new Bounce_1.Bounce();\r\n        this.enable = false;\r\n        this.mode = Enums_1.CollisionMode.bounce;\r\n        this.overlap = new CollisionsOverlap_1.CollisionsOverlap();\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        this.bounce.load(data.bounce);\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.mode !== undefined) {\r\n            this.mode = data.mode;\r\n        }\r\n        this.overlap.load(data.overlap);\r\n    }\r\n}\r\nexports.Collisions = Collisions;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BounceFactor = void 0;\r\nconst ValueWithRandom_1 = require(\"../../ValueWithRandom\");\r\nclass BounceFactor extends ValueWithRandom_1.ValueWithRandom {\r\n    constructor() {\r\n        super();\r\n        this.random.minimumValue = 0.1;\r\n        this.value = 1;\r\n    }\r\n}\r\nexports.BounceFactor = BounceFactor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CollisionsOverlap = void 0;\r\nclass CollisionsOverlap {\r\n    constructor() {\r\n        this.enable = true;\r\n        this.retries = 0;\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.retries !== undefined) {\r\n            this.retries = data.retries;\r\n        }\r\n    }\r\n}\r\nexports.CollisionsOverlap = CollisionsOverlap;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Twinkle = void 0;\r\nconst TwinkleValues_1 = require(\"./TwinkleValues\");\r\nclass Twinkle {\r\n    constructor() {\r\n        this.lines = new TwinkleValues_1.TwinkleValues();\r\n        this.particles = new TwinkleValues_1.TwinkleValues();\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        this.lines.load(data.lines);\r\n        this.particles.load(data.particles);\r\n    }\r\n}\r\nexports.Twinkle = Twinkle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TwinkleValues = void 0;\r\nconst OptionsColor_1 = require(\"../../OptionsColor\");\r\nclass TwinkleValues {\r\n    constructor() {\r\n        this.enable = false;\r\n        this.frequency = 0.05;\r\n        this.opacity = 1;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.color !== undefined) {\r\n            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.frequency !== undefined) {\r\n            this.frequency = data.frequency;\r\n        }\r\n        if (data.opacity !== undefined) {\r\n            this.opacity = data.opacity;\r\n        }\r\n    }\r\n}\r\nexports.TwinkleValues = TwinkleValues;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Life = void 0;\r\nconst LifeDelay_1 = require(\"./LifeDelay\");\r\nconst LifeDuration_1 = require(\"./LifeDuration\");\r\nclass Life {\r\n    constructor() {\r\n        this.count = 0;\r\n        this.delay = new LifeDelay_1.LifeDelay();\r\n        this.duration = new LifeDuration_1.LifeDuration();\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.count !== undefined) {\r\n            this.count = data.count;\r\n        }\r\n        this.delay.load(data.delay);\r\n        this.duration.load(data.duration);\r\n    }\r\n}\r\nexports.Life = Life;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LifeDelay = void 0;\r\nconst ValueWithRandom_1 = require(\"../../ValueWithRandom\");\r\nclass LifeDelay extends ValueWithRandom_1.ValueWithRandom {\r\n    constructor() {\r\n        super();\r\n        this.sync = false;\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        super.load(data);\r\n        if (data.sync !== undefined) {\r\n            this.sync = data.sync;\r\n        }\r\n    }\r\n}\r\nexports.LifeDelay = LifeDelay;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LifeDuration = void 0;\r\nconst ValueWithRandom_1 = require(\"../../ValueWithRandom\");\r\nclass LifeDuration extends ValueWithRandom_1.ValueWithRandom {\r\n    constructor() {\r\n        super();\r\n        this.random.minimumValue = 0.0001;\r\n        this.sync = false;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        super.load(data);\r\n        if (data.sync !== undefined) {\r\n            this.sync = data.sync;\r\n        }\r\n    }\r\n}\r\nexports.LifeDuration = LifeDuration;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Destroy = void 0;\r\nconst Enums_1 = require(\"../../../../Enums\");\r\nconst Split_1 = require(\"./Split\");\r\nclass Destroy {\r\n    constructor() {\r\n        this.mode = Enums_1.DestroyMode.none;\r\n        this.split = new Split_1.Split();\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.mode !== undefined) {\r\n            this.mode = data.mode;\r\n        }\r\n        this.split.load(data.split);\r\n    }\r\n}\r\nexports.Destroy = Destroy;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Split = void 0;\r\nconst SplitFactor_1 = require(\"./SplitFactor\");\r\nconst SplitRate_1 = require(\"./SplitRate\");\r\nconst Utils_1 = require(\"../../../../Utils\");\r\nclass Split {\r\n    constructor() {\r\n        this.count = 1;\r\n        this.factor = new SplitFactor_1.SplitFactor();\r\n        this.rate = new SplitRate_1.SplitRate();\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.count !== undefined) {\r\n            this.count = data.count;\r\n        }\r\n        this.factor.load(data.factor);\r\n        this.rate.load(data.rate);\r\n        if (data.particles !== undefined) {\r\n            this.particles = Utils_1.Utils.deepExtend({}, data.particles);\r\n        }\r\n    }\r\n}\r\nexports.Split = Split;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SplitFactor = void 0;\r\nconst ValueWithRandom_1 = require(\"../../ValueWithRandom\");\r\nclass SplitFactor extends ValueWithRandom_1.ValueWithRandom {\r\n    constructor() {\r\n        super();\r\n        this.value = 3;\r\n    }\r\n}\r\nexports.SplitFactor = SplitFactor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SplitRate = void 0;\r\nconst ValueWithRandom_1 = require(\"../../ValueWithRandom\");\r\nclass SplitRate extends ValueWithRandom_1.ValueWithRandom {\r\n    constructor() {\r\n        super();\r\n        this.value = { min: 4, max: 9 };\r\n    }\r\n}\r\nexports.SplitRate = SplitRate;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BackgroundMask = void 0;\r\nconst BackgroundMaskCover_1 = require(\"./BackgroundMaskCover\");\r\nclass BackgroundMask {\r\n    constructor() {\r\n        this.composite = \"destination-out\";\r\n        this.cover = new BackgroundMaskCover_1.BackgroundMaskCover();\r\n        this.enable = false;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.composite !== undefined) {\r\n            this.composite = data.composite;\r\n        }\r\n        if (data.cover !== undefined) {\r\n            const cover = data.cover;\r\n            const color = (typeof data.cover === \"string\" ? { color: data.cover } : data.cover);\r\n            this.cover.load(cover.color !== undefined ? cover : { color: color });\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n    }\r\n}\r\nexports.BackgroundMask = BackgroundMask;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BackgroundMaskCover = void 0;\r\nconst OptionsColor_1 = require(\"../OptionsColor\");\r\nclass BackgroundMaskCover {\r\n    constructor() {\r\n        this.color = new OptionsColor_1.OptionsColor();\r\n        this.opacity = 1;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.color !== undefined) {\r\n            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n        }\r\n        if (data.opacity !== undefined) {\r\n            this.opacity = data.opacity;\r\n        }\r\n    }\r\n}\r\nexports.BackgroundMaskCover = BackgroundMaskCover;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Background = void 0;\r\nconst OptionsColor_1 = require(\"../OptionsColor\");\r\nclass Background {\r\n    constructor() {\r\n        this.color = new OptionsColor_1.OptionsColor();\r\n        this.color.value = \"\";\r\n        this.image = \"\";\r\n        this.position = \"\";\r\n        this.repeat = \"\";\r\n        this.size = \"\";\r\n        this.opacity = 1;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.color !== undefined) {\r\n            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n        }\r\n        if (data.image !== undefined) {\r\n            this.image = data.image;\r\n        }\r\n        if (data.position !== undefined) {\r\n            this.position = data.position;\r\n        }\r\n        if (data.repeat !== undefined) {\r\n            this.repeat = data.repeat;\r\n        }\r\n        if (data.size !== undefined) {\r\n            this.size = data.size;\r\n        }\r\n        if (data.opacity !== undefined) {\r\n            this.opacity = data.opacity;\r\n        }\r\n    }\r\n}\r\nexports.Background = Background;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Infection = void 0;\r\nconst InfectionStage_1 = require(\"./InfectionStage\");\r\nclass Infection {\r\n    constructor() {\r\n        this.cure = false;\r\n        this.delay = 0;\r\n        this.enable = false;\r\n        this.infections = 0;\r\n        this.stages = [];\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.cure !== undefined) {\r\n            this.cure = data.cure;\r\n        }\r\n        if (data.delay !== undefined) {\r\n            this.delay = data.delay;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.infections !== undefined) {\r\n            this.infections = data.infections;\r\n        }\r\n        if (data.stages === undefined) {\r\n            return;\r\n        }\r\n        this.stages = data.stages.map((t) => {\r\n            const s = new InfectionStage_1.InfectionStage();\r\n            s.load(t);\r\n            return s;\r\n        });\r\n    }\r\n}\r\nexports.Infection = Infection;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InfectionStage = void 0;\r\nconst OptionsColor_1 = require(\"../OptionsColor\");\r\nclass InfectionStage {\r\n    constructor() {\r\n        this.color = new OptionsColor_1.OptionsColor();\r\n        this.color.value = \"#ff0000\";\r\n        this.radius = 0;\r\n        this.rate = 1;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.color !== undefined) {\r\n            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n        }\r\n        this.duration = data.duration;\r\n        this.infectedStage = data.infectedStage;\r\n        if (data.radius !== undefined) {\r\n            this.radius = data.radius;\r\n        }\r\n        if (data.rate !== undefined) {\r\n            this.rate = data.rate;\r\n        }\r\n    }\r\n}\r\nexports.InfectionStage = InfectionStage;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Theme = void 0;\r\nconst Utils_1 = require(\"../../../Utils\");\r\nconst ThemeDefault_1 = require(\"./ThemeDefault\");\r\nclass Theme {\r\n    constructor() {\r\n        this.name = \"\";\r\n        this.default = new ThemeDefault_1.ThemeDefault();\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.name !== undefined) {\r\n            this.name = data.name;\r\n        }\r\n        this.default.load(data.default);\r\n        if (data.options !== undefined) {\r\n            this.options = Utils_1.Utils.deepExtend({}, data.options);\r\n        }\r\n    }\r\n}\r\nexports.Theme = Theme;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ThemeDefault = void 0;\r\nconst Modes_1 = require(\"../../../Enums/Modes\");\r\nclass ThemeDefault {\r\n    constructor() {\r\n        this.mode = Modes_1.ThemeMode.any;\r\n        this.value = false;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.mode !== undefined) {\r\n            this.mode = data.mode;\r\n        }\r\n        if (data.value !== undefined) {\r\n            this.value = data.value;\r\n        }\r\n    }\r\n}\r\nexports.ThemeDefault = ThemeDefault;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FullScreen = void 0;\r\nclass FullScreen {\r\n    constructor() {\r\n        this.enable = false;\r\n        this.zIndex = -1;\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.enable !== undefined) {\r\n            this.enable = data.enable;\r\n        }\r\n        if (data.zIndex !== undefined) {\r\n            this.zIndex = data.zIndex;\r\n        }\r\n    }\r\n}\r\nexports.FullScreen = FullScreen;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Motion = void 0;\r\nconst MotionReduce_1 = require(\"./MotionReduce\");\r\nclass Motion {\r\n    constructor() {\r\n        this.disable = false;\r\n        this.reduce = new MotionReduce_1.MotionReduce();\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.disable !== undefined) {\r\n            this.disable = data.disable;\r\n        }\r\n        this.reduce.load(data.reduce);\r\n    }\r\n}\r\nexports.Motion = Motion;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MotionReduce = void 0;\r\nclass MotionReduce {\r\n    constructor() {\r\n        this.factor = 4;\r\n        this.value = true;\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.factor !== undefined) {\r\n            this.factor = data.factor;\r\n        }\r\n        if (data.value !== undefined) {\r\n            this.value = data.value;\r\n        }\r\n    }\r\n}\r\nexports.MotionReduce = MotionReduce;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ManualParticle = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nclass ManualParticle {\r\n    load(data) {\r\n        var _a, _b;\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.position !== undefined) {\r\n            this.position = {\r\n                x: (_a = data.position.x) !== null && _a !== void 0 ? _a : 50,\r\n                y: (_b = data.position.y) !== null && _b !== void 0 ? _b : 50,\r\n            };\r\n        }\r\n        if (data.options !== undefined) {\r\n            this.options = Utils_1.Utils.deepExtend({}, data.options);\r\n        }\r\n    }\r\n}\r\nexports.ManualParticle = ManualParticle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Responsive = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nclass Responsive {\r\n    constructor() {\r\n        this.maxWidth = Infinity;\r\n        this.options = {};\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        if (data.maxWidth !== undefined) {\r\n            this.maxWidth = data.maxWidth;\r\n        }\r\n        if (data.options !== undefined) {\r\n            this.options = Utils_1.Utils.deepExtend({}, data.options);\r\n        }\r\n    }\r\n}\r\nexports.Responsive = Responsive;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Canvas = void 0;\r\nconst Utils_1 = require(\"../Utils\");\r\nclass Canvas {\r\n    constructor(container) {\r\n        this.container = container;\r\n        this.size = {\r\n            height: 0,\r\n            width: 0,\r\n        };\r\n        this.context = null;\r\n        this.generatedCanvas = false;\r\n    }\r\n    init() {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\r\n        this.resize();\r\n        const options = this.container.actualOptions;\r\n        const element = this.element;\r\n        if (element) {\r\n            if (options.fullScreen.enable) {\r\n                this.originalStyle = Utils_1.Utils.deepExtend({}, element.style);\r\n                element.style.position = \"fixed\";\r\n                element.style.zIndex = options.fullScreen.zIndex.toString(10);\r\n                element.style.top = \"0\";\r\n                element.style.left = \"0\";\r\n                element.style.width = \"100%\";\r\n                element.style.height = \"100%\";\r\n            }\r\n            else {\r\n                element.style.position = (_b = (_a = this.originalStyle) === null || _a === void 0 ? void 0 : _a.position) !== null && _b !== void 0 ? _b : \"\";\r\n                element.style.zIndex = (_d = (_c = this.originalStyle) === null || _c === void 0 ? void 0 : _c.zIndex) !== null && _d !== void 0 ? _d : \"\";\r\n                element.style.top = (_f = (_e = this.originalStyle) === null || _e === void 0 ? void 0 : _e.top) !== null && _f !== void 0 ? _f : \"\";\r\n                element.style.left = (_h = (_g = this.originalStyle) === null || _g === void 0 ? void 0 : _g.left) !== null && _h !== void 0 ? _h : \"\";\r\n                element.style.width = (_k = (_j = this.originalStyle) === null || _j === void 0 ? void 0 : _j.width) !== null && _k !== void 0 ? _k : \"\";\r\n                element.style.height = (_m = (_l = this.originalStyle) === null || _l === void 0 ? void 0 : _l.height) !== null && _m !== void 0 ? _m : \"\";\r\n            }\r\n        }\r\n        const cover = options.backgroundMask.cover;\r\n        const color = cover.color;\r\n        const trail = options.particles.move.trail;\r\n        const coverRgb = Utils_1.ColorUtils.colorToRgb(color);\r\n        this.coverColor =\r\n            coverRgb !== undefined\r\n                ? {\r\n                    r: coverRgb.r,\r\n                    g: coverRgb.g,\r\n                    b: coverRgb.b,\r\n                    a: cover.opacity,\r\n                }\r\n                : undefined;\r\n        this.trailFillColor = Utils_1.ColorUtils.colorToRgb(trail.fillColor);\r\n        this.initBackground();\r\n        this.paint();\r\n    }\r\n    loadCanvas(canvas, generatedCanvas) {\r\n        var _a;\r\n        if (!canvas.className) {\r\n            canvas.className = Utils_1.Constants.canvasClass;\r\n        }\r\n        if (this.generatedCanvas) {\r\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();\r\n        }\r\n        this.generatedCanvas = generatedCanvas !== null && generatedCanvas !== void 0 ? generatedCanvas : this.generatedCanvas;\r\n        this.element = canvas;\r\n        this.originalStyle = Utils_1.Utils.deepExtend({}, this.element.style);\r\n        this.size.height = canvas.offsetHeight;\r\n        this.size.width = canvas.offsetWidth;\r\n        this.context = this.element.getContext(\"2d\");\r\n        this.container.retina.init();\r\n        this.initBackground();\r\n    }\r\n    destroy() {\r\n        var _a;\r\n        if (this.generatedCanvas) {\r\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();\r\n        }\r\n        if (this.context) {\r\n            Utils_1.CanvasUtils.clear(this.context, this.size);\r\n        }\r\n    }\r\n    paint() {\r\n        const options = this.container.actualOptions;\r\n        if (!this.context) {\r\n            return;\r\n        }\r\n        if (options.backgroundMask.enable && options.backgroundMask.cover && this.coverColor) {\r\n            Utils_1.CanvasUtils.clear(this.context, this.size);\r\n            this.paintBase(Utils_1.ColorUtils.getStyleFromRgb(this.coverColor, this.coverColor.a));\r\n        }\r\n        else {\r\n            this.paintBase();\r\n        }\r\n    }\r\n    clear() {\r\n        const options = this.container.actualOptions;\r\n        const trail = options.particles.move.trail;\r\n        if (options.backgroundMask.enable) {\r\n            this.paint();\r\n        }\r\n        else if (trail.enable && trail.length > 0 && this.trailFillColor) {\r\n            this.paintBase(Utils_1.ColorUtils.getStyleFromRgb(this.trailFillColor, 1 / trail.length));\r\n        }\r\n        else if (this.context) {\r\n            Utils_1.CanvasUtils.clear(this.context, this.size);\r\n        }\r\n    }\r\n    windowResize() {\r\n        if (!this.element) {\r\n            return;\r\n        }\r\n        const container = this.container;\r\n        this.resize();\r\n        container.actualOptions.setResponsive(this.size.width, container.retina.pixelRatio, container.options);\r\n        container.particles.setDensity();\r\n        for (const [, plugin] of container.plugins) {\r\n            if (plugin.resize !== undefined) {\r\n                plugin.resize();\r\n            }\r\n        }\r\n    }\r\n    resize() {\r\n        if (!this.element) {\r\n            return;\r\n        }\r\n        const container = this.container;\r\n        const pxRatio = container.retina.pixelRatio;\r\n        const size = container.canvas.size;\r\n        const oldSize = {\r\n            width: size.width,\r\n            height: size.height,\r\n        };\r\n        size.width = this.element.offsetWidth * pxRatio;\r\n        size.height = this.element.offsetHeight * pxRatio;\r\n        this.element.width = size.width;\r\n        this.element.height = size.height;\r\n        if (this.container.started) {\r\n            this.resizeFactor = {\r\n                width: size.width / oldSize.width,\r\n                height: size.height / oldSize.height,\r\n            };\r\n        }\r\n    }\r\n    drawConnectLine(p1, p2) {\r\n        var _a;\r\n        const ctx = this.context;\r\n        if (!ctx) {\r\n            return;\r\n        }\r\n        const lineStyle = this.lineStyle(p1, p2);\r\n        if (!lineStyle) {\r\n            return;\r\n        }\r\n        const pos1 = p1.getPosition();\r\n        const pos2 = p2.getPosition();\r\n        Utils_1.CanvasUtils.drawConnectLine(ctx, (_a = p1.linksWidth) !== null && _a !== void 0 ? _a : this.container.retina.linksWidth, lineStyle, pos1, pos2);\r\n    }\r\n    drawGrabLine(particle, lineColor, opacity, mousePos) {\r\n        var _a;\r\n        const container = this.container;\r\n        const ctx = container.canvas.context;\r\n        if (!ctx) {\r\n            return;\r\n        }\r\n        const beginPos = particle.getPosition();\r\n        Utils_1.CanvasUtils.drawGrabLine(ctx, (_a = particle.linksWidth) !== null && _a !== void 0 ? _a : container.retina.linksWidth, beginPos, mousePos, lineColor, opacity);\r\n    }\r\n    drawParticleShadow(particle, mousePos) {\r\n        if (!this.context) {\r\n            return;\r\n        }\r\n        Utils_1.CanvasUtils.drawParticleShadow(this.container, this.context, particle, mousePos);\r\n    }\r\n    drawLinkTriangle(p1, link1, link2) {\r\n        var _a;\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const p2 = link1.destination;\r\n        const p3 = link2.destination;\r\n        const triangleOptions = p1.options.links.triangles;\r\n        const opacityTriangle = (_a = triangleOptions.opacity) !== null && _a !== void 0 ? _a : (link1.opacity + link2.opacity) / 2;\r\n        if (opacityTriangle <= 0) {\r\n            return;\r\n        }\r\n        const pos1 = p1.getPosition();\r\n        const pos2 = p2.getPosition();\r\n        const pos3 = p3.getPosition();\r\n        const ctx = this.context;\r\n        if (!ctx) {\r\n            return;\r\n        }\r\n        if (Utils_1.NumberUtils.getDistance(pos1, pos2) > container.retina.linksDistance ||\r\n            Utils_1.NumberUtils.getDistance(pos3, pos2) > container.retina.linksDistance ||\r\n            Utils_1.NumberUtils.getDistance(pos3, pos1) > container.retina.linksDistance) {\r\n            return;\r\n        }\r\n        let colorTriangle = Utils_1.ColorUtils.colorToRgb(triangleOptions.color);\r\n        if (!colorTriangle) {\r\n            const linksOptions = p1.options.links;\r\n            const linkColor = linksOptions.id !== undefined\r\n                ? container.particles.linksColors.get(linksOptions.id)\r\n                : container.particles.linksColor;\r\n            colorTriangle = Utils_1.ColorUtils.getLinkColor(p1, p2, linkColor);\r\n        }\r\n        if (!colorTriangle) {\r\n            return;\r\n        }\r\n        Utils_1.CanvasUtils.drawLinkTriangle(ctx, pos1, pos2, pos3, options.backgroundMask.enable, options.backgroundMask.composite, colorTriangle, opacityTriangle);\r\n    }\r\n    drawLinkLine(p1, link) {\r\n        var _a, _b;\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const p2 = link.destination;\r\n        let opacity = link.opacity;\r\n        const pos1 = p1.getPosition();\r\n        const pos2 = p2.getPosition();\r\n        const ctx = this.context;\r\n        if (!ctx) {\r\n            return;\r\n        }\r\n        let colorLine;\r\n        const twinkle = p1.options.twinkle.lines;\r\n        if (twinkle.enable) {\r\n            const twinkleFreq = twinkle.frequency;\r\n            const twinkleRgb = Utils_1.ColorUtils.colorToRgb(twinkle.color);\r\n            const twinkling = Math.random() < twinkleFreq;\r\n            if (twinkling && twinkleRgb !== undefined) {\r\n                colorLine = twinkleRgb;\r\n                opacity = twinkle.opacity;\r\n            }\r\n        }\r\n        if (!colorLine) {\r\n            const linksOptions = p1.options.links;\r\n            const linkColor = linksOptions.id !== undefined\r\n                ? container.particles.linksColors.get(linksOptions.id)\r\n                : container.particles.linksColor;\r\n            colorLine = Utils_1.ColorUtils.getLinkColor(p1, p2, linkColor);\r\n        }\r\n        if (!colorLine) {\r\n            return;\r\n        }\r\n        const width = (_a = p1.linksWidth) !== null && _a !== void 0 ? _a : container.retina.linksWidth;\r\n        const maxDistance = (_b = p1.linksDistance) !== null && _b !== void 0 ? _b : container.retina.linksDistance;\r\n        Utils_1.CanvasUtils.drawLinkLine(ctx, width, pos1, pos2, maxDistance, container.canvas.size, p1.options.links.warp, options.backgroundMask.enable, options.backgroundMask.composite, colorLine, opacity, p1.options.links.shadow);\r\n    }\r\n    drawParticle(particle, delta) {\r\n        var _a, _b, _c, _d;\r\n        if (((_a = particle.image) === null || _a === void 0 ? void 0 : _a.loaded) === false || particle.spawning || particle.destroyed) {\r\n            return;\r\n        }\r\n        const pfColor = particle.getFillColor();\r\n        const psColor = (_b = particle.getStrokeColor()) !== null && _b !== void 0 ? _b : pfColor;\r\n        if (!pfColor && !psColor) {\r\n            return;\r\n        }\r\n        const options = this.container.actualOptions;\r\n        const pOptions = particle.options;\r\n        const twinkle = pOptions.twinkle.particles;\r\n        const twinkleFreq = twinkle.frequency;\r\n        const twinkleRgb = Utils_1.ColorUtils.colorToRgb(twinkle.color);\r\n        const twinkling = twinkle.enable && Math.random() < twinkleFreq;\r\n        const radius = particle.getRadius();\r\n        const opacity = twinkling ? twinkle.opacity : (_c = particle.bubble.opacity) !== null && _c !== void 0 ? _c : particle.opacity.value;\r\n        const infectionStage = particle.infecter.infectionStage;\r\n        const infection = options.infection;\r\n        const infectionStages = infection.stages;\r\n        const infectionColor = infectionStage !== undefined ? infectionStages[infectionStage].color : undefined;\r\n        const infectionRgb = Utils_1.ColorUtils.colorToRgb(infectionColor);\r\n        const fColor = twinkling && twinkleRgb !== undefined\r\n            ? twinkleRgb\r\n            : infectionRgb !== null && infectionRgb !== void 0 ? infectionRgb : (pfColor ? Utils_1.ColorUtils.hslToRgb(pfColor) : undefined);\r\n        const sColor = twinkling && twinkleRgb !== undefined\r\n            ? twinkleRgb\r\n            : infectionRgb !== null && infectionRgb !== void 0 ? infectionRgb : (psColor ? Utils_1.ColorUtils.hslToRgb(psColor) : undefined);\r\n        const fillColorValue = fColor !== undefined ? Utils_1.ColorUtils.getStyleFromRgb(fColor, opacity) : undefined;\r\n        if (!this.context || (!fillColorValue && !sColor)) {\r\n            return;\r\n        }\r\n        const strokeColorValue = sColor !== undefined\r\n            ? Utils_1.ColorUtils.getStyleFromRgb(sColor, (_d = particle.stroke.opacity) !== null && _d !== void 0 ? _d : opacity)\r\n            : fillColorValue;\r\n        this.drawParticleLinks(particle);\r\n        if (radius > 0) {\r\n            Utils_1.CanvasUtils.drawParticle(this.container, this.context, particle, delta, fillColorValue, strokeColorValue, options.backgroundMask.enable, options.backgroundMask.composite, radius, opacity, particle.options.shadow);\r\n        }\r\n    }\r\n    drawParticleLinks(particle) {\r\n        if (!this.context) {\r\n            return;\r\n        }\r\n        const container = this.container;\r\n        const particles = container.particles;\r\n        const pOptions = particle.options;\r\n        if (particle.links.length > 0) {\r\n            this.context.save();\r\n            const p1Links = particle.links.filter((l) => {\r\n                const linkFreq = container.particles.getLinkFrequency(particle, l.destination);\r\n                return linkFreq <= pOptions.links.frequency;\r\n            });\r\n            for (const link of p1Links) {\r\n                const p2 = link.destination;\r\n                if (pOptions.links.triangles.enable) {\r\n                    const links = p1Links.map((l) => l.destination);\r\n                    const vertices = p2.links.filter((t) => {\r\n                        const linkFreq = container.particles.getLinkFrequency(p2, t.destination);\r\n                        return linkFreq <= p2.options.links.frequency && links.indexOf(t.destination) >= 0;\r\n                    });\r\n                    if (vertices.length) {\r\n                        for (const vertex of vertices) {\r\n                            const p3 = vertex.destination;\r\n                            const triangleFreq = particles.getTriangleFrequency(particle, p2, p3);\r\n                            if (triangleFreq > pOptions.links.triangles.frequency) {\r\n                                continue;\r\n                            }\r\n                            this.drawLinkTriangle(particle, link, vertex);\r\n                        }\r\n                    }\r\n                }\r\n                if (link.opacity > 0 && container.retina.linksWidth > 0) {\r\n                    this.drawLinkLine(particle, link);\r\n                }\r\n            }\r\n            this.context.restore();\r\n        }\r\n    }\r\n    drawPlugin(plugin, delta) {\r\n        if (!this.context) {\r\n            return;\r\n        }\r\n        Utils_1.CanvasUtils.drawPlugin(this.context, plugin, delta);\r\n    }\r\n    drawLight(mousePos) {\r\n        if (!this.context) {\r\n            return;\r\n        }\r\n        Utils_1.CanvasUtils.drawLight(this.container, this.context, mousePos);\r\n    }\r\n    paintBase(baseColor) {\r\n        if (!this.context) {\r\n            return;\r\n        }\r\n        Utils_1.CanvasUtils.paintBase(this.context, this.size, baseColor);\r\n    }\r\n    lineStyle(p1, p2) {\r\n        if (!this.context) {\r\n            return;\r\n        }\r\n        const options = this.container.actualOptions;\r\n        const connectOptions = options.interactivity.modes.connect;\r\n        return Utils_1.CanvasUtils.gradient(this.context, p1, p2, connectOptions.links.opacity);\r\n    }\r\n    initBackground() {\r\n        const options = this.container.actualOptions;\r\n        const background = options.background;\r\n        const element = this.element;\r\n        const elementStyle = element === null || element === void 0 ? void 0 : element.style;\r\n        if (!elementStyle) {\r\n            return;\r\n        }\r\n        if (background.color) {\r\n            const color = Utils_1.ColorUtils.colorToRgb(background.color);\r\n            elementStyle.backgroundColor = color ? Utils_1.ColorUtils.getStyleFromRgb(color, background.opacity) : \"\";\r\n        }\r\n        else {\r\n            elementStyle.backgroundColor = \"\";\r\n        }\r\n        elementStyle.backgroundImage = background.image || \"\";\r\n        elementStyle.backgroundPosition = background.position || \"\";\r\n        elementStyle.backgroundRepeat = background.repeat || \"\";\r\n        elementStyle.backgroundSize = background.size || \"\";\r\n    }\r\n}\r\nexports.Canvas = Canvas;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Particles = void 0;\r\nconst Particle_1 = require(\"./Particle\");\r\nconst Utils_1 = require(\"../Utils\");\r\nconst InteractionManager_1 = require(\"./Particle/InteractionManager\");\r\nconst ParticlesOptions_1 = require(\"../Options/Classes/Particles/ParticlesOptions\");\r\nclass Particles {\r\n    constructor(container) {\r\n        this.container = container;\r\n        this.nextId = 0;\r\n        this.array = [];\r\n        this.limit = 0;\r\n        this.linksFreq = new Map();\r\n        this.trianglesFreq = new Map();\r\n        this.interactionManager = new InteractionManager_1.InteractionManager(container);\r\n        const canvasSize = this.container.canvas.size;\r\n        this.linksColors = new Map();\r\n        this.quadTree = new Utils_1.QuadTree(new Utils_1.Rectangle(-canvasSize.width / 4, -canvasSize.height / 4, (canvasSize.width * 3) / 2, (canvasSize.height * 3) / 2), 4);\r\n    }\r\n    get count() {\r\n        return this.array.length;\r\n    }\r\n    init() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        this.linksFreq = new Map();\r\n        this.trianglesFreq = new Map();\r\n        let handled = false;\r\n        for (const particle of options.manualParticles) {\r\n            const pos = particle.position\r\n                ? {\r\n                    x: (particle.position.x * container.canvas.size.width) / 100,\r\n                    y: (particle.position.y * container.canvas.size.height) / 100,\r\n                }\r\n                : undefined;\r\n            this.addParticle(pos, particle.options);\r\n        }\r\n        for (const [, plugin] of container.plugins) {\r\n            if (plugin.particlesInitialization !== undefined) {\r\n                handled = plugin.particlesInitialization();\r\n            }\r\n            if (handled) {\r\n                break;\r\n            }\r\n        }\r\n        if (!handled) {\r\n            for (let i = this.count; i < options.particles.number.value; i++) {\r\n                this.addParticle();\r\n            }\r\n        }\r\n        if (options.infection.enable) {\r\n            for (let i = 0; i < options.infection.infections; i++) {\r\n                const notInfected = this.array.filter((p) => p.infecter.infectionStage === undefined);\r\n                const infected = Utils_1.Utils.itemFromArray(notInfected);\r\n                infected.infecter.startInfection(0);\r\n            }\r\n        }\r\n        this.interactionManager.init();\r\n        container.pathGenerator.init();\r\n    }\r\n    redraw() {\r\n        this.clear();\r\n        this.init();\r\n        this.draw({ value: 0, factor: 0 });\r\n    }\r\n    removeAt(index, quantity, override) {\r\n        if (index >= 0 && index <= this.count) {\r\n            for (const particle of this.array.splice(index, quantity !== null && quantity !== void 0 ? quantity : 1)) {\r\n                particle.destroy(override);\r\n            }\r\n        }\r\n    }\r\n    remove(particle, override) {\r\n        this.removeAt(this.array.indexOf(particle), undefined, override);\r\n    }\r\n    update(delta) {\r\n        const container = this.container;\r\n        const particlesToDelete = [];\r\n        container.pathGenerator.update();\r\n        for (const [, plugin] of container.plugins) {\r\n            if (plugin.update !== undefined) {\r\n                plugin.update(delta);\r\n            }\r\n        }\r\n        for (const particle of this.array) {\r\n            const resizeFactor = this.container.canvas.resizeFactor;\r\n            if (resizeFactor) {\r\n                particle.position.x *= resizeFactor.width;\r\n                particle.position.y *= resizeFactor.height;\r\n            }\r\n            particle.move(delta);\r\n            if (particle.destroyed) {\r\n                particlesToDelete.push(particle);\r\n                continue;\r\n            }\r\n            this.quadTree.insert(new Utils_1.Point(particle.getPosition(), particle));\r\n        }\r\n        for (const particle of particlesToDelete) {\r\n            this.remove(particle);\r\n        }\r\n        this.interactionManager.externalInteract(delta);\r\n        for (const particle of this.container.particles.array) {\r\n            particle.update(delta);\r\n            if (!particle.destroyed && !particle.spawning) {\r\n                this.interactionManager.particlesInteract(particle, delta);\r\n            }\r\n        }\r\n        delete container.canvas.resizeFactor;\r\n    }\r\n    draw(delta) {\r\n        const container = this.container;\r\n        container.canvas.clear();\r\n        const canvasSize = this.container.canvas.size;\r\n        this.quadTree = new Utils_1.QuadTree(new Utils_1.Rectangle(-canvasSize.width / 4, -canvasSize.height / 4, (canvasSize.width * 3) / 2, (canvasSize.height * 3) / 2), 4);\r\n        this.update(delta);\r\n        for (const [, plugin] of container.plugins) {\r\n            container.canvas.drawPlugin(plugin, delta);\r\n        }\r\n        for (const p of this.array) {\r\n            p.draw(delta);\r\n        }\r\n    }\r\n    clear() {\r\n        this.array = [];\r\n    }\r\n    push(nb, mouse, overrideOptions) {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const limit = options.particles.number.limit * container.density;\r\n        this.pushing = true;\r\n        if (limit > 0) {\r\n            const countToRemove = this.count + nb - limit;\r\n            if (countToRemove > 0) {\r\n                this.removeQuantity(countToRemove);\r\n            }\r\n        }\r\n        for (let i = 0; i < nb; i++) {\r\n            this.addParticle(mouse === null || mouse === void 0 ? void 0 : mouse.position, overrideOptions);\r\n        }\r\n        this.pushing = false;\r\n    }\r\n    addParticle(position, overrideOptions) {\r\n        return this.pushParticle(position, overrideOptions);\r\n    }\r\n    addSplitParticle(parent) {\r\n        const splitOptions = parent.options.destroy.split;\r\n        const options = new ParticlesOptions_1.ParticlesOptions();\r\n        options.load(parent.options);\r\n        const factor = Utils_1.NumberUtils.getRangeValue(splitOptions.factor.value);\r\n        options.color.load({\r\n            value: {\r\n                hsl: parent.getFillColor(),\r\n            },\r\n        });\r\n        if (typeof options.size.value === \"number\") {\r\n            options.size.value /= factor;\r\n        }\r\n        else {\r\n            options.size.value.min /= factor;\r\n            options.size.value.max /= factor;\r\n        }\r\n        options.load(splitOptions.particles);\r\n        const offset = Utils_1.NumberUtils.setRangeValue(-parent.size.value, parent.size.value);\r\n        const position = {\r\n            x: parent.position.x + Utils_1.NumberUtils.randomInRange(offset),\r\n            y: parent.position.y + Utils_1.NumberUtils.randomInRange(offset),\r\n        };\r\n        return this.pushParticle(position, options, (particle) => {\r\n            if (particle.size.value < 0.5) {\r\n                return false;\r\n            }\r\n            particle.velocity.length = Utils_1.NumberUtils.randomInRange(Utils_1.NumberUtils.setRangeValue(parent.velocity.length, particle.velocity.length));\r\n            particle.splitCount = parent.splitCount + 1;\r\n            particle.unbreakable = true;\r\n            setTimeout(() => {\r\n                particle.unbreakable = false;\r\n            }, 500);\r\n            return true;\r\n        });\r\n    }\r\n    removeQuantity(quantity) {\r\n        this.removeAt(0, quantity);\r\n    }\r\n    getLinkFrequency(p1, p2) {\r\n        const key = `${Math.min(p1.id, p2.id)}_${Math.max(p1.id, p2.id)}`;\r\n        let res = this.linksFreq.get(key);\r\n        if (res === undefined) {\r\n            res = Math.random();\r\n            this.linksFreq.set(key, res);\r\n        }\r\n        return res;\r\n    }\r\n    getTriangleFrequency(p1, p2, p3) {\r\n        let [id1, id2, id3] = [p1.id, p2.id, p3.id];\r\n        if (id1 > id2) {\r\n            [id2, id1] = [id1, id2];\r\n        }\r\n        if (id2 > id3) {\r\n            [id3, id2] = [id2, id3];\r\n        }\r\n        if (id1 > id3) {\r\n            [id3, id1] = [id1, id3];\r\n        }\r\n        const key = `${id1}_${id2}_${id3}`;\r\n        let res = this.trianglesFreq.get(key);\r\n        if (res === undefined) {\r\n            res = Math.random();\r\n            this.trianglesFreq.set(key, res);\r\n        }\r\n        return res;\r\n    }\r\n    setDensity() {\r\n        const options = this.container.actualOptions;\r\n        this.applyDensity(options.particles);\r\n    }\r\n    applyDensity(options) {\r\n        var _a;\r\n        if (!((_a = options.number.density) === null || _a === void 0 ? void 0 : _a.enable)) {\r\n            return;\r\n        }\r\n        const numberOptions = options.number;\r\n        const densityFactor = this.initDensityFactor(numberOptions.density);\r\n        const optParticlesNumber = numberOptions.value;\r\n        const optParticlesLimit = numberOptions.limit > 0 ? numberOptions.limit : optParticlesNumber;\r\n        const particlesNumber = Math.min(optParticlesNumber, optParticlesLimit) * densityFactor;\r\n        const particlesCount = this.count;\r\n        this.limit = numberOptions.limit * densityFactor;\r\n        if (particlesCount < particlesNumber) {\r\n            this.push(Math.abs(particlesNumber - particlesCount), undefined, options);\r\n        }\r\n        else if (particlesCount > particlesNumber) {\r\n            this.removeQuantity(particlesCount - particlesNumber);\r\n        }\r\n    }\r\n    initDensityFactor(densityOptions) {\r\n        const container = this.container;\r\n        if (!container.canvas.element || !densityOptions.enable) {\r\n            return 1;\r\n        }\r\n        const canvas = container.canvas.element;\r\n        const pxRatio = container.retina.pixelRatio;\r\n        return (canvas.width * canvas.height) / (densityOptions.factor * pxRatio * pxRatio * densityOptions.area);\r\n    }\r\n    pushParticle(position, overrideOptions, initializer) {\r\n        try {\r\n            const particle = new Particle_1.Particle(this.nextId, this.container, position, overrideOptions);\r\n            let canAdd = true;\r\n            if (initializer) {\r\n                canAdd = initializer(particle);\r\n            }\r\n            if (!canAdd) {\r\n                return;\r\n            }\r\n            this.array.push(particle);\r\n            this.nextId++;\r\n            return particle;\r\n        }\r\n        catch (e) {\r\n            console.warn(`error adding particle: ${e}`);\r\n            return;\r\n        }\r\n    }\r\n}\r\nexports.Particles = Particles;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Particle = void 0;\r\nconst Updater_1 = require(\"./Particle/Updater\");\r\nconst ParticlesOptions_1 = require(\"../Options/Classes/Particles/ParticlesOptions\");\r\nconst Shape_1 = require(\"../Options/Classes/Particles/Shape/Shape\");\r\nconst Enums_1 = require(\"../Enums\");\r\nconst Utils_1 = require(\"../Utils\");\r\nconst Infecter_1 = require(\"./Particle/Infecter\");\r\nconst Mover_1 = require(\"./Particle/Mover\");\r\nconst Vector_1 = require(\"./Particle/Vector\");\r\nclass Particle {\r\n    constructor(id, container, position, overrideOptions) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        this.id = id;\r\n        this.container = container;\r\n        this.links = [];\r\n        this.fill = true;\r\n        this.close = true;\r\n        this.lastPathTime = 0;\r\n        this.destroyed = false;\r\n        this.unbreakable = false;\r\n        this.splitCount = 0;\r\n        this.misplaced = false;\r\n        this.loops = {\r\n            opacity: 0,\r\n            size: 0,\r\n        };\r\n        const pxRatio = container.retina.pixelRatio;\r\n        const options = container.actualOptions;\r\n        const particlesOptions = new ParticlesOptions_1.ParticlesOptions();\r\n        particlesOptions.load(options.particles);\r\n        const shapeType = particlesOptions.shape.type;\r\n        const reduceDuplicates = particlesOptions.reduceDuplicates;\r\n        this.shape = shapeType instanceof Array ? Utils_1.Utils.itemFromArray(shapeType, this.id, reduceDuplicates) : shapeType;\r\n        if (overrideOptions === null || overrideOptions === void 0 ? void 0 : overrideOptions.shape) {\r\n            if (overrideOptions.shape.type) {\r\n                const overrideShapeType = overrideOptions.shape.type;\r\n                this.shape =\r\n                    overrideShapeType instanceof Array\r\n                        ? Utils_1.Utils.itemFromArray(overrideShapeType, this.id, reduceDuplicates)\r\n                        : overrideShapeType;\r\n            }\r\n            const shapeOptions = new Shape_1.Shape();\r\n            shapeOptions.load(overrideOptions.shape);\r\n            if (this.shape) {\r\n                const shapeData = shapeOptions.options[this.shape];\r\n                if (shapeData) {\r\n                    this.shapeData = Utils_1.Utils.deepExtend({}, shapeData instanceof Array\r\n                        ? Utils_1.Utils.itemFromArray(shapeData, this.id, reduceDuplicates)\r\n                        : shapeData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            const shapeData = particlesOptions.shape.options[this.shape];\r\n            if (shapeData) {\r\n                this.shapeData = Utils_1.Utils.deepExtend({}, shapeData instanceof Array ? Utils_1.Utils.itemFromArray(shapeData, this.id, reduceDuplicates) : shapeData);\r\n            }\r\n        }\r\n        if (overrideOptions !== undefined) {\r\n            particlesOptions.load(overrideOptions);\r\n        }\r\n        if (((_a = this.shapeData) === null || _a === void 0 ? void 0 : _a.particles) !== undefined) {\r\n            particlesOptions.load((_b = this.shapeData) === null || _b === void 0 ? void 0 : _b.particles);\r\n        }\r\n        this.fill = (_d = (_c = this.shapeData) === null || _c === void 0 ? void 0 : _c.fill) !== null && _d !== void 0 ? _d : this.fill;\r\n        this.close = (_f = (_e = this.shapeData) === null || _e === void 0 ? void 0 : _e.close) !== null && _f !== void 0 ? _f : this.close;\r\n        this.options = particlesOptions;\r\n        this.pathDelay = Utils_1.NumberUtils.getValue(this.options.move.path.delay) * 1000;\r\n        container.retina.initParticle(this);\r\n        const color = this.options.color;\r\n        const sizeOptions = this.options.size;\r\n        const sizeValue = Utils_1.NumberUtils.getValue(sizeOptions) * container.retina.pixelRatio;\r\n        const randomSize = typeof sizeOptions.random === \"boolean\" ? sizeOptions.random : sizeOptions.random.enable;\r\n        this.size = {\r\n            value: sizeValue,\r\n        };\r\n        this.direction = this.options.move.direction;\r\n        this.bubble = {\r\n            inRange: false,\r\n        };\r\n        this.initialVelocity = this.calculateVelocity();\r\n        this.velocity = this.initialVelocity.copy();\r\n        const rotateOptions = this.options.rotate;\r\n        this.rotate = {\r\n            value: (Utils_1.NumberUtils.getRangeValue(rotateOptions.value) * Math.PI) / 180,\r\n        };\r\n        let rotateDirection = rotateOptions.direction;\r\n        if (rotateDirection === Enums_1.RotateDirection.random) {\r\n            const index = Math.floor(Math.random() * 2);\r\n            rotateDirection = index > 0 ? Enums_1.RotateDirection.counterClockwise : Enums_1.RotateDirection.clockwise;\r\n        }\r\n        switch (rotateDirection) {\r\n            case Enums_1.RotateDirection.counterClockwise:\r\n            case \"counterClockwise\":\r\n                this.rotate.status = Enums_1.AnimationStatus.decreasing;\r\n                break;\r\n            case Enums_1.RotateDirection.clockwise:\r\n                this.rotate.status = Enums_1.AnimationStatus.increasing;\r\n                break;\r\n        }\r\n        const rotateAnimation = this.options.rotate.animation;\r\n        if (rotateAnimation.enable) {\r\n            this.rotate.velocity = (rotateAnimation.speed / 360) * container.retina.reduceFactor;\r\n            if (!rotateAnimation.sync) {\r\n                this.rotate.velocity *= Math.random();\r\n            }\r\n        }\r\n        const sizeAnimation = this.options.size.animation;\r\n        if (sizeAnimation.enable) {\r\n            this.size.status = Enums_1.AnimationStatus.increasing;\r\n            if (!randomSize) {\r\n                switch (sizeAnimation.startValue) {\r\n                    case Enums_1.StartValueType.min:\r\n                        this.size.value = sizeAnimation.minimumValue * pxRatio;\r\n                        break;\r\n                    case Enums_1.StartValueType.random:\r\n                        this.size.value = Utils_1.NumberUtils.randomInRange(Utils_1.NumberUtils.setRangeValue(sizeAnimation.minimumValue * pxRatio, this.size.value));\r\n                        break;\r\n                    case Enums_1.StartValueType.max:\r\n                    default:\r\n                        this.size.status = Enums_1.AnimationStatus.decreasing;\r\n                        break;\r\n                }\r\n            }\r\n            this.size.velocity =\r\n                (((_g = this.sizeAnimationSpeed) !== null && _g !== void 0 ? _g : container.retina.sizeAnimationSpeed) / 100) *\r\n                    container.retina.reduceFactor;\r\n            if (!sizeAnimation.sync) {\r\n                this.size.velocity *= Math.random();\r\n            }\r\n        }\r\n        const hslColor = Utils_1.ColorUtils.colorToHsl(color, this.id, reduceDuplicates);\r\n        if (hslColor) {\r\n            this.color = {\r\n                h: {\r\n                    value: hslColor.h,\r\n                },\r\n                s: {\r\n                    value: hslColor.s,\r\n                },\r\n                l: {\r\n                    value: hslColor.l,\r\n                },\r\n            };\r\n            const colorAnimation = this.options.color.animation;\r\n            this.setColorAnimation(colorAnimation.h, this.color.h);\r\n            this.setColorAnimation(colorAnimation.s, this.color.s);\r\n            this.setColorAnimation(colorAnimation.l, this.color.l);\r\n        }\r\n        this.position = this.calcPosition(this.container, position);\r\n        this.initialPosition = this.position.copy();\r\n        this.offset = Vector_1.Vector.create(0, 0);\r\n        const opacityOptions = this.options.opacity;\r\n        const randomOpacity = typeof opacityOptions.random === \"boolean\" ? opacityOptions.random : opacityOptions.random.enable;\r\n        this.opacity = {\r\n            value: Utils_1.NumberUtils.getValue(opacityOptions),\r\n        };\r\n        const opacityAnimation = opacityOptions.animation;\r\n        if (opacityAnimation.enable) {\r\n            this.opacity.status = Enums_1.AnimationStatus.increasing;\r\n            if (!randomOpacity) {\r\n                switch (opacityAnimation.startValue) {\r\n                    case Enums_1.StartValueType.min:\r\n                        this.opacity.value = opacityAnimation.minimumValue;\r\n                        break;\r\n                    case Enums_1.StartValueType.random:\r\n                        this.opacity.value = Utils_1.NumberUtils.randomInRange(Utils_1.NumberUtils.setRangeValue(opacityAnimation.minimumValue, this.opacity.value));\r\n                        break;\r\n                    case Enums_1.StartValueType.max:\r\n                    default:\r\n                        this.opacity.status = Enums_1.AnimationStatus.decreasing;\r\n                        break;\r\n                }\r\n            }\r\n            this.opacity.velocity = (opacityAnimation.speed / 100) * container.retina.reduceFactor;\r\n            if (!opacityAnimation.sync) {\r\n                this.opacity.velocity *= Math.random();\r\n            }\r\n        }\r\n        this.sides = 24;\r\n        let drawer = container.drawers.get(this.shape);\r\n        if (!drawer) {\r\n            drawer = Utils_1.Plugins.getShapeDrawer(this.shape);\r\n            if (drawer) {\r\n                container.drawers.set(this.shape, drawer);\r\n            }\r\n        }\r\n        const sideCountFunc = drawer === null || drawer === void 0 ? void 0 : drawer.getSidesCount;\r\n        if (sideCountFunc) {\r\n            this.sides = sideCountFunc(this);\r\n        }\r\n        const imageShape = this.loadImageShape(container, drawer);\r\n        if (imageShape) {\r\n            this.image = imageShape.image;\r\n            this.fill = imageShape.fill;\r\n            this.close = imageShape.close;\r\n        }\r\n        this.stroke =\r\n            this.options.stroke instanceof Array\r\n                ? Utils_1.Utils.itemFromArray(this.options.stroke, this.id, reduceDuplicates)\r\n                : this.options.stroke;\r\n        this.strokeWidth = this.stroke.width * container.retina.pixelRatio;\r\n        const strokeHslColor = (_h = Utils_1.ColorUtils.colorToHsl(this.stroke.color)) !== null && _h !== void 0 ? _h : this.getFillColor();\r\n        if (strokeHslColor) {\r\n            this.strokeColor = {\r\n                h: {\r\n                    value: strokeHslColor.h,\r\n                },\r\n                s: {\r\n                    value: strokeHslColor.s,\r\n                },\r\n                l: {\r\n                    value: strokeHslColor.l,\r\n                },\r\n            };\r\n            const strokeColorAnimation = (_j = this.stroke.color) === null || _j === void 0 ? void 0 : _j.animation;\r\n            if (strokeColorAnimation && this.strokeColor) {\r\n                this.setColorAnimation(strokeColorAnimation.h, this.strokeColor.h);\r\n                this.setColorAnimation(strokeColorAnimation.s, this.strokeColor.s);\r\n                this.setColorAnimation(strokeColorAnimation.l, this.strokeColor.l);\r\n            }\r\n        }\r\n        const lifeOptions = particlesOptions.life;\r\n        this.lifeDelay = container.retina.reduceFactor\r\n            ? ((Utils_1.NumberUtils.getValue(lifeOptions.delay) * (lifeOptions.delay.sync ? 1 : Math.random())) /\r\n                container.retina.reduceFactor) *\r\n                1000\r\n            : 0;\r\n        this.lifeDelayTime = 0;\r\n        this.lifeDuration = container.retina.reduceFactor\r\n            ? ((Utils_1.NumberUtils.getValue(lifeOptions.duration) * (lifeOptions.duration.sync ? 1 : Math.random())) /\r\n                container.retina.reduceFactor) *\r\n                1000\r\n            : 0;\r\n        this.lifeTime = 0;\r\n        this.livesRemaining = particlesOptions.life.count;\r\n        this.spawning = this.lifeDelay > 0;\r\n        if (this.lifeDuration <= 0) {\r\n            this.lifeDuration = -1;\r\n        }\r\n        if (this.livesRemaining <= 0) {\r\n            this.livesRemaining = -1;\r\n        }\r\n        this.shadowColor = Utils_1.ColorUtils.colorToRgb(this.options.shadow.color);\r\n        this.updater = new Updater_1.Updater(container, this);\r\n        this.infecter = new Infecter_1.Infecter(container);\r\n        this.mover = new Mover_1.Mover(container, this);\r\n        if (drawer && drawer.particleInit) {\r\n            drawer.particleInit(container, this);\r\n        }\r\n    }\r\n    move(delta) {\r\n        this.mover.move(delta);\r\n    }\r\n    update(delta) {\r\n        this.updater.update(delta);\r\n    }\r\n    draw(delta) {\r\n        this.container.canvas.drawParticle(this, delta);\r\n    }\r\n    getPosition() {\r\n        return this.position.add(this.offset);\r\n    }\r\n    getRadius() {\r\n        return this.bubble.radius || this.size.value;\r\n    }\r\n    getMass() {\r\n        const radius = this.getRadius();\r\n        return (Math.pow(radius, 2) * Math.PI) / 2;\r\n    }\r\n    getFillColor() {\r\n        var _a;\r\n        return (_a = this.bubble.color) !== null && _a !== void 0 ? _a : Utils_1.ColorUtils.getHslFromAnimation(this.color);\r\n    }\r\n    getStrokeColor() {\r\n        var _a, _b;\r\n        return (_b = (_a = this.bubble.color) !== null && _a !== void 0 ? _a : Utils_1.ColorUtils.getHslFromAnimation(this.strokeColor)) !== null && _b !== void 0 ? _b : this.getFillColor();\r\n    }\r\n    destroy(override) {\r\n        this.destroyed = true;\r\n        this.bubble.inRange = false;\r\n        this.links = [];\r\n        if (this.unbreakable) {\r\n            return;\r\n        }\r\n        this.destroyed = true;\r\n        this.bubble.inRange = false;\r\n        for (const [, plugin] of this.container.plugins) {\r\n            if (plugin.particleDestroyed) {\r\n                plugin.particleDestroyed(this, override);\r\n            }\r\n        }\r\n        if (override) {\r\n            return;\r\n        }\r\n        const destroyOptions = this.options.destroy;\r\n        if (destroyOptions.mode === Enums_1.DestroyMode.split) {\r\n            this.split();\r\n        }\r\n    }\r\n    reset() {\r\n        this.loops.opacity = 0;\r\n        this.loops.size = 0;\r\n    }\r\n    split() {\r\n        const splitOptions = this.options.destroy.split;\r\n        if (splitOptions.count >= 0 && this.splitCount++ > splitOptions.count) {\r\n            return;\r\n        }\r\n        const rate = Utils_1.NumberUtils.getRangeValue(splitOptions.rate.value);\r\n        for (let i = 0; i < rate; i++) {\r\n            this.container.particles.addSplitParticle(this);\r\n        }\r\n    }\r\n    setColorAnimation(colorAnimation, colorValue) {\r\n        if (colorAnimation.enable) {\r\n            colorValue.velocity = (colorAnimation.speed / 100) * this.container.retina.reduceFactor;\r\n            if (colorAnimation.sync) {\r\n                return;\r\n            }\r\n            colorValue.status = Enums_1.AnimationStatus.increasing;\r\n            colorValue.velocity *= Math.random();\r\n            if (colorValue.value) {\r\n                colorValue.value *= Math.random();\r\n            }\r\n        }\r\n        else {\r\n            colorValue.velocity = 0;\r\n        }\r\n    }\r\n    calcPosition(container, position, tryCount = 0) {\r\n        var _a, _b;\r\n        for (const [, plugin] of container.plugins) {\r\n            const pluginPos = plugin.particlePosition !== undefined ? plugin.particlePosition(position, this) : undefined;\r\n            if (pluginPos !== undefined) {\r\n                return Vector_1.Vector.create(pluginPos.x, pluginPos.y);\r\n            }\r\n        }\r\n        const pos = Vector_1.Vector.create((_a = position === null || position === void 0 ? void 0 : position.x) !== null && _a !== void 0 ? _a : Math.random() * container.canvas.size.width, (_b = position === null || position === void 0 ? void 0 : position.y) !== null && _b !== void 0 ? _b : Math.random() * container.canvas.size.height);\r\n        const outMode = this.options.move.outMode;\r\n        if (Utils_1.Utils.isInArray(outMode, Enums_1.OutMode.bounce) || Utils_1.Utils.isInArray(outMode, Enums_1.OutMode.bounceHorizontal)) {\r\n            if (pos.x > container.canvas.size.width - this.size.value * 2) {\r\n                pos.x -= this.size.value;\r\n            }\r\n            else if (pos.x < this.size.value * 2) {\r\n                pos.x += this.size.value;\r\n            }\r\n        }\r\n        if (Utils_1.Utils.isInArray(outMode, Enums_1.OutMode.bounce) || Utils_1.Utils.isInArray(outMode, Enums_1.OutMode.bounceVertical)) {\r\n            if (pos.y > container.canvas.size.height - this.size.value * 2) {\r\n                pos.y -= this.size.value;\r\n            }\r\n            else if (pos.y < this.size.value * 2) {\r\n                pos.y += this.size.value;\r\n            }\r\n        }\r\n        if (this.checkOverlap(pos, tryCount)) {\r\n            return this.calcPosition(container, undefined, tryCount + 1);\r\n        }\r\n        return pos;\r\n    }\r\n    checkOverlap(pos, tryCount = 0) {\r\n        const overlapOptions = this.options.collisions.overlap;\r\n        if (!overlapOptions.enable) {\r\n            const retries = overlapOptions.retries;\r\n            if (retries >= 0 && tryCount > retries) {\r\n                throw new Error(\"Particle is overlapping and can't be placed\");\r\n            }\r\n            let overlaps = false;\r\n            for (const particle of this.container.particles.array) {\r\n                if (Utils_1.NumberUtils.getDistance(pos, particle.position) < this.size.value + particle.size.value) {\r\n                    overlaps = true;\r\n                    break;\r\n                }\r\n            }\r\n            return overlaps;\r\n        }\r\n        return false;\r\n    }\r\n    calculateVelocity() {\r\n        const baseVelocity = Utils_1.NumberUtils.getParticleBaseVelocity(this.direction);\r\n        const res = baseVelocity.copy();\r\n        const moveOptions = this.options.move;\r\n        let rad;\r\n        let radOffset = Math.PI / 4;\r\n        if (typeof moveOptions.angle === \"number\") {\r\n            rad = (Math.PI / 180) * moveOptions.angle;\r\n        }\r\n        else {\r\n            rad = (Math.PI / 180) * moveOptions.angle.value;\r\n            radOffset = (Math.PI / 180) * moveOptions.angle.offset;\r\n        }\r\n        const range = {\r\n            left: Math.sin(radOffset + rad / 2) - Math.sin(radOffset - rad / 2),\r\n            right: Math.cos(radOffset + rad / 2) - Math.cos(radOffset - rad / 2),\r\n        };\r\n        if (!moveOptions.straight || moveOptions.random) {\r\n            res.x += Utils_1.NumberUtils.randomInRange(Utils_1.NumberUtils.setRangeValue(range.left, range.right)) / 2;\r\n            res.y += Utils_1.NumberUtils.randomInRange(Utils_1.NumberUtils.setRangeValue(range.left, range.right)) / 2;\r\n        }\r\n        return res;\r\n    }\r\n    loadImageShape(container, drawer) {\r\n        var _a, _b, _c, _d, _e;\r\n        if (!(this.shape === Enums_1.ShapeType.image || this.shape === Enums_1.ShapeType.images)) {\r\n            return;\r\n        }\r\n        const imageDrawer = drawer;\r\n        const images = imageDrawer.getImages(container).images;\r\n        const imageData = this.shapeData;\r\n        const image = (_a = images.find((t) => t.source === imageData.src)) !== null && _a !== void 0 ? _a : images[0];\r\n        const color = this.getFillColor();\r\n        let imageRes;\r\n        if (!image) {\r\n            return;\r\n        }\r\n        if (image.svgData !== undefined && imageData.replaceColor && color) {\r\n            const svgColoredData = Utils_1.ColorUtils.replaceColorSvg(image, color, this.opacity.value);\r\n            const svg = new Blob([svgColoredData], { type: \"image/svg+xml\" });\r\n            const domUrl = URL || window.URL || window.webkitURL || window;\r\n            const url = domUrl.createObjectURL(svg);\r\n            const img = new Image();\r\n            imageRes = {\r\n                data: image,\r\n                loaded: false,\r\n                ratio: imageData.width / imageData.height,\r\n                replaceColor: (_b = imageData.replaceColor) !== null && _b !== void 0 ? _b : imageData.replace_color,\r\n                source: imageData.src,\r\n            };\r\n            img.addEventListener(\"load\", () => {\r\n                if (this.image) {\r\n                    this.image.loaded = true;\r\n                    image.element = img;\r\n                }\r\n                domUrl.revokeObjectURL(url);\r\n            });\r\n            img.addEventListener(\"error\", () => {\r\n                domUrl.revokeObjectURL(url);\r\n                Utils_1.Utils.loadImage(imageData.src).then((img2) => {\r\n                    if (this.image && img2) {\r\n                        image.element = img2.element;\r\n                        this.image.loaded = true;\r\n                    }\r\n                });\r\n            });\r\n            img.src = url;\r\n        }\r\n        else {\r\n            imageRes = {\r\n                data: image,\r\n                loaded: true,\r\n                ratio: imageData.width / imageData.height,\r\n                replaceColor: (_c = imageData.replaceColor) !== null && _c !== void 0 ? _c : imageData.replace_color,\r\n                source: imageData.src,\r\n            };\r\n        }\r\n        if (!imageRes.ratio) {\r\n            imageRes.ratio = 1;\r\n        }\r\n        const fill = (_d = imageData.fill) !== null && _d !== void 0 ? _d : this.fill;\r\n        const close = (_e = imageData.close) !== null && _e !== void 0 ? _e : this.close;\r\n        return {\r\n            image: imageRes,\r\n            fill,\r\n            close,\r\n        };\r\n    }\r\n}\r\nexports.Particle = Particle;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Updater = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Enums_1 = require(\"../../Enums\");\r\nconst OutModeDirection_1 = require(\"../../Enums/Directions/OutModeDirection\");\r\nfunction bounceHorizontal(data) {\r\n    if (data.outMode === Enums_1.OutMode.bounce ||\r\n        data.outMode === Enums_1.OutMode.bounceHorizontal ||\r\n        data.outMode === \"bounceHorizontal\" ||\r\n        data.outMode === Enums_1.OutMode.split) {\r\n        const velocity = data.particle.velocity.x;\r\n        let bounced = false;\r\n        if ((data.direction === OutModeDirection_1.OutModeDirection.right && data.bounds.right >= data.canvasSize.width && velocity > 0) ||\r\n            (data.direction === OutModeDirection_1.OutModeDirection.left && data.bounds.left <= 0 && velocity < 0)) {\r\n            const newVelocity = Utils_1.NumberUtils.getValue(data.particle.options.bounce.horizontal);\r\n            data.particle.velocity.x *= -newVelocity;\r\n            bounced = true;\r\n        }\r\n        if (!bounced) {\r\n            return;\r\n        }\r\n        const minPos = data.offset.x + data.size;\r\n        if (data.bounds.right >= data.canvasSize.width) {\r\n            data.particle.position.x = data.canvasSize.width - minPos;\r\n        }\r\n        else if (data.bounds.left <= 0) {\r\n            data.particle.position.x = minPos;\r\n        }\r\n        if (data.outMode === Enums_1.OutMode.split) {\r\n            data.particle.destroy();\r\n        }\r\n    }\r\n}\r\nfunction bounceVertical(data) {\r\n    if (data.outMode === Enums_1.OutMode.bounce ||\r\n        data.outMode === Enums_1.OutMode.bounceVertical ||\r\n        data.outMode === \"bounceVertical\" ||\r\n        data.outMode === Enums_1.OutMode.split) {\r\n        const velocity = data.particle.velocity.y;\r\n        let bounced = false;\r\n        if ((data.direction === OutModeDirection_1.OutModeDirection.bottom &&\r\n            data.bounds.bottom >= data.canvasSize.height &&\r\n            velocity > 0) ||\r\n            (data.direction === OutModeDirection_1.OutModeDirection.top && data.bounds.top <= 0 && velocity < 0)) {\r\n            const newVelocity = Utils_1.NumberUtils.getValue(data.particle.options.bounce.vertical);\r\n            data.particle.velocity.y *= -newVelocity;\r\n            bounced = true;\r\n        }\r\n        if (!bounced) {\r\n            return;\r\n        }\r\n        const minPos = data.offset.y + data.size;\r\n        if (data.bounds.bottom >= data.canvasSize.height) {\r\n            data.particle.position.y = data.canvasSize.height - minPos;\r\n        }\r\n        else if (data.bounds.top <= 0) {\r\n            data.particle.position.y = minPos;\r\n        }\r\n        if (data.outMode === Enums_1.OutMode.split) {\r\n            data.particle.destroy();\r\n        }\r\n    }\r\n}\r\nfunction checkDestroy(particle, destroy, value, minValue, maxValue) {\r\n    switch (destroy) {\r\n        case Enums_1.DestroyType.max:\r\n            if (value >= maxValue) {\r\n                particle.destroy();\r\n            }\r\n            break;\r\n        case Enums_1.DestroyType.min:\r\n            if (value <= minValue) {\r\n                particle.destroy();\r\n            }\r\n            break;\r\n    }\r\n}\r\nclass Updater {\r\n    constructor(container, particle) {\r\n        this.container = container;\r\n        this.particle = particle;\r\n    }\r\n    update(delta) {\r\n        if (this.particle.destroyed) {\r\n            return;\r\n        }\r\n        this.updateLife(delta);\r\n        if (this.particle.destroyed || this.particle.spawning) {\r\n            return;\r\n        }\r\n        this.updateOpacity(delta);\r\n        this.updateSize(delta);\r\n        this.updateAngle(delta);\r\n        this.updateColor(delta);\r\n        this.updateStrokeColor(delta);\r\n        this.updateOutModes(delta);\r\n    }\r\n    updateLife(delta) {\r\n        const particle = this.particle;\r\n        let justSpawned = false;\r\n        if (particle.spawning) {\r\n            particle.lifeDelayTime += delta.value;\r\n            if (particle.lifeDelayTime >= particle.lifeDelay) {\r\n                justSpawned = true;\r\n                particle.spawning = false;\r\n                particle.lifeDelayTime = 0;\r\n                particle.lifeTime = 0;\r\n            }\r\n        }\r\n        if (particle.lifeDuration === -1) {\r\n            return;\r\n        }\r\n        if (!particle.spawning) {\r\n            if (justSpawned) {\r\n                particle.lifeTime = 0;\r\n            }\r\n            else {\r\n                particle.lifeTime += delta.value;\r\n            }\r\n            if (particle.lifeTime >= particle.lifeDuration) {\r\n                particle.lifeTime = 0;\r\n                if (particle.livesRemaining > 0) {\r\n                    particle.livesRemaining--;\r\n                }\r\n                if (particle.livesRemaining === 0) {\r\n                    particle.destroy();\r\n                    return;\r\n                }\r\n                const canvasSize = this.container.canvas.size;\r\n                particle.position.x = Utils_1.NumberUtils.randomInRange(Utils_1.NumberUtils.setRangeValue(0, canvasSize.width));\r\n                particle.position.y = Utils_1.NumberUtils.randomInRange(Utils_1.NumberUtils.setRangeValue(0, canvasSize.height));\r\n                particle.spawning = true;\r\n                particle.lifeDelayTime = 0;\r\n                particle.lifeTime = 0;\r\n                particle.reset();\r\n                const lifeOptions = particle.options.life;\r\n                particle.lifeDelay = Utils_1.NumberUtils.getValue(lifeOptions.delay) * 1000;\r\n                particle.lifeDuration = Utils_1.NumberUtils.getValue(lifeOptions.duration) * 1000;\r\n            }\r\n        }\r\n    }\r\n    updateOpacity(delta) {\r\n        var _a, _b;\r\n        const particle = this.particle;\r\n        const opacityOpt = particle.options.opacity;\r\n        const opacityAnim = opacityOpt.animation;\r\n        const minValue = Utils_1.NumberUtils.getRangeMin(opacityOpt.value);\r\n        const maxValue = Utils_1.NumberUtils.getRangeMax(opacityOpt.value);\r\n        if (!particle.destroyed &&\r\n            opacityAnim.enable &&\r\n            (opacityAnim.count <= 0 || particle.loops.size < opacityAnim.count)) {\r\n            switch (particle.opacity.status) {\r\n                case Enums_1.AnimationStatus.increasing:\r\n                    if (particle.opacity.value >= maxValue) {\r\n                        particle.opacity.status = Enums_1.AnimationStatus.decreasing;\r\n                        particle.loops.opacity++;\r\n                    }\r\n                    else {\r\n                        particle.opacity.value += ((_a = particle.opacity.velocity) !== null && _a !== void 0 ? _a : 0) * delta.factor;\r\n                    }\r\n                    break;\r\n                case Enums_1.AnimationStatus.decreasing:\r\n                    if (particle.opacity.value <= minValue) {\r\n                        particle.opacity.status = Enums_1.AnimationStatus.increasing;\r\n                        particle.loops.opacity++;\r\n                    }\r\n                    else {\r\n                        particle.opacity.value -= ((_b = particle.opacity.velocity) !== null && _b !== void 0 ? _b : 0) * delta.factor;\r\n                    }\r\n                    break;\r\n            }\r\n            checkDestroy(particle, opacityAnim.destroy, particle.opacity.value, minValue, maxValue);\r\n            if (!particle.destroyed) {\r\n                particle.opacity.value = Utils_1.NumberUtils.clamp(particle.opacity.value, minValue, maxValue);\r\n            }\r\n        }\r\n    }\r\n    updateSize(delta) {\r\n        var _a;\r\n        const container = this.container;\r\n        const particle = this.particle;\r\n        const sizeOpt = particle.options.size;\r\n        const sizeAnim = sizeOpt.animation;\r\n        const sizeVelocity = ((_a = particle.size.velocity) !== null && _a !== void 0 ? _a : 0) * delta.factor;\r\n        const minValue = Utils_1.NumberUtils.getRangeMin(sizeOpt.value) * container.retina.pixelRatio;\r\n        const maxValue = Utils_1.NumberUtils.getRangeMax(sizeOpt.value) * container.retina.pixelRatio;\r\n        if (!particle.destroyed && sizeAnim.enable && (sizeAnim.count <= 0 || particle.loops.size < sizeAnim.count)) {\r\n            switch (particle.size.status) {\r\n                case Enums_1.AnimationStatus.increasing:\r\n                    if (particle.size.value >= maxValue) {\r\n                        particle.size.status = Enums_1.AnimationStatus.decreasing;\r\n                        particle.loops.size++;\r\n                    }\r\n                    else {\r\n                        particle.size.value += sizeVelocity;\r\n                    }\r\n                    break;\r\n                case Enums_1.AnimationStatus.decreasing:\r\n                    if (particle.size.value <= minValue) {\r\n                        particle.size.status = Enums_1.AnimationStatus.increasing;\r\n                        particle.loops.size++;\r\n                    }\r\n                    else {\r\n                        particle.size.value -= sizeVelocity;\r\n                    }\r\n            }\r\n            checkDestroy(particle, sizeAnim.destroy, particle.size.value, minValue, maxValue);\r\n            if (!particle.destroyed) {\r\n                particle.size.value = Utils_1.NumberUtils.clamp(particle.size.value, minValue, maxValue);\r\n            }\r\n        }\r\n    }\r\n    updateAngle(delta) {\r\n        var _a;\r\n        const particle = this.particle;\r\n        const rotate = particle.options.rotate;\r\n        const rotateAnimation = rotate.animation;\r\n        const speed = ((_a = particle.rotate.velocity) !== null && _a !== void 0 ? _a : 0) * delta.factor;\r\n        const max = 2 * Math.PI;\r\n        if (rotateAnimation.enable) {\r\n            switch (particle.rotate.status) {\r\n                case Enums_1.AnimationStatus.increasing:\r\n                    particle.rotate.value += speed;\r\n                    if (particle.rotate.value > max) {\r\n                        particle.rotate.value -= max;\r\n                    }\r\n                    break;\r\n                case Enums_1.AnimationStatus.decreasing:\r\n                default:\r\n                    particle.rotate.value -= speed;\r\n                    if (particle.rotate.value < 0) {\r\n                        particle.rotate.value += max;\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    updateColor(delta) {\r\n        var _a, _b, _c;\r\n        const particle = this.particle;\r\n        const animationOptions = particle.options.color.animation;\r\n        if (((_a = particle.color) === null || _a === void 0 ? void 0 : _a.h) !== undefined) {\r\n            this.updateColorValue(particle, delta, particle.color.h, animationOptions.h, 360, false);\r\n        }\r\n        if (((_b = particle.color) === null || _b === void 0 ? void 0 : _b.s) !== undefined) {\r\n            this.updateColorValue(particle, delta, particle.color.s, animationOptions.s, 100, true);\r\n        }\r\n        if (((_c = particle.color) === null || _c === void 0 ? void 0 : _c.l) !== undefined) {\r\n            this.updateColorValue(particle, delta, particle.color.l, animationOptions.l, 100, true);\r\n        }\r\n    }\r\n    updateStrokeColor(delta) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\r\n        const particle = this.particle;\r\n        if (!particle.stroke.color) {\r\n            return;\r\n        }\r\n        const animationOptions = particle.stroke.color.animation;\r\n        const valueAnimations = animationOptions;\r\n        if (valueAnimations.enable !== undefined) {\r\n            const hue = (_b = (_a = particle.strokeColor) === null || _a === void 0 ? void 0 : _a.h) !== null && _b !== void 0 ? _b : (_c = particle.color) === null || _c === void 0 ? void 0 : _c.h;\r\n            if (hue) {\r\n                this.updateColorValue(particle, delta, hue, valueAnimations, 360, false);\r\n            }\r\n        }\r\n        else {\r\n            const hslAnimations = animationOptions;\r\n            const h = (_e = (_d = particle.strokeColor) === null || _d === void 0 ? void 0 : _d.h) !== null && _e !== void 0 ? _e : (_f = particle.color) === null || _f === void 0 ? void 0 : _f.h;\r\n            if (h) {\r\n                this.updateColorValue(particle, delta, h, hslAnimations.h, 360, false);\r\n            }\r\n            const s = (_h = (_g = particle.strokeColor) === null || _g === void 0 ? void 0 : _g.s) !== null && _h !== void 0 ? _h : (_j = particle.color) === null || _j === void 0 ? void 0 : _j.s;\r\n            if (s) {\r\n                this.updateColorValue(particle, delta, s, hslAnimations.s, 100, true);\r\n            }\r\n            const l = (_l = (_k = particle.strokeColor) === null || _k === void 0 ? void 0 : _k.l) !== null && _l !== void 0 ? _l : (_m = particle.color) === null || _m === void 0 ? void 0 : _m.l;\r\n            if (l) {\r\n                this.updateColorValue(particle, delta, l, hslAnimations.l, 100, true);\r\n            }\r\n        }\r\n    }\r\n    updateColorValue(particle, delta, value, valueAnimation, max, decrease) {\r\n        var _a;\r\n        const colorValue = value;\r\n        if (!colorValue || !valueAnimation.enable) {\r\n            return;\r\n        }\r\n        const offset = Utils_1.NumberUtils.randomInRange(valueAnimation.offset);\r\n        const velocity = ((_a = value.velocity) !== null && _a !== void 0 ? _a : 0) * delta.factor + offset * 3.6;\r\n        if (!decrease || colorValue.status === Enums_1.AnimationStatus.increasing) {\r\n            colorValue.value += velocity;\r\n            if (decrease && colorValue.value > max) {\r\n                colorValue.status = Enums_1.AnimationStatus.decreasing;\r\n                colorValue.value -= colorValue.value % max;\r\n            }\r\n        }\r\n        else {\r\n            colorValue.value -= velocity;\r\n            if (colorValue.value < 0) {\r\n                colorValue.status = Enums_1.AnimationStatus.increasing;\r\n                colorValue.value += colorValue.value;\r\n            }\r\n        }\r\n        if (colorValue.value > max) {\r\n            colorValue.value %= max;\r\n        }\r\n    }\r\n    updateOutModes(delta) {\r\n        var _a, _b, _c, _d;\r\n        const outModes = this.particle.options.move.outModes;\r\n        this.updateOutMode(delta, (_a = outModes.bottom) !== null && _a !== void 0 ? _a : outModes.default, OutModeDirection_1.OutModeDirection.bottom);\r\n        this.updateOutMode(delta, (_b = outModes.left) !== null && _b !== void 0 ? _b : outModes.default, OutModeDirection_1.OutModeDirection.left);\r\n        this.updateOutMode(delta, (_c = outModes.right) !== null && _c !== void 0 ? _c : outModes.default, OutModeDirection_1.OutModeDirection.right);\r\n        this.updateOutMode(delta, (_d = outModes.top) !== null && _d !== void 0 ? _d : outModes.default, OutModeDirection_1.OutModeDirection.top);\r\n    }\r\n    updateOutMode(delta, outMode, direction) {\r\n        const container = this.container;\r\n        const particle = this.particle;\r\n        switch (outMode) {\r\n            case Enums_1.OutMode.bounce:\r\n            case Enums_1.OutMode.bounceVertical:\r\n            case Enums_1.OutMode.bounceHorizontal:\r\n            case \"bounceVertical\":\r\n            case \"bounceHorizontal\":\r\n            case Enums_1.OutMode.split:\r\n                this.updateBounce(delta, direction, outMode);\r\n                break;\r\n            case Enums_1.OutMode.destroy:\r\n                if (!Utils_1.Utils.isPointInside(particle.position, container.canvas.size, particle.getRadius(), direction)) {\r\n                    container.particles.remove(particle, true);\r\n                }\r\n                break;\r\n            case Enums_1.OutMode.out:\r\n                if (!Utils_1.Utils.isPointInside(particle.position, container.canvas.size, particle.getRadius(), direction)) {\r\n                    this.fixOutOfCanvasPosition(direction);\r\n                }\r\n                break;\r\n            case Enums_1.OutMode.none:\r\n                this.bounceNone(direction);\r\n                break;\r\n        }\r\n    }\r\n    fixOutOfCanvasPosition(direction) {\r\n        const container = this.container;\r\n        const particle = this.particle;\r\n        const wrap = particle.options.move.warp;\r\n        const canvasSize = container.canvas.size;\r\n        const newPos = {\r\n            bottom: canvasSize.height + particle.getRadius() - particle.offset.y,\r\n            left: -particle.getRadius() - particle.offset.x,\r\n            right: canvasSize.width + particle.getRadius() + particle.offset.x,\r\n            top: -particle.getRadius() - particle.offset.y,\r\n        };\r\n        const sizeValue = particle.getRadius();\r\n        const nextBounds = Utils_1.Utils.calculateBounds(particle.position, sizeValue);\r\n        if (direction === OutModeDirection_1.OutModeDirection.right && nextBounds.left > canvasSize.width - particle.offset.x) {\r\n            particle.position.x = newPos.left;\r\n            if (!wrap) {\r\n                particle.position.y = Math.random() * canvasSize.height;\r\n            }\r\n        }\r\n        else if (direction === OutModeDirection_1.OutModeDirection.left && nextBounds.right < -particle.offset.x) {\r\n            particle.position.x = newPos.right;\r\n            if (!wrap) {\r\n                particle.position.y = Math.random() * canvasSize.height;\r\n            }\r\n        }\r\n        if (direction === OutModeDirection_1.OutModeDirection.bottom && nextBounds.top > canvasSize.height - particle.offset.y) {\r\n            if (!wrap) {\r\n                particle.position.x = Math.random() * canvasSize.width;\r\n            }\r\n            particle.position.y = newPos.top;\r\n        }\r\n        else if (direction === OutModeDirection_1.OutModeDirection.top && nextBounds.bottom < -particle.offset.y) {\r\n            if (!wrap) {\r\n                particle.position.x = Math.random() * canvasSize.width;\r\n            }\r\n            particle.position.y = newPos.bottom;\r\n        }\r\n    }\r\n    updateBounce(delta, direction, outMode) {\r\n        const container = this.container;\r\n        const particle = this.particle;\r\n        let handled = false;\r\n        for (const [, plugin] of container.plugins) {\r\n            if (plugin.particleBounce !== undefined) {\r\n                handled = plugin.particleBounce(particle, delta, direction);\r\n            }\r\n            if (handled) {\r\n                break;\r\n            }\r\n        }\r\n        if (handled) {\r\n            return;\r\n        }\r\n        const pos = particle.getPosition(), offset = particle.offset, size = particle.getRadius(), bounds = Utils_1.Utils.calculateBounds(pos, size), canvasSize = container.canvas.size;\r\n        bounceHorizontal({ particle, outMode, direction, bounds, canvasSize, offset, size });\r\n        bounceVertical({ particle, outMode, direction, bounds, canvasSize, offset, size });\r\n    }\r\n    bounceNone(direction) {\r\n        const particle = this.particle;\r\n        if (particle.options.move.distance) {\r\n            return;\r\n        }\r\n        const gravityOptions = particle.options.move.gravity;\r\n        const container = this.container;\r\n        if (!gravityOptions.enable) {\r\n            if (!Utils_1.Utils.isPointInside(particle.position, container.canvas.size, particle.getRadius(), direction)) {\r\n                container.particles.remove(particle);\r\n            }\r\n        }\r\n        else {\r\n            const position = particle.position;\r\n            if ((gravityOptions.acceleration >= 0 &&\r\n                position.y > container.canvas.size.height &&\r\n                direction === OutModeDirection_1.OutModeDirection.bottom) ||\r\n                (gravityOptions.acceleration < 0 && position.y < 0 && direction === OutModeDirection_1.OutModeDirection.top)) {\r\n                container.particles.remove(particle);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Updater = Updater;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Infecter = void 0;\r\nclass Infecter {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    startInfection(stage) {\r\n        const options = this.container.actualOptions;\r\n        const stages = options.infection.stages;\r\n        const stagesCount = stages.length;\r\n        if (stage > stagesCount || stage < 0) {\r\n            return;\r\n        }\r\n        this.infectionDelay = 0;\r\n        this.infectionDelayStage = stage;\r\n    }\r\n    updateInfectionStage(stage) {\r\n        const options = this.container.actualOptions;\r\n        const stagesCount = options.infection.stages.length;\r\n        if (stage > stagesCount || stage < 0 || (this.infectionStage !== undefined && this.infectionStage > stage)) {\r\n            return;\r\n        }\r\n        this.infectionStage = stage;\r\n        this.infectionTime = 0;\r\n    }\r\n    updateInfection(delta) {\r\n        const options = this.container.actualOptions;\r\n        const infection = options.infection;\r\n        const stages = options.infection.stages;\r\n        const stagesCount = stages.length;\r\n        if (this.infectionDelay !== undefined && this.infectionDelayStage !== undefined) {\r\n            const stage = this.infectionDelayStage;\r\n            if (stage > stagesCount || stage < 0) {\r\n                return;\r\n            }\r\n            if (this.infectionDelay > infection.delay * 1000) {\r\n                this.infectionStage = stage;\r\n                this.infectionTime = 0;\r\n                delete this.infectionDelay;\r\n                delete this.infectionDelayStage;\r\n            }\r\n            else {\r\n                this.infectionDelay += delta;\r\n            }\r\n        }\r\n        else {\r\n            delete this.infectionDelay;\r\n            delete this.infectionDelayStage;\r\n        }\r\n        if (this.infectionStage !== undefined && this.infectionTime !== undefined) {\r\n            const infectionStage = stages[this.infectionStage];\r\n            if (infectionStage.duration !== undefined && infectionStage.duration >= 0) {\r\n                if (this.infectionTime > infectionStage.duration * 1000) {\r\n                    this.nextInfectionStage();\r\n                }\r\n                else {\r\n                    this.infectionTime += delta;\r\n                }\r\n            }\r\n            else {\r\n                this.infectionTime += delta;\r\n            }\r\n        }\r\n        else {\r\n            delete this.infectionStage;\r\n            delete this.infectionTime;\r\n        }\r\n    }\r\n    nextInfectionStage() {\r\n        const options = this.container.actualOptions;\r\n        const stagesCount = options.infection.stages.length;\r\n        if (stagesCount <= 0 || this.infectionStage === undefined) {\r\n            return;\r\n        }\r\n        this.infectionTime = 0;\r\n        if (stagesCount <= ++this.infectionStage) {\r\n            if (options.infection.cure) {\r\n                delete this.infectionStage;\r\n                delete this.infectionTime;\r\n                return;\r\n            }\r\n            else {\r\n                this.infectionStage = 0;\r\n                this.infectionTime = 0;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Infecter = Infecter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Mover = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Enums_1 = require(\"../../Enums\");\r\nclass Mover {\r\n    constructor(container, particle) {\r\n        this.container = container;\r\n        this.particle = particle;\r\n    }\r\n    move(delta) {\r\n        const particle = this.particle;\r\n        particle.bubble.inRange = false;\r\n        particle.links = [];\r\n        for (const [, plugin] of this.container.plugins) {\r\n            if (particle.destroyed) {\r\n                break;\r\n            }\r\n            if (plugin.particleUpdate) {\r\n                plugin.particleUpdate(particle, delta);\r\n            }\r\n        }\r\n        if (particle.destroyed) {\r\n            return;\r\n        }\r\n        this.moveParticle(delta);\r\n        this.moveParallax();\r\n    }\r\n    moveParticle(delta) {\r\n        var _a, _b;\r\n        const particle = this.particle;\r\n        const particlesOptions = particle.options;\r\n        if (!particlesOptions.move.enable) {\r\n            return;\r\n        }\r\n        const container = this.container;\r\n        const slowFactor = this.getProximitySpeedFactor();\r\n        const baseSpeed = ((_a = particle.moveSpeed) !== null && _a !== void 0 ? _a : Utils_1.NumberUtils.getRangeValue(particle.options.move.speed) * container.retina.pixelRatio) *\r\n            container.retina.reduceFactor;\r\n        const maxSize = Utils_1.NumberUtils.getRangeMax(particle.options.size.value) * container.retina.pixelRatio;\r\n        const sizeFactor = particlesOptions.move.size ? particle.getRadius() / maxSize : 1;\r\n        const moveSpeed = (baseSpeed / 2) * sizeFactor * slowFactor * delta.factor;\r\n        const moveDrift = (_b = particle.moveDrift) !== null && _b !== void 0 ? _b : Utils_1.NumberUtils.getRangeValue(particle.options.move.drift) * container.retina.pixelRatio;\r\n        this.applyPath(delta);\r\n        const gravityOptions = particlesOptions.move.gravity;\r\n        if (gravityOptions.enable) {\r\n            particle.velocity.y += (gravityOptions.acceleration * delta.factor) / (60 * moveSpeed);\r\n        }\r\n        if (moveSpeed) {\r\n            particle.velocity.x += (moveDrift * delta.factor) / (60 * moveSpeed);\r\n        }\r\n        const decay = 1 - particle.options.move.decay;\r\n        particle.velocity.multTo(decay);\r\n        const velocity = particle.velocity.mult(moveSpeed);\r\n        if (gravityOptions.enable && velocity.y >= gravityOptions.maxSpeed && gravityOptions.maxSpeed > 0) {\r\n            velocity.y = gravityOptions.maxSpeed;\r\n            if (moveSpeed) {\r\n                particle.velocity.y = velocity.y / moveSpeed;\r\n            }\r\n        }\r\n        particle.position.addTo(velocity);\r\n        if (particlesOptions.move.vibrate) {\r\n            particle.position.x += Math.sin(particle.position.x * Math.cos(particle.position.y));\r\n            particle.position.y += Math.cos(particle.position.y * Math.sin(particle.position.x));\r\n        }\r\n        const initialPosition = particle.initialPosition;\r\n        const initialDistance = Utils_1.NumberUtils.getDistance(initialPosition, particle.position);\r\n        if (particle.maxDistance) {\r\n            if (initialDistance >= particle.maxDistance && !particle.misplaced) {\r\n                particle.misplaced = initialDistance > particle.maxDistance;\r\n                particle.velocity.x = particle.velocity.y / 2 - particle.velocity.x;\r\n                particle.velocity.y = particle.velocity.x / 2 - particle.velocity.y;\r\n            }\r\n            else if (initialDistance < particle.maxDistance && particle.misplaced) {\r\n                particle.misplaced = false;\r\n            }\r\n            else if (particle.misplaced) {\r\n                if ((particle.position.x < initialPosition.x && particle.velocity.x < 0) ||\r\n                    (particle.position.x > initialPosition.x && particle.velocity.x > 0)) {\r\n                    particle.velocity.x *= -Math.random();\r\n                }\r\n                if ((particle.position.y < initialPosition.y && particle.velocity.y < 0) ||\r\n                    (particle.position.y > initialPosition.y && particle.velocity.y > 0)) {\r\n                    particle.velocity.y *= -Math.random();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    applyPath(delta) {\r\n        const particle = this.particle;\r\n        const particlesOptions = particle.options;\r\n        const pathOptions = particlesOptions.move.path;\r\n        const pathEnabled = pathOptions.enable;\r\n        if (!pathEnabled) {\r\n            return;\r\n        }\r\n        const container = this.container;\r\n        if (particle.lastPathTime <= particle.pathDelay) {\r\n            particle.lastPathTime += delta.value;\r\n            return;\r\n        }\r\n        let generator = container.pathGenerator;\r\n        if (pathOptions.generator) {\r\n            const customGenerator = Utils_1.Plugins.getPathGenerator(pathOptions.generator);\r\n            if (customGenerator) {\r\n                generator = customGenerator;\r\n            }\r\n        }\r\n        const path = generator.generate(particle);\r\n        particle.velocity.addTo(path);\r\n        if (pathOptions.clamp) {\r\n            particle.velocity.x = Utils_1.NumberUtils.clamp(particle.velocity.x, -1, 1);\r\n            particle.velocity.y = Utils_1.NumberUtils.clamp(particle.velocity.y, -1, 1);\r\n        }\r\n        particle.lastPathTime -= particle.pathDelay;\r\n    }\r\n    moveParallax() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        if (Utils_1.Utils.isSsr() || !options.interactivity.events.onHover.parallax.enable) {\r\n            return;\r\n        }\r\n        const particle = this.particle;\r\n        const parallaxForce = options.interactivity.events.onHover.parallax.force;\r\n        const mousePos = container.interactivity.mouse.position;\r\n        if (!mousePos) {\r\n            return;\r\n        }\r\n        const canvasCenter = {\r\n            x: container.canvas.size.width / 2,\r\n            y: container.canvas.size.height / 2,\r\n        };\r\n        const parallaxSmooth = options.interactivity.events.onHover.parallax.smooth;\r\n        const factor = particle.getRadius() / parallaxForce;\r\n        const tmp = {\r\n            x: (mousePos.x - canvasCenter.x) * factor,\r\n            y: (mousePos.y - canvasCenter.y) * factor,\r\n        };\r\n        particle.offset.x += (tmp.x - particle.offset.x) / parallaxSmooth;\r\n        particle.offset.y += (tmp.y - particle.offset.y) / parallaxSmooth;\r\n    }\r\n    getProximitySpeedFactor() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const active = Utils_1.Utils.isInArray(Enums_1.HoverMode.slow, options.interactivity.events.onHover.mode);\r\n        if (!active) {\r\n            return 1;\r\n        }\r\n        const mousePos = this.container.interactivity.mouse.position;\r\n        if (!mousePos) {\r\n            return 1;\r\n        }\r\n        const particlePos = this.particle.getPosition();\r\n        const dist = Utils_1.NumberUtils.getDistance(mousePos, particlePos);\r\n        const radius = container.retina.slowModeRadius;\r\n        if (dist > radius) {\r\n            return 1;\r\n        }\r\n        const proximityFactor = dist / radius || 0;\r\n        const slowFactor = options.interactivity.modes.slow.factor;\r\n        return proximityFactor / slowFactor;\r\n    }\r\n}\r\nexports.Mover = Mover;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InteractionManager = void 0;\r\nconst Grabber_1 = require(\"../../Interactions/External/Grabber\");\r\nconst Repulser_1 = require(\"../../Interactions/External/Repulser\");\r\nconst Bubbler_1 = require(\"../../Interactions/External/Bubbler\");\r\nconst Connector_1 = require(\"../../Interactions/External/Connector\");\r\nconst Linker_1 = require(\"../../Interactions/Particles/Linker\");\r\nconst Attractor_1 = require(\"../../Interactions/Particles/Attractor\");\r\nconst Collider_1 = require(\"../../Interactions/Particles/Collider\");\r\nconst Infecter_1 = require(\"../../Interactions/Particles/Infecter\");\r\nconst TrailMaker_1 = require(\"../../Interactions/External/TrailMaker\");\r\nconst Attractor_2 = require(\"../../Interactions/External/Attractor\");\r\nconst Lighter_1 = require(\"../../Interactions/Particles/Lighter\");\r\nconst Lighter_2 = require(\"../../Interactions/External/Lighter\");\r\nconst Bouncer_1 = require(\"../../Interactions/External/Bouncer\");\r\nclass InteractionManager {\r\n    constructor(container) {\r\n        this.container = container;\r\n        this.externalInteractors = [\r\n            new Bouncer_1.Bouncer(container),\r\n            new Bubbler_1.Bubbler(container),\r\n            new Connector_1.Connector(container),\r\n            new Grabber_1.Grabber(container),\r\n            new Lighter_2.Lighter(container),\r\n            new Attractor_2.Attractor(container),\r\n            new Repulser_1.Repulser(container),\r\n            new TrailMaker_1.TrailMaker(container),\r\n        ];\r\n        this.particleInteractors = [\r\n            new Attractor_1.Attractor(container),\r\n            new Lighter_1.Lighter(container),\r\n            new Collider_1.Collider(container),\r\n            new Infecter_1.Infecter(container),\r\n            new Linker_1.Linker(container),\r\n        ];\r\n    }\r\n    init() {\r\n    }\r\n    externalInteract(delta) {\r\n        for (const interactor of this.externalInteractors) {\r\n            if (interactor.isEnabled()) {\r\n                interactor.interact(delta);\r\n            }\r\n        }\r\n    }\r\n    particlesInteract(particle, delta) {\r\n        for (const interactor of this.externalInteractors) {\r\n            interactor.reset(particle);\r\n        }\r\n        for (const interactor of this.particleInteractors) {\r\n            if (interactor.isEnabled(particle)) {\r\n                interactor.interact(particle, delta);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.InteractionManager = InteractionManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Grabber = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Modes_1 = require(\"../../Enums/Modes\");\r\nclass Grabber {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    isEnabled() {\r\n        const container = this.container;\r\n        const mouse = container.interactivity.mouse;\r\n        const events = container.actualOptions.interactivity.events;\r\n        if (!(events.onHover.enable && mouse.position)) {\r\n            return false;\r\n        }\r\n        const hoverMode = events.onHover.mode;\r\n        return Utils_1.Utils.isInArray(Modes_1.HoverMode.grab, hoverMode);\r\n    }\r\n    reset() {\r\n    }\r\n    interact() {\r\n        var _a;\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const interactivity = options.interactivity;\r\n        if (interactivity.events.onHover.enable && container.interactivity.status === Utils_1.Constants.mouseMoveEvent) {\r\n            const mousePos = container.interactivity.mouse.position;\r\n            if (mousePos === undefined) {\r\n                return;\r\n            }\r\n            const distance = container.retina.grabModeDistance;\r\n            const query = container.particles.quadTree.queryCircle(mousePos, distance);\r\n            for (const particle of query) {\r\n                const pos = particle.getPosition();\r\n                const pointDistance = Utils_1.NumberUtils.getDistance(pos, mousePos);\r\n                if (pointDistance <= distance) {\r\n                    const grabLineOptions = interactivity.modes.grab.links;\r\n                    const lineOpacity = grabLineOptions.opacity;\r\n                    const opacityLine = lineOpacity - (pointDistance * lineOpacity) / distance;\r\n                    if (opacityLine > 0) {\r\n                        const optColor = (_a = grabLineOptions.color) !== null && _a !== void 0 ? _a : particle.options.links.color;\r\n                        if (!container.particles.grabLineColor) {\r\n                            const linksOptions = container.actualOptions.interactivity.modes.grab.links;\r\n                            container.particles.grabLineColor = Utils_1.ColorUtils.getLinkRandomColor(optColor, linksOptions.blink, linksOptions.consent);\r\n                        }\r\n                        const colorLine = Utils_1.ColorUtils.getLinkColor(particle, undefined, container.particles.grabLineColor);\r\n                        if (colorLine === undefined) {\r\n                            return;\r\n                        }\r\n                        container.canvas.drawGrabLine(particle, colorLine, opacityLine, mousePos);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Grabber = Grabber;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Repulser = void 0;\r\nconst Enums_1 = require(\"../../Enums\");\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Vector_1 = require(\"../../Core/Particle/Vector\");\r\nclass Repulser {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    isEnabled() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const mouse = container.interactivity.mouse;\r\n        const events = options.interactivity.events;\r\n        const divs = events.onDiv;\r\n        const divRepulse = Utils_1.Utils.isDivModeEnabled(Enums_1.DivMode.repulse, divs);\r\n        if (!(divRepulse || (events.onHover.enable && mouse.position) || (events.onClick.enable && mouse.clickPosition))) {\r\n            return false;\r\n        }\r\n        const hoverMode = events.onHover.mode;\r\n        const clickMode = events.onClick.mode;\r\n        return (Utils_1.Utils.isInArray(Enums_1.HoverMode.repulse, hoverMode) || Utils_1.Utils.isInArray(Enums_1.ClickMode.repulse, clickMode) || divRepulse);\r\n    }\r\n    reset() {\r\n    }\r\n    interact() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const mouseMoveStatus = container.interactivity.status === Utils_1.Constants.mouseMoveEvent;\r\n        const events = options.interactivity.events;\r\n        const hoverEnabled = events.onHover.enable;\r\n        const hoverMode = events.onHover.mode;\r\n        const clickEnabled = events.onClick.enable;\r\n        const clickMode = events.onClick.mode;\r\n        const divs = events.onDiv;\r\n        if (mouseMoveStatus && hoverEnabled && Utils_1.Utils.isInArray(Enums_1.HoverMode.repulse, hoverMode)) {\r\n            this.hoverRepulse();\r\n        }\r\n        else if (clickEnabled && Utils_1.Utils.isInArray(Enums_1.ClickMode.repulse, clickMode)) {\r\n            this.clickRepulse();\r\n        }\r\n        else {\r\n            Utils_1.Utils.divModeExecute(Enums_1.DivMode.repulse, divs, (selector, div) => this.singleSelectorRepulse(selector, div));\r\n        }\r\n    }\r\n    singleSelectorRepulse(selector, div) {\r\n        const container = this.container;\r\n        const query = document.querySelectorAll(selector);\r\n        if (!query.length) {\r\n            return;\r\n        }\r\n        query.forEach((item) => {\r\n            const elem = item;\r\n            const pxRatio = container.retina.pixelRatio;\r\n            const pos = {\r\n                x: (elem.offsetLeft + elem.offsetWidth / 2) * pxRatio,\r\n                y: (elem.offsetTop + elem.offsetHeight / 2) * pxRatio,\r\n            };\r\n            const repulseRadius = (elem.offsetWidth / 2) * pxRatio;\r\n            const area = div.type === Enums_1.DivType.circle\r\n                ? new Utils_1.Circle(pos.x, pos.y, repulseRadius)\r\n                : new Utils_1.Rectangle(elem.offsetLeft * pxRatio, elem.offsetTop * pxRatio, elem.offsetWidth * pxRatio, elem.offsetHeight * pxRatio);\r\n            const divs = container.actualOptions.interactivity.modes.repulse.divs;\r\n            const divRepulse = Utils_1.Utils.divMode(divs, elem);\r\n            this.processRepulse(pos, repulseRadius, area, divRepulse);\r\n        });\r\n    }\r\n    hoverRepulse() {\r\n        const container = this.container;\r\n        const mousePos = container.interactivity.mouse.position;\r\n        if (!mousePos) {\r\n            return;\r\n        }\r\n        const repulseRadius = container.retina.repulseModeDistance;\r\n        this.processRepulse(mousePos, repulseRadius, new Utils_1.Circle(mousePos.x, mousePos.y, repulseRadius));\r\n    }\r\n    processRepulse(position, repulseRadius, area, divRepulse) {\r\n        var _a;\r\n        const container = this.container;\r\n        const query = container.particles.quadTree.query(area);\r\n        for (const particle of query) {\r\n            const { dx, dy, distance } = Utils_1.NumberUtils.getDistances(particle.position, position);\r\n            const normVec = {\r\n                x: dx / distance,\r\n                y: dy / distance,\r\n            };\r\n            const velocity = ((_a = divRepulse === null || divRepulse === void 0 ? void 0 : divRepulse.speed) !== null && _a !== void 0 ? _a : container.actualOptions.interactivity.modes.repulse.speed) * 100;\r\n            const repulseFactor = Utils_1.NumberUtils.clamp((1 - Math.pow(distance / repulseRadius, 2)) * velocity, 0, 50);\r\n            particle.position.x += normVec.x * repulseFactor;\r\n            particle.position.y += normVec.y * repulseFactor;\r\n        }\r\n    }\r\n    clickRepulse() {\r\n        const container = this.container;\r\n        if (!container.repulse.finish) {\r\n            if (!container.repulse.count) {\r\n                container.repulse.count = 0;\r\n            }\r\n            container.repulse.count++;\r\n            if (container.repulse.count === container.particles.count) {\r\n                container.repulse.finish = true;\r\n            }\r\n        }\r\n        if (container.repulse.clicking) {\r\n            const repulseDistance = container.retina.repulseModeDistance;\r\n            const repulseRadius = Math.pow(repulseDistance / 6, 3);\r\n            const mouseClickPos = container.interactivity.mouse.clickPosition;\r\n            if (mouseClickPos === undefined) {\r\n                return;\r\n            }\r\n            const range = new Utils_1.Circle(mouseClickPos.x, mouseClickPos.y, repulseRadius);\r\n            const query = container.particles.quadTree.query(range);\r\n            for (const particle of query) {\r\n                const { dx, dy, distance } = Utils_1.NumberUtils.getDistances(mouseClickPos, particle.position);\r\n                const d = distance * distance;\r\n                if (d <= repulseRadius) {\r\n                    container.repulse.particles.push(particle);\r\n                    const velocity = container.actualOptions.interactivity.modes.repulse.speed;\r\n                    const v = Vector_1.Vector.create(dx, dy);\r\n                    v.length = (-repulseRadius * velocity) / d;\r\n                    particle.velocity.setTo(v);\r\n                }\r\n            }\r\n        }\r\n        else if (container.repulse.clicking === false) {\r\n            for (const particle of container.repulse.particles) {\r\n                particle.velocity.setTo(particle.initialVelocity);\r\n            }\r\n            container.repulse.particles = [];\r\n        }\r\n    }\r\n}\r\nexports.Repulser = Repulser;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Bubbler = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Enums_1 = require(\"../../Enums\");\r\nfunction calculateBubbleValue(particleValue, modeValue, optionsValue, ratio) {\r\n    if (modeValue > optionsValue) {\r\n        const size = particleValue + (modeValue - optionsValue) * ratio;\r\n        return Utils_1.NumberUtils.clamp(size, particleValue, modeValue);\r\n    }\r\n    else if (modeValue < optionsValue) {\r\n        const size = particleValue - (optionsValue - modeValue) * ratio;\r\n        return Utils_1.NumberUtils.clamp(size, modeValue, particleValue);\r\n    }\r\n}\r\nclass Bubbler {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    isEnabled() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const mouse = container.interactivity.mouse;\r\n        const events = options.interactivity.events;\r\n        const divs = events.onDiv;\r\n        const divBubble = Utils_1.Utils.isDivModeEnabled(Enums_1.DivMode.bubble, divs);\r\n        if (!(divBubble || (events.onHover.enable && mouse.position) || (events.onClick.enable && mouse.clickPosition))) {\r\n            return false;\r\n        }\r\n        const hoverMode = events.onHover.mode;\r\n        const clickMode = events.onClick.mode;\r\n        return (Utils_1.Utils.isInArray(Enums_1.HoverMode.bubble, hoverMode) || Utils_1.Utils.isInArray(Enums_1.ClickMode.bubble, clickMode) || divBubble);\r\n    }\r\n    reset(particle, force) {\r\n        if (!particle.bubble.inRange || force) {\r\n            delete particle.bubble.div;\r\n            delete particle.bubble.opacity;\r\n            delete particle.bubble.radius;\r\n            delete particle.bubble.color;\r\n        }\r\n    }\r\n    interact() {\r\n        const options = this.container.actualOptions;\r\n        const events = options.interactivity.events;\r\n        const onHover = events.onHover;\r\n        const onClick = events.onClick;\r\n        const hoverEnabled = onHover.enable;\r\n        const hoverMode = onHover.mode;\r\n        const clickEnabled = onClick.enable;\r\n        const clickMode = onClick.mode;\r\n        const divs = events.onDiv;\r\n        if (hoverEnabled && Utils_1.Utils.isInArray(Enums_1.HoverMode.bubble, hoverMode)) {\r\n            this.hoverBubble();\r\n        }\r\n        else if (clickEnabled && Utils_1.Utils.isInArray(Enums_1.ClickMode.bubble, clickMode)) {\r\n            this.clickBubble();\r\n        }\r\n        else {\r\n            Utils_1.Utils.divModeExecute(Enums_1.DivMode.bubble, divs, (selector, div) => this.singleSelectorHover(selector, div));\r\n        }\r\n    }\r\n    singleSelectorHover(selector, div) {\r\n        const container = this.container;\r\n        const selectors = document.querySelectorAll(selector);\r\n        if (!selectors.length) {\r\n            return;\r\n        }\r\n        selectors.forEach((item) => {\r\n            const elem = item;\r\n            const pxRatio = container.retina.pixelRatio;\r\n            const pos = {\r\n                x: (elem.offsetLeft + elem.offsetWidth / 2) * pxRatio,\r\n                y: (elem.offsetTop + elem.offsetHeight / 2) * pxRatio,\r\n            };\r\n            const repulseRadius = (elem.offsetWidth / 2) * pxRatio;\r\n            const area = div.type === Enums_1.DivType.circle\r\n                ? new Utils_1.Circle(pos.x, pos.y, repulseRadius)\r\n                : new Utils_1.Rectangle(elem.offsetLeft * pxRatio, elem.offsetTop * pxRatio, elem.offsetWidth * pxRatio, elem.offsetHeight * pxRatio);\r\n            const query = container.particles.quadTree.query(area);\r\n            for (const particle of query) {\r\n                if (!area.contains(particle.getPosition())) {\r\n                    continue;\r\n                }\r\n                particle.bubble.inRange = true;\r\n                const divs = container.actualOptions.interactivity.modes.bubble.divs;\r\n                const divBubble = Utils_1.Utils.divMode(divs, elem);\r\n                if (!particle.bubble.div || particle.bubble.div !== elem) {\r\n                    this.reset(particle, true);\r\n                    particle.bubble.div = elem;\r\n                }\r\n                this.hoverBubbleSize(particle, 1, divBubble);\r\n                this.hoverBubbleOpacity(particle, 1, divBubble);\r\n                this.hoverBubbleColor(particle, divBubble);\r\n            }\r\n        });\r\n    }\r\n    process(particle, distMouse, timeSpent, data) {\r\n        const container = this.container;\r\n        const bubbleParam = data.bubbleObj.optValue;\r\n        if (bubbleParam === undefined) {\r\n            return;\r\n        }\r\n        const options = container.actualOptions;\r\n        const bubbleDuration = options.interactivity.modes.bubble.duration;\r\n        const bubbleDistance = container.retina.bubbleModeDistance;\r\n        const particlesParam = data.particlesObj.optValue;\r\n        const pObjBubble = data.bubbleObj.value;\r\n        const pObj = data.particlesObj.value || 0;\r\n        const type = data.type;\r\n        if (bubbleParam !== particlesParam) {\r\n            if (!container.bubble.durationEnd) {\r\n                if (distMouse <= bubbleDistance) {\r\n                    const obj = pObjBubble !== null && pObjBubble !== void 0 ? pObjBubble : pObj;\r\n                    if (obj !== bubbleParam) {\r\n                        const value = pObj - (timeSpent * (pObj - bubbleParam)) / bubbleDuration;\r\n                        if (type === Enums_1.ProcessBubbleType.size) {\r\n                            particle.bubble.radius = value;\r\n                        }\r\n                        if (type === Enums_1.ProcessBubbleType.opacity) {\r\n                            particle.bubble.opacity = value;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (type === Enums_1.ProcessBubbleType.size) {\r\n                        delete particle.bubble.radius;\r\n                    }\r\n                    if (type === Enums_1.ProcessBubbleType.opacity) {\r\n                        delete particle.bubble.opacity;\r\n                    }\r\n                }\r\n            }\r\n            else if (pObjBubble) {\r\n                if (type === Enums_1.ProcessBubbleType.size) {\r\n                    delete particle.bubble.radius;\r\n                }\r\n                if (type === Enums_1.ProcessBubbleType.opacity) {\r\n                    delete particle.bubble.opacity;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    clickBubble() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const mouseClickPos = container.interactivity.mouse.clickPosition;\r\n        if (mouseClickPos === undefined) {\r\n            return;\r\n        }\r\n        const distance = container.retina.bubbleModeDistance;\r\n        const query = container.particles.quadTree.queryCircle(mouseClickPos, distance);\r\n        for (const particle of query) {\r\n            if (!container.bubble.clicking) {\r\n                continue;\r\n            }\r\n            particle.bubble.inRange = !container.bubble.durationEnd;\r\n            const pos = particle.getPosition();\r\n            const distMouse = Utils_1.NumberUtils.getDistance(pos, mouseClickPos);\r\n            const timeSpent = (new Date().getTime() - (container.interactivity.mouse.clickTime || 0)) / 1000;\r\n            if (timeSpent > options.interactivity.modes.bubble.duration) {\r\n                container.bubble.durationEnd = true;\r\n            }\r\n            if (timeSpent > options.interactivity.modes.bubble.duration * 2) {\r\n                container.bubble.clicking = false;\r\n                container.bubble.durationEnd = false;\r\n            }\r\n            const sizeData = {\r\n                bubbleObj: {\r\n                    optValue: container.retina.bubbleModeSize,\r\n                    value: particle.bubble.radius,\r\n                },\r\n                particlesObj: {\r\n                    optValue: Utils_1.NumberUtils.getRangeMax(particle.options.size.value) * container.retina.pixelRatio,\r\n                    value: particle.size.value,\r\n                },\r\n                type: Enums_1.ProcessBubbleType.size,\r\n            };\r\n            this.process(particle, distMouse, timeSpent, sizeData);\r\n            const opacityData = {\r\n                bubbleObj: {\r\n                    optValue: options.interactivity.modes.bubble.opacity,\r\n                    value: particle.bubble.opacity,\r\n                },\r\n                particlesObj: {\r\n                    optValue: Utils_1.NumberUtils.getRangeMax(particle.options.opacity.value),\r\n                    value: particle.opacity.value,\r\n                },\r\n                type: Enums_1.ProcessBubbleType.opacity,\r\n            };\r\n            this.process(particle, distMouse, timeSpent, opacityData);\r\n            if (!container.bubble.durationEnd) {\r\n                if (distMouse <= container.retina.bubbleModeDistance) {\r\n                    this.hoverBubbleColor(particle);\r\n                }\r\n                else {\r\n                    delete particle.bubble.color;\r\n                }\r\n            }\r\n            else {\r\n                delete particle.bubble.color;\r\n            }\r\n        }\r\n    }\r\n    hoverBubble() {\r\n        const container = this.container;\r\n        const mousePos = container.interactivity.mouse.position;\r\n        if (mousePos === undefined) {\r\n            return;\r\n        }\r\n        const distance = container.retina.bubbleModeDistance;\r\n        const query = container.particles.quadTree.queryCircle(mousePos, distance);\r\n        for (const particle of query) {\r\n            particle.bubble.inRange = true;\r\n            const pos = particle.getPosition();\r\n            const pointDistance = Utils_1.NumberUtils.getDistance(pos, mousePos);\r\n            const ratio = 1 - pointDistance / distance;\r\n            if (pointDistance <= distance) {\r\n                if (ratio >= 0 && container.interactivity.status === Utils_1.Constants.mouseMoveEvent) {\r\n                    this.hoverBubbleSize(particle, ratio);\r\n                    this.hoverBubbleOpacity(particle, ratio);\r\n                    this.hoverBubbleColor(particle);\r\n                }\r\n            }\r\n            else {\r\n                this.reset(particle);\r\n            }\r\n            if (container.interactivity.status === Utils_1.Constants.mouseLeaveEvent) {\r\n                this.reset(particle);\r\n            }\r\n        }\r\n    }\r\n    hoverBubbleSize(particle, ratio, divBubble) {\r\n        const container = this.container;\r\n        const modeSize = (divBubble === null || divBubble === void 0 ? void 0 : divBubble.size)\r\n            ? divBubble.size * container.retina.pixelRatio\r\n            : container.retina.bubbleModeSize;\r\n        if (modeSize === undefined) {\r\n            return;\r\n        }\r\n        const optSize = Utils_1.NumberUtils.getRangeMax(particle.options.size.value) * container.retina.pixelRatio;\r\n        const pSize = particle.size.value;\r\n        const size = calculateBubbleValue(pSize, modeSize, optSize, ratio);\r\n        if (size !== undefined) {\r\n            particle.bubble.radius = size;\r\n        }\r\n    }\r\n    hoverBubbleOpacity(particle, ratio, divBubble) {\r\n        var _a;\r\n        const options = this.container.actualOptions;\r\n        const modeOpacity = (_a = divBubble === null || divBubble === void 0 ? void 0 : divBubble.opacity) !== null && _a !== void 0 ? _a : options.interactivity.modes.bubble.opacity;\r\n        if (modeOpacity === undefined) {\r\n            return;\r\n        }\r\n        const optOpacity = particle.options.opacity.value;\r\n        const pOpacity = particle.opacity.value;\r\n        const opacity = calculateBubbleValue(pOpacity, modeOpacity, Utils_1.NumberUtils.getRangeMax(optOpacity), ratio);\r\n        if (opacity !== undefined) {\r\n            particle.bubble.opacity = opacity;\r\n        }\r\n    }\r\n    hoverBubbleColor(particle, divBubble) {\r\n        var _a;\r\n        const options = this.container.actualOptions;\r\n        if (particle.bubble.color === undefined) {\r\n            const modeColor = (_a = divBubble === null || divBubble === void 0 ? void 0 : divBubble.color) !== null && _a !== void 0 ? _a : options.interactivity.modes.bubble.color;\r\n            if (modeColor === undefined) {\r\n                return;\r\n            }\r\n            const bubbleColor = modeColor instanceof Array ? Utils_1.Utils.itemFromArray(modeColor) : modeColor;\r\n            particle.bubble.color = Utils_1.ColorUtils.colorToHsl(bubbleColor);\r\n        }\r\n    }\r\n}\r\nexports.Bubbler = Bubbler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Connector = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Modes_1 = require(\"../../Enums/Modes\");\r\nclass Connector {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    isEnabled() {\r\n        const container = this.container;\r\n        const mouse = container.interactivity.mouse;\r\n        const events = container.actualOptions.interactivity.events;\r\n        if (!(events.onHover.enable && mouse.position)) {\r\n            return false;\r\n        }\r\n        const hoverMode = events.onHover.mode;\r\n        return Utils_1.Utils.isInArray(Modes_1.HoverMode.connect, hoverMode);\r\n    }\r\n    reset() {\r\n    }\r\n    interact() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        if (options.interactivity.events.onHover.enable && container.interactivity.status === \"mousemove\") {\r\n            const mousePos = container.interactivity.mouse.position;\r\n            if (!mousePos) {\r\n                return;\r\n            }\r\n            const distance = Math.abs(container.retina.connectModeRadius);\r\n            const query = container.particles.quadTree.queryCircle(mousePos, distance);\r\n            let i = 0;\r\n            for (const p1 of query) {\r\n                const pos1 = p1.getPosition();\r\n                for (const p2 of query.slice(i + 1)) {\r\n                    const pos2 = p2.getPosition();\r\n                    const distMax = Math.abs(container.retina.connectModeDistance);\r\n                    const xDiff = Math.abs(pos1.x - pos2.x);\r\n                    const yDiff = Math.abs(pos1.y - pos2.y);\r\n                    if (xDiff < distMax && yDiff < distMax) {\r\n                        container.canvas.drawConnectLine(p1, p2);\r\n                    }\r\n                }\r\n                ++i;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Connector = Connector;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Linker = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nclass Linker {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    isEnabled(particle) {\r\n        return particle.options.links.enable;\r\n    }\r\n    reset() {\r\n    }\r\n    interact(p1) {\r\n        var _a;\r\n        const container = this.container;\r\n        const linkOpt1 = p1.options.links;\r\n        const optOpacity = linkOpt1.opacity;\r\n        const optDistance = (_a = p1.linksDistance) !== null && _a !== void 0 ? _a : container.retina.linksDistance;\r\n        const canvasSize = container.canvas.size;\r\n        const warp = linkOpt1.warp;\r\n        const pos1 = p1.getPosition();\r\n        const range = warp\r\n            ? new Utils_1.CircleWarp(pos1.x, pos1.y, optDistance, canvasSize)\r\n            : new Utils_1.Circle(pos1.x, pos1.y, optDistance);\r\n        const query = container.particles.quadTree.query(range);\r\n        for (const p2 of query) {\r\n            const linkOpt2 = p2.options.links;\r\n            if (p1 === p2 || !linkOpt2.enable || linkOpt1.id !== linkOpt2.id || p2.spawning || p2.destroyed) {\r\n                continue;\r\n            }\r\n            const pos2 = p2.getPosition();\r\n            let distance = Utils_1.NumberUtils.getDistance(pos1, pos2);\r\n            if (warp) {\r\n                if (distance > optDistance) {\r\n                    const pos2NE = {\r\n                        x: pos2.x - canvasSize.width,\r\n                        y: pos2.y,\r\n                    };\r\n                    distance = Utils_1.NumberUtils.getDistance(pos1, pos2NE);\r\n                    if (distance > optDistance) {\r\n                        const pos2SE = {\r\n                            x: pos2.x - canvasSize.width,\r\n                            y: pos2.y - canvasSize.height,\r\n                        };\r\n                        distance = Utils_1.NumberUtils.getDistance(pos1, pos2SE);\r\n                        if (distance > optDistance) {\r\n                            const pos2SW = {\r\n                                x: pos2.x,\r\n                                y: pos2.y - canvasSize.height,\r\n                            };\r\n                            distance = Utils_1.NumberUtils.getDistance(pos1, pos2SW);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (distance > optDistance) {\r\n                return;\r\n            }\r\n            const opacityLine = (1 - distance / optDistance) * optOpacity;\r\n            const linksOptions = p1.options.links;\r\n            let linkColor = linksOptions.id !== undefined\r\n                ? container.particles.linksColors.get(linksOptions.id)\r\n                : container.particles.linksColor;\r\n            if (!linkColor) {\r\n                const optColor = linksOptions.color;\r\n                linkColor = Utils_1.ColorUtils.getLinkRandomColor(optColor, linksOptions.blink, linksOptions.consent);\r\n                if (linksOptions.id !== undefined) {\r\n                    container.particles.linksColors.set(linksOptions.id, linkColor);\r\n                }\r\n                else {\r\n                    container.particles.linksColor = linkColor;\r\n                }\r\n            }\r\n            if (p2.links.map((t) => t.destination).indexOf(p1) === -1 &&\r\n                p1.links.map((t) => t.destination).indexOf(p2) === -1) {\r\n                p1.links.push({\r\n                    destination: p2,\r\n                    opacity: opacityLine,\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Linker = Linker;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Attractor = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nclass Attractor {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    interact(p1) {\r\n        var _a;\r\n        const container = this.container;\r\n        const distance = (_a = p1.linksDistance) !== null && _a !== void 0 ? _a : container.retina.linksDistance;\r\n        const pos1 = p1.getPosition();\r\n        const query = container.particles.quadTree.queryCircle(pos1, distance);\r\n        for (const p2 of query) {\r\n            if (p1 === p2 || !p2.options.move.attract.enable || p2.destroyed || p2.spawning) {\r\n                continue;\r\n            }\r\n            const pos2 = p2.getPosition();\r\n            const { dx, dy } = Utils_1.NumberUtils.getDistances(pos1, pos2);\r\n            const rotate = p1.options.move.attract.rotate;\r\n            const ax = dx / (rotate.x * 1000);\r\n            const ay = dy / (rotate.y * 1000);\r\n            p1.velocity.x -= ax;\r\n            p1.velocity.y -= ay;\r\n            p2.velocity.x += ax;\r\n            p2.velocity.y += ay;\r\n        }\r\n    }\r\n    isEnabled(particle) {\r\n        return particle.options.move.attract.enable;\r\n    }\r\n    reset() {\r\n    }\r\n}\r\nexports.Attractor = Attractor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Collider = void 0;\r\nconst Enums_1 = require(\"../../Enums\");\r\nconst Utils_1 = require(\"../../Utils\");\r\nfunction bounce(p1, p2) {\r\n    Utils_1.Utils.circleBounce(Utils_1.Utils.circleBounceDataFromParticle(p1), Utils_1.Utils.circleBounceDataFromParticle(p2));\r\n}\r\nfunction destroy(p1, p2) {\r\n    if (p1.getRadius() === undefined && p2.getRadius() !== undefined) {\r\n        p1.destroy();\r\n    }\r\n    else if (p1.getRadius() !== undefined && p2.getRadius() === undefined) {\r\n        p2.destroy();\r\n    }\r\n    else if (p1.getRadius() !== undefined && p2.getRadius() !== undefined) {\r\n        if (p1.getRadius() >= p2.getRadius()) {\r\n            p2.destroy();\r\n        }\r\n        else {\r\n            p1.destroy();\r\n        }\r\n    }\r\n}\r\nclass Collider {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    isEnabled(particle) {\r\n        return particle.options.collisions.enable;\r\n    }\r\n    reset() {\r\n    }\r\n    interact(p1) {\r\n        const container = this.container;\r\n        const pos1 = p1.getPosition();\r\n        const query = container.particles.quadTree.queryCircle(pos1, p1.getRadius() * 2);\r\n        for (const p2 of query) {\r\n            if (p1 === p2 ||\r\n                !p2.options.collisions.enable ||\r\n                p1.options.collisions.mode !== p2.options.collisions.mode ||\r\n                p2.destroyed ||\r\n                p2.spawning) {\r\n                continue;\r\n            }\r\n            const pos2 = p2.getPosition();\r\n            const dist = Utils_1.NumberUtils.getDistance(pos1, pos2);\r\n            const radius1 = p1.getRadius();\r\n            const radius2 = p2.getRadius();\r\n            const distP = radius1 + radius2;\r\n            if (dist <= distP) {\r\n                this.resolveCollision(p1, p2);\r\n            }\r\n        }\r\n    }\r\n    resolveCollision(p1, p2) {\r\n        switch (p1.options.collisions.mode) {\r\n            case Enums_1.CollisionMode.absorb: {\r\n                this.absorb(p1, p2);\r\n                break;\r\n            }\r\n            case Enums_1.CollisionMode.bounce: {\r\n                bounce(p1, p2);\r\n                break;\r\n            }\r\n            case Enums_1.CollisionMode.destroy: {\r\n                destroy(p1, p2);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    absorb(p1, p2) {\r\n        const container = this.container;\r\n        const fps = container.actualOptions.fpsLimit / 1000;\r\n        if (p1.getRadius() === undefined && p2.getRadius() !== undefined) {\r\n            p1.destroy();\r\n        }\r\n        else if (p1.getRadius() !== undefined && p2.getRadius() === undefined) {\r\n            p2.destroy();\r\n        }\r\n        else if (p1.getRadius() !== undefined && p2.getRadius() !== undefined) {\r\n            if (p1.getRadius() >= p2.getRadius()) {\r\n                const factor = Utils_1.NumberUtils.clamp(p1.getRadius() / p2.getRadius(), 0, p2.getRadius()) * fps;\r\n                p1.size.value += factor;\r\n                p2.size.value -= factor;\r\n                if (p2.getRadius() <= container.retina.pixelRatio) {\r\n                    p2.size.value = 0;\r\n                    p2.destroy();\r\n                }\r\n            }\r\n            else {\r\n                const factor = Utils_1.NumberUtils.clamp(p2.getRadius() / p1.getRadius(), 0, p1.getRadius()) * fps;\r\n                p1.size.value -= factor;\r\n                p2.size.value += factor;\r\n                if (p1.getRadius() <= container.retina.pixelRatio) {\r\n                    p1.size.value = 0;\r\n                    p1.destroy();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Collider = Collider;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Infecter = void 0;\r\nclass Infecter {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    isEnabled() {\r\n        return this.container.actualOptions.infection.enable;\r\n    }\r\n    reset() {\r\n    }\r\n    interact(p1, delta) {\r\n        var _a, _b;\r\n        const infecter1 = p1.infecter;\r\n        infecter1.updateInfection(delta.value);\r\n        if (infecter1.infectionStage === undefined) {\r\n            return;\r\n        }\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const infectionOptions = options.infection;\r\n        if (!infectionOptions.enable || infectionOptions.stages.length < 1) {\r\n            return;\r\n        }\r\n        const infectionStage1 = infectionOptions.stages[infecter1.infectionStage];\r\n        const pxRatio = container.retina.pixelRatio;\r\n        const radius = p1.getRadius() * 2 + infectionStage1.radius * pxRatio;\r\n        const pos = p1.getPosition();\r\n        const infectedStage1 = (_a = infectionStage1.infectedStage) !== null && _a !== void 0 ? _a : infecter1.infectionStage;\r\n        const query = container.particles.quadTree.queryCircle(pos, radius);\r\n        const infections = infectionStage1.rate;\r\n        const neighbors = query.length;\r\n        for (const p2 of query) {\r\n            if (p2 === p1 ||\r\n                p2.destroyed ||\r\n                p2.spawning ||\r\n                !(p2.infecter.infectionStage === undefined || p2.infecter.infectionStage !== infecter1.infectionStage)) {\r\n                continue;\r\n            }\r\n            const infecter2 = p2.infecter;\r\n            if (Math.random() < infections / neighbors) {\r\n                if (infecter2.infectionStage === undefined) {\r\n                    infecter2.startInfection(infectedStage1);\r\n                }\r\n                else if (infecter2.infectionStage < infecter1.infectionStage) {\r\n                    infecter2.updateInfectionStage(infectedStage1);\r\n                }\r\n                else if (infecter2.infectionStage > infecter1.infectionStage) {\r\n                    const infectionStage2 = infectionOptions.stages[infecter2.infectionStage];\r\n                    const infectedStage2 = (_b = infectionStage2 === null || infectionStage2 === void 0 ? void 0 : infectionStage2.infectedStage) !== null && _b !== void 0 ? _b : infecter2.infectionStage;\r\n                    infecter1.updateInfectionStage(infectedStage2);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Infecter = Infecter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TrailMaker = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Modes_1 = require(\"../../Enums/Modes\");\r\nclass TrailMaker {\r\n    constructor(container) {\r\n        this.container = container;\r\n        this.delay = 0;\r\n    }\r\n    interact(delta) {\r\n        if (!this.container.retina.reduceFactor) {\r\n            return;\r\n        }\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const trailOptions = options.interactivity.modes.trail;\r\n        const optDelay = (trailOptions.delay * 1000) / this.container.retina.reduceFactor;\r\n        if (this.delay < optDelay) {\r\n            this.delay += delta.value;\r\n        }\r\n        if (this.delay >= optDelay) {\r\n            container.particles.push(trailOptions.quantity, container.interactivity.mouse, trailOptions.particles);\r\n            this.delay -= optDelay;\r\n        }\r\n    }\r\n    isEnabled() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const mouse = container.interactivity.mouse;\r\n        const events = options.interactivity.events;\r\n        return ((mouse.clicking &&\r\n            mouse.inside &&\r\n            !!mouse.position &&\r\n            Utils_1.Utils.isInArray(Modes_1.ClickMode.trail, events.onClick.mode)) ||\r\n            (mouse.inside && !!mouse.position && Utils_1.Utils.isInArray(Modes_1.HoverMode.trail, events.onHover.mode)));\r\n    }\r\n    reset() {\r\n    }\r\n}\r\nexports.TrailMaker = TrailMaker;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Attractor = void 0;\r\nconst Enums_1 = require(\"../../Enums\");\r\nconst Utils_1 = require(\"../../Utils\");\r\nclass Attractor {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    isEnabled() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const mouse = container.interactivity.mouse;\r\n        const events = options.interactivity.events;\r\n        if (!((events.onHover.enable && mouse.position) || (events.onClick.enable && mouse.clickPosition))) {\r\n            return false;\r\n        }\r\n        const hoverMode = events.onHover.mode;\r\n        const clickMode = events.onClick.mode;\r\n        return Utils_1.Utils.isInArray(Enums_1.HoverMode.attract, hoverMode) || Utils_1.Utils.isInArray(Enums_1.ClickMode.attract, clickMode);\r\n    }\r\n    reset() {\r\n    }\r\n    interact() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const mouseMoveStatus = container.interactivity.status === Utils_1.Constants.mouseMoveEvent;\r\n        const events = options.interactivity.events;\r\n        const hoverEnabled = events.onHover.enable;\r\n        const hoverMode = events.onHover.mode;\r\n        const clickEnabled = events.onClick.enable;\r\n        const clickMode = events.onClick.mode;\r\n        if (mouseMoveStatus && hoverEnabled && Utils_1.Utils.isInArray(Enums_1.HoverMode.attract, hoverMode)) {\r\n            this.hoverAttract();\r\n        }\r\n        else if (clickEnabled && Utils_1.Utils.isInArray(Enums_1.ClickMode.attract, clickMode)) {\r\n            this.clickAttract();\r\n        }\r\n    }\r\n    hoverAttract() {\r\n        const container = this.container;\r\n        const mousePos = container.interactivity.mouse.position;\r\n        if (!mousePos) {\r\n            return;\r\n        }\r\n        const attractRadius = container.retina.attractModeDistance;\r\n        this.processAttract(mousePos, attractRadius, new Utils_1.Circle(mousePos.x, mousePos.y, attractRadius));\r\n    }\r\n    processAttract(position, attractRadius, area) {\r\n        const container = this.container;\r\n        const query = container.particles.quadTree.query(area);\r\n        for (const particle of query) {\r\n            const { dx, dy, distance } = Utils_1.NumberUtils.getDistances(particle.position, position);\r\n            const normVec = {\r\n                x: dx / distance,\r\n                y: dy / distance,\r\n            };\r\n            const velocity = container.actualOptions.interactivity.modes.attract.speed;\r\n            const attractFactor = Utils_1.NumberUtils.clamp((1 - Math.pow(distance / attractRadius, 2)) * velocity, 0, 50);\r\n            particle.position.x -= normVec.x * attractFactor;\r\n            particle.position.y -= normVec.y * attractFactor;\r\n        }\r\n    }\r\n    clickAttract() {\r\n        const container = this.container;\r\n        if (!container.attract.finish) {\r\n            if (!container.attract.count) {\r\n                container.attract.count = 0;\r\n            }\r\n            container.attract.count++;\r\n            if (container.attract.count === container.particles.count) {\r\n                container.attract.finish = true;\r\n            }\r\n        }\r\n        if (container.attract.clicking) {\r\n            const mousePos = container.interactivity.mouse.clickPosition;\r\n            if (!mousePos) {\r\n                return;\r\n            }\r\n            const attractRadius = container.retina.attractModeDistance;\r\n            this.processAttract(mousePos, attractRadius, new Utils_1.Circle(mousePos.x, mousePos.y, attractRadius));\r\n        }\r\n        else if (container.attract.clicking === false) {\r\n            container.attract.particles = [];\r\n        }\r\n        return;\r\n    }\r\n}\r\nexports.Attractor = Attractor;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Lighter = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Modes_1 = require(\"../../Enums/Modes\");\r\nclass Lighter {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    interact(particle) {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        if (options.interactivity.events.onHover.enable && container.interactivity.status === \"mousemove\") {\r\n            const mousePos = this.container.interactivity.mouse.position;\r\n            if (mousePos) {\r\n                container.canvas.drawParticleShadow(particle, mousePos);\r\n            }\r\n        }\r\n    }\r\n    isEnabled() {\r\n        const container = this.container;\r\n        const mouse = container.interactivity.mouse;\r\n        const events = container.actualOptions.interactivity.events;\r\n        if (!(events.onHover.enable && mouse.position)) {\r\n            return false;\r\n        }\r\n        const hoverMode = events.onHover.mode;\r\n        return Utils_1.Utils.isInArray(Modes_1.HoverMode.light, hoverMode);\r\n    }\r\n    reset() {\r\n    }\r\n}\r\nexports.Lighter = Lighter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Lighter = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Modes_1 = require(\"../../Enums/Modes\");\r\nclass Lighter {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    interact() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        if (options.interactivity.events.onHover.enable && container.interactivity.status === \"mousemove\") {\r\n            const mousePos = container.interactivity.mouse.position;\r\n            if (!mousePos) {\r\n                return;\r\n            }\r\n            container.canvas.drawLight(mousePos);\r\n        }\r\n    }\r\n    isEnabled() {\r\n        const container = this.container;\r\n        const mouse = container.interactivity.mouse;\r\n        const events = container.actualOptions.interactivity.events;\r\n        if (!(events.onHover.enable && mouse.position)) {\r\n            return false;\r\n        }\r\n        const hoverMode = events.onHover.mode;\r\n        return Utils_1.Utils.isInArray(Modes_1.HoverMode.light, hoverMode);\r\n    }\r\n    reset() {\r\n    }\r\n}\r\nexports.Lighter = Lighter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Bouncer = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Enums_1 = require(\"../../Enums\");\r\nconst Vector_1 = require(\"../../Core/Particle/Vector\");\r\nclass Bouncer {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    isEnabled() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const mouse = container.interactivity.mouse;\r\n        const events = options.interactivity.events;\r\n        const divs = events.onDiv;\r\n        return ((mouse.position && events.onHover.enable && Utils_1.Utils.isInArray(Enums_1.HoverMode.bounce, events.onHover.mode)) ||\r\n            Utils_1.Utils.isDivModeEnabled(Enums_1.DivMode.bounce, divs));\r\n    }\r\n    interact() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        const events = options.interactivity.events;\r\n        const mouseMoveStatus = container.interactivity.status === Utils_1.Constants.mouseMoveEvent;\r\n        const hoverEnabled = events.onHover.enable;\r\n        const hoverMode = events.onHover.mode;\r\n        const divs = events.onDiv;\r\n        if (mouseMoveStatus && hoverEnabled && Utils_1.Utils.isInArray(Enums_1.HoverMode.bounce, hoverMode)) {\r\n            this.processMouseBounce();\r\n        }\r\n        else {\r\n            Utils_1.Utils.divModeExecute(Enums_1.DivMode.bounce, divs, (selector, div) => this.singleSelectorBounce(selector, div));\r\n        }\r\n    }\r\n    reset() {\r\n    }\r\n    processMouseBounce() {\r\n        const container = this.container;\r\n        const pxRatio = container.retina.pixelRatio;\r\n        const tolerance = 10 * pxRatio;\r\n        const mousePos = container.interactivity.mouse.position;\r\n        const radius = container.retina.bounceModeDistance;\r\n        if (mousePos) {\r\n            this.processBounce(mousePos, radius, new Utils_1.Circle(mousePos.x, mousePos.y, radius + tolerance));\r\n        }\r\n    }\r\n    singleSelectorBounce(selector, div) {\r\n        const container = this.container;\r\n        const query = document.querySelectorAll(selector);\r\n        if (!query.length) {\r\n            return;\r\n        }\r\n        query.forEach((item) => {\r\n            const elem = item;\r\n            const pxRatio = container.retina.pixelRatio;\r\n            const pos = {\r\n                x: (elem.offsetLeft + elem.offsetWidth / 2) * pxRatio,\r\n                y: (elem.offsetTop + elem.offsetHeight / 2) * pxRatio,\r\n            };\r\n            const radius = (elem.offsetWidth / 2) * pxRatio;\r\n            const tolerance = 10 * pxRatio;\r\n            const area = div.type === Enums_1.DivType.circle\r\n                ? new Utils_1.Circle(pos.x, pos.y, radius + tolerance)\r\n                : new Utils_1.Rectangle(elem.offsetLeft * pxRatio - tolerance, elem.offsetTop * pxRatio - tolerance, elem.offsetWidth * pxRatio + tolerance * 2, elem.offsetHeight * pxRatio + tolerance * 2);\r\n            this.processBounce(pos, radius, area);\r\n        });\r\n    }\r\n    processBounce(position, radius, area) {\r\n        const query = this.container.particles.quadTree.query(area);\r\n        for (const particle of query) {\r\n            if (area instanceof Utils_1.Circle) {\r\n                Utils_1.Utils.circleBounce(Utils_1.Utils.circleBounceDataFromParticle(particle), {\r\n                    position,\r\n                    radius,\r\n                    mass: (Math.pow(radius, 2) * Math.PI) / 2,\r\n                    velocity: Vector_1.Vector.create(0, 0),\r\n                    factor: {\r\n                        horizontal: 0,\r\n                        vertical: 0,\r\n                    },\r\n                });\r\n            }\r\n            else if (area instanceof Utils_1.Rectangle) {\r\n                Utils_1.Utils.rectBounce(particle, Utils_1.Utils.calculateBounds(position, radius));\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Bouncer = Bouncer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Retina = void 0;\r\nconst Utils_1 = require(\"../Utils\");\r\nclass Retina {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    init() {\r\n        const container = this.container;\r\n        const options = container.actualOptions;\r\n        this.pixelRatio = !options.detectRetina || Utils_1.Utils.isSsr() ? 1 : window.devicePixelRatio;\r\n        const motionOptions = this.container.actualOptions.motion;\r\n        if (motionOptions && (motionOptions.disable || motionOptions.reduce.value)) {\r\n            if (Utils_1.Utils.isSsr() || typeof matchMedia === \"undefined\" || !matchMedia) {\r\n                this.reduceFactor = 1;\r\n            }\r\n            else {\r\n                const mediaQuery = matchMedia(\"(prefers-reduced-motion: reduce)\");\r\n                if (mediaQuery) {\r\n                    this.handleMotionChange(mediaQuery);\r\n                    const handleChange = () => {\r\n                        this.handleMotionChange(mediaQuery);\r\n                        container.refresh().catch(() => {\r\n                        });\r\n                    };\r\n                    if (mediaQuery.addEventListener !== undefined) {\r\n                        mediaQuery.addEventListener(\"change\", handleChange);\r\n                    }\r\n                    else if (mediaQuery.addListener !== undefined) {\r\n                        mediaQuery.addListener(handleChange);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.reduceFactor = 1;\r\n        }\r\n        const ratio = this.pixelRatio;\r\n        if (container.canvas.element) {\r\n            const element = container.canvas.element;\r\n            container.canvas.size.width = element.offsetWidth * ratio;\r\n            container.canvas.size.height = element.offsetHeight * ratio;\r\n        }\r\n        const particles = options.particles;\r\n        this.linksDistance = particles.links.distance * ratio;\r\n        this.linksWidth = particles.links.width * ratio;\r\n        this.sizeAnimationSpeed = particles.size.animation.speed * ratio;\r\n        const modes = options.interactivity.modes;\r\n        this.connectModeDistance = modes.connect.distance * ratio;\r\n        this.connectModeRadius = modes.connect.radius * ratio;\r\n        this.grabModeDistance = modes.grab.distance * ratio;\r\n        this.repulseModeDistance = modes.repulse.distance * ratio;\r\n        this.bounceModeDistance = modes.bounce.distance * ratio;\r\n        this.attractModeDistance = modes.attract.distance * ratio;\r\n        this.slowModeRadius = modes.slow.radius * ratio;\r\n        this.bubbleModeDistance = modes.bubble.distance * ratio;\r\n        if (modes.bubble.size) {\r\n            this.bubbleModeSize = modes.bubble.size * ratio;\r\n        }\r\n    }\r\n    initParticle(particle) {\r\n        const particlesOptions = particle.options;\r\n        const ratio = this.pixelRatio;\r\n        particle.linksDistance = particlesOptions.links.distance * ratio;\r\n        particle.linksWidth = particlesOptions.links.width * ratio;\r\n        particle.moveDrift = Utils_1.NumberUtils.getRangeValue(particlesOptions.move.drift) * ratio;\r\n        particle.moveSpeed = Utils_1.NumberUtils.getRangeValue(particlesOptions.move.speed) * ratio;\r\n        particle.sizeAnimationSpeed = particlesOptions.size.animation.speed * ratio;\r\n        particle.maxDistance = particlesOptions.move.distance * ratio;\r\n    }\r\n    handleMotionChange(mediaQuery) {\r\n        const options = this.container.actualOptions;\r\n        if (mediaQuery.matches) {\r\n            const motion = options.motion;\r\n            this.reduceFactor = motion.disable ? 0 : motion.reduce.value ? 1 / motion.reduce.factor : 1;\r\n        }\r\n        else {\r\n            this.reduceFactor = 1;\r\n        }\r\n    }\r\n}\r\nexports.Retina = Retina;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FrameManager = void 0;\r\nclass FrameManager {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    nextFrame(timestamp) {\r\n        try {\r\n            const container = this.container;\r\n            if (container.lastFrameTime !== undefined &&\r\n                timestamp < container.lastFrameTime + 1000 / container.fpsLimit) {\r\n                container.draw();\r\n                return;\r\n            }\r\n            const deltaValue = timestamp - container.lastFrameTime;\r\n            const delta = {\r\n                value: deltaValue,\r\n                factor: (60 * deltaValue) / 1000,\r\n            };\r\n            container.lastFrameTime = timestamp;\r\n            container.particles.draw(delta);\r\n            if (container.getAnimationStatus()) {\r\n                container.draw();\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.error(\"tsParticles error in animation loop\", e);\r\n        }\r\n    }\r\n}\r\nexports.FrameManager = FrameManager;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PolygonMaskInstance = void 0;\r\nconst Enums_1 = require(\"./Enums\");\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst PolygonMask_1 = require(\"./Options/Classes/PolygonMask\");\r\nfunction polygonBounce(particle) {\r\n    particle.velocity.x = particle.velocity.y / 2 - particle.velocity.x;\r\n    particle.velocity.y = particle.velocity.x / 2 - particle.velocity.y;\r\n}\r\nfunction drawPolygonMask(context, rawData, stroke) {\r\n    const color = Utils_1.ColorUtils.colorToRgb(stroke.color);\r\n    if (!color) {\r\n        return;\r\n    }\r\n    context.beginPath();\r\n    context.moveTo(rawData[0].x, rawData[0].y);\r\n    for (const item of rawData) {\r\n        context.lineTo(item.x, item.y);\r\n    }\r\n    context.closePath();\r\n    context.strokeStyle = Utils_1.ColorUtils.getStyleFromRgb(color);\r\n    context.lineWidth = stroke.width;\r\n    context.stroke();\r\n}\r\nfunction drawPolygonMaskPath(context, path, stroke, position) {\r\n    context.translate(position.x, position.y);\r\n    const color = Utils_1.ColorUtils.colorToRgb(stroke.color);\r\n    if (!color) {\r\n        return;\r\n    }\r\n    context.strokeStyle = Utils_1.ColorUtils.getStyleFromRgb(color, stroke.opacity);\r\n    context.lineWidth = stroke.width;\r\n    context.stroke(path);\r\n}\r\nfunction parsePaths(paths, scale, offset) {\r\n    const res = [];\r\n    for (const path of paths) {\r\n        const segments = path.element.pathSegList;\r\n        const len = segments.numberOfItems;\r\n        const p = {\r\n            x: 0,\r\n            y: 0,\r\n        };\r\n        for (let i = 0; i < len; i++) {\r\n            const segment = segments.getItem(i);\r\n            const svgPathSeg = window.SVGPathSeg;\r\n            switch (segment.pathSegType) {\r\n                case svgPathSeg.PATHSEG_MOVETO_ABS:\r\n                case svgPathSeg.PATHSEG_LINETO_ABS:\r\n                case svgPathSeg.PATHSEG_CURVETO_CUBIC_ABS:\r\n                case svgPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:\r\n                case svgPathSeg.PATHSEG_ARC_ABS:\r\n                case svgPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:\r\n                case svgPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS: {\r\n                    const absSeg = segment;\r\n                    p.x = absSeg.x;\r\n                    p.y = absSeg.y;\r\n                    break;\r\n                }\r\n                case svgPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:\r\n                    p.x = segment.x;\r\n                    break;\r\n                case svgPathSeg.PATHSEG_LINETO_VERTICAL_ABS:\r\n                    p.y = segment.y;\r\n                    break;\r\n                case svgPathSeg.PATHSEG_LINETO_REL:\r\n                case svgPathSeg.PATHSEG_MOVETO_REL:\r\n                case svgPathSeg.PATHSEG_CURVETO_CUBIC_REL:\r\n                case svgPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:\r\n                case svgPathSeg.PATHSEG_ARC_REL:\r\n                case svgPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:\r\n                case svgPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL: {\r\n                    const relSeg = segment;\r\n                    p.x += relSeg.x;\r\n                    p.y += relSeg.y;\r\n                    break;\r\n                }\r\n                case svgPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:\r\n                    p.x += segment.x;\r\n                    break;\r\n                case svgPathSeg.PATHSEG_LINETO_VERTICAL_REL:\r\n                    p.y += segment.y;\r\n                    break;\r\n                case svgPathSeg.PATHSEG_UNKNOWN:\r\n                case svgPathSeg.PATHSEG_CLOSEPATH:\r\n                    continue;\r\n            }\r\n            res.push({\r\n                x: p.x * scale + offset.x,\r\n                y: p.y * scale + offset.y,\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n}\r\nclass PolygonMaskInstance {\r\n    constructor(container) {\r\n        this.container = container;\r\n        this.dimension = {\r\n            height: 0,\r\n            width: 0,\r\n        };\r\n        this.path2DSupported = !!window.Path2D;\r\n        this.options = new PolygonMask_1.PolygonMask();\r\n        this.polygonMaskMoveRadius = this.options.move.radius * container.retina.pixelRatio;\r\n    }\r\n    initAsync(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.options.load(options === null || options === void 0 ? void 0 : options.polygon);\r\n            const polygonMaskOptions = this.options;\r\n            this.polygonMaskMoveRadius = polygonMaskOptions.move.radius * this.container.retina.pixelRatio;\r\n            if (polygonMaskOptions.enable) {\r\n                yield this.initRawData();\r\n            }\r\n        });\r\n    }\r\n    resize() {\r\n        const container = this.container;\r\n        const options = this.options;\r\n        if (!(options.enable && options.type !== Enums_1.Type.none)) {\r\n            return;\r\n        }\r\n        if (this.redrawTimeout) {\r\n            clearTimeout(this.redrawTimeout);\r\n        }\r\n        this.redrawTimeout = window.setTimeout(() => __awaiter(this, void 0, void 0, function* () {\r\n            yield this.initRawData(true);\r\n            container.particles.redraw();\r\n        }), 250);\r\n    }\r\n    stop() {\r\n        delete this.raw;\r\n        delete this.paths;\r\n    }\r\n    particlesInitialization() {\r\n        const options = this.options;\r\n        if (options.enable &&\r\n            options.type === Enums_1.Type.inline &&\r\n            (options.inline.arrangement === Enums_1.InlineArrangement.onePerPoint ||\r\n                options.inline.arrangement === Enums_1.InlineArrangement.perPoint)) {\r\n            this.drawPoints();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    particlePosition(position) {\r\n        var _a, _b;\r\n        const options = this.options;\r\n        if (!(options.enable && ((_b = (_a = this.raw) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) > 0)) {\r\n            return;\r\n        }\r\n        return Utils_1.Utils.deepExtend({}, position ? position : this.randomPoint());\r\n    }\r\n    particleBounce(particle) {\r\n        const options = this.options;\r\n        if (options.enable && options.type !== Enums_1.Type.none && options.type !== Enums_1.Type.inline) {\r\n            if (!this.checkInsidePolygon(particle.getPosition())) {\r\n                polygonBounce(particle);\r\n                return true;\r\n            }\r\n        }\r\n        else if (options.enable && options.type === Enums_1.Type.inline && particle.initialPosition) {\r\n            const dist = Utils_1.NumberUtils.getDistance(particle.initialPosition, particle.getPosition());\r\n            if (dist > this.polygonMaskMoveRadius) {\r\n                polygonBounce(particle);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    clickPositionValid(position) {\r\n        const options = this.options;\r\n        return (options.enable &&\r\n            options.type !== Enums_1.Type.none &&\r\n            options.type !== Enums_1.Type.inline &&\r\n            this.checkInsidePolygon(position));\r\n    }\r\n    draw(context) {\r\n        var _a;\r\n        if (!((_a = this.paths) === null || _a === void 0 ? void 0 : _a.length)) {\r\n            return;\r\n        }\r\n        const options = this.options;\r\n        const polygonDraw = options.draw;\r\n        if (!(options.enable && polygonDraw.enable)) {\r\n            return;\r\n        }\r\n        const rawData = this.raw;\r\n        for (const path of this.paths) {\r\n            const path2d = path.path2d;\r\n            const path2dSupported = this.path2DSupported;\r\n            if (!context) {\r\n                continue;\r\n            }\r\n            if (path2dSupported && path2d && this.offset) {\r\n                drawPolygonMaskPath(context, path2d, polygonDraw.stroke, this.offset);\r\n            }\r\n            else if (rawData) {\r\n                drawPolygonMask(context, rawData, polygonDraw.stroke);\r\n            }\r\n        }\r\n    }\r\n    checkInsidePolygon(position) {\r\n        var _a, _b;\r\n        const container = this.container;\r\n        const options = this.options;\r\n        if (!options.enable || options.type === Enums_1.Type.none || options.type === Enums_1.Type.inline) {\r\n            return true;\r\n        }\r\n        if (!this.raw) {\r\n            throw new Error(Utils_1.Constants.noPolygonFound);\r\n        }\r\n        const canvasSize = container.canvas.size;\r\n        const x = (_a = position === null || position === void 0 ? void 0 : position.x) !== null && _a !== void 0 ? _a : Math.random() * canvasSize.width;\r\n        const y = (_b = position === null || position === void 0 ? void 0 : position.y) !== null && _b !== void 0 ? _b : Math.random() * canvasSize.height;\r\n        let inside = false;\r\n        for (let i = 0, j = this.raw.length - 1; i < this.raw.length; j = i++) {\r\n            const pi = this.raw[i];\r\n            const pj = this.raw[j];\r\n            const intersect = pi.y > y !== pj.y > y && x < ((pj.x - pi.x) * (y - pi.y)) / (pj.y - pi.y) + pi.x;\r\n            if (intersect) {\r\n                inside = !inside;\r\n            }\r\n        }\r\n        return options.type === Enums_1.Type.inside ? inside : options.type === Enums_1.Type.outside ? !inside : false;\r\n    }\r\n    parseSvgPath(xml, force) {\r\n        var _a, _b, _c;\r\n        const forceDownload = force !== null && force !== void 0 ? force : false;\r\n        if (this.paths !== undefined && !forceDownload) {\r\n            return this.raw;\r\n        }\r\n        const container = this.container;\r\n        const options = this.options;\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(xml, \"image/svg+xml\");\r\n        const svg = doc.getElementsByTagName(\"svg\")[0];\r\n        let svgPaths = svg.getElementsByTagName(\"path\");\r\n        if (!svgPaths.length) {\r\n            svgPaths = doc.getElementsByTagName(\"path\");\r\n        }\r\n        this.paths = [];\r\n        for (let i = 0; i < svgPaths.length; i++) {\r\n            const path = svgPaths.item(i);\r\n            if (path) {\r\n                this.paths.push({\r\n                    element: path,\r\n                    length: path.getTotalLength(),\r\n                });\r\n            }\r\n        }\r\n        const pxRatio = container.retina.pixelRatio;\r\n        const scale = options.scale / pxRatio;\r\n        this.dimension.width = parseFloat((_a = svg.getAttribute(\"width\")) !== null && _a !== void 0 ? _a : \"0\") * scale;\r\n        this.dimension.height = parseFloat((_b = svg.getAttribute(\"height\")) !== null && _b !== void 0 ? _b : \"0\") * scale;\r\n        const position = (_c = options.position) !== null && _c !== void 0 ? _c : {\r\n            x: 50,\r\n            y: 50,\r\n        };\r\n        this.offset = {\r\n            x: (container.canvas.size.width * position.x) / (100 * pxRatio) - this.dimension.width / 2,\r\n            y: (container.canvas.size.height * position.y) / (100 * pxRatio) - this.dimension.height / 2,\r\n        };\r\n        return parsePaths(this.paths, scale, this.offset);\r\n    }\r\n    downloadSvgPath(svgUrl, force) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = this.options;\r\n            const url = svgUrl || options.url;\r\n            const forceDownload = force !== null && force !== void 0 ? force : false;\r\n            if (!url || (this.paths !== undefined && !forceDownload)) {\r\n                return this.raw;\r\n            }\r\n            const req = yield fetch(url);\r\n            if (!req.ok) {\r\n                throw new Error(\"tsParticles Error - Error occurred during polygon mask download\");\r\n            }\r\n            return this.parseSvgPath(yield req.text(), force);\r\n        });\r\n    }\r\n    drawPoints() {\r\n        if (!this.raw) {\r\n            return;\r\n        }\r\n        for (const item of this.raw) {\r\n            this.container.particles.addParticle({\r\n                x: item.x,\r\n                y: item.y,\r\n            });\r\n        }\r\n    }\r\n    randomPoint() {\r\n        const container = this.container;\r\n        const options = this.options;\r\n        let position;\r\n        if (options.type === Enums_1.Type.inline) {\r\n            switch (options.inline.arrangement) {\r\n                case Enums_1.InlineArrangement.randomPoint:\r\n                    position = this.getRandomPoint();\r\n                    break;\r\n                case Enums_1.InlineArrangement.randomLength:\r\n                    position = this.getRandomPointByLength();\r\n                    break;\r\n                case Enums_1.InlineArrangement.equidistant:\r\n                    position = this.getEquidistantPointByIndex(container.particles.count);\r\n                    break;\r\n                case Enums_1.InlineArrangement.onePerPoint:\r\n                case Enums_1.InlineArrangement.perPoint:\r\n                default:\r\n                    position = this.getPointByIndex(container.particles.count);\r\n            }\r\n        }\r\n        else {\r\n            position = {\r\n                x: Math.random() * container.canvas.size.width,\r\n                y: Math.random() * container.canvas.size.height,\r\n            };\r\n        }\r\n        if (this.checkInsidePolygon(position)) {\r\n            return position;\r\n        }\r\n        else {\r\n            return this.randomPoint();\r\n        }\r\n    }\r\n    getRandomPoint() {\r\n        if (!this.raw || !this.raw.length) {\r\n            throw new Error(Utils_1.Constants.noPolygonDataLoaded);\r\n        }\r\n        const coords = Utils_1.Utils.itemFromArray(this.raw);\r\n        return {\r\n            x: coords.x,\r\n            y: coords.y,\r\n        };\r\n    }\r\n    getRandomPointByLength() {\r\n        var _a, _b, _c;\r\n        const options = this.options;\r\n        if (!this.raw || !this.raw.length || !((_a = this.paths) === null || _a === void 0 ? void 0 : _a.length)) {\r\n            throw new Error(Utils_1.Constants.noPolygonDataLoaded);\r\n        }\r\n        const path = Utils_1.Utils.itemFromArray(this.paths);\r\n        const distance = Math.floor(Math.random() * path.length) + 1;\r\n        const point = path.element.getPointAtLength(distance);\r\n        return {\r\n            x: point.x * options.scale + (((_b = this.offset) === null || _b === void 0 ? void 0 : _b.x) || 0),\r\n            y: point.y * options.scale + (((_c = this.offset) === null || _c === void 0 ? void 0 : _c.y) || 0),\r\n        };\r\n    }\r\n    getEquidistantPointByIndex(index) {\r\n        var _a, _b, _c, _d, _e, _f, _g;\r\n        const options = this.container.actualOptions;\r\n        const polygonMaskOptions = this.options;\r\n        if (!this.raw || !this.raw.length || !((_a = this.paths) === null || _a === void 0 ? void 0 : _a.length))\r\n            throw new Error(Utils_1.Constants.noPolygonDataLoaded);\r\n        let offset = 0;\r\n        let point;\r\n        const totalLength = this.paths.reduce((tot, path) => tot + path.length, 0);\r\n        const distance = totalLength / options.particles.number.value;\r\n        for (const path of this.paths) {\r\n            const pathDistance = distance * index - offset;\r\n            if (pathDistance <= path.length) {\r\n                point = path.element.getPointAtLength(pathDistance);\r\n                break;\r\n            }\r\n            else {\r\n                offset += path.length;\r\n            }\r\n        }\r\n        return {\r\n            x: ((_b = point === null || point === void 0 ? void 0 : point.x) !== null && _b !== void 0 ? _b : 0) * polygonMaskOptions.scale + ((_d = (_c = this.offset) === null || _c === void 0 ? void 0 : _c.x) !== null && _d !== void 0 ? _d : 0),\r\n            y: ((_e = point === null || point === void 0 ? void 0 : point.y) !== null && _e !== void 0 ? _e : 0) * polygonMaskOptions.scale + ((_g = (_f = this.offset) === null || _f === void 0 ? void 0 : _f.y) !== null && _g !== void 0 ? _g : 0),\r\n        };\r\n    }\r\n    getPointByIndex(index) {\r\n        if (!this.raw || !this.raw.length) {\r\n            throw new Error(Utils_1.Constants.noPolygonDataLoaded);\r\n        }\r\n        const coords = this.raw[index % this.raw.length];\r\n        return {\r\n            x: coords.x,\r\n            y: coords.y,\r\n        };\r\n    }\r\n    createPath2D() {\r\n        var _a, _b;\r\n        const options = this.options;\r\n        if (!this.path2DSupported || !((_a = this.paths) === null || _a === void 0 ? void 0 : _a.length)) {\r\n            return;\r\n        }\r\n        for (const path of this.paths) {\r\n            const pathData = (_b = path.element) === null || _b === void 0 ? void 0 : _b.getAttribute(\"d\");\r\n            if (pathData) {\r\n                const path2d = new Path2D(pathData);\r\n                const matrix = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\").createSVGMatrix();\r\n                const finalPath = new Path2D();\r\n                const transform = matrix.scale(options.scale);\r\n                if (finalPath.addPath) {\r\n                    finalPath.addPath(path2d, transform);\r\n                    path.path2d = finalPath;\r\n                }\r\n                else {\r\n                    delete path.path2d;\r\n                }\r\n            }\r\n            else {\r\n                delete path.path2d;\r\n            }\r\n            if (path.path2d || !this.raw) {\r\n                continue;\r\n            }\r\n            path.path2d = new Path2D();\r\n            path.path2d.moveTo(this.raw[0].x, this.raw[0].y);\r\n            this.raw.forEach((pos, i) => {\r\n                var _a;\r\n                if (i > 0) {\r\n                    (_a = path.path2d) === null || _a === void 0 ? void 0 : _a.lineTo(pos.x, pos.y);\r\n                }\r\n            });\r\n            path.path2d.closePath();\r\n        }\r\n    }\r\n    initRawData(force) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = this.options;\r\n            if (options.url) {\r\n                this.raw = yield this.downloadSvgPath(options.url, force);\r\n            }\r\n            else if (options.data) {\r\n                const data = options.data;\r\n                let svg;\r\n                if (typeof data !== \"string\") {\r\n                    const path = data.path instanceof Array\r\n                        ? data.path.map((t) => `<path d=\"${t}\" />`).join(\"\")\r\n                        : `<path d=\"${data.path}\" />`;\r\n                    const namespaces = 'xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"';\r\n                    svg = `<svg ${namespaces} width=\"${data.size.width}\" height=\"${data.size.height}\">${path}</svg>`;\r\n                }\r\n                else {\r\n                    svg = data;\r\n                }\r\n                this.raw = this.parseSvgPath(svg, force);\r\n            }\r\n            this.createPath2D();\r\n        });\r\n    }\r\n}\r\nexports.PolygonMaskInstance = PolygonMaskInstance;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineArrangement = void 0;\r\nvar InlineArrangement;\r\n(function (InlineArrangement) {\r\n    InlineArrangement[\"equidistant\"] = \"equidistant\";\r\n    InlineArrangement[\"onePerPoint\"] = \"one-per-point\";\r\n    InlineArrangement[\"perPoint\"] = \"per-point\";\r\n    InlineArrangement[\"randomLength\"] = \"random-length\";\r\n    InlineArrangement[\"randomPoint\"] = \"random-point\";\r\n})(InlineArrangement = exports.InlineArrangement || (exports.InlineArrangement = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MoveType = void 0;\r\nvar MoveType;\r\n(function (MoveType) {\r\n    MoveType[\"path\"] = \"path\";\r\n    MoveType[\"radius\"] = \"radius\";\r\n})(MoveType = exports.MoveType || (exports.MoveType = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Type = void 0;\r\nvar Type;\r\n(function (Type) {\r\n    Type[\"inline\"] = \"inline\";\r\n    Type[\"inside\"] = \"inside\";\r\n    Type[\"outside\"] = \"outside\";\r\n    Type[\"none\"] = \"none\";\r\n})(Type = exports.Type || (exports.Type = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Draw = void 0;\r\nconst DrawStroke_1 = require(\"./DrawStroke\");\r\nconst OptionsColor_1 = require(\"../../../../Options/Classes/OptionsColor\");\r\nclass Draw {\r\n    constructor() {\r\n        this.enable = false;\r\n        this.stroke = new DrawStroke_1.DrawStroke();\r\n    }\r\n    get lineWidth() {\r\n        return this.stroke.width;\r\n    }\r\n    set lineWidth(value) {\r\n        this.stroke.width = value;\r\n    }\r\n    get lineColor() {\r\n        return this.stroke.color;\r\n    }\r\n    set lineColor(value) {\r\n        this.stroke.color = OptionsColor_1.OptionsColor.create(this.stroke.color, value);\r\n    }\r\n    load(data) {\r\n        var _a;\r\n        if (data !== undefined) {\r\n            if (data.enable !== undefined) {\r\n                this.enable = data.enable;\r\n            }\r\n            const stroke = (_a = data.stroke) !== null && _a !== void 0 ? _a : {\r\n                color: data.lineColor,\r\n                width: data.lineWidth,\r\n            };\r\n            this.stroke.load(stroke);\r\n        }\r\n    }\r\n}\r\nexports.Draw = Draw;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DrawStroke = void 0;\r\nconst OptionsColor_1 = require(\"../../../../Options/Classes/OptionsColor\");\r\nconst Utils_1 = require(\"../../../../Utils\");\r\nclass DrawStroke {\r\n    constructor() {\r\n        this.color = new OptionsColor_1.OptionsColor();\r\n        this.width = 0.5;\r\n        this.opacity = 1;\r\n    }\r\n    load(data) {\r\n        var _a;\r\n        if (data !== undefined) {\r\n            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);\r\n            if (typeof this.color.value === \"string\") {\r\n                this.opacity = (_a = Utils_1.ColorUtils.stringToAlpha(this.color.value)) !== null && _a !== void 0 ? _a : this.opacity;\r\n            }\r\n            if (data.opacity !== undefined) {\r\n                this.opacity = data.opacity;\r\n            }\r\n            if (data.width !== undefined) {\r\n                this.width = data.width;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.DrawStroke = DrawStroke;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Move = void 0;\r\nconst Enums_1 = require(\"../../Enums\");\r\nclass Move {\r\n    constructor() {\r\n        this.radius = 10;\r\n        this.type = Enums_1.MoveType.path;\r\n    }\r\n    load(data) {\r\n        if (data !== undefined) {\r\n            if (data.radius !== undefined) {\r\n                this.radius = data.radius;\r\n            }\r\n            if (data.type !== undefined) {\r\n                this.type = data.type;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Move = Move;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Inline = void 0;\r\nconst Enums_1 = require(\"../../Enums\");\r\nclass Inline {\r\n    constructor() {\r\n        this.arrangement = Enums_1.InlineArrangement.onePerPoint;\r\n    }\r\n    load(data) {\r\n        if (data !== undefined) {\r\n            if (data.arrangement !== undefined) {\r\n                this.arrangement = data.arrangement;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Inline = Inline;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LocalSvg = void 0;\r\nclass LocalSvg {\r\n    constructor() {\r\n        this.path = [];\r\n        this.size = {\r\n            height: 0,\r\n            width: 0,\r\n        };\r\n    }\r\n    load(data) {\r\n        if (data !== undefined) {\r\n            if (data.path !== undefined) {\r\n                this.path = data.path;\r\n            }\r\n            if (data.size !== undefined) {\r\n                if (data.size.width !== undefined) {\r\n                    this.size.width = data.size.width;\r\n                }\r\n                if (data.size.height !== undefined) {\r\n                    this.size.height = data.size.height;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.LocalSvg = LocalSvg;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.tsParticles = exports.pJSDom = exports.particlesJS = exports.Main = exports.Utils = exports.Constants = exports.ColorUtils = exports.CanvasUtils = void 0;\r\nconst pjs_1 = require(\"./pjs\");\r\nconst main_1 = require(\"./main\");\r\nObject.defineProperty(exports, \"Main\", { enumerable: true, get: function () { return main_1.Main; } });\r\nconst Utils_1 = require(\"./Utils\");\r\nObject.defineProperty(exports, \"CanvasUtils\", { enumerable: true, get: function () { return Utils_1.CanvasUtils; } });\r\nObject.defineProperty(exports, \"ColorUtils\", { enumerable: true, get: function () { return Utils_1.ColorUtils; } });\r\nObject.defineProperty(exports, \"Constants\", { enumerable: true, get: function () { return Utils_1.Constants; } });\r\nObject.defineProperty(exports, \"Utils\", { enumerable: true, get: function () { return Utils_1.Utils; } });\r\nconst tsParticles = new main_1.Main();\r\nexports.tsParticles = tsParticles;\r\ntsParticles.init();\r\nconst { particlesJS, pJSDom } = pjs_1.initPjs(tsParticles);\r\nexports.particlesJS = particlesJS;\r\nexports.pJSDom = pJSDom;\r\n__exportStar(require(\"./Core/Particle/Vector\"), exports);\r\n__exportStar(require(\"./Core/Container\"), exports);\r\n__exportStar(require(\"./Enums\"), exports);\r\n__exportStar(require(\"./Plugins/Absorbers/Enums\"), exports);\r\n__exportStar(require(\"./Plugins/Emitters/Enums\"), exports);\r\n__exportStar(require(\"./Plugins/PolygonMask/Enums\"), exports);\r\n__exportStar(require(\"./Types\"), exports);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initPjs = void 0;\r\nconst initPjs = (main) => {\r\n    const particlesJS = (tagId, options) => {\r\n        return main.load(tagId, options);\r\n    };\r\n    particlesJS.load = (tagId, pathConfigJson, callback) => {\r\n        main.loadJSON(tagId, pathConfigJson).then((container) => {\r\n            if (container) {\r\n                callback(container);\r\n            }\r\n        });\r\n    };\r\n    particlesJS.setOnClickHandler = (callback) => {\r\n        main.setOnClickHandler(callback);\r\n    };\r\n    const pJSDom = main.dom();\r\n    return { particlesJS, pJSDom };\r\n};\r\nexports.initPjs = initPjs;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Main = void 0;\r\nconst main_slim_1 = require(\"./main.slim\");\r\nconst AbsorbersPlugin_1 = require(\"./Plugins/Absorbers/AbsorbersPlugin\");\r\nconst EmittersPlugin_1 = require(\"./Plugins/Emitters/EmittersPlugin\");\r\nconst PolygonMaskPlugin_1 = require(\"./Plugins/PolygonMask/PolygonMaskPlugin\");\r\nclass Main extends main_slim_1.MainSlim {\r\n    constructor() {\r\n        super();\r\n        this.addPlugin(AbsorbersPlugin_1.AbsorbersPlugin);\r\n        this.addPlugin(EmittersPlugin_1.EmittersPlugin);\r\n        this.addPlugin(PolygonMaskPlugin_1.PolygonMaskPlugin);\r\n    }\r\n}\r\nexports.Main = Main;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n};\r\nvar _initialized;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MainSlim = void 0;\r\nconst SquareDrawer_1 = require(\"./ShapeDrawers/SquareDrawer\");\r\nconst TextDrawer_1 = require(\"./ShapeDrawers/TextDrawer\");\r\nconst ImageDrawer_1 = require(\"./ShapeDrawers/ImageDrawer\");\r\nconst Utils_1 = require(\"./Utils\");\r\nconst Types_1 = require(\"./Enums/Types\");\r\nconst LineDrawer_1 = require(\"./ShapeDrawers/LineDrawer\");\r\nconst CircleDrawer_1 = require(\"./ShapeDrawers/CircleDrawer\");\r\nconst TriangleDrawer_1 = require(\"./ShapeDrawers/TriangleDrawer\");\r\nconst StarDrawer_1 = require(\"./ShapeDrawers/StarDrawer\");\r\nconst PolygonDrawer_1 = require(\"./ShapeDrawers/PolygonDrawer\");\r\nconst Loader_1 = require(\"./Core/Loader\");\r\nclass MainSlim {\r\n    constructor() {\r\n        _initialized.set(this, void 0);\r\n        __classPrivateFieldSet(this, _initialized, false);\r\n        const squareDrawer = new SquareDrawer_1.SquareDrawer();\r\n        const textDrawer = new TextDrawer_1.TextDrawer();\r\n        const imageDrawer = new ImageDrawer_1.ImageDrawer();\r\n        Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.line, new LineDrawer_1.LineDrawer());\r\n        Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.circle, new CircleDrawer_1.CircleDrawer());\r\n        Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.edge, squareDrawer);\r\n        Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.square, squareDrawer);\r\n        Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.triangle, new TriangleDrawer_1.TriangleDrawer());\r\n        Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.star, new StarDrawer_1.StarDrawer());\r\n        Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.polygon, new PolygonDrawer_1.PolygonDrawer());\r\n        Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.char, textDrawer);\r\n        Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.character, textDrawer);\r\n        Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.image, imageDrawer);\r\n        Utils_1.Plugins.addShapeDrawer(Types_1.ShapeType.images, imageDrawer);\r\n    }\r\n    init() {\r\n        if (!__classPrivateFieldGet(this, _initialized)) {\r\n            __classPrivateFieldSet(this, _initialized, true);\r\n        }\r\n    }\r\n    loadFromArray(tagId, options, index) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return Loader_1.Loader.load(tagId, options, index);\r\n        });\r\n    }\r\n    load(tagId, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return Loader_1.Loader.load(tagId, options);\r\n        });\r\n    }\r\n    set(id, element, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return Loader_1.Loader.set(id, element, options);\r\n        });\r\n    }\r\n    loadJSON(tagId, pathConfigJson, index) {\r\n        return Loader_1.Loader.loadJSON(tagId, pathConfigJson, index);\r\n    }\r\n    setOnClickHandler(callback) {\r\n        Loader_1.Loader.setOnClickHandler(callback);\r\n    }\r\n    dom() {\r\n        return Loader_1.Loader.dom();\r\n    }\r\n    domItem(index) {\r\n        return Loader_1.Loader.domItem(index);\r\n    }\r\n    addShape(shape, drawer, init, afterEffect, destroy) {\r\n        let customDrawer;\r\n        if (typeof drawer === \"function\") {\r\n            customDrawer = {\r\n                afterEffect: afterEffect,\r\n                destroy: destroy,\r\n                draw: drawer,\r\n                init: init,\r\n            };\r\n        }\r\n        else {\r\n            customDrawer = drawer;\r\n        }\r\n        Utils_1.Plugins.addShapeDrawer(shape, customDrawer);\r\n    }\r\n    addPreset(preset, options) {\r\n        Utils_1.Plugins.addPreset(preset, options);\r\n    }\r\n    addPlugin(plugin) {\r\n        Utils_1.Plugins.addPlugin(plugin);\r\n    }\r\n    addPathGenerator(name, generator) {\r\n        Utils_1.Plugins.addPathGenerator(name, generator);\r\n    }\r\n}\r\nexports.MainSlim = MainSlim;\r\n_initialized = new WeakMap();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SquareDrawer = void 0;\r\nclass SquareDrawer {\r\n    getSidesCount() {\r\n        return 4;\r\n    }\r\n    draw(context, particle, radius) {\r\n        context.rect(-radius, -radius, radius * 2, radius * 2);\r\n    }\r\n}\r\nexports.SquareDrawer = SquareDrawer;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TextDrawer = void 0;\r\nconst Utils_1 = require(\"../Utils\");\r\nconst Enums_1 = require(\"../Enums\");\r\nclass TextDrawer {\r\n    getSidesCount() {\r\n        return 12;\r\n    }\r\n    init(container) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = container.actualOptions;\r\n            if (Utils_1.Utils.isInArray(Enums_1.ShapeType.char, options.particles.shape.type) ||\r\n                Utils_1.Utils.isInArray(Enums_1.ShapeType.character, options.particles.shape.type)) {\r\n                const shapeOptions = ((_a = options.particles.shape.options[Enums_1.ShapeType.character]) !== null && _a !== void 0 ? _a : options.particles.shape.options[Enums_1.ShapeType.char]);\r\n                if (shapeOptions instanceof Array) {\r\n                    for (const character of shapeOptions) {\r\n                        yield Utils_1.Utils.loadFont(character);\r\n                    }\r\n                }\r\n                else {\r\n                    if (shapeOptions !== undefined) {\r\n                        yield Utils_1.Utils.loadFont(shapeOptions);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    draw(context, particle, radius) {\r\n        const character = particle.shapeData;\r\n        if (character === undefined) {\r\n            return;\r\n        }\r\n        const textData = character.value;\r\n        if (textData === undefined) {\r\n            return;\r\n        }\r\n        const textParticle = particle;\r\n        if (textParticle.text === undefined) {\r\n            textParticle.text =\r\n                textData instanceof Array ? Utils_1.Utils.itemFromArray(textData, particle.randomIndexData) : textData;\r\n        }\r\n        const text = textParticle.text;\r\n        const style = character.style;\r\n        const weight = character.weight;\r\n        const size = Math.round(radius) * 2;\r\n        const font = character.font;\r\n        const fill = particle.fill;\r\n        const offsetX = (text.length * radius) / 2;\r\n        context.font = `${style} ${weight} ${size}px \"${font}\"`;\r\n        const pos = {\r\n            x: -offsetX,\r\n            y: radius / 2,\r\n        };\r\n        if (fill) {\r\n            context.fillText(text, pos.x, pos.y);\r\n        }\r\n        else {\r\n            context.strokeText(text, pos.x, pos.y);\r\n        }\r\n    }\r\n}\r\nexports.TextDrawer = TextDrawer;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ImageDrawer = void 0;\r\nconst Utils_1 = require(\"../Utils\");\r\nconst Enums_1 = require(\"../Enums\");\r\nclass ImageDrawer {\r\n    constructor() {\r\n        this.images = [];\r\n    }\r\n    getSidesCount() {\r\n        return 12;\r\n    }\r\n    getImages(container) {\r\n        const containerImages = this.images.filter((t) => t.id === container.id);\r\n        if (!containerImages.length) {\r\n            this.images.push({\r\n                id: container.id,\r\n                images: [],\r\n            });\r\n            return this.getImages(container);\r\n        }\r\n        return containerImages[0];\r\n    }\r\n    addImage(container, image) {\r\n        const containerImages = this.getImages(container);\r\n        containerImages === null || containerImages === void 0 ? void 0 : containerImages.images.push(image);\r\n    }\r\n    init(container) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = container.actualOptions;\r\n            const shapeOptions = options.particles.shape;\r\n            if (!Utils_1.Utils.isInArray(Enums_1.ShapeType.image, shapeOptions.type) &&\r\n                !Utils_1.Utils.isInArray(Enums_1.ShapeType.images, shapeOptions.type)) {\r\n                return;\r\n            }\r\n            const imageOptions = (_a = shapeOptions.options[Enums_1.ShapeType.images]) !== null && _a !== void 0 ? _a : shapeOptions.options[Enums_1.ShapeType.image];\r\n            if (imageOptions instanceof Array) {\r\n                for (const optionsImage of imageOptions) {\r\n                    yield this.loadImageShape(container, optionsImage);\r\n                }\r\n            }\r\n            else {\r\n                yield this.loadImageShape(container, imageOptions);\r\n            }\r\n        });\r\n    }\r\n    destroy() {\r\n        this.images = [];\r\n    }\r\n    loadImageShape(container, imageShape) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const image = imageShape.replaceColor\r\n                    ? yield Utils_1.Utils.downloadSvgImage(imageShape.src)\r\n                    : yield Utils_1.Utils.loadImage(imageShape.src);\r\n                if (image) {\r\n                    this.addImage(container, image);\r\n                }\r\n            }\r\n            catch (_a) {\r\n                console.warn(`tsParticles error - ${imageShape.src} not found`);\r\n            }\r\n        });\r\n    }\r\n    draw(context, particle, radius, opacity) {\r\n        var _a, _b;\r\n        if (!context) {\r\n            return;\r\n        }\r\n        const image = particle.image;\r\n        const element = (_a = image === null || image === void 0 ? void 0 : image.data) === null || _a === void 0 ? void 0 : _a.element;\r\n        if (!element) {\r\n            return;\r\n        }\r\n        const ratio = (_b = image === null || image === void 0 ? void 0 : image.ratio) !== null && _b !== void 0 ? _b : 1;\r\n        const pos = {\r\n            x: -radius,\r\n            y: -radius,\r\n        };\r\n        if (!(image === null || image === void 0 ? void 0 : image.data.svgData) || !(image === null || image === void 0 ? void 0 : image.replaceColor)) {\r\n            context.globalAlpha = opacity;\r\n        }\r\n        context.drawImage(element, pos.x, pos.y, radius * 2, (radius * 2) / ratio);\r\n        if (!(image === null || image === void 0 ? void 0 : image.data.svgData) || !(image === null || image === void 0 ? void 0 : image.replaceColor)) {\r\n            context.globalAlpha = 1;\r\n        }\r\n    }\r\n}\r\nexports.ImageDrawer = ImageDrawer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LineDrawer = void 0;\r\nclass LineDrawer {\r\n    getSidesCount() {\r\n        return 1;\r\n    }\r\n    draw(context, particle, radius) {\r\n        context.moveTo(0, -radius / 2);\r\n        context.lineTo(0, radius / 2);\r\n    }\r\n}\r\nexports.LineDrawer = LineDrawer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CircleDrawer = void 0;\r\nclass CircleDrawer {\r\n    getSidesCount() {\r\n        return 12;\r\n    }\r\n    draw(context, particle, radius) {\r\n        context.arc(0, 0, radius, 0, Math.PI * 2, false);\r\n    }\r\n}\r\nexports.CircleDrawer = CircleDrawer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TriangleDrawer = void 0;\r\nconst PolygonDrawerBase_1 = require(\"./PolygonDrawerBase\");\r\nclass TriangleDrawer extends PolygonDrawerBase_1.PolygonDrawerBase {\r\n    getSidesCount() {\r\n        return 3;\r\n    }\r\n    getSidesData(particle, radius) {\r\n        return {\r\n            count: {\r\n                denominator: 2,\r\n                numerator: 3,\r\n            },\r\n            length: radius * 2,\r\n        };\r\n    }\r\n    getCenter(particle, radius) {\r\n        return {\r\n            x: -radius,\r\n            y: radius / 1.66,\r\n        };\r\n    }\r\n}\r\nexports.TriangleDrawer = TriangleDrawer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StarDrawer = void 0;\r\nclass StarDrawer {\r\n    getSidesCount(particle) {\r\n        var _a, _b;\r\n        const star = particle.shapeData;\r\n        return (_b = (_a = star === null || star === void 0 ? void 0 : star.sides) !== null && _a !== void 0 ? _a : star === null || star === void 0 ? void 0 : star.nb_sides) !== null && _b !== void 0 ? _b : 5;\r\n    }\r\n    draw(context, particle, radius) {\r\n        var _a;\r\n        const star = particle.shapeData;\r\n        const sides = this.getSidesCount(particle);\r\n        const inset = (_a = star === null || star === void 0 ? void 0 : star.inset) !== null && _a !== void 0 ? _a : 2;\r\n        context.moveTo(0, 0 - radius);\r\n        for (let i = 0; i < sides; i++) {\r\n            context.rotate(Math.PI / sides);\r\n            context.lineTo(0, 0 - radius * inset);\r\n            context.rotate(Math.PI / sides);\r\n            context.lineTo(0, 0 - radius);\r\n        }\r\n    }\r\n}\r\nexports.StarDrawer = StarDrawer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PolygonDrawer = void 0;\r\nconst PolygonDrawerBase_1 = require(\"./PolygonDrawerBase\");\r\nclass PolygonDrawer extends PolygonDrawerBase_1.PolygonDrawerBase {\r\n    getSidesData(particle, radius) {\r\n        var _a, _b;\r\n        const polygon = particle.shapeData;\r\n        const sides = (_b = (_a = polygon === null || polygon === void 0 ? void 0 : polygon.sides) !== null && _a !== void 0 ? _a : polygon === null || polygon === void 0 ? void 0 : polygon.nb_sides) !== null && _b !== void 0 ? _b : 5;\r\n        return {\r\n            count: {\r\n                denominator: 1,\r\n                numerator: sides,\r\n            },\r\n            length: (radius * 2.66) / (sides / 3),\r\n        };\r\n    }\r\n    getCenter(particle, radius) {\r\n        const sides = this.getSidesCount(particle);\r\n        return {\r\n            x: -radius / (sides / 3.5),\r\n            y: -radius / (2.66 / 3.5),\r\n        };\r\n    }\r\n}\r\nexports.PolygonDrawer = PolygonDrawer;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Loader = void 0;\r\nconst Container_1 = require(\"./Container\");\r\nconst Utils_1 = require(\"../Utils\");\r\nconst tsParticlesDom = [];\r\nfunction fetchError(statusCode) {\r\n    console.error(`Error tsParticles - fetch status: ${statusCode}`);\r\n    console.error(\"Error tsParticles - File config not found\");\r\n}\r\nclass Loader {\r\n    static dom() {\r\n        return tsParticlesDom;\r\n    }\r\n    static domItem(index) {\r\n        const dom = Loader.dom();\r\n        const item = dom[index];\r\n        if (item && !item.destroyed) {\r\n            return item;\r\n        }\r\n        dom.splice(index, 1);\r\n    }\r\n    static load(tagId, options, index) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const domContainer = document.getElementById(tagId);\r\n            if (!domContainer) {\r\n                return;\r\n            }\r\n            return Loader.set(tagId, domContainer, options, index);\r\n        });\r\n    }\r\n    static set(id, domContainer, options, index) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const currentOptions = options instanceof Array ? Utils_1.Utils.itemFromArray(options, index) : options;\r\n            const dom = Loader.dom();\r\n            const oldIndex = dom.findIndex((v) => v.id === id);\r\n            if (oldIndex >= 0) {\r\n                const old = Loader.domItem(oldIndex);\r\n                if (old && !old.destroyed) {\r\n                    old.destroy();\r\n                    dom.splice(oldIndex, 1);\r\n                }\r\n            }\r\n            let canvasEl;\r\n            let generatedCanvas;\r\n            if (domContainer.tagName.toLowerCase() === \"canvas\") {\r\n                canvasEl = domContainer;\r\n                generatedCanvas = false;\r\n            }\r\n            else {\r\n                const existingCanvases = domContainer.getElementsByTagName(\"canvas\");\r\n                if (existingCanvases.length) {\r\n                    canvasEl = existingCanvases[0];\r\n                    if (!canvasEl.className) {\r\n                        canvasEl.className = Utils_1.Constants.canvasClass;\r\n                    }\r\n                    generatedCanvas = false;\r\n                }\r\n                else {\r\n                    generatedCanvas = true;\r\n                    canvasEl = document.createElement(\"canvas\");\r\n                    canvasEl.className = Utils_1.Constants.canvasClass;\r\n                    canvasEl.style.width = \"100%\";\r\n                    canvasEl.style.height = \"100%\";\r\n                    domContainer.appendChild(canvasEl);\r\n                }\r\n            }\r\n            const newItem = new Container_1.Container(id, currentOptions);\r\n            if (oldIndex >= 0) {\r\n                dom.splice(oldIndex, 0, newItem);\r\n            }\r\n            else {\r\n                dom.push(newItem);\r\n            }\r\n            newItem.canvas.loadCanvas(canvasEl, generatedCanvas);\r\n            yield newItem.start();\r\n            return newItem;\r\n        });\r\n    }\r\n    static loadJSON(tagId, jsonUrl, index) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const url = jsonUrl instanceof Array ? Utils_1.Utils.itemFromArray(jsonUrl, index) : jsonUrl;\r\n            const response = yield fetch(url);\r\n            if (response.ok) {\r\n                return Loader.load(tagId, yield response.json());\r\n            }\r\n            else {\r\n                fetchError(response.status);\r\n            }\r\n        });\r\n    }\r\n    static setJSON(id, domContainer, jsonUrl) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const response = yield fetch(jsonUrl);\r\n            if (response.ok) {\r\n                const options = yield response.json();\r\n                return Loader.set(id, domContainer, options);\r\n            }\r\n            else {\r\n                fetchError(response.status);\r\n            }\r\n        });\r\n    }\r\n    static setOnClickHandler(callback) {\r\n        const dom = Loader.dom();\r\n        if (dom.length === 0) {\r\n            throw new Error(\"Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()\");\r\n        }\r\n        for (const domItem of dom) {\r\n            const el = domItem.interactivity.element;\r\n            if (!el) {\r\n                continue;\r\n            }\r\n            const clickOrTouchHandler = (e, pos) => {\r\n                if (domItem.destroyed) {\r\n                    return;\r\n                }\r\n                const pxRatio = domItem.retina.pixelRatio;\r\n                const posRetina = {\r\n                    x: pos.x * pxRatio,\r\n                    y: pos.y * pxRatio,\r\n                };\r\n                const particles = domItem.particles.quadTree.queryCircle(posRetina, domItem.retina.sizeValue);\r\n                callback(e, particles);\r\n            };\r\n            const clickHandler = (e) => {\r\n                if (domItem.destroyed) {\r\n                    return;\r\n                }\r\n                const mouseEvent = e;\r\n                const pos = {\r\n                    x: mouseEvent.offsetX || mouseEvent.clientX,\r\n                    y: mouseEvent.offsetY || mouseEvent.clientY,\r\n                };\r\n                clickOrTouchHandler(e, pos);\r\n            };\r\n            const touchStartHandler = () => {\r\n                if (domItem.destroyed) {\r\n                    return;\r\n                }\r\n                touched = true;\r\n                touchMoved = false;\r\n            };\r\n            const touchMoveHandler = () => {\r\n                if (domItem.destroyed) {\r\n                    return;\r\n                }\r\n                touchMoved = true;\r\n            };\r\n            const touchEndHandler = (e) => {\r\n                var _a, _b, _c;\r\n                if (domItem.destroyed) {\r\n                    return;\r\n                }\r\n                if (touched && !touchMoved) {\r\n                    const touchEvent = e;\r\n                    const lastTouch = touchEvent.touches[touchEvent.touches.length - 1];\r\n                    const canvasRect = (_a = domItem.canvas.element) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\r\n                    const pos = {\r\n                        x: lastTouch.clientX - ((_b = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.left) !== null && _b !== void 0 ? _b : 0),\r\n                        y: lastTouch.clientY - ((_c = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.top) !== null && _c !== void 0 ? _c : 0),\r\n                    };\r\n                    clickOrTouchHandler(e, pos);\r\n                }\r\n                touched = false;\r\n                touchMoved = false;\r\n            };\r\n            const touchCancelHandler = () => {\r\n                if (domItem.destroyed) {\r\n                    return;\r\n                }\r\n                touched = false;\r\n                touchMoved = false;\r\n            };\r\n            let touched = false;\r\n            let touchMoved = false;\r\n            el.addEventListener(\"click\", clickHandler);\r\n            el.addEventListener(\"touchstart\", touchStartHandler);\r\n            el.addEventListener(\"touchmove\", touchMoveHandler);\r\n            el.addEventListener(\"touchend\", touchEndHandler);\r\n            el.addEventListener(\"touchcancel\", touchCancelHandler);\r\n        }\r\n    }\r\n}\r\nexports.Loader = Loader;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AbsorbersPlugin = void 0;\r\nconst Absorbers_1 = require(\"./Absorbers\");\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Enums_1 = require(\"./Enums\");\r\nconst Absorber_1 = require(\"./Options/Classes/Absorber\");\r\nclass AbsorbersPlugin {\r\n    constructor() {\r\n        this.id = \"absorbers\";\r\n    }\r\n    getPlugin(container) {\r\n        return new Absorbers_1.Absorbers(container);\r\n    }\r\n    needsPlugin(options) {\r\n        var _a, _b, _c;\r\n        if (options === undefined) {\r\n            return false;\r\n        }\r\n        const absorbers = options.absorbers;\r\n        let loadAbsorbers = false;\r\n        if (absorbers instanceof Array) {\r\n            if (absorbers.length) {\r\n                loadAbsorbers = true;\r\n            }\r\n        }\r\n        else if (absorbers !== undefined) {\r\n            loadAbsorbers = true;\r\n        }\r\n        else if (((_c = (_b = (_a = options.interactivity) === null || _a === void 0 ? void 0 : _a.events) === null || _b === void 0 ? void 0 : _b.onClick) === null || _c === void 0 ? void 0 : _c.mode) &&\r\n            Utils_1.Utils.isInArray(Enums_1.AbsorberClickMode.absorber, options.interactivity.events.onClick.mode)) {\r\n            loadAbsorbers = true;\r\n        }\r\n        return loadAbsorbers;\r\n    }\r\n    loadOptions(options, source) {\r\n        var _a, _b;\r\n        if (!this.needsPlugin(options) && !this.needsPlugin(source)) {\r\n            return;\r\n        }\r\n        const optionsCast = options;\r\n        if (source === null || source === void 0 ? void 0 : source.absorbers) {\r\n            if ((source === null || source === void 0 ? void 0 : source.absorbers) instanceof Array) {\r\n                optionsCast.absorbers = source === null || source === void 0 ? void 0 : source.absorbers.map((s) => {\r\n                    const tmp = new Absorber_1.Absorber();\r\n                    tmp.load(s);\r\n                    return tmp;\r\n                });\r\n            }\r\n            else {\r\n                let absorberOptions = optionsCast.absorbers;\r\n                if ((absorberOptions === null || absorberOptions === void 0 ? void 0 : absorberOptions.load) === undefined) {\r\n                    optionsCast.absorbers = absorberOptions = new Absorber_1.Absorber();\r\n                }\r\n                absorberOptions.load(source === null || source === void 0 ? void 0 : source.absorbers);\r\n            }\r\n        }\r\n        const interactivityAbsorbers = (_b = (_a = source === null || source === void 0 ? void 0 : source.interactivity) === null || _a === void 0 ? void 0 : _a.modes) === null || _b === void 0 ? void 0 : _b.absorbers;\r\n        if (interactivityAbsorbers) {\r\n            if (interactivityAbsorbers instanceof Array) {\r\n                optionsCast.interactivity.modes.absorbers = interactivityAbsorbers.map((s) => {\r\n                    const tmp = new Absorber_1.Absorber();\r\n                    tmp.load(s);\r\n                    return tmp;\r\n                });\r\n            }\r\n            else {\r\n                let absorberOptions = optionsCast.interactivity.modes.absorbers;\r\n                if ((absorberOptions === null || absorberOptions === void 0 ? void 0 : absorberOptions.load) === undefined) {\r\n                    optionsCast.interactivity.modes.absorbers = absorberOptions = new Absorber_1.Absorber();\r\n                }\r\n                absorberOptions.load(interactivityAbsorbers);\r\n            }\r\n        }\r\n    }\r\n}\r\nconst plugin = new AbsorbersPlugin();\r\nexports.AbsorbersPlugin = plugin;\r\n__exportStar(require(\"./Enums\"), exports);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Absorbers = void 0;\r\nconst AbsorberInstance_1 = require(\"./AbsorberInstance\");\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Absorber_1 = require(\"./Options/Classes/Absorber\");\r\nconst Enums_1 = require(\"./Enums\");\r\nclass Absorbers {\r\n    constructor(container) {\r\n        this.container = container;\r\n        this.array = [];\r\n        this.absorbers = [];\r\n        this.interactivityAbsorbers = [];\r\n        const overridableContainer = container;\r\n        overridableContainer.addAbsorber = (options, position) => this.addAbsorber(options, position);\r\n    }\r\n    init(options) {\r\n        var _a, _b;\r\n        if (!options) {\r\n            return;\r\n        }\r\n        if (options.absorbers) {\r\n            if (options.absorbers instanceof Array) {\r\n                this.absorbers = options.absorbers.map((s) => {\r\n                    const tmp = new Absorber_1.Absorber();\r\n                    tmp.load(s);\r\n                    return tmp;\r\n                });\r\n            }\r\n            else {\r\n                if (this.absorbers instanceof Array) {\r\n                    this.absorbers = new Absorber_1.Absorber();\r\n                }\r\n                this.absorbers.load(options.absorbers);\r\n            }\r\n        }\r\n        const interactivityAbsorbers = (_b = (_a = options.interactivity) === null || _a === void 0 ? void 0 : _a.modes) === null || _b === void 0 ? void 0 : _b.absorbers;\r\n        if (interactivityAbsorbers) {\r\n            if (interactivityAbsorbers instanceof Array) {\r\n                this.interactivityAbsorbers = interactivityAbsorbers.map((s) => {\r\n                    const tmp = new Absorber_1.Absorber();\r\n                    tmp.load(s);\r\n                    return tmp;\r\n                });\r\n            }\r\n            else {\r\n                if (this.interactivityAbsorbers instanceof Array) {\r\n                    this.interactivityAbsorbers = new Absorber_1.Absorber();\r\n                }\r\n                this.interactivityAbsorbers.load(interactivityAbsorbers);\r\n            }\r\n        }\r\n        if (this.absorbers instanceof Array) {\r\n            for (const absorberOptions of this.absorbers) {\r\n                this.addAbsorber(absorberOptions);\r\n            }\r\n        }\r\n        else {\r\n            this.addAbsorber(this.absorbers);\r\n        }\r\n    }\r\n    particleUpdate(particle) {\r\n        for (const absorber of this.array) {\r\n            absorber.attract(particle);\r\n            if (particle.destroyed) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    draw(context) {\r\n        for (const absorber of this.array) {\r\n            context.save();\r\n            absorber.draw(context);\r\n            context.restore();\r\n        }\r\n    }\r\n    stop() {\r\n        this.array = [];\r\n    }\r\n    resize() {\r\n        for (const absorber of this.array) {\r\n            absorber.resize();\r\n        }\r\n    }\r\n    handleClickMode(mode) {\r\n        const container = this.container;\r\n        const absorberOptions = this.absorbers;\r\n        const modeAbsorbers = this.interactivityAbsorbers;\r\n        if (mode === Enums_1.AbsorberClickMode.absorber) {\r\n            let absorbersModeOptions;\r\n            if (modeAbsorbers instanceof Array) {\r\n                if (modeAbsorbers.length > 0) {\r\n                    absorbersModeOptions = Utils_1.Utils.itemFromArray(modeAbsorbers);\r\n                }\r\n            }\r\n            else {\r\n                absorbersModeOptions = modeAbsorbers;\r\n            }\r\n            const absorbersOptions = absorbersModeOptions !== null && absorbersModeOptions !== void 0 ? absorbersModeOptions : (absorberOptions instanceof Array ? Utils_1.Utils.itemFromArray(absorberOptions) : absorberOptions);\r\n            const aPosition = container.interactivity.mouse.clickPosition;\r\n            this.addAbsorber(absorbersOptions, aPosition);\r\n        }\r\n    }\r\n    addAbsorber(options, position) {\r\n        const absorber = new AbsorberInstance_1.AbsorberInstance(this, this.container, options, position);\r\n        this.array.push(absorber);\r\n        return absorber;\r\n    }\r\n    removeAbsorber(absorber) {\r\n        const index = this.array.indexOf(absorber);\r\n        if (index >= 0) {\r\n            this.array.splice(index, 1);\r\n        }\r\n    }\r\n}\r\nexports.Absorbers = Absorbers;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AbsorberInstance = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Vector_1 = require(\"../../Core/Particle/Vector\");\r\nclass AbsorberInstance {\r\n    constructor(absorbers, container, options, position) {\r\n        var _a, _b, _c;\r\n        this.absorbers = absorbers;\r\n        this.container = container;\r\n        this.initialPosition = position ? Vector_1.Vector.create(position.x, position.y) : undefined;\r\n        this.options = options;\r\n        this.dragging = false;\r\n        this.name = this.options.name;\r\n        this.opacity = this.options.opacity;\r\n        this.size = Utils_1.NumberUtils.getValue(options.size) * container.retina.pixelRatio;\r\n        this.mass = this.size * options.size.density * container.retina.reduceFactor;\r\n        const limit = options.size.limit;\r\n        this.limit = limit !== undefined ? limit * container.retina.pixelRatio * container.retina.reduceFactor : limit;\r\n        const color = typeof options.color === \"string\" ? { value: options.color } : options.color;\r\n        this.color = (_a = Utils_1.ColorUtils.colorToRgb(color)) !== null && _a !== void 0 ? _a : {\r\n            b: 0,\r\n            g: 0,\r\n            r: 0,\r\n        };\r\n        this.position = (_c = (_b = this.initialPosition) === null || _b === void 0 ? void 0 : _b.copy()) !== null && _c !== void 0 ? _c : this.calcPosition();\r\n    }\r\n    attract(particle) {\r\n        const options = this.options;\r\n        if (options.draggable) {\r\n            const mouse = this.container.interactivity.mouse;\r\n            if (mouse.clicking && mouse.downPosition) {\r\n                const mouseDist = Utils_1.NumberUtils.getDistance(this.position, mouse.downPosition);\r\n                if (mouseDist <= this.size) {\r\n                    this.dragging = true;\r\n                }\r\n            }\r\n            else {\r\n                this.dragging = false;\r\n            }\r\n            if (this.dragging && mouse.position) {\r\n                this.position.x = mouse.position.x;\r\n                this.position.y = mouse.position.y;\r\n            }\r\n        }\r\n        const pos = particle.getPosition();\r\n        const { dx, dy, distance } = Utils_1.NumberUtils.getDistances(this.position, pos);\r\n        const v = Vector_1.Vector.create(dx, dy);\r\n        v.length = (this.mass / Math.pow(distance, 2)) * this.container.retina.reduceFactor;\r\n        if (distance < this.size + particle.getRadius()) {\r\n            const sizeFactor = particle.getRadius() * 0.033 * this.container.retina.pixelRatio;\r\n            if (this.size > particle.getRadius() && distance < this.size - particle.getRadius()) {\r\n                if (options.destroy) {\r\n                    particle.destroy();\r\n                }\r\n                else {\r\n                    particle.needsNewPosition = true;\r\n                    this.updateParticlePosition(particle, v);\r\n                }\r\n            }\r\n            else {\r\n                if (options.destroy) {\r\n                    particle.size.value -= sizeFactor;\r\n                }\r\n                this.updateParticlePosition(particle, v);\r\n            }\r\n            if (this.limit === undefined || this.size < this.limit) {\r\n                this.size += sizeFactor;\r\n            }\r\n            this.mass += sizeFactor * this.options.size.density * this.container.retina.reduceFactor;\r\n        }\r\n        else {\r\n            this.updateParticlePosition(particle, v);\r\n        }\r\n    }\r\n    resize() {\r\n        const initialPosition = this.initialPosition;\r\n        this.position =\r\n            initialPosition && Utils_1.Utils.isPointInside(initialPosition, this.container.canvas.size)\r\n                ? initialPosition\r\n                : this.calcPosition();\r\n    }\r\n    draw(context) {\r\n        context.translate(this.position.x, this.position.y);\r\n        context.beginPath();\r\n        context.arc(0, 0, this.size, 0, Math.PI * 2, false);\r\n        context.closePath();\r\n        context.fillStyle = Utils_1.ColorUtils.getStyleFromRgb(this.color, this.opacity);\r\n        context.fill();\r\n    }\r\n    calcPosition() {\r\n        var _a, _b;\r\n        const container = this.container;\r\n        const percentPosition = this.options.position;\r\n        return Vector_1.Vector.create((((_a = percentPosition === null || percentPosition === void 0 ? void 0 : percentPosition.x) !== null && _a !== void 0 ? _a : Math.random() * 100) / 100) * container.canvas.size.width, (((_b = percentPosition === null || percentPosition === void 0 ? void 0 : percentPosition.y) !== null && _b !== void 0 ? _b : Math.random() * 100) / 100) * container.canvas.size.height);\r\n    }\r\n    updateParticlePosition(particle, v) {\r\n        var _a;\r\n        if (particle.destroyed) {\r\n            return;\r\n        }\r\n        const canvasSize = this.container.canvas.size;\r\n        if (particle.needsNewPosition) {\r\n            const pSize = particle.getRadius();\r\n            particle.position.x = Math.random() * (canvasSize.width - pSize * 2) + pSize;\r\n            particle.position.y = Math.random() * (canvasSize.height - pSize * 2) + pSize;\r\n            particle.needsNewPosition = false;\r\n        }\r\n        if (this.options.orbits) {\r\n            if (particle.orbit === undefined) {\r\n                particle.orbit = Vector_1.Vector.create(0, 0);\r\n                particle.orbit.length = Utils_1.NumberUtils.getDistance(particle.getPosition(), this.position);\r\n                particle.orbit.angle = Math.random() * Math.PI * 2;\r\n            }\r\n            if (particle.orbit.length <= this.size && !this.options.destroy) {\r\n                particle.orbit.length = Math.random() * Math.max(canvasSize.width, canvasSize.height);\r\n            }\r\n            particle.velocity.x = 0;\r\n            particle.velocity.y = 0;\r\n            particle.position.setTo(particle.orbit.add(this.position));\r\n            particle.orbit.length -= v.length;\r\n            particle.orbit.angle +=\r\n                (((_a = particle.moveSpeed) !== null && _a !== void 0 ? _a : Utils_1.NumberUtils.getRangeValue(particle.options.move.speed) * this.container.retina.pixelRatio) /\r\n                    100) *\r\n                    this.container.retina.reduceFactor;\r\n        }\r\n        else {\r\n            particle.velocity.addTo(v);\r\n        }\r\n    }\r\n}\r\nexports.AbsorberInstance = AbsorberInstance;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AbsorberSize = void 0;\r\nconst ValueWithRandom_1 = require(\"../../../../Options/Classes/ValueWithRandom\");\r\nclass AbsorberSize extends ValueWithRandom_1.ValueWithRandom {\r\n    constructor() {\r\n        super();\r\n        this.density = 5;\r\n        this.random.minimumValue = 1;\r\n        this.value = 50;\r\n    }\r\n    load(data) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        super.load(data);\r\n        if (data.density !== undefined) {\r\n            this.density = data.density;\r\n        }\r\n        if (data.limit !== undefined) {\r\n            this.limit = data.limit;\r\n        }\r\n        if (data.limit !== undefined) {\r\n            this.limit = data.limit;\r\n        }\r\n    }\r\n}\r\nexports.AbsorberSize = AbsorberSize;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AbsorberClickMode = void 0;\r\nvar AbsorberClickMode;\r\n(function (AbsorberClickMode) {\r\n    AbsorberClickMode[\"absorber\"] = \"absorber\";\r\n})(AbsorberClickMode = exports.AbsorberClickMode || (exports.AbsorberClickMode = {}));\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EmittersPlugin = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Emitters_1 = require(\"./Emitters\");\r\nconst Enums_1 = require(\"./Enums\");\r\nconst Emitter_1 = require(\"./Options/Classes/Emitter\");\r\nclass EmittersPlugin {\r\n    constructor() {\r\n        this.id = \"emitters\";\r\n    }\r\n    getPlugin(container) {\r\n        return new Emitters_1.Emitters(container);\r\n    }\r\n    needsPlugin(options) {\r\n        var _a, _b, _c;\r\n        if (options === undefined) {\r\n            return false;\r\n        }\r\n        const emitters = options.emitters;\r\n        let loadEmitters = false;\r\n        if (emitters instanceof Array) {\r\n            if (emitters.length) {\r\n                loadEmitters = true;\r\n            }\r\n        }\r\n        else if (emitters !== undefined) {\r\n            loadEmitters = true;\r\n        }\r\n        else if (((_c = (_b = (_a = options.interactivity) === null || _a === void 0 ? void 0 : _a.events) === null || _b === void 0 ? void 0 : _b.onClick) === null || _c === void 0 ? void 0 : _c.mode) &&\r\n            Utils_1.Utils.isInArray(Enums_1.EmitterClickMode.emitter, options.interactivity.events.onClick.mode)) {\r\n            loadEmitters = true;\r\n        }\r\n        return loadEmitters;\r\n    }\r\n    loadOptions(options, source) {\r\n        var _a, _b;\r\n        if (!this.needsPlugin(options) && !this.needsPlugin(source)) {\r\n            return;\r\n        }\r\n        const optionsCast = options;\r\n        if (source === null || source === void 0 ? void 0 : source.emitters) {\r\n            if ((source === null || source === void 0 ? void 0 : source.emitters) instanceof Array) {\r\n                optionsCast.emitters = source === null || source === void 0 ? void 0 : source.emitters.map((s) => {\r\n                    const tmp = new Emitter_1.Emitter();\r\n                    tmp.load(s);\r\n                    return tmp;\r\n                });\r\n            }\r\n            else {\r\n                let emitterOptions = optionsCast.emitters;\r\n                if ((emitterOptions === null || emitterOptions === void 0 ? void 0 : emitterOptions.load) === undefined) {\r\n                    optionsCast.emitters = emitterOptions = new Emitter_1.Emitter();\r\n                }\r\n                emitterOptions.load(source === null || source === void 0 ? void 0 : source.emitters);\r\n            }\r\n        }\r\n        const interactivityEmitters = (_b = (_a = source === null || source === void 0 ? void 0 : source.interactivity) === null || _a === void 0 ? void 0 : _a.modes) === null || _b === void 0 ? void 0 : _b.emitters;\r\n        if (interactivityEmitters) {\r\n            if (interactivityEmitters instanceof Array) {\r\n                optionsCast.interactivity.modes.emitters = interactivityEmitters.map((s) => {\r\n                    const tmp = new Emitter_1.Emitter();\r\n                    tmp.load(s);\r\n                    return tmp;\r\n                });\r\n            }\r\n            else {\r\n                let emitterOptions = optionsCast.interactivity.modes.emitters;\r\n                if ((emitterOptions === null || emitterOptions === void 0 ? void 0 : emitterOptions.load) === undefined) {\r\n                    optionsCast.interactivity.modes.emitters = emitterOptions = new Emitter_1.Emitter();\r\n                }\r\n                emitterOptions.load(interactivityEmitters);\r\n            }\r\n        }\r\n    }\r\n}\r\nconst plugin = new EmittersPlugin();\r\nexports.EmittersPlugin = plugin;\r\n__exportStar(require(\"./Enums\"), exports);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Emitters = void 0;\r\nconst EmitterInstance_1 = require(\"./EmitterInstance\");\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Emitter_1 = require(\"./Options/Classes/Emitter\");\r\nconst Enums_1 = require(\"./Enums\");\r\nclass Emitters {\r\n    constructor(container) {\r\n        this.container = container;\r\n        this.array = [];\r\n        this.emitters = [];\r\n        this.interactivityEmitters = [];\r\n        const overridableContainer = container;\r\n        overridableContainer.addEmitter = (options, position) => this.addEmitter(options, position);\r\n        overridableContainer.playEmitter = (idxOrName) => {\r\n            const emitter = idxOrName === undefined || typeof idxOrName === \"number\"\r\n                ? this.array[idxOrName || 0]\r\n                : this.array.find((t) => t.name === idxOrName);\r\n            if (emitter) {\r\n                emitter.externalPlay();\r\n            }\r\n        };\r\n        overridableContainer.pauseEmitter = (idxOrName) => {\r\n            const emitter = idxOrName === undefined || typeof idxOrName === \"number\"\r\n                ? this.array[idxOrName || 0]\r\n                : this.array.find((t) => t.name === idxOrName);\r\n            if (emitter) {\r\n                emitter.externalPause();\r\n            }\r\n        };\r\n    }\r\n    init(options) {\r\n        var _a, _b;\r\n        if (!options) {\r\n            return;\r\n        }\r\n        if (options.emitters) {\r\n            if (options.emitters instanceof Array) {\r\n                this.emitters = options.emitters.map((s) => {\r\n                    const tmp = new Emitter_1.Emitter();\r\n                    tmp.load(s);\r\n                    return tmp;\r\n                });\r\n            }\r\n            else {\r\n                if (this.emitters instanceof Array) {\r\n                    this.emitters = new Emitter_1.Emitter();\r\n                }\r\n                this.emitters.load(options.emitters);\r\n            }\r\n        }\r\n        const interactivityEmitters = (_b = (_a = options.interactivity) === null || _a === void 0 ? void 0 : _a.modes) === null || _b === void 0 ? void 0 : _b.emitters;\r\n        if (interactivityEmitters) {\r\n            if (interactivityEmitters instanceof Array) {\r\n                this.interactivityEmitters = interactivityEmitters.map((s) => {\r\n                    const tmp = new Emitter_1.Emitter();\r\n                    tmp.load(s);\r\n                    return tmp;\r\n                });\r\n            }\r\n            else {\r\n                if (this.interactivityEmitters instanceof Array) {\r\n                    this.interactivityEmitters = new Emitter_1.Emitter();\r\n                }\r\n                this.interactivityEmitters.load(interactivityEmitters);\r\n            }\r\n        }\r\n        if (this.emitters instanceof Array) {\r\n            for (const emitterOptions of this.emitters) {\r\n                this.addEmitter(emitterOptions);\r\n            }\r\n        }\r\n        else {\r\n            this.addEmitter(this.emitters);\r\n        }\r\n    }\r\n    play() {\r\n        for (const emitter of this.array) {\r\n            emitter.play();\r\n        }\r\n    }\r\n    pause() {\r\n        for (const emitter of this.array) {\r\n            emitter.pause();\r\n        }\r\n    }\r\n    stop() {\r\n        this.array = [];\r\n    }\r\n    update(delta) {\r\n        for (const emitter of this.array) {\r\n            emitter.update(delta);\r\n        }\r\n    }\r\n    handleClickMode(mode) {\r\n        const container = this.container;\r\n        const emitterOptions = this.emitters;\r\n        const modeEmitters = this.interactivityEmitters;\r\n        if (mode === Enums_1.EmitterClickMode.emitter) {\r\n            let emitterModeOptions;\r\n            if (modeEmitters instanceof Array) {\r\n                if (modeEmitters.length > 0) {\r\n                    emitterModeOptions = Utils_1.Utils.itemFromArray(modeEmitters);\r\n                }\r\n            }\r\n            else {\r\n                emitterModeOptions = modeEmitters;\r\n            }\r\n            const emittersOptions = emitterModeOptions !== null && emitterModeOptions !== void 0 ? emitterModeOptions : (emitterOptions instanceof Array ? Utils_1.Utils.itemFromArray(emitterOptions) : emitterOptions);\r\n            const ePosition = container.interactivity.mouse.clickPosition;\r\n            this.addEmitter(Utils_1.Utils.deepExtend({}, emittersOptions), ePosition);\r\n        }\r\n    }\r\n    resize() {\r\n        for (const emitter of this.array) {\r\n            emitter.resize();\r\n        }\r\n    }\r\n    addEmitter(options, position) {\r\n        const emitter = new EmitterInstance_1.EmitterInstance(this, this.container, options, position);\r\n        this.array.push(emitter);\r\n        return emitter;\r\n    }\r\n    removeEmitter(emitter) {\r\n        const index = this.array.indexOf(emitter);\r\n        if (index >= 0) {\r\n            this.array.splice(index, 1);\r\n        }\r\n    }\r\n}\r\nexports.Emitters = Emitters;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EmitterInstance = void 0;\r\nconst Utils_1 = require(\"../../Utils\");\r\nconst Enums_1 = require(\"../../Enums\");\r\nconst EmitterSize_1 = require(\"./Options/Classes/EmitterSize\");\r\nfunction randomCoordinate(position, offset) {\r\n    return position + offset * (Math.random() - 0.5);\r\n}\r\nfunction randomPosition(position, offset) {\r\n    return {\r\n        x: randomCoordinate(position.x, offset.x),\r\n        y: randomCoordinate(position.y, offset.y),\r\n    };\r\n}\r\nclass EmitterInstance {\r\n    constructor(emitters, container, emitterOptions, position) {\r\n        var _a, _b, _c, _d;\r\n        this.emitters = emitters;\r\n        this.container = container;\r\n        this.firstSpawn = true;\r\n        this.currentDuration = 0;\r\n        this.currentEmitDelay = 0;\r\n        this.currentSpawnDelay = 0;\r\n        this.initialPosition = position;\r\n        this.emitterOptions = Utils_1.Utils.deepExtend({}, emitterOptions);\r\n        this.spawnDelay = (((_a = this.emitterOptions.life.delay) !== null && _a !== void 0 ? _a : 0) * 1000) / this.container.retina.reduceFactor;\r\n        this.position = (_b = this.initialPosition) !== null && _b !== void 0 ? _b : this.calcPosition();\r\n        this.name = emitterOptions.name;\r\n        let particlesOptions = Utils_1.Utils.deepExtend({}, this.emitterOptions.particles);\r\n        if (particlesOptions === undefined) {\r\n            particlesOptions = {};\r\n        }\r\n        if (particlesOptions.move === undefined) {\r\n            particlesOptions.move = {};\r\n        }\r\n        if (particlesOptions.move.direction === undefined) {\r\n            particlesOptions.move.direction = this.emitterOptions.direction;\r\n        }\r\n        if (this.emitterOptions.spawnColor !== undefined) {\r\n            this.spawnColor = Utils_1.ColorUtils.colorToHsl(this.emitterOptions.spawnColor);\r\n        }\r\n        this.paused = !this.emitterOptions.autoPlay;\r\n        this.particlesOptions = particlesOptions;\r\n        this.size =\r\n            (_c = this.emitterOptions.size) !== null && _c !== void 0 ? _c : (() => {\r\n                const size = new EmitterSize_1.EmitterSize();\r\n                size.load({\r\n                    height: 0,\r\n                    mode: Enums_1.SizeMode.percent,\r\n                    width: 0,\r\n                });\r\n                return size;\r\n            })();\r\n        this.lifeCount = (_d = this.emitterOptions.life.count) !== null && _d !== void 0 ? _d : -1;\r\n        this.immortal = this.lifeCount <= 0;\r\n        this.play();\r\n    }\r\n    externalPlay() {\r\n        this.paused = false;\r\n        this.play();\r\n    }\r\n    externalPause() {\r\n        this.paused = true;\r\n        this.pause();\r\n    }\r\n    play() {\r\n        if (this.paused) {\r\n            return;\r\n        }\r\n        if (this.container.retina.reduceFactor &&\r\n            (this.lifeCount > 0 || this.immortal || !this.emitterOptions.life.count)) {\r\n            if (this.emitDelay === undefined) {\r\n                this.emitDelay = (1000 * this.emitterOptions.rate.delay) / this.container.retina.reduceFactor;\r\n            }\r\n            if (this.lifeCount > 0 || this.immortal) {\r\n                this.prepareToDie();\r\n            }\r\n        }\r\n    }\r\n    pause() {\r\n        if (this.paused) {\r\n            return;\r\n        }\r\n        delete this.emitDelay;\r\n    }\r\n    resize() {\r\n        const initialPosition = this.initialPosition;\r\n        this.position =\r\n            initialPosition && Utils_1.Utils.isPointInside(initialPosition, this.container.canvas.size)\r\n                ? initialPosition\r\n                : this.calcPosition();\r\n    }\r\n    update(delta) {\r\n        var _a, _b, _c;\r\n        if (this.paused) {\r\n            return;\r\n        }\r\n        if (this.firstSpawn) {\r\n            this.firstSpawn = false;\r\n            this.currentSpawnDelay = (_a = this.spawnDelay) !== null && _a !== void 0 ? _a : 0;\r\n            this.currentEmitDelay = (_b = this.emitDelay) !== null && _b !== void 0 ? _b : 0;\r\n            delta.value = 0;\r\n        }\r\n        if (this.duration !== undefined) {\r\n            this.currentDuration += delta.value;\r\n            if (this.currentDuration >= this.duration) {\r\n                this.pause();\r\n                if (this.spawnDelay !== undefined) {\r\n                    delete this.spawnDelay;\r\n                }\r\n                if (!this.immortal) {\r\n                    this.lifeCount--;\r\n                }\r\n                if (this.lifeCount > 0 || this.immortal) {\r\n                    this.position = this.calcPosition();\r\n                    this.spawnDelay =\r\n                        (((_c = this.emitterOptions.life.delay) !== null && _c !== void 0 ? _c : 0) * 1000) / this.container.retina.reduceFactor;\r\n                }\r\n                else {\r\n                    this.destroy();\r\n                }\r\n                this.currentDuration -= this.duration;\r\n                delete this.duration;\r\n            }\r\n        }\r\n        if (this.spawnDelay !== undefined) {\r\n            this.currentSpawnDelay += delta.value;\r\n            if (this.currentSpawnDelay >= this.spawnDelay) {\r\n                this.play();\r\n                this.currentSpawnDelay -= this.currentSpawnDelay;\r\n                delete this.spawnDelay;\r\n            }\r\n        }\r\n        if (this.emitDelay !== undefined) {\r\n            this.currentEmitDelay += delta.value;\r\n            if (this.currentEmitDelay >= this.emitDelay) {\r\n                this.emit();\r\n                this.currentEmitDelay -= this.emitDelay;\r\n            }\r\n        }\r\n    }\r\n    prepareToDie() {\r\n        var _a;\r\n        if (this.paused) {\r\n            return;\r\n        }\r\n        const duration = (_a = this.emitterOptions.life) === null || _a === void 0 ? void 0 : _a.duration;\r\n        if (this.container.retina.reduceFactor &&\r\n            (this.lifeCount > 0 || this.immortal) &&\r\n            duration !== undefined &&\r\n            duration > 0) {\r\n            this.duration = duration * 1000;\r\n        }\r\n    }\r\n    destroy() {\r\n        this.emitters.removeEmitter(this);\r\n    }\r\n    calcPosition() {\r\n        var _a, _b;\r\n        const container = this.container;\r\n        const percentPosition = this.emitterOptions.position;\r\n        return {\r\n            x: (((_a = percentPosition === null || percentPosition === void 0 ? void 0 : percentPosition.x) !== null && _a !== void 0 ? _a : Math.random() * 100) / 100) * container.canvas.size.width,\r\n            y: (((_b = percentPosition === null || percentPosition === void 0 ? void 0 : percentPosition.y) !== null && _b !== void 0 ? _b : Math.random() * 100) / 100) * container.canvas.size.height,\r\n        };\r\n    }\r\n    emit() {\r\n        var _a;\r\n        if (this.paused) {\r\n            return;\r\n        }\r\n        const container = this.container;\r\n        const position = this.position;\r\n        const offset = {\r\n            x: this.size.mode === Enums_1.SizeMode.percent\r\n                ? (container.canvas.size.width * this.size.width) / 100\r\n                : this.size.width,\r\n            y: this.size.mode === Enums_1.SizeMode.percent\r\n                ? (container.canvas.size.height * this.size.height) / 100\r\n                : this.size.height,\r\n        };\r\n        for (let i = 0; i < this.emitterOptions.rate.quantity; i++) {\r\n            const particlesOptions = Utils_1.Utils.deepExtend({}, this.particlesOptions);\r\n            if (this.spawnColor !== undefined) {\r\n                const colorAnimation = (_a = this.emitterOptions.spawnColor) === null || _a === void 0 ? void 0 : _a.animation;\r\n                if (colorAnimation) {\r\n                    const hueAnimation = colorAnimation;\r\n                    if (hueAnimation.enable) {\r\n                        this.spawnColor.h = this.setColorAnimation(hueAnimation, this.spawnColor.h, 360);\r\n                    }\r\n                    else {\r\n                        const hslAnimation = colorAnimation;\r\n                        this.spawnColor.h = this.setColorAnimation(hslAnimation.h, this.spawnColor.h, 360);\r\n                        this.spawnColor.s = this.setColorAnimation(hslAnimation.s, this.spawnColor.s, 100);\r\n                        this.spawnColor.l = this.setColorAnimation(hslAnimation.l, this.spawnColor.l, 100);\r\n                    }\r\n                }\r\n                if (!particlesOptions.color) {\r\n                    particlesOptions.color = {\r\n                        value: this.spawnColor,\r\n                    };\r\n                }\r\n                else {\r\n                    particlesOptions.color.value = this.spawnColor;\r\n                }\r\n            }\r\n            container.particles.addParticle(randomPosition(position, offset), particlesOptions);\r\n        }\r\n    }\r\n    setColorAnimation(animation, initValue, maxValue) {\r\n        var _a;\r\n        const container = this.container;\r\n        if (!animation.enable) {\r\n            return initValue;\r\n        }\r\n        const colorOffset = Utils_1.NumberUtils.randomInRange(animation.offset);\r\n        const emitFactor = (1000 * this.emitterOptions.rate.delay) / container.retina.reduceFactor;\r\n        const colorSpeed = (_a = animation.speed) !== null && _a !== void 0 ? _a : 0;\r\n        return (initValue + (colorSpeed * container.fpsLimit) / emitFactor + colorOffset * 3.6) % maxValue;\r\n    }\r\n}\r\nexports.EmitterInstance = EmitterInstance;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EmitterRate = void 0;\r\nclass EmitterRate {\r\n    constructor() {\r\n        this.quantity = 1;\r\n        this.delay = 0.1;\r\n    }\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.quantity !== undefined) {\r\n            this.quantity = data.quantity;\r\n        }\r\n        if (data.delay !== undefined) {\r\n            this.delay = data.delay;\r\n        }\r\n    }\r\n}\r\nexports.EmitterRate = EmitterRate;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EmitterLife = void 0;\r\nclass EmitterLife {\r\n    load(data) {\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        if (data.count !== undefined) {\r\n            this.count = data.count;\r\n        }\r\n        if (data.delay !== undefined) {\r\n            this.delay = data.delay;\r\n        }\r\n        if (data.duration !== undefined) {\r\n            this.duration = data.duration;\r\n        }\r\n    }\r\n}\r\nexports.EmitterLife = EmitterLife;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EmitterClickMode = void 0;\r\nvar EmitterClickMode;\r\n(function (EmitterClickMode) {\r\n    EmitterClickMode[\"emitter\"] = \"emitter\";\r\n})(EmitterClickMode = exports.EmitterClickMode || (exports.EmitterClickMode = {}));\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./RangeValue\"), exports);\r\n__exportStar(require(\"./RecursivePartial\"), exports);\r\n__exportStar(require(\"./ShapeData\"), exports);\r\n__exportStar(require(\"./ShapeDrawerFunctions\"), exports);\r\n__exportStar(require(\"./SingleOrMultiple\"), exports);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./Directions\"), exports);\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./Modes\"), exports);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PolygonMaskInlineArrangement = void 0;\r\nconst Enums_1 = require(\"../Plugins/PolygonMask/Enums\");\r\nObject.defineProperty(exports, \"PolygonMaskInlineArrangement\", { enumerable: true, get: function () { return Enums_1.InlineArrangement; } });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PolygonMaskMoveType = void 0;\r\nconst Enums_1 = require(\"../Plugins/PolygonMask/Enums\");\r\nObject.defineProperty(exports, \"PolygonMaskMoveType\", { enumerable: true, get: function () { return Enums_1.MoveType; } });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PolygonMaskType = void 0;\r\nconst Enums_1 = require(\"../Plugins/PolygonMask/Enums\");\r\nObject.defineProperty(exports, \"PolygonMaskType\", { enumerable: true, get: function () { return Enums_1.Type; } });\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./Types\"), exports);\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./Directions\"), exports);\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./Types\"), exports);\r\n","'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactDom = require('react-dom');\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Tilt = function (_Component) {\r\n  _inherits(Tilt, _Component);\r\n\r\n  function Tilt(props) {\r\n    _classCallCheck(this, Tilt);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Tilt.__proto__ || Object.getPrototypeOf(Tilt)).call(this, props));\r\n\r\n    _this.state = {\r\n      style: {}\r\n    };\r\n\r\n    var defaultSettings = {\r\n      reverse: false,\r\n      max: 35,\r\n      perspective: 1000,\r\n      easing: \"cubic-bezier(.03,.98,.52,.99)\",\r\n      scale: \"1.1\",\r\n      speed: \"1000\",\r\n      transition: true,\r\n      axis: null,\r\n      reset: true\r\n    };\r\n\r\n    _this.width = null;\r\n    _this.height = null;\r\n    _this.left = null;\r\n    _this.top = null;\r\n    _this.transitionTimeout = null;\r\n    _this.updateCall = null;\r\n    _this.element = null;\r\n    _this.settings = Object.assign({}, defaultSettings, _this.props.options);\r\n    _this.reverse = _this.settings.reverse ? -1 : 1;\r\n\r\n    // Events\r\n    _this.onMouseEnter = _this.onMouseEnter.bind(_this, _this.props.onMouseEnter);\r\n    _this.onMouseMove = _this.onMouseMove.bind(_this, _this.props.onMouseMove);\r\n    _this.onMouseLeave = _this.onMouseLeave.bind(_this, _this.props.onMouseLeave);\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Tilt, [{\r\n    key: 'componentDidMount',\r\n    value: function componentDidMount() {\r\n      this.element = (0, _reactDom.findDOMNode)(this);\r\n    }\r\n  }, {\r\n    key: 'componentWillUnmount',\r\n    value: function componentWillUnmount() {\r\n      clearTimeout(this.transitionTimeout);\r\n      cancelAnimationFrame(this.updateCall);\r\n    }\r\n  }, {\r\n    key: 'onMouseEnter',\r\n    value: function onMouseEnter() {\r\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\r\n      var e = arguments[1];\r\n\r\n      this.updateElementPosition();\r\n\r\n      this.setState(Object.assign({}, this.state, {\r\n        style: _extends({}, this.state.style, {\r\n          willChange: \"transform\"\r\n        })\r\n      }));\r\n\r\n      this.setTransition();\r\n\r\n      return cb(e);\r\n    }\r\n  }, {\r\n    key: 'reset',\r\n    value: function reset() {\r\n      var _this2 = this;\r\n\r\n      window.requestAnimationFrame(function () {\r\n        _this2.setState(Object.assign({}, _this2.state, {\r\n          style: _extends({}, _this2.state.style, {\r\n            transform: \"perspective(\" + _this2.settings.perspective + \"px) \" + \"rotateX(0deg) \" + \"rotateY(0deg) \" + \"scale3d(1, 1, 1)\" })\r\n        }));\r\n      });\r\n    }\r\n  }, {\r\n    key: 'onMouseMove',\r\n    value: function onMouseMove() {\r\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\r\n      var e = arguments[1];\r\n\r\n      e.persist();\r\n\r\n      if (this.updateCall !== null) {\r\n        window.cancelAnimationFrame(this.updateCall);\r\n      }\r\n\r\n      this.event = e;\r\n      this.updateCall = requestAnimationFrame(this.update.bind(this, e));\r\n\r\n      return cb(e);\r\n    }\r\n  }, {\r\n    key: 'setTransition',\r\n    value: function setTransition() {\r\n      var _this3 = this;\r\n\r\n      clearTimeout(this.transitionTimeout);\r\n\r\n      this.setState(Object.assign({}, this.state, {\r\n        style: _extends({}, this.state.style, {\r\n          transition: this.settings.speed + \"ms \" + this.settings.easing\r\n        })\r\n      }));\r\n\r\n      this.transitionTimeout = setTimeout(function () {\r\n        _this3.setState(Object.assign({}, _this3.state, {\r\n          style: _extends({}, _this3.state.style, {\r\n            transition: ''\r\n          })\r\n        }));\r\n      }, this.settings.speed);\r\n    }\r\n  }, {\r\n    key: 'onMouseLeave',\r\n    value: function onMouseLeave() {\r\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\r\n      var e = arguments[1];\r\n\r\n      this.setTransition();\r\n\r\n      if (this.settings.reset) {\r\n        this.reset();\r\n      }\r\n      return cb(e);\r\n    }\r\n  }, {\r\n    key: 'getValues',\r\n    value: function getValues(e) {\r\n      var x = (e.nativeEvent.clientX - this.left) / this.width;\r\n      var y = (e.nativeEvent.clientY - this.top) / this.height;\r\n      var _x = Math.min(Math.max(x, 0), 1);\r\n      var _y = Math.min(Math.max(y, 0), 1);\r\n\r\n      var tiltX = (this.reverse * (this.settings.max / 2 - _x * this.settings.max)).toFixed(2);\r\n      var tiltY = (this.reverse * (_y * this.settings.max - this.settings.max / 2)).toFixed(2);\r\n\r\n      var percentageX = _x * 100;\r\n      var percentageY = _y * 100;\r\n\r\n      return {\r\n        tiltX: tiltX,\r\n        tiltY: tiltY,\r\n        percentageX: percentageX,\r\n        percentageY: percentageY\r\n      };\r\n    }\r\n  }, {\r\n    key: 'updateElementPosition',\r\n    value: function updateElementPosition() {\r\n      var rect = this.element.getBoundingClientRect();\r\n      this.width = this.element.offsetWidth;\r\n      this.height = this.element.offsetHeight;\r\n      this.left = rect.left;\r\n      this.top = rect.top;\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update(e) {\r\n      var values = this.getValues(e);\r\n\r\n      this.setState(Object.assign({}, this.state, {\r\n        style: _extends({}, this.state.style, {\r\n          transform: \"perspective(\" + this.settings.perspective + \"px) \" + \"rotateX(\" + (this.settings.axis === \"x\" ? 0 : values.tiltY) + \"deg) \" + \"rotateY(\" + (this.settings.axis === \"y\" ? 0 : values.tiltX) + \"deg) \" + \"scale3d(\" + this.settings.scale + \", \" + this.settings.scale + \", \" + this.settings.scale + \")\"\r\n        })\r\n      }));\r\n\r\n      this.updateCall = null;\r\n    }\r\n  }, {\r\n    key: 'render',\r\n    value: function render() {\r\n      var style = Object.assign({}, this.props.style, this.state.style);\r\n      return _react2.default.createElement(\r\n        'div',\r\n        { style: style,\r\n          className: this.props.className,\r\n          onMouseEnter: this.onMouseEnter,\r\n          onMouseMove: this.onMouseMove,\r\n          onMouseLeave: this.onMouseLeave\r\n        },\r\n        this.props.children\r\n      );\r\n    }\r\n  }]);\r\n\r\n  return Tilt;\r\n}(_react.Component);\r\n\r\nexports.default = Tilt;","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\r\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\r\nexport default function _construct(Parent, args, Class) {\r\n  if (isNativeReflectConstruct()) {\r\n    _construct = Reflect.construct;\r\n  } else {\r\n    _construct = function _construct(Parent, args, Class) {\r\n      var a = [null];\r\n      a.push.apply(a, args);\r\n      var Constructor = Function.bind.apply(Parent, a);\r\n      var instance = new Constructor();\r\n      if (Class) setPrototypeOf(instance, Class.prototype);\r\n      return instance;\r\n    };\r\n  }\r\n\r\n  return _construct.apply(null, arguments);\r\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nexport default function _objectWithoutProperties(source, excluded) {\r\n  if (source == null) return {};\r\n  var target = objectWithoutPropertiesLoose(source, excluded);\r\n  var key, i;\r\n\r\n  if (Object.getOwnPropertySymbols) {\r\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\r\n\r\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\r\n      key = sourceSymbolKeys[i];\r\n      if (excluded.indexOf(key) >= 0) continue;\r\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\r\n      target[key] = source[key];\r\n    }\r\n  }\r\n\r\n  return target;\r\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\r\n  if (source == null) return {};\r\n  var target = {};\r\n  var sourceKeys = Object.keys(source);\r\n  var key, i;\r\n\r\n  for (i = 0; i < sourceKeys.length; i++) {\r\n    key = sourceKeys[i];\r\n    if (excluded.indexOf(key) >= 0) continue;\r\n    target[key] = source[key];\r\n  }\r\n\r\n  return target;\r\n}","export default function _iterableToArray(iter) {\r\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\r\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\r\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\r\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\r\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\r\nexport default function _toArray(arr) {\r\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\r\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\r\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\r\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\r\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\r\nexport default function _toConsumableArray(arr) {\r\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\r\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\r\nexport default function _arrayWithoutHoles(arr) {\r\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\r\n}","export default function _nonIterableSpread() {\r\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\n\r\nfunction ownKeys(object, enumerableOnly) {\r\n  var keys = Object.keys(object);\r\n\r\n  if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\r\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\r\n    });\r\n    keys.push.apply(keys, symbols);\r\n  }\r\n\r\n  return keys;\r\n}\r\n\r\nexport default function _objectSpread2(target) {\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    var source = arguments[i] != null ? arguments[i] : {};\r\n\r\n    if (i % 2) {\r\n      ownKeys(Object(source), true).forEach(function (key) {\r\n        defineProperty(target, key, source[key]);\r\n      });\r\n    } else if (Object.getOwnPropertyDescriptors) {\r\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\r\n    } else {\r\n      ownKeys(Object(source)).forEach(function (key) {\r\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\r\n      });\r\n    }\r\n  }\r\n\r\n  return target;\r\n}","import { useReducer, useRef, useEffect, useLayoutEffect } from 'react';\r\n\r\nfunction create$1(createState) {\r\n  let state;\r\n  const listeners = new Set();\r\n  const setState = (partial, replace) => {\r\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\r\n    if (nextState !== state) {\r\n      const previousState = state;\r\n      state = replace ? nextState : Object.assign({}, state, nextState);\r\n      listeners.forEach((listener) => listener(state, previousState));\r\n    }\r\n  };\r\n  const getState = () => state;\r\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\r\n    let currentSlice = selector(state);\r\n    function listenerToAdd() {\r\n      const nextSlice = selector(state);\r\n      if (!equalityFn(currentSlice, nextSlice)) {\r\n        const previousSlice = currentSlice;\r\n        listener(currentSlice = nextSlice, previousSlice);\r\n      }\r\n    }\r\n    listeners.add(listenerToAdd);\r\n    return () => listeners.delete(listenerToAdd);\r\n  };\r\n  const subscribe = (listener, selector, equalityFn) => {\r\n    if (selector || equalityFn) {\r\n      return subscribeWithSelector(listener, selector, equalityFn);\r\n    }\r\n    listeners.add(listener);\r\n    return () => listeners.delete(listener);\r\n  };\r\n  const destroy = () => listeners.clear();\r\n  const api = {setState, getState, subscribe, destroy};\r\n  state = createState(setState, getState, api);\r\n  return api;\r\n}\r\n\r\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\r\nconst useIsomorphicLayoutEffect = isSSR ? useEffect : useLayoutEffect;\r\nfunction create(createState) {\r\n  const api = typeof createState === \"function\" ? create$1(createState) : createState;\r\n  const useStore = (selector = api.getState, equalityFn = Object.is) => {\r\n    const [, forceUpdate] = useReducer((c) => c + 1, 0);\r\n    const state = api.getState();\r\n    const stateRef = useRef(state);\r\n    const selectorRef = useRef(selector);\r\n    const equalityFnRef = useRef(equalityFn);\r\n    const erroredRef = useRef(false);\r\n    const currentSliceRef = useRef();\r\n    if (currentSliceRef.current === void 0) {\r\n      currentSliceRef.current = selector(state);\r\n    }\r\n    let newStateSlice;\r\n    let hasNewStateSlice = false;\r\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\r\n      newStateSlice = selector(state);\r\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\r\n    }\r\n    useIsomorphicLayoutEffect(() => {\r\n      if (hasNewStateSlice) {\r\n        currentSliceRef.current = newStateSlice;\r\n      }\r\n      stateRef.current = state;\r\n      selectorRef.current = selector;\r\n      equalityFnRef.current = equalityFn;\r\n      erroredRef.current = false;\r\n    });\r\n    const stateBeforeSubscriptionRef = useRef(state);\r\n    useIsomorphicLayoutEffect(() => {\r\n      const listener = () => {\r\n        try {\r\n          const nextState = api.getState();\r\n          const nextStateSlice = selectorRef.current(nextState);\r\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\r\n            stateRef.current = nextState;\r\n            currentSliceRef.current = nextStateSlice;\r\n            forceUpdate();\r\n          }\r\n        } catch (error) {\r\n          erroredRef.current = true;\r\n          forceUpdate();\r\n        }\r\n      };\r\n      const unsubscribe = api.subscribe(listener);\r\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\r\n        listener();\r\n      }\r\n      return unsubscribe;\r\n    }, []);\r\n    return hasNewStateSlice ? newStateSlice : currentSliceRef.current;\r\n  };\r\n  Object.assign(useStore, api);\r\n  useStore[Symbol.iterator] = function* () {\r\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\r\n    yield useStore;\r\n    yield api;\r\n  };\r\n  return useStore;\r\n}\r\n\r\nexport default create;\r\n","import deepEqual from 'fast-deep-equal';\r\n\r\nconst globalCache = [];\r\n\r\nfunction handleAsset(fn, cache, args, lifespan = 0, preload = false) {\r\n  for (const entry of cache) {\r\n    // Find a match\r\n    if (deepEqual(args, entry.args)) {\r\n      // If we're pre-loading and the element is present, just return\r\n      if (preload) return; // If an error occurred, throw\r\n\r\n      if (entry.error) throw entry.error; // If a response was successful, return\r\n\r\n      if (entry.response) return entry.response; // If the promise is still unresolved, throw\r\n\r\n      throw entry.promise;\r\n    }\r\n  } // The request is new or has changed.\r\n\r\n\r\n  const entry = {\r\n    args,\r\n    promise: // Make the promise request.\r\n    fn(...args) // Response can't be undefined or else the loop above wouldn't be able to return it\r\n    // This is for promises that do not return results (delays for instance)\r\n    .then(response => entry.response = response != null ? response : true).catch(e => entry.error = e != null ? e : 'unknown error').then(() => {\r\n      if (lifespan > 0) {\r\n        setTimeout(() => {\r\n          const index = cache.indexOf(entry);\r\n          if (index !== -1) cache.splice(index, 1);\r\n        }, lifespan);\r\n      }\r\n    })\r\n  };\r\n  cache.push(entry);\r\n  if (!preload) throw entry.promise;\r\n}\r\n\r\nfunction clear(cache, ...args) {\r\n  if (args === undefined || args.length === 0) cache.splice(0, cache.length);else {\r\n    const entry = cache.find(entry => deepEqual(args, entry.args));\r\n\r\n    if (entry) {\r\n      const index = cache.indexOf(entry);\r\n      if (index !== -1) cache.splice(index, 1);\r\n    }\r\n  }\r\n}\r\n\r\nfunction createAsset(fn, lifespan = 0) {\r\n  const cache = [];\r\n  return {\r\n    /**\r\n     * @throws Suspense Promise if asset is not yet ready\r\n     * @throws Error if the promise rejected for some reason\r\n     */\r\n    read: (...args) => handleAsset(fn, cache, args, lifespan),\r\n    preload: (...args) => void handleAsset(fn, cache, args, lifespan, true),\r\n    clear: (...args) => clear(cache, ...args),\r\n    peek: (...args) => {\r\n      var _cache$find;\r\n\r\n      return (_cache$find = cache.find(entry => deepEqual(args, entry.args))) == null ? void 0 : _cache$find.response;\r\n    }\r\n  };\r\n}\r\n\r\nfunction useAsset(fn, ...args) {\r\n  return handleAsset(fn, globalCache, args, useAsset.lifespan);\r\n}\r\n\r\nuseAsset.lifespan = 0;\r\n\r\nuseAsset.clear = (...args) => clear(globalCache, ...args);\r\n\r\nuseAsset.preload = (fn, ...args) => void handleAsset(fn, globalCache, args, useAsset.lifespan, true);\r\n\r\nuseAsset.peek = (...args) => {\r\n  var _globalCache$find;\r\n\r\n  return (_globalCache$find = globalCache.find(entry => deepEqual(args, entry.args))) == null ? void 0 : _globalCache$find.response;\r\n};\r\n\r\nexport { createAsset, useAsset };\r\n","import { useState, useRef, useEffect, useMemo } from 'react';\r\nimport { debounce } from 'debounce';\r\n\r\nfunction useMeasure({\r\n  debounce: debounce$1,\r\n  scroll,\r\n  polyfill\r\n} = {\r\n  debounce: 0,\r\n  scroll: false\r\n}) {\r\n  const ResizeObserver = polyfill || (typeof window === 'undefined' ? class ResizeObserver {} : window.ResizeObserver);\r\n\r\n  if (!ResizeObserver) {\r\n    throw new Error('This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills');\r\n  }\r\n\r\n  const [bounds, set] = useState({\r\n    left: 0,\r\n    top: 0,\r\n    width: 0,\r\n    height: 0,\r\n    bottom: 0,\r\n    right: 0,\r\n    x: 0,\r\n    y: 0\r\n  }); // keep all state in a ref\r\n\r\n  const state = useRef({\r\n    element: null,\r\n    scrollContainers: null,\r\n    resizeObserver: null,\r\n    lastBounds: bounds\r\n  }); // set actual debounce values early, so effects know if they should react accordingly\r\n\r\n  const scrollDebounce = debounce$1 ? typeof debounce$1 === 'number' ? debounce$1 : debounce$1.scroll : null;\r\n  const resizeDebounce = debounce$1 ? typeof debounce$1 === 'number' ? debounce$1 : debounce$1.resize : null; // make sure to update state only as long as the component is truly mounted\r\n\r\n  const mounted = useRef(false);\r\n  useEffect(() => {\r\n    mounted.current = true;\r\n    return () => void (mounted.current = false);\r\n  }); // memoize handlers, so event-listeners know when they should update\r\n\r\n  const [forceRefresh, resizeChange, scrollChange] = useMemo(() => {\r\n    const callback = () => {\r\n      if (!state.current.element) return;\r\n      const {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        bottom,\r\n        right,\r\n        x,\r\n        y\r\n      } = state.current.element.getBoundingClientRect();\r\n      const size = {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        bottom,\r\n        right,\r\n        x,\r\n        y\r\n      };\r\n      Object.freeze(size);\r\n      if (mounted.current && !areBoundsEqual(state.current.lastBounds, size)) set(state.current.lastBounds = size);\r\n    };\r\n\r\n    return [callback, resizeDebounce ? debounce(callback, resizeDebounce) : callback, scrollDebounce ? debounce(callback, scrollDebounce) : callback];\r\n  }, [set, scrollDebounce, resizeDebounce]); // cleanup current scroll-listeners / observers\r\n\r\n  function removeListeners() {\r\n    if (state.current.scrollContainers) {\r\n      state.current.scrollContainers.forEach(element => element.removeEventListener('scroll', scrollChange, true));\r\n      state.current.scrollContainers = null;\r\n    }\r\n\r\n    if (state.current.resizeObserver) {\r\n      state.current.resizeObserver.disconnect();\r\n      state.current.resizeObserver = null;\r\n    }\r\n  } // add scroll-listeners / observers\r\n\r\n\r\n  function addListeners() {\r\n    if (!state.current.element) return;\r\n    state.current.resizeObserver = new ResizeObserver(scrollChange);\r\n    state.current.resizeObserver.observe(state.current.element);\r\n\r\n    if (scroll && state.current.scrollContainers) {\r\n      state.current.scrollContainers.forEach(scrollContainer => scrollContainer.addEventListener('scroll', scrollChange, {\r\n        capture: true,\r\n        passive: true\r\n      }));\r\n    }\r\n  } // the ref we expose to the user\r\n\r\n\r\n  const ref = node => {\r\n    if (!node || node === state.current.element) return;\r\n    removeListeners();\r\n    state.current.element = node;\r\n    state.current.scrollContainers = findScrollContainers(node);\r\n    addListeners();\r\n  }; // add general event listeners\r\n\r\n\r\n  useOnWindowScroll(scrollChange, Boolean(scroll));\r\n  useOnWindowResize(resizeChange); // respond to changes that are relevant for the listeners\r\n\r\n  useEffect(() => {\r\n    removeListeners();\r\n    addListeners();\r\n  }, [scroll, scrollChange, resizeChange]); // remove all listeners when the components unmounts\r\n\r\n  useEffect(() => removeListeners, []);\r\n  return [ref, bounds, forceRefresh];\r\n} // Adds native resize listener to window\r\n\r\n\r\nfunction useOnWindowResize(onWindowResize) {\r\n  useEffect(() => {\r\n    const cb = onWindowResize;\r\n    window.addEventListener('resize', cb);\r\n    return () => void window.removeEventListener('resize', cb);\r\n  }, [onWindowResize]);\r\n}\r\n\r\nfunction useOnWindowScroll(onScroll, enabled) {\r\n  useEffect(() => {\r\n    if (enabled) {\r\n      const cb = onScroll;\r\n      window.addEventListener('scroll', cb, {\r\n        capture: true,\r\n        passive: true\r\n      });\r\n      return () => void window.removeEventListener('scroll', cb, true);\r\n    }\r\n  }, [onScroll, enabled]);\r\n} // Returns a list of scroll offsets\r\n\r\n\r\nfunction findScrollContainers(element) {\r\n  const result = [];\r\n  if (!element || element === document.body) return result;\r\n  const {\r\n    overflow,\r\n    overflowX,\r\n    overflowY\r\n  } = window.getComputedStyle(element);\r\n  if ([overflow, overflowX, overflowY].some(prop => prop === 'auto' || prop === 'scroll')) result.push(element);\r\n  return [...result, ...findScrollContainers(element.parentElement)];\r\n} // Checks if element boundaries are equal\r\n\r\n\r\nconst keys = ['x', 'y', 'top', 'bottom', 'left', 'right', 'width', 'height'];\r\n\r\nconst areBoundsEqual = (a, b) => keys.every(key => a[key] === b[key]);\r\n\r\nexport default useMeasure;\r\n","import * as THREE from 'three';\r\nimport * as React from 'react';\r\nimport create from 'zustand';\r\nimport shallow from 'zustand/shallow';\r\nimport Reconciler from 'react-reconciler';\r\nimport { unstable_now, unstable_runWithPriority, unstable_IdlePriority } from 'scheduler';\r\nimport { useAsset } from 'use-asset';\r\nimport useMeasure from 'react-use-measure';\r\n\r\nvar threeTypes = /*#__PURE__*/Object.freeze({\r\n  __proto__: null\r\n});\r\n\r\nconst is = {\r\n  obj: a => a === Object(a) && !is.arr(a) && typeof a !== 'function',\r\n  fun: a => typeof a === 'function',\r\n  str: a => typeof a === 'string',\r\n  num: a => typeof a === 'number',\r\n  und: a => a === void 0,\r\n  arr: a => Array.isArray(a),\r\n\r\n  equ(a, b) {\r\n    // Wrong type or one of the two undefined, doesn't match\r\n    if (typeof a !== typeof b || !!a !== !!b) return false; // Atomic, just compare a against b\r\n\r\n    if (is.str(a) || is.num(a) || is.obj(a)) return a === b; // Array, shallow compare first to see if it's a match\r\n\r\n    if (is.arr(a) && a == b) return true; // Last resort, go through keys\r\n\r\n    let i;\r\n\r\n    for (i in a) if (!(i in b)) return false;\r\n\r\n    for (i in b) if (a[i] !== b[i]) return false;\r\n\r\n    return is.und(i) ? a === b : true;\r\n  }\r\n\r\n};\r\n\r\nfunction makeId(event) {\r\n  return (event.eventObject || event.object).uuid + '/' + event.index;\r\n}\r\n\r\nfunction removeInteractivity(store, object) {\r\n  const {\r\n    internal\r\n  } = store.getState(); // Removes every trace of an object from the data store\r\n\r\n  internal.interaction = internal.interaction.filter(o => o !== object);\r\n  internal.initialHits = internal.initialHits.filter(o => o !== object);\r\n  internal.hovered.forEach((value, key) => {\r\n    if (value.eventObject === object || value.object === object) {\r\n      internal.hovered.delete(key);\r\n    }\r\n  });\r\n}\r\nfunction createEvents(store) {\r\n  const temp = new THREE.Vector3();\r\n  /** Sets up defaultRaycaster */\r\n\r\n  function prepareRay(event) {\r\n    var _raycaster$computeOff;\r\n\r\n    const state = store.getState();\r\n    const {\r\n      raycaster,\r\n      mouse,\r\n      camera,\r\n      size\r\n    } = state; // https://github.com/pmndrs/react-three-fiber/pull/782\r\n    // Events trigger outside of canvas when moved\r\n\r\n    const {\r\n      offsetX,\r\n      offsetY\r\n    } = (_raycaster$computeOff = raycaster.computeOffsets == null ? void 0 : raycaster.computeOffsets(event, state)) != null ? _raycaster$computeOff : event;\r\n    const {\r\n      width,\r\n      height\r\n    } = size;\r\n    mouse.set(offsetX / width * 2 - 1, -(offsetY / height) * 2 + 1);\r\n    raycaster.setFromCamera(mouse, camera);\r\n  }\r\n  /** Calculates delta */\r\n\r\n\r\n  function calculateDistance(event) {\r\n    const {\r\n      internal\r\n    } = store.getState();\r\n    const dx = event.offsetX - internal.initialClick[0];\r\n    const dy = event.offsetY - internal.initialClick[1];\r\n    return Math.round(Math.sqrt(dx * dx + dy * dy));\r\n  }\r\n  /** Returns true if an instance has a valid pointer-event registered, this excludes scroll, clicks etc */\r\n\r\n\r\n  function filterPointerEvents(objects) {\r\n    return objects.filter(obj => ['Move', 'Over', 'Enter', 'Out', 'Leave'].some(name => {\r\n      var _r3f$handlers;\r\n\r\n      return (_r3f$handlers = obj.__r3f.handlers) == null ? void 0 : _r3f$handlers['onPointer' + name];\r\n    }));\r\n  }\r\n\r\n  function intersect(filter) {\r\n    const state = store.getState();\r\n    const {\r\n      raycaster,\r\n      internal\r\n    } = state; // Skip event handling when noEvents is set\r\n\r\n    if (!raycaster.enabled) return [];\r\n    const seen = new Set();\r\n    const intersections = []; // Allow callers to eliminate event objects\r\n\r\n    const eventsObjects = filter ? filter(internal.interaction) : internal.interaction; // Intersect known handler objects and filter against duplicates\r\n\r\n    let intersects = raycaster.intersectObjects(eventsObjects, true).filter(item => {\r\n      const id = makeId(item);\r\n      if (seen.has(id)) return false;\r\n      seen.add(id);\r\n      return true;\r\n    }); // https://github.com/mrdoob/three.js/issues/16031\r\n    // Allow custom userland intersect sort order\r\n\r\n    if (raycaster.filter) intersects = raycaster.filter(intersects, state);\r\n\r\n    for (const intersect of intersects) {\r\n      let eventObject = intersect.object; // Bubble event up\r\n\r\n      while (eventObject) {\r\n        var _r3f;\r\n\r\n        const handlers = (_r3f = eventObject.__r3f) == null ? void 0 : _r3f.handlers;\r\n        if (handlers) intersections.push({ ...intersect,\r\n          eventObject\r\n        });\r\n        eventObject = eventObject.parent;\r\n      }\r\n    }\r\n\r\n    return intersections;\r\n  }\r\n  /**  Creates filtered intersects and returns an array of positive hits */\r\n\r\n\r\n  function patchIntersects(intersections, event) {\r\n    const {\r\n      internal\r\n    } = store.getState(); // If the interaction is captured take that into account, the captured event has to be part of the intersects\r\n\r\n    if (internal.captured && event.type !== 'click' && event.type !== 'wheel') {\r\n      internal.captured.forEach(captured => {\r\n        if (!intersections.find(hit => hit.eventObject === captured.eventObject)) intersections.push(captured);\r\n      });\r\n    }\r\n\r\n    return intersections;\r\n  }\r\n  /**  Handles intersections by forwarding them to handlers */\r\n\r\n\r\n  function handleIntersects(intersections, event, callback) {\r\n    const {\r\n      raycaster,\r\n      mouse,\r\n      camera,\r\n      internal\r\n    } = store.getState(); // If anything has been found, forward it to the event listeners\r\n\r\n    if (intersections.length) {\r\n      const unprojectedPoint = temp.set(mouse.x, mouse.y, 0).unproject(camera);\r\n      const delta = event.type === 'click' ? calculateDistance(event) : 0;\r\n\r\n      const releasePointerCapture = id => event.target.releasePointerCapture(id);\r\n\r\n      const localState = {\r\n        stopped: false,\r\n        captured: false\r\n      };\r\n\r\n      for (const hit of intersections) {\r\n        const setPointerCapture = id => {\r\n          // If the hit is going to be captured flag that we're in captured state\r\n          if (!localState.captured) {\r\n            localState.captured = true; // The captured hit array is reset to collect hits\r\n\r\n            internal.captured = [];\r\n          } // Push hits to the array\r\n\r\n\r\n          if (internal.captured) internal.captured.push(hit) // Call the original event now\r\n          ;\r\n          event.target.setPointerCapture(id);\r\n        }; // Add native event props\r\n\r\n\r\n        let extractEventProps = {};\r\n\r\n        for (let prop in Object.getPrototypeOf(event)) {\r\n          extractEventProps[prop] = event[prop];\r\n        }\r\n\r\n        let raycastEvent = { ...hit,\r\n          ...extractEventProps,\r\n          intersections,\r\n          stopped: localState.stopped,\r\n          delta,\r\n          unprojectedPoint,\r\n          ray: raycaster.ray,\r\n          camera: camera,\r\n          // Hijack stopPropagation, which just sets a flag\r\n          stopPropagation: () => {\r\n            // https://github.com/pmndrs/react-three-fiber/issues/596\r\n            // Events are not allowed to stop propagation if the pointer has been captured\r\n            const cap = internal.captured;\r\n\r\n            if (!cap || cap.find(h => h.eventObject.id === hit.eventObject.id)) {\r\n              raycastEvent.stopped = localState.stopped = true; // Propagation is stopped, remove all other hover records\r\n              // An event handler is only allowed to flush other handlers if it is hovered itself\r\n\r\n              if (internal.hovered.size && Array.from(internal.hovered.values()).find(i => i.eventObject === hit.eventObject)) {\r\n                // Objects cannot flush out higher up objects that have already caught the event\r\n                const higher = intersections.slice(0, intersections.indexOf(hit));\r\n                cancelPointer([...higher, hit]);\r\n              }\r\n            }\r\n          },\r\n          target: { ...event.target,\r\n            setPointerCapture,\r\n            releasePointerCapture\r\n          },\r\n          currentTarget: { ...event.currentTarget,\r\n            setPointerCapture,\r\n            releasePointerCapture\r\n          },\r\n          sourceEvent: event\r\n        }; // Call subscribers\r\n\r\n        callback(raycastEvent); // Event bubbling may be interrupted by stopPropagation\r\n\r\n        if (localState.stopped === true) break;\r\n      }\r\n    }\r\n\r\n    return intersections;\r\n  }\r\n\r\n  function cancelPointer(hits) {\r\n    const {\r\n      internal\r\n    } = store.getState();\r\n    Array.from(internal.hovered.values()).forEach(hoveredObj => {\r\n      // When no objects were hit or the the hovered object wasn't found underneath the cursor\r\n      // we call onPointerOut and delete the object from the hovered-elements map\r\n      if (!hits.length || !hits.find(hit => hit.object === hoveredObj.object && hit.index === hoveredObj.index)) {\r\n        const eventObject = hoveredObj.eventObject;\r\n        const handlers = eventObject.__r3f.handlers;\r\n        internal.hovered.delete(makeId(hoveredObj));\r\n\r\n        if (handlers) {\r\n          // Clear out intersects, they are outdated by now\r\n          const data = { ...hoveredObj,\r\n            intersections: hits || []\r\n          };\r\n          handlers.onPointerOut == null ? void 0 : handlers.onPointerOut(data);\r\n          handlers.onPointerLeave == null ? void 0 : handlers.onPointerLeave(data);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  const handlePointer = name => {\r\n    // Deal with cancelation\r\n    switch (name) {\r\n      case 'onPointerLeave':\r\n      case 'onPointerCancel':\r\n        return () => cancelPointer([]);\r\n\r\n      case 'onLostPointerCapture':\r\n        return () => (store.getState().internal.captured = undefined, cancelPointer([]));\r\n    } // Any other pointer goes here ...\r\n\r\n\r\n    return event => {\r\n      const {\r\n        onPointerMissed,\r\n        internal\r\n      } = store.getState();\r\n      prepareRay(event); // Get fresh intersects\r\n\r\n      const isPointerMove = name === 'onPointerMove';\r\n      const filter = isPointerMove ? filterPointerEvents : undefined;\r\n      const hits = patchIntersects(intersect(filter), event); // Take care of unhover\r\n\r\n      if (isPointerMove) cancelPointer(hits);\r\n      handleIntersects(hits, event, data => {\r\n        const eventObject = data.eventObject;\r\n        const handlers = eventObject.__r3f.handlers; // Check presence of handlers\r\n\r\n        if (!handlers) return;\r\n\r\n        if (isPointerMove) {\r\n          // Move event ...\r\n          if (handlers.onPointerOver || handlers.onPointerEnter || handlers.onPointerOut || handlers.onPointerLeave) {\r\n            // When enter or out is present take care of hover-state\r\n            const id = makeId(data);\r\n            const hoveredItem = internal.hovered.get(id);\r\n\r\n            if (!hoveredItem) {\r\n              // If the object wasn't previously hovered, book it and call its handler\r\n              internal.hovered.set(id, data);\r\n              handlers.onPointerOver == null ? void 0 : handlers.onPointerOver(data);\r\n              handlers.onPointerEnter == null ? void 0 : handlers.onPointerEnter(data);\r\n            } else if (hoveredItem.stopped) {\r\n              // If the object was previously hovered and stopped, we shouldn't allow other items to proceed\r\n              data.stopPropagation();\r\n            }\r\n          } // Call mouse move\r\n\r\n\r\n          handlers.onPointerMove == null ? void 0 : handlers.onPointerMove(data);\r\n        } else {\r\n          // All other events ...\r\n          const handler = handlers == null ? void 0 : handlers[name];\r\n\r\n          if (handler) {\r\n            // Forward all events back to their respective handlers with the exception of click events,\r\n            // which must use the initial target\r\n            if (name !== 'onClick' && name !== 'onContextMenu' && name !== 'onDoubleClick' || internal.initialHits.includes(eventObject)) {\r\n              handler(data);\r\n              pointerMissed(event, internal.interaction.filter(object => object !== eventObject));\r\n            }\r\n          }\r\n        }\r\n      }); // Save initial coordinates on pointer-down\r\n\r\n      if (name === 'onPointerDown') {\r\n        internal.initialClick = [event.offsetX, event.offsetY];\r\n        internal.initialHits = hits.map(hit => hit.eventObject);\r\n      } // If a click yields no results, pass it back to the user as a miss\r\n\r\n\r\n      if ((name === 'onClick' || name === 'onContextMenu' || name === 'onDoubleClick') && !hits.length) {\r\n        if (calculateDistance(event) <= 2) {\r\n          pointerMissed(event, internal.interaction);\r\n          if (onPointerMissed) onPointerMissed();\r\n        }\r\n      }\r\n    };\r\n  };\r\n\r\n  function pointerMissed(event, objects) {\r\n    objects.forEach(object => {\r\n      var _r3f$handlers2;\r\n\r\n      return (_r3f$handlers2 = object.__r3f.handlers) == null ? void 0 : _r3f$handlers2.onPointerMissed == null ? void 0 : _r3f$handlers2.onPointerMissed(event);\r\n    });\r\n  }\r\n\r\n  return {\r\n    handlePointer\r\n  };\r\n}\r\n\r\n// Type guard to tell a store from a portal\r\nconst isStore = def => def && !!def.getState;\r\n\r\nconst getContainer = (container, child) => {\r\n  var _container$__r3f$root, _container$__r3f;\r\n\r\n  return {\r\n    // If the container is not a root-store then it must be a THREE.Object3D into which part of the\r\n    // scene is portalled into. Now there can be two variants of this, either that object is part of\r\n    // the regular jsx tree, in which case it already has __r3f with a valid root attached, or it lies\r\n    // outside react, in which case we must take the root of the child that is about to be attached to it.\r\n    root: isStore(container) ? container : (_container$__r3f$root = (_container$__r3f = container.__r3f) == null ? void 0 : _container$__r3f.root) != null ? _container$__r3f$root : child.__r3f.root,\r\n    // The container is the eventual target into which objects are mounted, it has to be a THREE.Object3D\r\n    container: isStore(container) ? container.getState().scene : container\r\n  };\r\n};\r\n\r\nconst DEFAULT = '__default';\r\nconst EMPTY = {};\r\nconst FILTER = ['children', 'key', 'ref'];\r\nlet catalogue = {};\r\n\r\nlet extend = objects => void (catalogue = { ...catalogue,\r\n  ...objects\r\n}); // Each object in the scene carries a small LocalState descriptor\r\n\r\n\r\nfunction prepare(object, state) {\r\n  const instance = object;\r\n\r\n  if (!instance.__r3f) {\r\n    instance.__r3f = {\r\n      root: null,\r\n      memoizedProps: {},\r\n      objects: [],\r\n      ...state\r\n    };\r\n  }\r\n\r\n  return object;\r\n}\r\n\r\nfunction createRenderer(roots) {\r\n  function applyProps(instance, newProps, oldProps = {}, accumulative = false) {\r\n    var _instance$__r3f, _root$getState, _instance$__r3f2;\r\n\r\n    // Filter equals, events and reserved props\r\n    const localState = (_instance$__r3f = instance == null ? void 0 : instance.__r3f) != null ? _instance$__r3f : {};\r\n    const root = localState.root;\r\n    const rootState = (_root$getState = root == null ? void 0 : root.getState == null ? void 0 : root.getState()) != null ? _root$getState : {};\r\n    const sameProps = [];\r\n    const handlers = [];\r\n    const newMemoizedProps = {};\r\n    let i = 0;\r\n    Object.entries(newProps).forEach(([key, entry]) => {\r\n      // we don't want children, ref or key in the memoized props\r\n      if (FILTER.indexOf(key) === -1) {\r\n        newMemoizedProps[key] = entry;\r\n      }\r\n    });\r\n\r\n    if (localState.memoizedProps && localState.memoizedProps.args) {\r\n      newMemoizedProps.args = localState.memoizedProps.args;\r\n    }\r\n\r\n    if (localState.memoizedProps && localState.memoizedProps.attach) {\r\n      newMemoizedProps.attach = localState.memoizedProps.attach;\r\n    }\r\n\r\n    if (instance.__r3f) {\r\n      instance.__r3f.memoizedProps = newMemoizedProps;\r\n    }\r\n\r\n    let objectKeys = Object.keys(newProps);\r\n\r\n    for (i = 0; i < objectKeys.length; i++) {\r\n      if (is.equ(newProps[objectKeys[i]], oldProps[objectKeys[i]])) {\r\n        sameProps.push(objectKeys[i]);\r\n      } // Event-handlers ...\r\n      //   are functions, that\r\n      //   start with \"on\", and\r\n      //   contain the name \"Pointer\", \"Click\", \"DoubleClick\", \"ContextMenu\", or \"Wheel\"\r\n\r\n\r\n      if (is.fun(newProps[objectKeys[i]]) && /^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(objectKeys[i])) {\r\n        handlers.push(objectKeys[i]);\r\n      }\r\n    } // Catch props that existed, but now exist no more ...\r\n\r\n\r\n    const leftOvers = [];\r\n\r\n    if (accumulative) {\r\n      objectKeys = Object.keys(oldProps);\r\n\r\n      for (i = 0; i < objectKeys.length; i++) {\r\n        if (!newProps.hasOwnProperty(objectKeys[i])) {\r\n          leftOvers.push(objectKeys[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    const toFilter = [...sameProps, ...FILTER]; // Instances use \"object\" as a reserved identifier\r\n\r\n    if ((_instance$__r3f2 = instance.__r3f) != null && _instance$__r3f2.instance) toFilter.push('object');\r\n    const filteredProps = { ...newProps\r\n    }; // Removes sameProps and reserved props from newProps\r\n\r\n    objectKeys = Object.keys(filteredProps);\r\n\r\n    for (i = 0; i < objectKeys.length; i++) {\r\n      if (toFilter.indexOf(objectKeys[i]) > -1) {\r\n        delete filteredProps[objectKeys[i]];\r\n      }\r\n    } // Collect all new props\r\n\r\n\r\n    const filteredPropsEntries = Object.entries(filteredProps); // Prepend left-overs so they can be reset or removed\r\n    // Left-overs must come first!\r\n\r\n    for (i = 0; i < leftOvers.length; i++) {\r\n      if (leftOvers[i] !== 'children') {\r\n        filteredPropsEntries.unshift([leftOvers[i], DEFAULT + 'remove']);\r\n      }\r\n    }\r\n\r\n    if (filteredPropsEntries.length > 0) {\r\n      filteredPropsEntries.forEach(([key, value]) => {\r\n        if (!handlers.includes(key)) {\r\n          let currentInstance = instance;\r\n          let targetProp = currentInstance[key];\r\n\r\n          if (key.includes('-')) {\r\n            const entries = key.split('-');\r\n            targetProp = entries.reduce((acc, key) => acc[key], instance); // If the target is atomic, it forces us to switch the root\r\n\r\n            if (!(targetProp && targetProp.set)) {\r\n              const [name, ...reverseEntries] = entries.reverse();\r\n              currentInstance = reverseEntries.reverse().reduce((acc, key) => acc[key], instance);\r\n              key = name;\r\n            }\r\n          } // https://github.com/mrdoob/three.js/issues/21209\r\n          // HMR/fast-refresh relies on the ability to cancel out props, but threejs\r\n          // has no means to do this. Hence we curate a small collection of value-classes\r\n          // with their respective constructor/set arguments\r\n          // For removed props, try to set default values, if possible\r\n\r\n\r\n          if (value === DEFAULT + 'remove') {\r\n            if (targetProp && targetProp.constructor) {\r\n              // use the prop constructor to find the default it should be\r\n              value = new targetProp.constructor(newMemoizedProps.args);\r\n            } else if (currentInstance.constructor) {\r\n              // create a blank slate of the instance and copy the particular parameter.\r\n              // @ts-ignore\r\n              const defaultClassCall = new currentInstance.constructor(currentInstance.__r3f.memoizedProps.args);\r\n              value = defaultClassCall[targetProp]; // destory the instance\r\n\r\n              if (defaultClassCall.dispose) {\r\n                defaultClassCall.dispose();\r\n              }\r\n            } else {\r\n              // instance does not have constructor, just set it to 0\r\n              value = 0;\r\n            }\r\n          } // Special treatment for objects with support for set/copy, and layers\r\n\r\n\r\n          if (targetProp && targetProp.set && (targetProp.copy || targetProp instanceof THREE.Layers)) {\r\n            // If value is an array\r\n            if (Array.isArray(value)) {\r\n              if (targetProp.fromArray) {\r\n                targetProp.fromArray(value);\r\n              } else {\r\n                targetProp.set(...value);\r\n              }\r\n            } // Test again target.copy(class) next ...\r\n            else if (targetProp.copy && value && value.constructor && targetProp.constructor.name === value.constructor.name) {\r\n                targetProp.copy(value);\r\n              } // If nothing else fits, just set the single value, ignore undefined\r\n              // https://github.com/react-spring/react-three-fiber/issues/274\r\n              else if (value !== undefined) {\r\n                  const isColor = targetProp instanceof THREE.Color; // Allow setting array scalars\r\n\r\n                  if (!isColor && targetProp.setScalar) targetProp.setScalar(value); // Layers have no copy function, we must therefore copy the mask property\r\n                  else if (targetProp instanceof THREE.Layers && value instanceof THREE.Layers) targetProp.mask = value.mask; // Otherwise just set ...\r\n                    else targetProp.set(value); // Auto-convert sRGB colors, for now ...\r\n                  // https://github.com/react-spring/react-three-fiber/issues/344\r\n\r\n                  if (!rootState.linear && isColor) targetProp.convertSRGBToLinear();\r\n                } // Else, just overwrite the value\r\n\r\n          } else {\r\n            currentInstance[key] = value; // Auto-convert sRGB textures, for now ...\r\n            // https://github.com/react-spring/react-three-fiber/issues/344\r\n\r\n            if (!rootState.linear && currentInstance[key] instanceof THREE.Texture) currentInstance[key].encoding = THREE.sRGBEncoding;\r\n          }\r\n\r\n          invalidateInstance(instance);\r\n        }\r\n      }); // Preemptively delete the instance from the containers interaction\r\n\r\n      if (accumulative && root && instance.raycast && localState.handlers) {\r\n        localState.handlers = undefined;\r\n        const index = rootState.internal.interaction.indexOf(instance);\r\n        if (index > -1) rootState.internal.interaction.splice(index, 1);\r\n      } // Prep interaction handlers\r\n\r\n\r\n      if (handlers.length) {\r\n        if (accumulative && root && instance.raycast) {\r\n          rootState.internal.interaction.push(instance);\r\n        } // Add handlers to the instances handler-map\r\n\r\n\r\n        localState.handlers = handlers.reduce((acc, key) => ({ ...acc,\r\n          [key]: newProps[key]\r\n        }), {});\r\n      } // Call the update lifecycle when it is being updated, but only when it is part of the scene\r\n\r\n\r\n      if (instance.parent) updateInstance(instance);\r\n    }\r\n  }\r\n\r\n  function invalidateInstance(instance) {\r\n    var _instance$__r3f3, _instance$__r3f3$root;\r\n\r\n    const state = (_instance$__r3f3 = instance.__r3f) == null ? void 0 : (_instance$__r3f3$root = _instance$__r3f3.root) == null ? void 0 : _instance$__r3f3$root.getState == null ? void 0 : _instance$__r3f3$root.getState();\r\n    if (state && state.internal.frames === 0) state.invalidate();\r\n  }\r\n\r\n  function updateInstance(instance) {\r\n    instance.onUpdate == null ? void 0 : instance.onUpdate(instance);\r\n  }\r\n\r\n  function createInstance(type, {\r\n    args = [],\r\n    ...props\r\n  }, root, hostContext, internalInstanceHandle) {\r\n    let name = `${type[0].toUpperCase()}${type.slice(1)}`;\r\n    let instance; // https://github.com/facebook/react/issues/17147\r\n    // Portals do not give us a root, they are themselves treated as a root by the reconciler\r\n    // In order to figure out the actual root we have to climb through fiber internals :(\r\n\r\n    if (!isStore(root) && internalInstanceHandle) {\r\n      const fn = node => {\r\n        if (!node.return) return node.stateNode && node.stateNode.containerInfo;else return fn(node.return);\r\n      };\r\n\r\n      root = fn(internalInstanceHandle);\r\n    } // Assert that by now we have a valid root\r\n\r\n\r\n    if (!root || !isStore(root)) throw `No valid root for ${name}!`;\r\n\r\n    if (type === 'primitive') {\r\n      if (props.object === undefined) throw `Primitives without 'object' are invalid!`;\r\n      const object = props.object;\r\n      instance = prepare(object, {\r\n        root,\r\n        instance: true\r\n      });\r\n    } else {\r\n      const target = catalogue[name] || THREE[name];\r\n      if (!target) throw `${name} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;\r\n      const isArgsArr = is.arr(args); // Instanciate new object, link it to the root\r\n\r\n      instance = prepare(isArgsArr ? new target(...args) : new target(args), {\r\n        root,\r\n        // append memoized props with args so it's not forgotten\r\n        memoizedProps: {\r\n          args: isArgsArr && args.length === 0 ? null : args\r\n        }\r\n      });\r\n    } // Auto-attach geometries and materials\r\n\r\n\r\n    if (name.endsWith('Geometry')) {\r\n      props = {\r\n        attach: 'geometry',\r\n        ...props\r\n      };\r\n    } else if (name.endsWith('Material')) {\r\n      props = {\r\n        attach: 'material',\r\n        ...props\r\n      };\r\n    } // It should NOT call onUpdate on object instanciation, because it hasn't been added to the\r\n    // view yet. If the callback relies on references for instance, they won't be ready yet, this is\r\n    // why it passes \"true\" here\r\n\r\n\r\n    applyProps(instance, props, {});\r\n    return instance;\r\n  }\r\n\r\n  function appendChild(parentInstance, child) {\r\n    if (child) {\r\n      if (child.isObject3D) {\r\n        parentInstance.add(child);\r\n      } else {\r\n        parentInstance.__r3f.objects.push(child);\r\n\r\n        child.parent = parentInstance; // The attach attribute implies that the object attaches itself on the parent\r\n\r\n        if (child.attachArray) {\r\n          if (!is.arr(parentInstance[child.attachArray])) parentInstance[child.attachArray] = [];\r\n          parentInstance[child.attachArray].push(child);\r\n        } else if (child.attachObject) {\r\n          if (!is.obj(parentInstance[child.attachObject[0]])) parentInstance[child.attachObject[0]] = {};\r\n          parentInstance[child.attachObject[0]][child.attachObject[1]] = child;\r\n        } else if (child.attach) {\r\n          parentInstance[child.attach] = child;\r\n        }\r\n      }\r\n\r\n      updateInstance(child);\r\n      invalidateInstance(child);\r\n    }\r\n  }\r\n\r\n  function insertBefore(parentInstance, child, beforeChild) {\r\n    if (child) {\r\n      if (child.isObject3D) {\r\n        child.parent = parentInstance;\r\n        child.dispatchEvent({\r\n          type: 'added'\r\n        });\r\n        const restSiblings = parentInstance.children.filter(sibling => sibling !== child); // TODO: the order is out of whack if data objects are present, has to be recalculated\r\n\r\n        const index = restSiblings.indexOf(beforeChild);\r\n        parentInstance.children = [...restSiblings.slice(0, index), child, ...restSiblings.slice(index)];\r\n        updateInstance(child);\r\n      } else {\r\n        appendChild(parentInstance, child);\r\n      } // TODO: order!!!\r\n\r\n\r\n      invalidateInstance(child);\r\n    }\r\n  }\r\n\r\n  function removeRecursive(array, parent, dispose = false) {\r\n    if (array) [...array].forEach(child => removeChild(parent, child, dispose));\r\n  }\r\n\r\n  function removeChild(parentInstance, child, dispose) {\r\n    if (child) {\r\n      var _child$__r3f2;\r\n\r\n      if (child.isObject3D) {\r\n        var _child$__r3f;\r\n\r\n        parentInstance.remove(child); // Remove interactivity\r\n\r\n        if ((_child$__r3f = child.__r3f) != null && _child$__r3f.root) {\r\n          removeInteractivity(child.__r3f.root, child);\r\n        }\r\n      } else {\r\n        child.parent = null;\r\n        if (parentInstance.__r3f.objects) parentInstance.__r3f.objects = parentInstance.__r3f.objects.filter(x => x !== child); // Remove attachment\r\n\r\n        if (child.attachArray) {\r\n          parentInstance[child.attachArray] = parentInstance[child.attachArray].filter(x => x !== child);\r\n        } else if (child.attachObject) {\r\n          delete parentInstance[child.attachObject[0]][child.attachObject[1]];\r\n        } else if (child.attach) {\r\n          parentInstance[child.attach] = null;\r\n        }\r\n      } // Allow objects to bail out of recursive dispose alltogether by passing dispose={null}\r\n      // Never dispose of primitives because their state may be kept outside of React!\r\n      // In order for an object to be able to dispose it has to have\r\n      //   - a dispose method,\r\n      //   - it cannot be an <instance object={...} />\r\n      //   - it cannot be a THREE.Scene, because three has broken it's own api\r\n      //\r\n      // Since disposal is recursive, we can check the optional dispose arg, which will be undefined\r\n      // when the reconciler calls it, but then carry our own check recursively\r\n\r\n\r\n      const isInstance = (_child$__r3f2 = child.__r3f) == null ? void 0 : _child$__r3f2.instance;\r\n      const shouldDispose = dispose === undefined ? child.dispose !== null && !isInstance : dispose; // Remove nested child objects. Primitives should not have objects and children that are\r\n      // attached to them declaratively ...\r\n\r\n      if (!isInstance) {\r\n        var _child$__r3f3;\r\n\r\n        removeRecursive((_child$__r3f3 = child.__r3f) == null ? void 0 : _child$__r3f3.objects, child, shouldDispose);\r\n        removeRecursive(child.children, child, shouldDispose);\r\n      } // Remove references\r\n\r\n\r\n      if (child.__r3f) {\r\n        delete child.__r3f.root;\r\n        delete child.__r3f.objects;\r\n        delete child.__r3f.handlers;\r\n        delete child.__r3f.memoizedProps;\r\n        delete child.__r3f;\r\n      } // Dispose item whenever the reconciler feels like it\r\n\r\n\r\n      if (shouldDispose && child.dispose && child.type !== 'Scene') {\r\n        unstable_runWithPriority(unstable_IdlePriority, () => child.dispose());\r\n      }\r\n\r\n      invalidateInstance(parentInstance);\r\n    }\r\n  }\r\n\r\n  function switchInstance(instance, type, newProps, fiber) {\r\n    const parent = instance.parent;\r\n    if (!parent) return;\r\n    const newInstance = createInstance(type, newProps, instance.__r3f.root);\r\n    removeChild(parent, instance);\r\n    appendChild(parent, newInstance) // This evil hack switches the react-internal fiber node\r\n    // https://github.com/facebook/react/issues/14983\r\n    // https://github.com/facebook/react/pull/15021\r\n    ;\r\n    [fiber, fiber.alternate].forEach(fiber => {\r\n      if (fiber !== null) {\r\n        fiber.stateNode = newInstance;\r\n\r\n        if (fiber.ref) {\r\n          if (typeof fiber.ref === 'function') fiber.ref(newInstance);else fiber.ref.current = newInstance;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  const reconciler = Reconciler({\r\n    now: unstable_now,\r\n    createInstance,\r\n    removeChild,\r\n    appendChild,\r\n    appendInitialChild: appendChild,\r\n    insertBefore,\r\n    warnsIfNotActing: true,\r\n    supportsMutation: true,\r\n    isPrimaryRenderer: false,\r\n    // @ts-ignore\r\n    scheduleTimeout: is.fun(setTimeout) ? setTimeout : undefined,\r\n    // @ts-ignore\r\n    cancelTimeout: is.fun(clearTimeout) ? clearTimeout : undefined,\r\n    // @ts-ignore\r\n    setTimeout: is.fun(setTimeout) ? setTimeout : undefined,\r\n    // @ts-ignore\r\n    clearTimeout: is.fun(clearTimeout) ? clearTimeout : undefined,\r\n    noTimeout: -1,\r\n    appendChildToContainer: (parentInstance, child) => {\r\n      const {\r\n        container,\r\n        root\r\n      } = getContainer(parentInstance, child); // Link current root to the default scene\r\n\r\n      container.__r3f.root = root;\r\n      appendChild(container, child);\r\n    },\r\n    removeChildFromContainer: (parentInstance, child) => {\r\n      const {\r\n        container\r\n      } = getContainer(parentInstance, child);\r\n      removeChild(container, child);\r\n    },\r\n    insertInContainerBefore: (parentInstance, child, beforeChild) => {\r\n      const {\r\n        container\r\n      } = getContainer(parentInstance, child);\r\n      insertBefore(container, child, beforeChild);\r\n    },\r\n\r\n    commitUpdate(instance, updatePayload, type, oldProps, newProps, fiber) {\r\n      if (instance.__r3f.instance && newProps.object && newProps.object !== instance) {\r\n        // <instance object={...} /> where the object reference has changed\r\n        switchInstance(instance, type, newProps, fiber);\r\n      } else {\r\n        // This is a data object, let's extract critical information about it\r\n        const {\r\n          args: argsNew = [],\r\n          ...restNew\r\n        } = newProps;\r\n        const {\r\n          args: argsOld = [],\r\n          ...restOld\r\n        } = oldProps; // If it has new props or arguments, then it needs to be re-instanciated\r\n\r\n        const hasNewArgs = argsNew.some((value, index) => is.obj(value) ? Object.entries(value).some(([key, val]) => val !== argsOld[index][key]) : value !== argsOld[index]);\r\n\r\n        if (hasNewArgs) {\r\n          // Next we create a new instance and append it again\r\n          switchInstance(instance, type, newProps, fiber);\r\n        } else {\r\n          // Otherwise just overwrite props\r\n          applyProps(instance, restNew, restOld, true);\r\n        }\r\n      }\r\n    },\r\n\r\n    hideInstance(instance) {\r\n      if (instance.isObject3D) {\r\n        instance.visible = false;\r\n        invalidateInstance(instance);\r\n      }\r\n    },\r\n\r\n    unhideInstance(instance, props) {\r\n      if (instance.isObject3D && props.visible == null || props.visible) {\r\n        instance.visible = true;\r\n        invalidateInstance(instance);\r\n      }\r\n    },\r\n\r\n    hideTextInstance() {\r\n      throw new Error('Text is not allowed in the R3F tree.');\r\n    },\r\n\r\n    getPublicInstance(instance) {\r\n      // TODO: might fix switchInstance (?)\r\n      return instance;\r\n    },\r\n\r\n    getRootHostContext(rootContainer) {\r\n      return EMPTY;\r\n    },\r\n\r\n    getChildHostContext(parentHostContext) {\r\n      return EMPTY;\r\n    },\r\n\r\n    createTextInstance() {},\r\n\r\n    finalizeInitialChildren(instance) {\r\n      // https://github.com/facebook/react/issues/20271\r\n      // Returning true will trigger commitMount\r\n      return !!instance.__r3f.handlers;\r\n    },\r\n\r\n    commitMount(instance)\r\n    /*, type, props*/\r\n    {\r\n      // https://github.com/facebook/react/issues/20271\r\n      // This will make sure events are only added once to the central container\r\n      if (instance.raycast && instance.__r3f.handlers) instance.__r3f.root.getState().internal.interaction.push(instance);\r\n    },\r\n\r\n    prepareUpdate() {\r\n      return EMPTY;\r\n    },\r\n\r\n    shouldDeprioritizeSubtree() {\r\n      return false;\r\n    },\r\n\r\n    prepareForCommit() {\r\n      return null;\r\n    },\r\n\r\n    preparePortalMount(...args) {// noop\r\n    },\r\n\r\n    resetAfterCommit() {// noop\r\n    },\r\n\r\n    shouldSetTextContent() {\r\n      return false;\r\n    },\r\n\r\n    clearContainer() {\r\n      return false;\r\n    }\r\n\r\n  });\r\n  return {\r\n    reconciler,\r\n    applyProps\r\n  };\r\n}\r\n\r\nconst isRenderer = def => def && !!def.render;\r\nconst isOrthographicCamera = def => def && def.isOrthographicCamera;\r\nconst context = /*#__PURE__*/React.createContext(null);\r\n\r\nconst createStore = (applyProps, invalidate, advance, props) => {\r\n  const {\r\n    gl,\r\n    size,\r\n    shadows = false,\r\n    linear = false,\r\n    flat = false,\r\n    vr = false,\r\n    orthographic = false,\r\n    frameloop = 'always',\r\n    dpr = 1,\r\n    performance,\r\n    clock = new THREE.Clock(),\r\n    raycaster: raycastOptions,\r\n    camera: cameraOptions,\r\n    onPointerMissed\r\n  } = props; // Set shadowmap\r\n\r\n  if (shadows) {\r\n    gl.shadowMap.enabled = true;\r\n    if (typeof shadows === 'object') Object.assign(gl.shadowMap, shadows);else gl.shadowMap.type = THREE.PCFSoftShadowMap;\r\n  } // Set color management\r\n\r\n\r\n  if (!linear) {\r\n    if (!flat) gl.toneMapping = THREE.ACESFilmicToneMapping;\r\n    gl.outputEncoding = THREE.sRGBEncoding;\r\n  }\r\n\r\n  const rootState = create((set, get) => {\r\n    // Create custom raycaster\r\n    const raycaster = new THREE.Raycaster();\r\n    const {\r\n      params,\r\n      ...options\r\n    } = raycastOptions || {};\r\n    applyProps(raycaster, {\r\n      enabled: true,\r\n      ...options,\r\n      params: { ...raycaster.params,\r\n        ...params\r\n      }\r\n    }, {}); // Create default camera\r\n\r\n    const isCamera = cameraOptions instanceof THREE.Camera;\r\n    const camera = isCamera ? cameraOptions : orthographic ? new THREE.OrthographicCamera(0, 0, 0, 0, 0.1, 1000) : new THREE.PerspectiveCamera(75, 0, 0.1, 1000);\r\n\r\n    if (!isCamera) {\r\n      camera.position.z = 5;\r\n      if (cameraOptions) applyProps(camera, cameraOptions, {}); // Always look at center by default\r\n\r\n      camera.lookAt(0, 0, 0);\r\n    }\r\n\r\n    function setDpr(dpr) {\r\n      return Array.isArray(dpr) ? Math.min(Math.max(dpr[0], window.devicePixelRatio), dpr[1]) : dpr;\r\n    }\r\n\r\n    const initialDpr = setDpr(dpr);\r\n    const position = new THREE.Vector3();\r\n    const defaultTarget = new THREE.Vector3();\r\n\r\n    function getCurrentViewport(camera = get().camera, target = defaultTarget, size = get().size) {\r\n      const {\r\n        width,\r\n        height\r\n      } = size;\r\n      const aspect = width / height;\r\n      const distance = camera.getWorldPosition(position).distanceTo(target);\r\n\r\n      if (isOrthographicCamera(camera)) {\r\n        return {\r\n          width: width / camera.zoom,\r\n          height: height / camera.zoom,\r\n          factor: 1,\r\n          distance,\r\n          aspect\r\n        };\r\n      } else {\r\n        const fov = camera.fov * Math.PI / 180; // convert vertical fov to radians\r\n\r\n        const h = 2 * Math.tan(fov / 2) * distance; // visible height\r\n\r\n        const w = h * (width / height);\r\n        return {\r\n          width: w,\r\n          height: h,\r\n          factor: width / w,\r\n          distance,\r\n          aspect\r\n        };\r\n      }\r\n    }\r\n\r\n    let performanceTimeout = undefined;\r\n\r\n    const setPerformanceCurrent = current => set(state => ({\r\n      performance: { ...state.performance,\r\n        current\r\n      }\r\n    }));\r\n\r\n    return {\r\n      gl,\r\n      set,\r\n      get,\r\n      invalidate: () => invalidate(get()),\r\n      advance: (timestamp, runGlobalEffects) => advance(timestamp, runGlobalEffects, get()),\r\n      linear,\r\n      flat,\r\n      scene: prepare(new THREE.Scene()),\r\n      camera,\r\n      raycaster,\r\n      clock,\r\n      mouse: new THREE.Vector2(),\r\n      vr,\r\n      frameloop,\r\n      onPointerMissed,\r\n      performance: {\r\n        current: 1,\r\n        min: 0.5,\r\n        max: 1,\r\n        debounce: 200,\r\n        ...performance,\r\n        regress: () => {\r\n          const state = get(); // Clear timeout\r\n\r\n          if (performanceTimeout) clearTimeout(performanceTimeout); // Set lower bound performance\r\n\r\n          if (state.performance.current !== state.performance.min) setPerformanceCurrent(state.performance.min); // Go back to upper bound performance after a while unless something regresses meanwhile\r\n\r\n          performanceTimeout = setTimeout(() => setPerformanceCurrent(get().performance.max), state.performance.debounce);\r\n        }\r\n      },\r\n      size: {\r\n        width: 0,\r\n        height: 0\r\n      },\r\n      viewport: {\r\n        initialDpr,\r\n        dpr: initialDpr,\r\n        width: 0,\r\n        height: 0,\r\n        aspect: 0,\r\n        distance: 0,\r\n        factor: 0,\r\n        getCurrentViewport\r\n      },\r\n      setSize: (width, height) => {\r\n        const size = {\r\n          width,\r\n          height\r\n        };\r\n        set(state => ({\r\n          size,\r\n          viewport: { ...state.viewport,\r\n            ...getCurrentViewport(camera, defaultTarget, size)\r\n          }\r\n        }));\r\n      },\r\n      setDpr: dpr => set(state => ({\r\n        viewport: { ...state.viewport,\r\n          dpr: setDpr(dpr)\r\n        }\r\n      })),\r\n      events: {\r\n        connected: false\r\n      },\r\n      internal: {\r\n        active: false,\r\n        priority: 0,\r\n        frames: 0,\r\n        lastProps: props,\r\n        interaction: [],\r\n        hovered: new Map(),\r\n        subscribers: [],\r\n        captured: undefined,\r\n        initialClick: [0, 0],\r\n        initialHits: [],\r\n        subscribe: (ref, priority = 0) => {\r\n          set(({\r\n            internal\r\n          }) => ({\r\n            internal: { ...internal,\r\n              // If this subscription was given a priority, it takes rendering into its own hands\r\n              // For that reason we switch off automatic rendering and increase the manual flag\r\n              // As long as this flag is positive (there could be multiple render subscription)\r\n              // ..there can be no internal rendering at all\r\n              priority: internal.priority + (priority ? 1 : 0),\r\n              // Register subscriber and sort layers from lowest to highest, meaning,\r\n              // highest priority renders last (on top of the other frames)\r\n              subscribers: [...internal.subscribers, {\r\n                ref,\r\n                priority\r\n              }].sort((a, b) => a.priority - b.priority)\r\n            }\r\n          }));\r\n          return () => {\r\n            set(({\r\n              internal\r\n            }) => ({\r\n              internal: { ...internal,\r\n                // Decrease manual flag if this subscription had a priority\r\n                priority: internal.priority - (priority ? 1 : 0),\r\n                // Remove subscriber from list\r\n                subscribers: internal.subscribers.filter(s => s.ref !== ref)\r\n              }\r\n            }));\r\n          };\r\n        }\r\n      }\r\n    };\r\n  }); // Resize camera and renderer on changes to size and pixelratio\r\n\r\n  rootState.subscribe(() => {\r\n    const {\r\n      camera,\r\n      size,\r\n      viewport,\r\n      internal\r\n    } = rootState.getState(); // https://github.com/pmndrs/react-three-fiber/issues/92\r\n    // Do not mess with the camera if it belongs to the user\r\n\r\n    if (!(internal.lastProps.camera instanceof THREE.Camera)) {\r\n      if (isOrthographicCamera(camera)) {\r\n        camera.left = size.width / -2;\r\n        camera.right = size.width / 2;\r\n        camera.top = size.height / 2;\r\n        camera.bottom = size.height / -2;\r\n      } else {\r\n        camera.aspect = size.width / size.height;\r\n      }\r\n\r\n      camera.updateProjectionMatrix(); // https://github.com/pmndrs/react-three-fiber/issues/178\r\n      // Update matrix world since the renderer is a frame late\r\n\r\n      camera.updateMatrixWorld();\r\n    } // Update renderer\r\n\r\n\r\n    gl.setPixelRatio(viewport.dpr);\r\n    gl.setSize(size.width, size.height);\r\n  }, state => [state.viewport.dpr, state.size], shallow);\r\n  const state = rootState.getState(); // Update size\r\n\r\n  if (size) state.setSize(size.width, size.height); // Invalidate on any change\r\n\r\n  rootState.subscribe(state => invalidate(state)); // Return root state\r\n\r\n  return rootState;\r\n};\r\n\r\nfunction createSubs(callback, subs) {\r\n  const index = subs.length;\r\n  subs.push(callback);\r\n  return () => void subs.splice(index, 1);\r\n}\r\n\r\nlet i;\r\nlet globalEffects = [];\r\nlet globalAfterEffects = [];\r\nlet globalTailEffects = [];\r\nconst addEffect = callback => createSubs(callback, globalEffects);\r\nconst addAfterEffect = callback => createSubs(callback, globalAfterEffects);\r\nconst addTail = callback => createSubs(callback, globalTailEffects);\r\n\r\nfunction run(effects, timestamp) {\r\n  for (i = 0; i < effects.length; i++) effects[i](timestamp);\r\n}\r\n\r\nfunction render$1(timestamp, state) {\r\n  // Run local effects\r\n  const delta = state.clock.getDelta(); // Call subscribers (useFrame)\r\n\r\n  for (i = 0; i < state.internal.subscribers.length; i++) state.internal.subscribers[i].ref.current(state, delta); // Render content\r\n\r\n\r\n  if (!state.internal.priority && state.gl.render) state.gl.render(state.scene, state.camera); // Decrease frame count\r\n\r\n  state.internal.frames = Math.max(0, state.internal.frames - 1);\r\n  return state.frameloop === 'always' ? 1 : state.internal.frames;\r\n}\r\n\r\nfunction createLoop(roots) {\r\n  let running = false;\r\n  let repeat;\r\n\r\n  function loop(timestamp) {\r\n    running = true;\r\n    repeat = 0; // Run effects\r\n\r\n    run(globalEffects, timestamp); // Render all roots\r\n\r\n    roots.forEach(root => {\r\n      const state = root.store.getState(); // If the frameloop is invalidated, do not run another frame\r\n\r\n      if (state.internal.active && (state.frameloop === 'always' || state.internal.frames > 0)) repeat += render$1(timestamp, state);\r\n    }); // Run after-effects\r\n\r\n    run(globalAfterEffects, timestamp); // Keep on looping if anything invalidates the frameloop\r\n\r\n    if (repeat > 0) return requestAnimationFrame(loop); // Tail call effects, they are called when rendering stops\r\n    else run(globalTailEffects, timestamp); // Flag end of operation\r\n\r\n    running = false;\r\n  }\r\n\r\n  function invalidate(state) {\r\n    if (!state) return roots.forEach(root => invalidate(root.store.getState()));\r\n    if (state.vr || !state.internal.active || state.frameloop === 'never') return; // Increase frames, do not go higher than 60\r\n\r\n    state.internal.frames = Math.min(60, state.internal.frames + 1); // If the render-loop isn't active, start it\r\n\r\n    if (!running) {\r\n      running = true;\r\n      requestAnimationFrame(loop);\r\n    }\r\n  }\r\n\r\n  function advance(timestamp, runGlobalEffects = true, state) {\r\n    if (runGlobalEffects) run(globalEffects, timestamp);\r\n    if (!state) roots.forEach(root => render$1(timestamp, root.store.getState()));else render$1(timestamp, state);\r\n    if (runGlobalEffects) run(globalAfterEffects, timestamp);\r\n  }\r\n\r\n  return {\r\n    loop,\r\n    invalidate,\r\n    advance\r\n  };\r\n}\r\n\r\nfunction createPointerEvents(store) {\r\n  const {\r\n    handlePointer\r\n  } = createEvents(store);\r\n  const names = {\r\n    onClick: 'click',\r\n    onContextMenu: 'contextmenu',\r\n    onDoubleClick: 'dblclick',\r\n    onWheel: 'wheel',\r\n    onPointerDown: 'pointerdown',\r\n    onPointerUp: 'pointerup',\r\n    onPointerLeave: 'pointerleave',\r\n    onPointerMove: 'pointermove',\r\n    onPointerCancel: 'pointercancel',\r\n    onLostPointerCapture: 'lostpointercapture'\r\n  };\r\n  return {\r\n    connected: false,\r\n    handlers: Object.keys(names).reduce((acc, key) => ({ ...acc,\r\n      [key]: handlePointer(key)\r\n    }), {}),\r\n    connect: target => {\r\n      var _events$handlers;\r\n\r\n      const {\r\n        set,\r\n        events\r\n      } = store.getState();\r\n      events.disconnect == null ? void 0 : events.disconnect();\r\n      set(state => ({\r\n        events: { ...state.events,\r\n          connected: target\r\n        }\r\n      }));\r\n      Object.entries((_events$handlers = events == null ? void 0 : events.handlers) != null ? _events$handlers : []).forEach(([name, event]) => target.addEventListener(names[name], event, {\r\n        passive: true\r\n      }));\r\n    },\r\n    disconnect: () => {\r\n      const {\r\n        set,\r\n        events\r\n      } = store.getState();\r\n\r\n      if (events.connected) {\r\n        var _events$handlers2;\r\n\r\n        Object.entries((_events$handlers2 = events.handlers) != null ? _events$handlers2 : []).forEach(([name, event]) => {\r\n          if (events && events.connected instanceof HTMLElement) {\r\n            events.connected.removeEventListener(names[name], event);\r\n          }\r\n        });\r\n        set(state => ({\r\n          events: { ...state.events,\r\n            connected: false\r\n          }\r\n        }));\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\n// React currently throws a warning when using useLayoutEffect on the server.\r\n// To get around it, we can conditionally useEffect on the server (no-op) and\r\n// useLayoutEffect in the browser.\r\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\r\nfunction Canvas({\r\n  children,\r\n  tabIndex,\r\n  resize,\r\n  id,\r\n  style,\r\n  className,\r\n  events,\r\n  ...props\r\n}) {\r\n  const [ref, size] = useMeasure({\r\n    scroll: true,\r\n    debounce: {\r\n      scroll: 50,\r\n      resize: 0\r\n    },\r\n    ...resize\r\n  });\r\n  const canvas = React.useRef(null);\r\n  useIsomorphicLayoutEffect(() => {\r\n    if (size.width > 0 && size.height > 0) {\r\n      render(children, canvas.current, { ...props,\r\n        size,\r\n        events: events || createPointerEvents\r\n      });\r\n    }\r\n  }, [size, children]);\r\n  React.useEffect(() => {\r\n    const container = canvas.current;\r\n    return () => unmountComponentAtNode(container);\r\n  }, []);\r\n  return /*#__PURE__*/React.createElement(\"div\", {\r\n    ref: ref,\r\n    id: id,\r\n    className: className,\r\n    tabIndex: tabIndex,\r\n    style: {\r\n      position: 'relative',\r\n      width: '100%',\r\n      height: '100%',\r\n      overflow: 'hidden',\r\n      ...style\r\n    }\r\n  }, /*#__PURE__*/React.createElement(\"canvas\", {\r\n    ref: canvas,\r\n    style: {\r\n      display: 'block'\r\n    }\r\n  }));\r\n}\r\n\r\nfunction useThree(selector = state => state, equalityFn) {\r\n  const useStore = React.useContext(context);\r\n  if (!useStore) throw `R3F hooks can only be used within the Canvas component!`;\r\n  return useStore(selector, equalityFn);\r\n}\r\nfunction useFrame(callback, renderPriority = 0) {\r\n  const {\r\n    subscribe\r\n  } = React.useContext(context).getState().internal; // Update ref\r\n\r\n  const ref = React.useRef(callback);\r\n  React.useLayoutEffect(() => void (ref.current = callback), [callback]); // Subscribe/unsub\r\n\r\n  React.useEffect(() => {\r\n    const unsubscribe = subscribe(ref, renderPriority);\r\n    return () => unsubscribe();\r\n  }, [renderPriority, subscribe]);\r\n  return null;\r\n}\r\n\r\nfunction buildGraph(object) {\r\n  const data = {\r\n    nodes: {},\r\n    materials: {}\r\n  };\r\n\r\n  if (object) {\r\n    object.traverse(obj => {\r\n      if (obj.name) {\r\n        data.nodes[obj.name] = obj;\r\n      }\r\n\r\n      if (obj.material && !data.materials[obj.material.name]) {\r\n        data.materials[obj.material.name] = obj.material;\r\n      }\r\n    });\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nfunction useGraph(object) {\r\n  return React.useMemo(() => buildGraph(object), [object]);\r\n}\r\n\r\nfunction loadingFn(extensions, onProgress) {\r\n  return function (Proto, ...input) {\r\n    // Construct new loader and run extensions\r\n    const loader = new Proto();\r\n    if (extensions) extensions(loader); // Go through the urls and load them\r\n\r\n    return Promise.all(input.map(input => new Promise((res, reject) => loader.load(input, data => {\r\n      if (data.scene) Object.assign(data, buildGraph(data.scene));\r\n      res(data);\r\n    }, onProgress, error => {\r\n      var _error$message;\r\n\r\n      return reject((_error$message = error.message) != null ? _error$message : `failure loading ${input}`);\r\n    }))));\r\n  };\r\n}\r\n\r\nfunction useLoader(Proto, input, extensions, onProgress) {\r\n  // Use suspense to load async assets\r\n  const keys = Array.isArray(input) ? input : [input];\r\n  const results = useAsset(loadingFn(extensions, onProgress), Proto, ...keys); // Return the object/s\r\n\r\n  return Array.isArray(input) ? results : results[0];\r\n}\r\n\r\nuseLoader.preload = function (Proto, input, extensions) {\r\n  const keys = Array.isArray(input) ? input : [input];\r\n  return useAsset.preload(loadingFn(extensions), Proto, ...keys);\r\n};\r\n\r\nconst roots = new Map();\r\nconst modes = ['legacy', 'blocking', 'concurrent'];\r\nconst {\r\n  invalidate,\r\n  advance\r\n} = createLoop(roots);\r\nconst {\r\n  reconciler,\r\n  applyProps\r\n} = createRenderer();\r\n\r\nconst createRendererInstance = (gl, canvas) => isRenderer(gl) ? gl : new THREE.WebGLRenderer({\r\n  powerPreference: 'high-performance',\r\n  canvas: canvas,\r\n  antialias: true,\r\n  alpha: true,\r\n  ...gl\r\n});\r\n\r\nfunction render(element, canvas, {\r\n  gl,\r\n  size,\r\n  mode = modes[1],\r\n  events,\r\n  onCreated,\r\n  ...props\r\n} = {}) {\r\n  var _store;\r\n\r\n  // Allow size to take on container bounds initially\r\n  if (!size) {\r\n    var _canvas$parentElement, _canvas$parentElement2, _canvas$parentElement3, _canvas$parentElement4;\r\n\r\n    size = {\r\n      width: (_canvas$parentElement = (_canvas$parentElement2 = canvas.parentElement) == null ? void 0 : _canvas$parentElement2.clientWidth) != null ? _canvas$parentElement : 0,\r\n      height: (_canvas$parentElement3 = (_canvas$parentElement4 = canvas.parentElement) == null ? void 0 : _canvas$parentElement4.clientHeight) != null ? _canvas$parentElement3 : 0\r\n    };\r\n  }\r\n\r\n  let root = roots.get(canvas);\r\n  let fiber = root == null ? void 0 : root.fiber;\r\n  let store = root == null ? void 0 : root.store;\r\n  let state = (_store = store) == null ? void 0 : _store.getState();\r\n\r\n  if (fiber && state) {\r\n    const lastProps = state.internal.lastProps; // When a root was found, see if any fundamental props must be changed or exchanged\r\n    // Check pixelratio\r\n\r\n    if (props.dpr !== undefined && !is.equ(lastProps.dpr, props.dpr)) state.setDpr(props.dpr); // Check size\r\n\r\n    if (size !== undefined && !is.equ(lastProps.size, size)) state.setSize(size.width, size.height); // For some props we want to reset the entire root\r\n    // Changes to the color-space\r\n\r\n    const linearChanged = props.linear !== lastProps.linear;\r\n\r\n    if (linearChanged) {\r\n      unmountComponentAtNode(canvas);\r\n      fiber = undefined;\r\n    }\r\n  }\r\n\r\n  if (!fiber) {\r\n    // If no root has been found, make one\r\n    // Create gl\r\n    const glRenderer = createRendererInstance(gl, canvas); // Enable VR if requested\r\n\r\n    if (props.vr) {\r\n      glRenderer.xr.enabled = true;\r\n      glRenderer.setAnimationLoop(timestamp => advance(timestamp, true));\r\n    } // Create store\r\n\r\n\r\n    store = createStore(applyProps, invalidate, advance, {\r\n      gl: glRenderer,\r\n      size,\r\n      ...props\r\n    });\r\n    const state = store.getState();\r\n    state.get; // Create renderer\r\n\r\n    fiber = reconciler.createContainer(store, modes.indexOf(mode), false, null); // Map it\r\n\r\n    roots.set(canvas, {\r\n      fiber,\r\n      store\r\n    }); // Store events internally\r\n\r\n    if (events) state.set({\r\n      events: events(store)\r\n    });\r\n  }\r\n\r\n  if (store && fiber) {\r\n    reconciler.updateContainer( /*#__PURE__*/React.createElement(Provider, {\r\n      store: store,\r\n      element: element,\r\n      onCreated: onCreated,\r\n      target: canvas\r\n    }), fiber, null, () => undefined);\r\n    return store;\r\n  } else {\r\n    throw 'Error creating root!';\r\n  }\r\n}\r\n\r\nfunction Provider({\r\n  store,\r\n  element,\r\n  onCreated,\r\n  target\r\n}) {\r\n  React.useEffect(() => {\r\n    const state = store.getState(); // Flag the canvas active, rendering will now begin\r\n\r\n    state.set(state => ({\r\n      internal: { ...state.internal,\r\n        active: true\r\n      }\r\n    })); // Connect events\r\n\r\n    state.events.connect == null ? void 0 : state.events.connect(target); // Notifiy that init is completed, the scene graph exists, but nothing has yet rendered\r\n\r\n    if (onCreated) onCreated(state);\r\n  }, []);\r\n  return /*#__PURE__*/React.createElement(context.Provider, {\r\n    value: store\r\n  }, element);\r\n}\r\n\r\nfunction unmountComponentAtNode(canvas, callback) {\r\n  const root = roots.get(canvas);\r\n  const fiber = root == null ? void 0 : root.fiber;\r\n\r\n  if (fiber) {\r\n    const state = root == null ? void 0 : root.store.getState();\r\n    if (state) state.internal.active = false;\r\n    reconciler.updateContainer(null, fiber, null, () => {\r\n      if (state) {\r\n        setTimeout(() => {\r\n          var _state$gl, _state$gl$renderLists, _state$gl2;\r\n\r\n          state.events.disconnect == null ? void 0 : state.events.disconnect();\r\n          (_state$gl = state.gl) == null ? void 0 : (_state$gl$renderLists = _state$gl.renderLists) == null ? void 0 : _state$gl$renderLists.dispose == null ? void 0 : _state$gl$renderLists.dispose();\r\n          (_state$gl2 = state.gl) == null ? void 0 : _state$gl2.forceContextLoss == null ? void 0 : _state$gl2.forceContextLoss();\r\n          dispose(state);\r\n          roots.delete(canvas);\r\n          if (callback) callback(canvas);\r\n        }, 500);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction dispose(obj) {\r\n  if (obj.dispose && obj.type !== 'Scene') obj.dispose();\r\n\r\n  for (const p in obj) {\r\n    var _dispose, _ref;\r\n    (_dispose = (_ref = p).dispose) == null ? void 0 : _dispose.call(_ref);\r\n    delete obj[p];\r\n  }\r\n}\r\n\r\nconst act = reconciler.act;\r\nconst hasSymbol = is.fun(Symbol) && Symbol.for;\r\nconst REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\r\n\r\nfunction createPortal(children, container, implementation, key = null) {\r\n  return {\r\n    $$typeof: REACT_PORTAL_TYPE,\r\n    key: key == null ? null : '' + key,\r\n    children,\r\n    containerInfo: prepare(container),\r\n    implementation\r\n  };\r\n}\r\n\r\nreconciler.injectIntoDevTools({\r\n  bundleType: process.env.NODE_ENV === 'production' ? 0 : 1,\r\n  rendererPackageName: '@react-three/fiber',\r\n  version: '17.0.2'\r\n});\r\n\r\nexport { Canvas, threeTypes as ReactThreeFiber, roots as _roots, act, addAfterEffect, addEffect, addTail, advance, applyProps, context, createPortal, dispose, createPointerEvents as events, extend, invalidate, reconciler, render, unmountComponentAtNode, useFrame, useGraph, useLoader, useThree };\r\n"],"sourceRoot":""}